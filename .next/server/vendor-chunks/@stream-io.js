"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stream-io/video-client/dist/index.es.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* binding */ BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* binding */ ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* binding */ ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* binding */ getDeviceInfo),\n/* harmony export */   getLogLevel: () => (/* binding */ getLogLevel),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getOSInfo: () => (/* binding */ getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twitch-twirp-error-code.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEventPattern.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/./node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! isomorphic-ws */ \"(ssr)/./node_modules/isomorphic-ws/node.js\");\n/* harmony import */ var isomorphic_ws__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(isomorphic_ws__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/base64-js/index.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const BlockListOptionsBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodEnum = {\n    DISABLED: \"disabled\",\n    SIMPLE: \"simple\",\n    AI: \"AI\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoAutomodBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const ChannelConfigWithInfoBlocklistBehaviorEnum = {\n    FLAG: \"flag\",\n    BLOCK: \"block\",\n    SHADOW_BLOCK: \"shadow_block\"\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: \"firebase\",\n    APN: \"apn\",\n    HUAWEI: \"huawei\",\n    XIAOMI: \"xiaomi\"\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: \"block-users\",\n    CHANGE_MAX_DURATION: \"change-max-duration\",\n    CREATE_CALL: \"create-call\",\n    CREATE_REACTION: \"create-reaction\",\n    ENABLE_NOISE_CANCELLATION: \"enable-noise-cancellation\",\n    END_CALL: \"end-call\",\n    JOIN_BACKSTAGE: \"join-backstage\",\n    JOIN_CALL: \"join-call\",\n    JOIN_ENDED_CALL: \"join-ended-call\",\n    MUTE_USERS: \"mute-users\",\n    PIN_FOR_EVERYONE: \"pin-for-everyone\",\n    READ_CALL: \"read-call\",\n    REMOVE_CALL_MEMBER: \"remove-call-member\",\n    SCREENSHARE: \"screenshare\",\n    SEND_AUDIO: \"send-audio\",\n    SEND_VIDEO: \"send-video\",\n    START_BROADCAST_CALL: \"start-broadcast-call\",\n    START_RECORD_CALL: \"start-record-call\",\n    START_TRANSCRIPTION_CALL: \"start-transcription-call\",\n    STOP_BROADCAST_CALL: \"stop-broadcast-call\",\n    STOP_RECORD_CALL: \"stop-record-call\",\n    STOP_TRANSCRIPTION_CALL: \"stop-transcription-call\",\n    UPDATE_CALL: \"update-call\",\n    UPDATE_CALL_MEMBER: \"update-call-member\",\n    UPDATE_CALL_PERMISSIONS: \"update-call-permissions\",\n    UPDATE_CALL_SETTINGS: \"update-call-settings\"\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\nclass ErrorFromResponse extends Error {\n}\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Struct\", [\n            {\n                no: 1,\n                name: \"fields\",\n                kind: \"map\",\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: \"message\",\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.isJsonObject)(json)) throw new globalThis.Error(\"Unable to parse message \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json) + \".\");\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Value\", [\n            {\n                no: 1,\n                name: \"null_value\",\n                kind: \"enum\",\n                oneof: \"kind\",\n                T: ()=>[\n                        \"google.protobuf.NullValue\",\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: \"number_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: \"string_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"bool_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: \"struct_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"list_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case \"boolValue\":\n                return message.kind.boolValue;\n            case \"nullValue\":\n                return null;\n            case \"numberValue\":\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == \"number\" && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case \"stringValue\":\n                return message.kind.stringValue;\n            case \"listValue\":\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== \"message\") throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case \"structValue\":\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== \"message\") throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case \"number\":\n                target.kind = {\n                    oneofKind: \"numberValue\",\n                    numberValue: json\n                };\n                break;\n            case \"string\":\n                target.kind = {\n                    oneofKind: \"stringValue\",\n                    stringValue: json\n                };\n                break;\n            case \"boolean\":\n                target.kind = {\n                    oneofKind: \"boolValue\",\n                    boolValue: json\n                };\n                break;\n            case \"object\":\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.ListValue\", [\n            {\n                no: 1,\n                name: \"values\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Timestamp\", [\n            {\n                no: 1,\n                name: \"seconds\",\n                kind: \"scalar\",\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: \"nanos\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new Error(\"Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (message.nanos < 0) throw new Error(\"Unable to encode invalid Timestamp to JSON. Nanos must not be negative.\");\n        let z = \"Z\";\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === \"000000\") z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n            else if (nanosStr.substring(6) === \"000\") z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n            else z = \".\" + nanosStr + \"Z\";\n        }\n        return new Date(ms).toISOString().replace(\".000Z\", z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== \"string\") throw new Error(\"Unable to parse Timestamp from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_8__.typeofJsonValue)(json) + \".\");\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error(\"Unable to parse Timestamp from JSON. Invalid format.\");\n        let ms = Date.parse(matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n        if (Number.isNaN(ms)) throw new Error(\"Unable to parse Timestamp from JSON. Invalid value.\");\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new globalThis.Error(\"Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_9__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/models/models.proto\" (package \"stream.video.sfu.models\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_SESSION_ENDED = 4;\n     */ CallEndedReason[CallEndedReason[\"SESSION_ENDED\"] = 4] = \"SESSION_ENDED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, or any other unrecoverable error leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, set a new session_id and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_REJOIN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"REJOIN\"] = 3] = \"REJOIN\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 4] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallState\", [\n            {\n                no: 1,\n                name: \"participants\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: \"started_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ParticipantCount\", [\n            {\n                no: 1,\n                name: \"total\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"anonymous\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Pin\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Participant\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"published_tracks\",\n                kind: \"enum\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"joined_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: \"track_lookup_prefix\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            },\n            {\n                no: 7,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"is_dominant_speaker\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"audio_level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: \"image\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: \"roles\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.StreamQuality\", [\n            {\n                no: 1,\n                name: \"video_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoDimension\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoLayer\", [\n            {\n                no: 1,\n                name: \"rid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Codec\", [\n            {\n                no: 1,\n                name: \"payload_type\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"fmtp_line\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"clock_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"encoding_parameters\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"feedbacks\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.TrackInfo\", [\n            {\n                no: 1,\n                name: \"track_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: \"mid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"dtx\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"stereo\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"red\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 10,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Error\", [\n            {\n                no: 1,\n                name: \"code\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ErrorCode\",\n                        ErrorCode,\n                        \"ERROR_CODE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"should_retry\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ClientDetails\", [\n            {\n                no: 1,\n                name: \"sdk\",\n                kind: \"message\",\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: \"os\",\n                kind: \"message\",\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: \"browser\",\n                kind: \"message\",\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: \"device\",\n                kind: \"message\",\n                T: ()=>Device\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Sdk\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.SdkType\",\n                        SdkType,\n                        \"SDK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"major\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"minor\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"patch\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.OS\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"architecture\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Browser\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Device\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Call\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"created_by_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"host_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"created_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: \"updated_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallGrants\", [\n            {\n                no: 1,\n                name: \"can_publish_audio\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"can_publish_video\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"can_screenshare\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    Pin: Pin,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"subscriber_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"publisher_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"webrtc_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"sdk\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"sdk_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"mute_states\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackMuteState\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.AudioMuteChanged\", [\n            {\n                no: 1,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.VideoMuteChanged\", [\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsRequest\", [\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackSubscriptionDetails\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerRequest\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICETrickleResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherRequest\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherResponse\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_10__.ServiceType(\"stream.video.sfu.signal.SignalServer\", [\n    {\n        name: \"SetPublisher\",\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: \"SendAnswer\",\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: \"IceTrickle\",\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: \"UpdateSubscriptions\",\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: \"UpdateMuteStates\",\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: \"IceRestart\",\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: \"SendStats\",\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: \"StartNoiseCancellation\",\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: \"StopNoiseCancellation\",\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n/* eslint-disable */ // @generated by protobuf-ts 2.9.4 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/event/events.proto\" (package \"stream.video.sfu.event\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.event.VideoLayerSetting.Priority\n */ var VideoLayerSetting_Priority;\n(function(VideoLayerSetting_Priority) {\n    /**\n     * @generated from protobuf enum value: PRIORITY_HIGH_UNSPECIFIED = 0;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"HIGH_UNSPECIFIED\"] = 0] = \"HIGH_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_LOW = 1;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"LOW\"] = 1] = \"LOW\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_MEDIUM = 2;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"MEDIUM\"] = 2] = \"MEDIUM\";\n    /**\n     * @generated from protobuf enum value: PRIORITY_VERY_LOW = 3;\n     */ VideoLayerSetting_Priority[VideoLayerSetting_Priority[\"VERY_LOW\"] = 3] = \"VERY_LOW\";\n})(VideoLayerSetting_Priority || (VideoLayerSetting_Priority = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuEvent\", [\n            {\n                no: 1,\n                name: \"subscriber_offer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: \"publisher_answer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: \"connection_quality_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: \"audio_level_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: \"ice_trickle\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: \"change_publish_quality\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: \"participant_joined\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: \"participant_left\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: \"dominant_speaker_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: \"join_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: \"health_check_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: \"track_published\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: \"track_unpublished\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: \"error\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: \"call_grants_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: \"go_away\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: \"ice_restart\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: \"pins_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: \"call_ended\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: \"participant_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantUpdated\n            },\n            {\n                no: 25,\n                name: \"participant_migration_complete\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantMigrationComplete\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantMigrationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantMigrationComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantMigrationComplete\n */ const ParticipantMigrationComplete = new ParticipantMigrationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PinsChanged\", [\n            {\n                no: 1,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Error\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: \"reconnect_strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICERestart\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuRequest\", [\n            {\n                no: 1,\n                name: \"join_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: \"health_check_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>HealthCheckRequest\n            },\n            {\n                no: 3,\n                name: \"leave_call_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>LeaveCallRequest\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass LeaveCallRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.LeaveCallRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.LeaveCallRequest\n */ const LeaveCallRequest = new LeaveCallRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckRequest\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckResponse\", [\n            {\n                no: 1,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackPublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackUnpublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"cause\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackUnpublishReason\",\n                        TrackUnpublishReason,\n                        \"TRACK_UNPUBLISH_REASON_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinRequest\", [\n            {\n                no: 1,\n                name: \"token\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"subscriber_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"client_details\",\n                kind: \"message\",\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: \"migration\",\n                kind: \"message\",\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: \"fast_reconnect\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 7,\n                name: \"reconnect_details\",\n                kind: \"message\",\n                T: ()=>ReconnectDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ReconnectDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ReconnectDetails\", [\n            {\n                no: 1,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            },\n            {\n                no: 3,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 4,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            },\n            {\n                no: 5,\n                name: \"reconnect_attempt\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"previous_session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ReconnectDetails\n */ const ReconnectDetails = new ReconnectDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Migration\", [\n            {\n                no: 1,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinResponse\", [\n            {\n                no: 1,\n                name: \"call_state\",\n                kind: \"message\",\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: \"reconnected\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"fast_reconnect_deadline_seconds\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantJoined\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantLeft\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantUpdated\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SubscriberOffer\", [\n            {\n                no: 1,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PublisherAnswer\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityChanged\", [\n            {\n                no: 1,\n                name: \"connection_quality_updates\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityInfo\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.DominantSpeakerChanged\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevel\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevelChanged\", [\n            {\n                no: 1,\n                name: \"audio_levels\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMediaRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioMediaRequest\", [\n            {\n                no: 1,\n                name: \"channel_count\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioMediaRequest\n */ const AudioMediaRequest = new AudioMediaRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioSender\", [\n            {\n                no: 1,\n                name: \"media_request\",\n                kind: \"message\",\n                T: ()=>AudioMediaRequest\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMediaRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoMediaRequest\", [\n            {\n                no: 1,\n                name: \"ideal_height\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 2,\n                name: \"ideal_width\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 3,\n                name: \"ideal_frame_rate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoMediaRequest\n */ const VideoMediaRequest = new VideoMediaRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoLayerSetting\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"active\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"max_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"scale_resolution_down_by\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 5,\n                name: \"priority\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.event.VideoLayerSetting.Priority\",\n                        VideoLayerSetting_Priority,\n                        \"PRIORITY_\"\n                    ]\n            },\n            {\n                no: 6,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: \"max_framerate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoSender\", [\n            {\n                no: 1,\n                name: \"media_request\",\n                kind: \"message\",\n                T: ()=>VideoMediaRequest\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoLayerSetting\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishQuality\", [\n            {\n                no: 1,\n                name: \"audio_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: \"video_senders\",\n                kind: \"message\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallGrantsUpdated\", [\n            {\n                no: 1,\n                name: \"current_grants\",\n                kind: \"message\",\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.GoAway\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.GoAwayReason\",\n                        GoAwayReason,\n                        \"GO_AWAY_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallEnded\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.CallEndedReason\",\n                        CallEndedReason,\n                        \"CALL_ENDED_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioMediaRequest: AudioMediaRequest,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishQuality: ChangePublishQuality,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    LeaveCallRequest: LeaveCallRequest,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantMigrationComplete: ParticipantMigrationComplete,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    ReconnectDetails: ReconnectDetails,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    get VideoLayerSetting_Priority () {\n        return VideoLayerSetting_Priority;\n    },\n    VideoMediaRequest: VideoMediaRequest,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: \"\",\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\nconst withRequestLogger = (logger, level)=>{\n    return {\n        interceptUnary: (next, method, input, options)=>{\n            logger(level, `Calling SFU RPC method ${method.name}`, {\n                input,\n                options\n            });\n            return next(method, input, options);\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000,\n    WS_CLOSED_ABRUPTLY: 1006,\n    WS_POLICY_VIOLATION: 1008\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction randomId() {\n    return generateUUIDv4();\n}\nfunction hex(bytes) {\n    let s = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return hex(bytes.subarray(0, 4)) + \"-\" + hex(bytes.subarray(4, 6)) + \"-\" + hex(bytes.subarray(6, 8)) + \"-\" + hex(bytes.subarray(8, 10)) + \"-\" + hex(bytes.subarray(10, 16));\n}\nfunction getRandomValuesWithMathRandom(bytes) {\n    const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n    for(let i = 0; i < bytes.length; i++){\n        bytes[i] = Math.random() * max;\n    }\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues !== \"undefined\") {\n        return crypto.getRandomValues.bind(crypto);\n    } else if (typeof msCrypto !== \"undefined\") {\n        return msCrypto.getRandomValues.bind(msCrypto);\n    } else {\n        return getRandomValuesWithMathRandom;\n    }\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\nfunction convertErrorToJson(err) {\n    const jsonObj = {};\n    if (!err) return jsonObj;\n    try {\n        Object.getOwnPropertyNames(err).forEach((key)=>{\n            jsonObj[key] = Object.getOwnPropertyDescriptor(err, key);\n        });\n    } catch (_) {\n        return {\n            error: \"failed to serialize the error\"\n        };\n    }\n    return jsonObj;\n}\n/**\n * Informs if a promise is yet to be resolved or rejected\n */ async function isPromisePending(promise) {\n    const emptyObj = {};\n    return Promise.race([\n        promise,\n        emptyObj\n    ]).then((value)=>value === emptyObj ? true : false, ()=>false);\n}\n/**\n * isOnline safely return the navigator.online value for browser env\n * if navigator is not in global object, it always return true\n */ function isOnline(logger) {\n    const nav = typeof navigator !== \"undefined\" ? navigator :  false ? 0 : undefined;\n    if (!nav) {\n        logger(\"warn\", \"isOnline failed to access window.navigator and assume browser is online\");\n        return true;\n    }\n    // RN navigator has undefined for onLine\n    if (typeof nav.onLine !== \"boolean\") {\n        return true;\n    }\n    return nav.onLine;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.product?.toLowerCase() === \"reactnative\";\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger;\nlet level = \"info\";\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case \"error\":\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case \"warn\":\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case \"info\":\n            logMethod = console.info;\n            break;\n        case \"trace\":\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogLevel = ()=>level;\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger || logToConsole;\n    const tags = (withTags || []).filter(Boolean).join(\":\");\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * For each retry, there would be a delay to avoid request bursts toward the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param signal the signal to abort the RPC call and retries loop.\n */ const retryable = async (rpc, signal)=>{\n    let attempt = 0;\n    let result = undefined;\n    do {\n        if (attempt > 0) await sleep(retryInterval(attempt));\n        try {\n            result = await rpc();\n        } catch (err) {\n            const isRequestCancelled = err instanceof _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_13__.RpcError && err.code === _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_14__.TwirpErrorCode[_protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_14__.TwirpErrorCode.cancelled];\n            const isAborted = signal?.aborted ?? false;\n            if (isRequestCancelled || isAborted) throw err;\n            getLogger([\n                \"sfu-client\",\n                \"rpc\"\n            ])(\"debug\", `rpc failed (${attempt})`, err);\n            attempt++;\n        }\n    }while (!result || result.response.error?.shouldRetry);\n    return result;\n};\nconst version = \"1.8.0\";\nconst [major, minor, patch] = version.split(\".\");\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst getOSInfo = ()=>{\n    return osInfo;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getDeviceInfo = ()=>{\n    return deviceInfo;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst getClientDetails = ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: getSdkInfo(),\n            os: getOSInfo(),\n            device: getDeviceInfo()\n        };\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_2__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    return {\n        sdk: getSdkInfo(),\n        browser: {\n            name: browser.name || navigator.userAgent,\n            version: browser.version || \"\"\n        },\n        os: {\n            name: os.name || \"\",\n            version: os.version || \"\",\n            architecture: cpu.architecture || \"\"\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(\" \"),\n            version: \"\"\n        }\n    };\n};\n/**\n * Returns back a list of sorted codecs, with the preferred codec first.\n *\n * @param kind the kind of codec to get.\n * @param preferredCodec the codec to prioritize (vp8, h264, vp9, av1...).\n * @param codecToRemove the codec to exclude from the list.\n */ const getPreferredCodecs = (kind, preferredCodec, codecToRemove)=>{\n    if (!(\"getCapabilities\" in RTCRtpReceiver)) return;\n    const capabilities = RTCRtpReceiver.getCapabilities(kind);\n    if (!capabilities) return;\n    const preferred = [];\n    const partiallyPreferred = [];\n    const unpreferred = [];\n    const preferredCodecMimeType = `${kind}/${preferredCodec.toLowerCase()}`;\n    const codecToRemoveMimeType = codecToRemove && `${kind}/${codecToRemove.toLowerCase()}`;\n    for (const codec of capabilities.codecs){\n        const codecMimeType = codec.mimeType.toLowerCase();\n        const shouldRemoveCodec = codecMimeType === codecToRemoveMimeType;\n        if (shouldRemoveCodec) continue; // skip this codec\n        const isPreferredCodec = codecMimeType === preferredCodecMimeType;\n        if (!isPreferredCodec) {\n            unpreferred.push(codec);\n            continue;\n        }\n        // h264 is a special case, we want to prioritize the baseline codec with\n        // profile-level-id is 42e01f and packetization-mode=0 for maximum\n        // cross-browser compatibility.\n        // this branch covers the other cases, such as vp8.\n        if (codecMimeType !== \"video/h264\") {\n            preferred.push(codec);\n            continue;\n        }\n        const sdpFmtpLine = codec.sdpFmtpLine;\n        if (!sdpFmtpLine || !sdpFmtpLine.includes(\"profile-level-id=42e01f\")) {\n            // this is not the baseline h264 codec, prioritize it lower\n            partiallyPreferred.push(codec);\n            continue;\n        }\n        // packetization-mode mode is optional; when not present it defaults to 0:\n        // https://datatracker.ietf.org/doc/html/rfc6184#section-6.2\n        if (sdpFmtpLine.includes(\"packetization-mode=0\") || !sdpFmtpLine.includes(\"packetization-mode\")) {\n            preferred.unshift(codec);\n        } else {\n            preferred.push(codec);\n        }\n    }\n    // return a sorted list of codecs, with the preferred codecs first\n    return [\n        ...preferred,\n        ...partiallyPreferred,\n        ...unpreferred\n    ];\n};\n/**\n * Returns a generic SDP for the given direction.\n * We use this SDP to send it as part of our JoinRequest so that the SFU\n * can use it to determine client's codec capabilities.\n *\n * @param direction the direction of the transceiver.\n */ const getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver(\"video\", {\n        direction\n    });\n    tempPc.addTransceiver(\"audio\", {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    const sdp = offer.sdp ?? \"\";\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\n/**\n * Returns the optimal codec for RN.\n */ const getRNOptimalCodec = ()=>{\n    const osName = getOSInfo()?.name.toLowerCase();\n    // in ipads it was noticed that if vp8 codec is used\n    // then the bytes sent is 0 in the outbound-rtp\n    // so we are forcing h264 codec for ipads\n    if (osName === \"ipados\") return \"h264\";\n    if (osName === \"android\") return \"vp8\";\n    return undefined;\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined,\n    participantMigrationComplete: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            \"Dispatcher\"\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message, logTag = \"0\")=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger(\"debug\", `Dispatching ${eventKind}, tag=${logTag}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger(\"warn\", \"Listener failed with error\", e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n        this.offAll = (eventName)=>{\n            if (eventName) {\n                this.subscribers[eventName] = [];\n            } else {\n                this.subscribers = {};\n            }\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.ReplaySubject();\n        this.push = (iceTrickle)=>{\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceTrickle);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceTrickle);\n            } else {\n                const logger = getLogger([\n                    \"sfu-client\"\n                ]);\n                logger(\"warn\", `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n    }\n}\nfunction getIceCandidate(candidate) {\n    if (!candidate.usernameFragment) {\n        // react-native-webrtc doesn't include usernameFragment in the candidate\n        const splittedCandidate = candidate.candidate.split(\" \");\n        const ufragIndex = splittedCandidate.findIndex((s)=>s === \"ufrag\") + 1;\n        const usernameFragment = splittedCandidate[ufragIndex];\n        return JSON.stringify({\n            ...candidate,\n            usernameFragment\n        });\n    } else {\n        return JSON.stringify(candidate.toJSON());\n    }\n}\nconst DEFAULT_BITRATE = 1250000;\nconst defaultTargetResolution = {\n    bitrate: DEFAULT_BITRATE,\n    width: 1280,\n    height: 720\n};\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: DEFAULT_BITRATE\n};\n/**\n * Determines the most optimal video layers for simulcasting\n * for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param targetResolution the expected target resolution.\n * @param publishOptions the publish options for the track.\n */ const findOptimalVideoLayers = (videoTrack, targetResolution = defaultTargetResolution, publishOptions)=>{\n    const optimalVideoLayers = [];\n    const settings = videoTrack.getSettings();\n    const { width: w = 0, height: h = 0 } = settings;\n    const { preferredBitrate, bitrateDownscaleFactor = 2 } = publishOptions || {};\n    const maxBitrate = getComputedMaxBitrate(targetResolution, w, h, preferredBitrate);\n    let downscaleFactor = 1;\n    let bitrateFactor = 1;\n    [\n        \"f\",\n        \"h\",\n        \"q\"\n    ].forEach((rid)=>{\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift({\n            active: true,\n            rid,\n            width: Math.round(w / downscaleFactor),\n            height: Math.round(h / downscaleFactor),\n            maxBitrate: Math.round(maxBitrate / bitrateFactor) || defaultBitratePerRid[rid],\n            scaleResolutionDownBy: downscaleFactor,\n            maxFramerate: 30\n        });\n        downscaleFactor *= 2;\n        bitrateFactor *= bitrateDownscaleFactor;\n    });\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(settings, optimalVideoLayers);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n * @param preferredBitrate the preferred bitrate for the track.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight, preferredBitrate)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight, bitrate: targetBitrate } = targetResolution;\n    const bitrate = preferredBitrate || targetBitrate;\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(bitrate * reductionFactor);\n    }\n    return bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (settings, optimalVideoLayers)=>{\n    let layers;\n    const size = Math.max(settings.width || 0, settings.height || 0);\n    if (size <= 320) {\n        // provide only one layer 320x240 (q), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === \"f\");\n    } else if (size <= 640) {\n        // provide two layers, 160x120 (q) and 640x480 (h)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== \"h\");\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    const ridMapping = [\n        \"q\",\n        \"h\",\n        \"f\"\n    ];\n    return layers.map((layer, index)=>({\n            ...layer,\n            rid: ridMapping[index]\n        }));\n};\nconst findOptimalScreenSharingLayers = (videoTrack, publishOptions, defaultMaxBitrate = 3000000)=>{\n    const { screenShareSettings: preferences } = publishOptions || {};\n    const settings = videoTrack.getSettings();\n    return [\n        {\n            active: true,\n            rid: \"q\",\n            width: settings.width || 0,\n            height: settings.height || 0,\n            scaleResolutionDownBy: 1,\n            maxBitrate: preferences?.maxBitrate ?? defaultMaxBitrate,\n            maxFramerate: preferences?.maxFramerate ?? 30\n        }\n    ];\n};\nconst ensureExhausted = (x, message)=>{\n    getLogger([\n        \"helpers\"\n    ])(\"warn\", message, x);\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return \"screenShareStream\";\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return \"screenShareAudioStream\";\n        case TrackType.VIDEO:\n            return \"videoStream\";\n        case TrackType.AUDIO:\n            return \"audioStream\";\n        case TrackType.UNSPECIFIED:\n            throw new Error(\"Track type is unspecified\");\n        default:\n            ensureExhausted(trackType, \"Unknown track type\");\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case \"audio\":\n            return TrackType.AUDIO;\n        case \"video\":\n            return TrackType.VIDEO;\n        case \"screenshare\":\n            return TrackType.SCREEN_SHARE;\n        case \"screenshare_audio\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            ensureExhausted(muteType, \"Unknown mute type\");\n    }\n};\nconst toTrackType = (trackType)=>{\n    switch(trackType){\n        case \"TRACK_TYPE_AUDIO\":\n            return TrackType.AUDIO;\n        case \"TRACK_TYPE_VIDEO\":\n            return TrackType.VIDEO;\n        case \"TRACK_TYPE_SCREEN_SHARE\":\n            return TrackType.SCREEN_SHARE;\n        case \"TRACK_TYPE_SCREEN_SHARE_AUDIO\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            return undefined;\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nasync function settled(tag) {\n    await pendingPromises.get(tag)?.promise;\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve(\"canceled\");\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === \"function\";\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n */ const createSubscription = (observable, handler)=>{\n    const subscription = observable.subscribe(handler);\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    const subscription = observable.subscribe((value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue\n});\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    \"client-state\"\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger(\"info\", `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        reason: \"client.disconnectUser() called\"\n                    }).catch((err)=>{\n                        logger(\"error\", `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        /**\n         * This method allows you the get the current value of a state variable.\n         *\n         * @param observable the observable to get the current value of.\n         * @returns the current value of the observable.\n         */ this.getCurrentValue = getCurrentValue;\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)), role(\"admin\", \"host\", \"speaker\"));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: \"\"\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        // These are tracks that were delivered to the Subscriber's onTrack event\n        // that we couldn't associate with a participant yet.\n        // This happens when the participantJoined event hasn't been received yet.\n        // We keep these tracks around until we can associate them with a participant.\n        this.orphanedTracks = [];\n        this.logger = getLogger([\n            \"CallState\"\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         *\n         * @private\n         */ this.sortParticipantsBy = defaultSortPreset;\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Sets the time when this call has been ended.\n         * @param endedAt the time when this call has been ended.\n         */ this.setEndedAt = (endedAt)=>{\n            return this.setCurrentValue(this.endedAtSubject, endedAt);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger(\"warn\", `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === \"function\" ? patch(participant) : patch;\n            const updatedParticipant = {\n                // FIXME OL: this is not a deep merge, we might want to revisit this\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         */ this.updateOrAddParticipant = (sessionId, participant)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        return {\n                            ...p,\n                            ...participant\n                        };\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return this.participants;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         * @param type the debounce type to use for the update.\n         */ this.updateParticipantTracks = (trackType, changes)=>{\n            return this.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === \"videoTrack\" ? \"videoDimension\" : trackType === \"screenShareTrack\" ? \"screenShareDimension\" : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Adds an orphaned track to the call state.\n         *\n         * @internal\n         *\n         * @param orphanedTrack the orphaned track to add.\n         */ this.registerOrphanedTrack = (orphanedTrack)=>{\n            this.orphanedTracks.push(orphanedTrack);\n        };\n        /**\n         * Removes an orphaned track from the call state.\n         *\n         * @internal\n         *\n         * @param id the ID of the orphaned track to remove.\n         */ this.removeOrphanedTrack = (id)=>{\n            this.orphanedTracks = this.orphanedTracks.filter((o)=>o.id !== id);\n        };\n        /**\n         * Takes all orphaned tracks with the given track lookup prefix.\n         * All orphaned tracks with the given track lookup prefix are removed from the call state.\n         *\n         * @internal\n         *\n         * @param trackLookupPrefix the track lookup prefix to match the orphaned tracks by.\n         */ this.takeOrphanedTracks = (trackLookupPrefix)=>{\n            const orphans = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix === trackLookupPrefix);\n            if (orphans.length > 0) {\n                this.orphanedTracks = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix !== trackLookupPrefix);\n            }\n            return orphans;\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setCurrentValue(this.backstageSubject, call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setEndedAt(call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        /**\n         * Updates the call state with the data received from the SFU server.\n         *\n         * @internal\n         *\n         * @param callState the call state from the SFU server.\n         * @param currentSessionId the session ID of the current user.\n         * @param reconnectDetails optional reconnect details.\n         */ this.updateFromSfuCallState = (callState, currentSessionId, reconnectDetails)=>{\n            const { participants, participantCount, startedAt, pins } = callState;\n            const localPublishedTracks = reconnectDetails?.announcedTracks.map((t)=>t.trackType) ?? [];\n            this.setParticipants(()=>{\n                const participantLookup = this.getParticipantLookupBySessionId();\n                return participants.map((p)=>{\n                    // We need to preserve the local state of the participant\n                    // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                    // as it doesn't exist on the server.\n                    const existingParticipant = participantLookup[p.sessionId];\n                    const isLocalParticipant = p.sessionId === currentSessionId;\n                    return Object.assign({}, existingParticipant, p, {\n                        isLocalParticipant,\n                        publishedTracks: isLocalParticipant ? localPublishedTracks : p.publishedTracks,\n                        viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                            videoTrack: VisibilityState.UNKNOWN,\n                            screenShareTrack: VisibilityState.UNKNOWN\n                        }\n                    });\n                });\n            });\n            this.setParticipantCount(participantCount?.total || 0);\n            this.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n            this.setStartedAt(startedAt ? Timestamp.toDate(startedAt) : new Date());\n            this.setServerSidePins(pins);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false\n                }));\n        };\n        this.updateFromHLSBroadcastStarted = (event)=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: true,\n                    hls: {\n                        ...egress.hls,\n                        playlist_url: event.hls_playlist_url\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            \"call.closed_caption\": undefined,\n            \"call.deleted\": undefined,\n            \"call.permission_request\": undefined,\n            \"call.recording_ready\": undefined,\n            \"call.transcription_ready\": undefined,\n            \"call.user_muted\": undefined,\n            \"connection.error\": undefined,\n            \"connection.ok\": undefined,\n            \"health.check\": undefined,\n            \"user.banned\": undefined,\n            \"user.deactivated\": undefined,\n            \"user.deleted\": undefined,\n            \"user.muted\": undefined,\n            \"user.presence.changed\": undefined,\n            \"user.reactivated\": undefined,\n            \"user.unbanned\": undefined,\n            \"user.updated\": undefined,\n            custom: undefined,\n            // events that update call state:\n            \"call.accepted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.blocked_user\": this.blockUser,\n            \"call.created\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ended\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            \"call.hls_broadcasting_failed\": this.updateFromHLSBroadcastingFailed,\n            \"call.hls_broadcasting_started\": this.updateFromHLSBroadcastStarted,\n            \"call.hls_broadcasting_stopped\": this.updateFromHLSBroadcastStopped,\n            \"call.live_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.member_added\": this.updateFromMemberAdded,\n            \"call.member_removed\": this.updateFromMemberRemoved,\n            \"call.member_updated_permission\": this.updateMembers,\n            \"call.member_updated\": this.updateMembers,\n            \"call.notification\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            \"call.permissions_updated\": this.updateOwnCapabilities,\n            \"call.reaction_new\": this.updateParticipantReaction,\n            \"call.recording_started\": ()=>this.setCurrentValue(this.recordingSubject, true),\n            \"call.recording_stopped\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.recording_failed\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.rejected\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ring\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.missed\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_ended\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_participant_count_updated\": this.updateFromSessionParticipantCountUpdate,\n            \"call.session_participant_joined\": this.updateFromSessionParticipantJoined,\n            \"call.session_participant_left\": this.updateFromSessionParticipantLeft,\n            \"call.session_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.transcription_started\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            \"call.transcription_stopped\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.transcription_failed\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.unblocked_user\": this.unblockUser,\n            \"call.updated\": (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n}\nconst getRtpMap = (line)=>{\n    // Example: a=rtpmap:110 opus/48000/2\n    const rtpRegex = /^a=rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/;\n    // The first captured group is the payload type number, the second captured group is the encoding name, the third captured group is the clock rate, and the fourth captured group is any additional parameters.\n    const rtpMatch = rtpRegex.exec(line);\n    if (rtpMatch) {\n        return {\n            original: rtpMatch[0],\n            payload: rtpMatch[1],\n            codec: rtpMatch[2]\n        };\n    }\n};\nconst getFmtp = (line)=>{\n    // Example: a=fmtp:111 minptime=10; useinbandfec=1\n    const fmtpRegex = /^a=fmtp:(\\d*) (.*)/;\n    const fmtpMatch = fmtpRegex.exec(line);\n    // The first captured group is the payload type number, the second captured group is any additional parameters.\n    if (fmtpMatch) {\n        return {\n            original: fmtpMatch[0],\n            payload: fmtpMatch[1],\n            config: fmtpMatch[2]\n        };\n    }\n};\n/**\n * gets the media section for the specified media type.\n * The media section contains the media type, port, codec, and payload type.\n * Example: m=video 9 UDP/TLS/RTP/SAVPF 100 101 96 97 35 36 102 125 127\n */ const getMedia = (line, mediaType)=>{\n    const regex = new RegExp(`(m=${mediaType} \\\\d+ [\\\\w/]+) ([\\\\d\\\\s]+)`);\n    const match = regex.exec(line);\n    if (match) {\n        return {\n            original: match[0],\n            mediaWithPorts: match[1],\n            codecOrder: match[2]\n        };\n    }\n};\nconst getMediaSection = (sdp, mediaType)=>{\n    let media;\n    const rtpMap = [];\n    const fmtp = [];\n    let isTheRequiredMediaSection = false;\n    sdp.split(/(\\r\\n|\\r|\\n)/).forEach((line)=>{\n        const isValidLine = /^([a-z])=(.*)/.test(line);\n        if (!isValidLine) return;\n        /*\n          NOTE: according to https://www.rfc-editor.org/rfc/rfc8866.pdf\n          Each media description starts with an \"m=\" line and continues to the next media description or the end of the whole session description, whichever comes first\n        */ const type = line[0];\n        if (type === \"m\") {\n            const _media = getMedia(line, mediaType);\n            isTheRequiredMediaSection = !!_media;\n            if (_media) {\n                media = _media;\n            }\n        } else if (isTheRequiredMediaSection && type === \"a\") {\n            const rtpMapLine = getRtpMap(line);\n            const fmtpLine = getFmtp(line);\n            if (rtpMapLine) {\n                rtpMap.push(rtpMapLine);\n            } else if (fmtpLine) {\n                fmtp.push(fmtpLine);\n            }\n        }\n    });\n    if (media) {\n        return {\n            media,\n            rtpMap,\n            fmtp\n        };\n    }\n};\n/**\n * Gets the fmtp line corresponding to opus\n */ const getOpusFmtp = (sdp)=>{\n    const section = getMediaSection(sdp, \"audio\");\n    const rtpMap = section?.rtpMap.find((r)=>r.codec.toLowerCase() === \"opus\");\n    const codecId = rtpMap?.payload;\n    if (codecId) {\n        return section?.fmtp.find((f)=>f.payload === codecId);\n    }\n};\n/**\n * Returns an SDP with DTX enabled or disabled.\n */ const toggleDtx = (sdp, enable)=>{\n    const opusFmtp = getOpusFmtp(sdp);\n    if (opusFmtp) {\n        const matchDtx = /usedtx=(\\d)/.exec(opusFmtp.config);\n        const requiredDtxConfig = `usedtx=${enable ? \"1\" : \"0\"}`;\n        if (matchDtx) {\n            const newFmtp = opusFmtp.original.replace(/usedtx=(\\d)/, requiredDtxConfig);\n            return sdp.replace(opusFmtp.original, newFmtp);\n        } else {\n            const newFmtp = `${opusFmtp.original};${requiredDtxConfig}`;\n            return sdp.replace(opusFmtp.original, newFmtp);\n        }\n    }\n    return sdp;\n};\n/**\n * Enables high-quality audio through SDP munging for the given trackMid.\n *\n * @param sdp the SDP to munge.\n * @param trackMid the trackMid.\n * @param maxBitrate the max bitrate to set.\n */ const enableHighQualityAudio = (sdp, trackMid, maxBitrate = 510000)=>{\n    maxBitrate = Math.max(Math.min(maxBitrate, 510000), 96000);\n    const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse(sdp);\n    const audioMedia = parsedSdp.media.find((m)=>m.type === \"audio\" && String(m.mid) === trackMid);\n    if (!audioMedia) return sdp;\n    const opusRtp = audioMedia.rtp.find((r)=>r.codec === \"opus\");\n    if (!opusRtp) return sdp;\n    const opusFmtp = audioMedia.fmtp.find((f)=>f.payload === opusRtp.payload);\n    if (!opusFmtp) return sdp;\n    // enable stereo, if not already enabled\n    if (opusFmtp.config.match(/stereo=(\\d)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/stereo=(\\d)/, \"stereo=1\");\n    } else {\n        opusFmtp.config = `${opusFmtp.config};stereo=1`;\n    }\n    // set maxaveragebitrate, to the given value\n    if (opusFmtp.config.match(/maxaveragebitrate=(\\d*)/)) {\n        opusFmtp.config = opusFmtp.config.replace(/maxaveragebitrate=(\\d*)/, `maxaveragebitrate=${maxBitrate}`);\n    } else {\n        opusFmtp.config = `${opusFmtp.config};maxaveragebitrate=${maxBitrate}`;\n    }\n    return sdp_transform__WEBPACK_IMPORTED_MODULE_3__.write(parsedSdp);\n};\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n *\n * @internal\n */ class Publisher {\n    /**\n     * Constructs a new `Publisher` instance.\n     *\n     * @param connectionConfig the connection configuration to use.\n     * @param sfuClient the SFU client to use.\n     * @param state the call state to use.\n     * @param dispatcher the dispatcher to use.\n     * @param isDtxEnabled whether DTX is enabled.\n     * @param isRedEnabled whether RED is enabled.\n     * @param iceRestartDelay the delay in milliseconds to wait before restarting ICE once connection goes to `disconnected` state.\n     * @param onUnrecoverableError a callback to call when an unrecoverable error occurs.\n     * @param logTag the log tag to use.\n     */ constructor({ connectionConfig, sfuClient, dispatcher, state, isDtxEnabled, isRedEnabled, onUnrecoverableError, logTag }){\n        this.transceiverRegistry = {\n            [TrackType.AUDIO]: undefined,\n            [TrackType.VIDEO]: undefined,\n            [TrackType.SCREEN_SHARE]: undefined,\n            [TrackType.SCREEN_SHARE_AUDIO]: undefined,\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.publishOptionsPerTrackType = new Map();\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         *\n         * @internal\n         */ this.transceiverInitOrder = [];\n        this.trackKindMapping = {\n            [TrackType.AUDIO]: \"audio\",\n            [TrackType.VIDEO]: \"video\",\n            [TrackType.SCREEN_SHARE]: \"video\",\n            [TrackType.SCREEN_SHARE_AUDIO]: \"audio\",\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.trackLayersCache = {\n            [TrackType.AUDIO]: undefined,\n            [TrackType.VIDEO]: undefined,\n            [TrackType.SCREEN_SHARE]: undefined,\n            [TrackType.SCREEN_SHARE_AUDIO]: undefined,\n            [TrackType.UNSPECIFIED]: undefined\n        };\n        this.isIceRestarting = false;\n        this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            pc.addEventListener(\"signalingstatechange\", this.onSignalingStateChange);\n            return pc;\n        };\n        /**\n         * Closes the publisher PeerConnection and cleans up the resources.\n         */ this.close = ({ stopTracks })=>{\n            if (stopTracks) {\n                this.stopPublishing();\n                Object.keys(this.transceiverRegistry).forEach((trackType)=>{\n                    // @ts-ignore\n                    this.transceiverRegistry[trackType] = undefined;\n                });\n                Object.keys(this.trackLayersCache).forEach((trackType)=>{\n                    // @ts-ignore\n                    this.trackLayersCache[trackType] = undefined;\n                });\n            }\n            this.detachEventHandlers();\n            this.pc.close();\n        };\n        /**\n         * Detaches the event handlers from the `RTCPeerConnection`.\n         * This is useful when we want to replace the `RTCPeerConnection`\n         * instance with a new one (in case of migration).\n         */ this.detachEventHandlers = ()=>{\n            this.unsubscribeOnIceRestart();\n            this.pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n            this.pc.removeEventListener(\"negotiationneeded\", this.onNegotiationNeeded);\n            this.pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            this.pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            this.pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            this.pc.removeEventListener(\"signalingstatechange\", this.onSignalingStateChange);\n        };\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         * @param opts the optional publish options to use.\n         */ this.publishStream = async (mediaStream, track, trackType, opts = {})=>{\n            if (track.readyState === \"ended\") {\n                throw new Error(`Can't publish a track that has ended already.`);\n            }\n            let transceiver = this.pc.getTransceivers().find((t)=>t === this.transceiverRegistry[trackType] && t.sender.track && t.sender.track?.kind === this.trackKindMapping[trackType]);\n            /**\n             * An event handler which listens for the 'ended' event on the track.\n             * Once the track has ended, it will notify the SFU and update the state.\n             */ const handleTrackEnded = ()=>{\n                this.logger(\"info\", `Track ${TrackType[trackType]} has ended abruptly, notifying the SFU`);\n                // cleanup, this event listener needs to run only once.\n                track.removeEventListener(\"ended\", handleTrackEnded);\n                this.notifyTrackMuteStateChanged(mediaStream, trackType, true).catch((err)=>this.logger(\"warn\", `Couldn't notify track mute state`, err));\n            };\n            if (!transceiver) {\n                const { settings } = this.state;\n                const targetResolution = settings?.video.target_resolution;\n                const screenShareBitrate = settings?.screensharing.target_resolution?.bitrate;\n                const videoEncodings = trackType === TrackType.VIDEO ? findOptimalVideoLayers(track, targetResolution, opts) : trackType === TrackType.SCREEN_SHARE ? findOptimalScreenSharingLayers(track, opts, screenShareBitrate) : undefined;\n                // listen for 'ended' event on the track as it might be ended abruptly\n                // by an external factor as permission revokes, device disconnected, etc.\n                // keep in mind that `track.stop()` doesn't trigger this event.\n                track.addEventListener(\"ended\", handleTrackEnded);\n                if (!track.enabled) {\n                    track.enabled = true;\n                }\n                transceiver = this.pc.addTransceiver(track, {\n                    direction: \"sendonly\",\n                    streams: trackType === TrackType.VIDEO || trackType === TrackType.SCREEN_SHARE ? [\n                        mediaStream\n                    ] : undefined,\n                    sendEncodings: videoEncodings\n                });\n                this.logger(\"debug\", `Added ${TrackType[trackType]} transceiver`);\n                this.transceiverInitOrder.push(trackType);\n                this.transceiverRegistry[trackType] = transceiver;\n                this.publishOptionsPerTrackType.set(trackType, opts);\n                const { preferredCodec } = opts;\n                const codec = isReactNative() && trackType === TrackType.VIDEO && !preferredCodec ? getRNOptimalCodec() : preferredCodec;\n                const codecPreferences = \"setCodecPreferences\" in transceiver ? this.getCodecPreferences(trackType, codec) : undefined;\n                if (codecPreferences) {\n                    this.logger(\"info\", `Setting ${TrackType[trackType]} codec preferences`, codecPreferences);\n                    try {\n                        transceiver.setCodecPreferences(codecPreferences);\n                    } catch (err) {\n                        this.logger(\"warn\", `Couldn't set codec preferences`, err);\n                    }\n                }\n            } else {\n                const previousTrack = transceiver.sender.track;\n                // don't stop the track if we are re-publishing the same track\n                if (previousTrack && previousTrack !== track) {\n                    previousTrack.stop();\n                    previousTrack.removeEventListener(\"ended\", handleTrackEnded);\n                    track.addEventListener(\"ended\", handleTrackEnded);\n                }\n                if (!track.enabled) {\n                    track.enabled = true;\n                }\n                await transceiver.sender.replaceTrack(track);\n            }\n            await this.notifyTrackMuteStateChanged(mediaStream, trackType, false);\n        };\n        /**\n         * Stops publishing the given track type to the SFU, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         * @param trackType the track type to unpublish.\n         * @param stopTrack specifies whether track should be stopped or just disabled\n         */ this.unpublishStream = async (trackType, stopTrack)=>{\n            const transceiver = this.pc.getTransceivers().find((t)=>t === this.transceiverRegistry[trackType] && t.sender.track);\n            if (transceiver && transceiver.sender.track && (stopTrack ? transceiver.sender.track.readyState === \"live\" : transceiver.sender.track.enabled)) {\n                stopTrack ? transceiver.sender.track.stop() : transceiver.sender.track.enabled = false;\n                // We don't need to notify SFU if unpublishing in response to remote soft mute\n                if (this.state.localParticipant?.publishedTracks.includes(trackType)) {\n                    await this.notifyTrackMuteStateChanged(undefined, trackType, true);\n                }\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check.\n         */ this.isPublishing = (trackType)=>{\n            const transceiver = this.transceiverRegistry[trackType];\n            if (!transceiver || !transceiver.sender) return false;\n            const track = transceiver.sender.track;\n            return !!track && track.readyState === \"live\" && track.enabled;\n        };\n        this.notifyTrackMuteStateChanged = async (mediaStream, trackType, isMuted)=>{\n            await this.sfuClient.updateMuteState(trackType, isMuted);\n            const audioOrVideoOrScreenShareStream = trackTypeToParticipantStreamKey(trackType);\n            if (!audioOrVideoOrScreenShareStream) return;\n            if (isMuted) {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>({\n                        publishedTracks: p.publishedTracks.filter((t)=>t !== trackType),\n                        [audioOrVideoOrScreenShareStream]: undefined\n                    }));\n            } else {\n                this.state.updateParticipant(this.sfuClient.sessionId, (p)=>{\n                    return {\n                        publishedTracks: p.publishedTracks.includes(trackType) ? p.publishedTracks : [\n                            ...p.publishedTracks,\n                            trackType\n                        ],\n                        [audioOrVideoOrScreenShareStream]: mediaStream\n                    };\n                });\n            }\n        };\n        /**\n         * Stops publishing all tracks and stop all tracks.\n         */ this.stopPublishing = ()=>{\n            this.logger(\"debug\", \"Stopping publishing all tracks\");\n            this.pc.getSenders().forEach((s)=>{\n                s.track?.stop();\n                if (this.pc.signalingState !== \"closed\") {\n                    this.pc.removeTrack(s);\n                }\n            });\n        };\n        this.updateVideoPublishQuality = async (enabledLayers)=>{\n            this.logger(\"info\", \"Update publish quality, requested layers by SFU:\", enabledLayers);\n            const videoSender = this.transceiverRegistry[TrackType.VIDEO]?.sender;\n            if (!videoSender) {\n                this.logger(\"warn\", \"Update publish quality, no video sender found.\");\n                return;\n            }\n            const params = videoSender.getParameters();\n            if (params.encodings.length === 0) {\n                this.logger(\"warn\", \"Update publish quality, No suitable video encoding quality found\");\n                return;\n            }\n            let changed = false;\n            let enabledRids = enabledLayers.filter((ly)=>ly.active).map((ly)=>ly.name);\n            params.encodings.forEach((enc)=>{\n                // flip 'active' flag only when necessary\n                const shouldEnable = enabledRids.includes(enc.rid);\n                if (shouldEnable !== enc.active) {\n                    enc.active = shouldEnable;\n                    changed = true;\n                }\n                if (shouldEnable) {\n                    let layer = enabledLayers.find((vls)=>vls.name === enc.rid);\n                    if (layer !== undefined) {\n                        if (layer.scaleResolutionDownBy >= 1 && layer.scaleResolutionDownBy !== enc.scaleResolutionDownBy) {\n                            this.logger(\"debug\", \"[dynascale]: setting scaleResolutionDownBy from server\", \"layer\", layer.name, \"scale-resolution-down-by\", layer.scaleResolutionDownBy);\n                            enc.scaleResolutionDownBy = layer.scaleResolutionDownBy;\n                            changed = true;\n                        }\n                        if (layer.maxBitrate > 0 && layer.maxBitrate !== enc.maxBitrate) {\n                            this.logger(\"debug\", \"[dynascale] setting max-bitrate from the server\", \"layer\", layer.name, \"max-bitrate\", layer.maxBitrate);\n                            enc.maxBitrate = layer.maxBitrate;\n                            changed = true;\n                        }\n                        if (layer.maxFramerate > 0 && layer.maxFramerate !== enc.maxFramerate) {\n                            this.logger(\"debug\", \"[dynascale]: setting maxFramerate from server\", \"layer\", layer.name, \"max-framerate\", layer.maxFramerate);\n                            enc.maxFramerate = layer.maxFramerate;\n                            changed = true;\n                        }\n                    }\n                }\n            });\n            const activeLayers = params.encodings.filter((e)=>e.active);\n            if (changed) {\n                await videoSender.setParameters(params);\n                this.logger(\"info\", `Update publish quality, enabled rids: `, activeLayers);\n            } else {\n                this.logger(\"info\", `Update publish quality, no change: `, activeLayers);\n            }\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        this.getCodecPreferences = (trackType, preferredCodec)=>{\n            if (trackType === TrackType.VIDEO) {\n                return getPreferredCodecs(\"video\", preferredCodec || \"vp8\");\n            }\n            if (trackType === TrackType.AUDIO) {\n                const defaultAudioCodec = this.isRedEnabled ? \"red\" : \"opus\";\n                const codecToRemove = !this.isRedEnabled ? \"red\" : undefined;\n                return getPreferredCodecs(\"audio\", preferredCodec ?? defaultAudioCodec, codecToRemove);\n            }\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.PUBLISHER_UNSPECIFIED\n            }).catch((err)=>{\n                this.logger(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === \"have-local-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        this.onNegotiationNeeded = ()=>{\n            this.negotiate().catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n                this.onUnrecoverableError?.();\n            });\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            const offer = await this.pc.createOffer(options);\n            let sdp = this.mungeCodecs(offer.sdp);\n            if (sdp && this.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n                sdp = this.enableHighQualityAudio(sdp);\n            }\n            // set the munged SDP back to the offer\n            offer.sdp = sdp;\n            const trackInfos = this.getAnnouncedTracks(offer.sdp);\n            if (trackInfos.length === 0) {\n                throw new Error(`Can't negotiate without announcing any tracks`);\n            }\n            this.isIceRestarting = options?.iceRestart ?? false;\n            await this.pc.setLocalDescription(offer);\n            try {\n                const { response } = await this.sfuClient.setPublisher({\n                    sdp: offer.sdp || \"\",\n                    tracks: trackInfos\n                });\n                if (response.error) throw new Error(response.error.message);\n                await this.pc.setRemoteDescription({\n                    type: \"answer\",\n                    sdp: response.sdp\n                });\n            } finally{\n                this.isIceRestarting = false;\n            }\n            this.sfuClient.iceTrickleBuffer.publisherCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    this.logger(\"warn\", `ICE candidate error`, e, candidate);\n                }\n            });\n        };\n        this.enableHighQualityAudio = (sdp)=>{\n            const transceiver = this.transceiverRegistry[TrackType.SCREEN_SHARE_AUDIO];\n            if (!transceiver) return sdp;\n            const mid = this.extractMid(transceiver, sdp, TrackType.SCREEN_SHARE_AUDIO);\n            return enableHighQualityAudio(sdp, mid);\n        };\n        this.mungeCodecs = (sdp)=>{\n            if (sdp) {\n                sdp = toggleDtx(sdp, this.isDtxEnabled);\n            }\n            return sdp;\n        };\n        this.extractMid = (transceiver, sdp, trackType)=>{\n            if (transceiver.mid) return transceiver.mid;\n            if (!sdp) {\n                this.logger(\"warn\", \"No SDP found. Returning empty mid\");\n                return \"\";\n            }\n            this.logger(\"debug\", `No 'mid' found for track. Trying to find it from the Offer SDP`);\n            const track = transceiver.sender.track;\n            const parsedSdp = sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse(sdp);\n            const media = parsedSdp.media.find((m)=>{\n                return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n                (m.msid?.includes(track.id) ?? true);\n            });\n            if (typeof media?.mid === \"undefined\") {\n                this.logger(\"debug\", `No mid found in SDP for track type ${track.kind} and id ${track.id}. Attempting to find it heuristically`);\n                const heuristicMid = this.transceiverInitOrder.indexOf(trackType);\n                if (heuristicMid !== -1) {\n                    return String(heuristicMid);\n                }\n                this.logger(\"debug\", \"No heuristic mid found. Returning empty mid\");\n                return \"\";\n            }\n            return String(media.mid);\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         *\n         * @internal\n         * @param sdp an optional SDP to extract the `mid` from.\n         */ this.getAnnouncedTracks = (sdp)=>{\n            sdp = sdp || this.pc.localDescription?.sdp;\n            const { settings } = this.state;\n            const targetResolution = settings?.video.target_resolution;\n            return this.pc.getTransceivers().filter((t)=>t.direction === \"sendonly\" && t.sender.track).map((transceiver)=>{\n                const trackType = Number(Object.keys(this.transceiverRegistry).find((key)=>this.transceiverRegistry[key] === transceiver));\n                const track = transceiver.sender.track;\n                let optimalLayers;\n                const isTrackLive = track.readyState === \"live\";\n                if (isTrackLive) {\n                    const publishOpts = this.publishOptionsPerTrackType.get(trackType);\n                    optimalLayers = trackType === TrackType.VIDEO ? findOptimalVideoLayers(track, targetResolution, publishOpts) : trackType === TrackType.SCREEN_SHARE ? findOptimalScreenSharingLayers(track, publishOpts) : [];\n                    this.trackLayersCache[trackType] = optimalLayers;\n                } else {\n                    // we report the last known optimal layers for ended tracks\n                    optimalLayers = this.trackLayersCache[trackType] || [];\n                    this.logger(\"debug\", `Track ${TrackType[trackType]} is ended. Announcing last known optimal layers`, optimalLayers);\n                }\n                const layers = optimalLayers.map((optimalLayer)=>({\n                        rid: optimalLayer.rid || \"\",\n                        bitrate: optimalLayer.maxBitrate || 0,\n                        fps: optimalLayer.maxFramerate || 0,\n                        quality: this.ridToVideoQuality(optimalLayer.rid || \"\"),\n                        videoDimension: {\n                            width: optimalLayer.width,\n                            height: optimalLayer.height\n                        }\n                    }));\n                const isAudioTrack = [\n                    TrackType.AUDIO,\n                    TrackType.SCREEN_SHARE_AUDIO\n                ].includes(trackType);\n                const trackSettings = track.getSettings();\n                const isStereo = isAudioTrack && trackSettings.channelCount === 2;\n                return {\n                    trackId: track.id,\n                    layers: layers,\n                    trackType,\n                    mid: this.extractMid(transceiver, sdp, trackType),\n                    stereo: isStereo,\n                    dtx: isAudioTrack && this.isDtxEnabled,\n                    red: isAudioTrack && this.isRedEnabled,\n                    muted: !isTrackLive\n                };\n            });\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            this.logger(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE Connection state changed to`, state);\n            if (this.state.callingState === CallingState.RECONNECTING) return;\n            if (state === \"failed\" || state === \"disconnected\") {\n                this.logger(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    this.logger(\"error\", `ICE restart error`, e);\n                    this.onUnrecoverableError?.();\n                });\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            this.logger(\"debug\", `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        this.onSignalingStateChange = ()=>{\n            this.logger(\"debug\", `Signaling state changed`, this.pc.signalingState);\n        };\n        this.ridToVideoQuality = (rid)=>{\n            return rid === \"q\" ? VideoQuality.LOW_UNSPECIFIED : rid === \"h\" ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n        };\n        this.logger = getLogger([\n            \"Publisher\",\n            logTag\n        ]);\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.isDtxEnabled = isDtxEnabled;\n        this.isRedEnabled = isRedEnabled;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.unsubscribeOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.restartIce().catch((err)=>{\n                this.logger(\"warn\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n    }\n}\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n *\n * @internal\n */ class Subscriber {\n    /**\n     * Constructs a new `Subscriber` instance.\n     *\n     * @param sfuClient the SFU client to use.\n     * @param dispatcher the dispatcher to use.\n     * @param state the state of the call.\n     * @param connectionConfig the connection configuration to use.\n     * @param iceRestartDelay the delay in milliseconds to wait before restarting ICE when connection goes to `disconnected` state.\n     * @param onUnrecoverableError a callback to call when an unrecoverable error occurs.\n     * @param logTag a tag to use for logging.\n     */ constructor({ sfuClient, dispatcher, state, connectionConfig, onUnrecoverableError, logTag }){\n        this.isIceRestarting = false;\n        /**\n         * Creates a new `RTCPeerConnection` instance with the given configuration.\n         *\n         * @param connectionConfig the connection configuration to use.\n         */ this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"track\", this.handleOnTrack);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n            return pc;\n        };\n        /**\n         * Closes the `RTCPeerConnection` and unsubscribes from the dispatcher.\n         */ this.close = ()=>{\n            this.detachEventHandlers();\n            this.pc.close();\n        };\n        /**\n         * Detaches the event handlers from the `RTCPeerConnection`.\n         * This is useful when we want to replace the `RTCPeerConnection`\n         * instance with a new one (in case of migration).\n         */ this.detachEventHandlers = ()=>{\n            this.unregisterOnSubscriberOffer();\n            this.unregisterOnIceRestart();\n            this.pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n            this.pc.removeEventListener(\"track\", this.handleOnTrack);\n            this.pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            this.pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            this.pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatheringStateChange);\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector\n         * @returns\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            if (this.pc.signalingState === \"have-remote-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            if (this.pc.connectionState === \"new\") {\n                this.logger(\"debug\", `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            try {\n                this.isIceRestarting = true;\n                await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, rawTrackType] = primaryStream.id.split(\":\");\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            this.logger(\"debug\", `[onTrack]: Got remote ${rawTrackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            const trackDebugInfo = `${participantToUpdate?.userId} ${rawTrackType}:${trackId}`;\n            e.track.addEventListener(\"mute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"unmute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"ended\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track ended: ${trackDebugInfo}`);\n                this.state.removeOrphanedTrack(primaryStream.id);\n            });\n            const trackType = toTrackType(rawTrackType);\n            if (!trackType) {\n                return this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n            }\n            if (!participantToUpdate) {\n                this.logger(\"warn\", `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                this.state.registerOrphanedTrack({\n                    id: primaryStream.id,\n                    trackLookupPrefix: trackId,\n                    track: primaryStream,\n                    trackType\n                });\n                return;\n            }\n            const streamKindProp = trackTypeToParticipantStreamKey(trackType);\n            if (!streamKindProp) {\n                this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n                return;\n            }\n            const previousStream = participantToUpdate[streamKindProp];\n            if (previousStream) {\n                this.logger(\"info\", `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n        };\n        this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            this.sfuClient.iceTrickle({\n                iceCandidate: getIceCandidate(candidate),\n                peerType: PeerType.SUBSCRIBER\n            }).catch((err)=>{\n                this.logger(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            this.logger(\"info\", `Received subscriberOffer`, subscriberOffer);\n            await this.pc.setRemoteDescription({\n                type: \"offer\",\n                sdp: subscriberOffer.sdp\n            });\n            this.sfuClient.iceTrickleBuffer.subscriberCandidates.subscribe(async (candidate)=>{\n                try {\n                    const iceCandidate = JSON.parse(candidate.iceCandidate);\n                    await this.pc.addIceCandidate(iceCandidate);\n                } catch (e) {\n                    this.logger(\"warn\", `ICE candidate error`, [\n                        e,\n                        candidate\n                    ]);\n                }\n            });\n            const answer = await this.pc.createAnswer();\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || \"\"\n            });\n            this.isIceRestarting = false;\n        };\n        this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE connection state changed`, state);\n            if (this.state.callingState === CallingState.RECONNECTING) return;\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            if (state === \"failed\" || state === \"disconnected\") {\n                this.logger(\"debug\", `Attempting to restart ICE`);\n                this.restartIce().catch((e)=>{\n                    this.logger(\"error\", `ICE restart failed`, e);\n                    this.onUnrecoverableError?.();\n                });\n            }\n        };\n        this.onIceGatheringStateChange = ()=>{\n            this.logger(\"debug\", `ICE gathering state changed`, this.pc.iceGatheringState);\n        };\n        this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent && `${e.errorCode}: ${e.errorText}`;\n            const iceState = this.pc.iceConnectionState;\n            const logLevel = iceState === \"connected\" || iceState === \"checking\" ? \"debug\" : \"warn\";\n            this.logger(logLevel, `ICE Candidate error`, errorMessage);\n        };\n        this.logger = getLogger([\n            \"Subscriber\",\n            logTag\n        ]);\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.onUnrecoverableError = onUnrecoverableError;\n        this.pc = this.createPeerConnection(connectionConfig);\n        const subscriberOfferConcurrencyTag = Symbol(\"subscriberOffer\");\n        this.unregisterOnSubscriberOffer = dispatcher.on(\"subscriberOffer\", (subscriberOffer)=>{\n            withoutConcurrency(subscriberOfferConcurrencyTag, ()=>{\n                return this.negotiate(subscriberOffer);\n            }).catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n            });\n        });\n        const iceRestartConcurrencyTag = Symbol(\"iceRestart\");\n        this.unregisterOnIceRestart = dispatcher.on(\"iceRestart\", (iceRestart)=>{\n            withoutConcurrency(iceRestartConcurrencyTag, async ()=>{\n                if (iceRestart.peerType !== PeerType.SUBSCRIBER) return;\n                await this.restartIce();\n            }).catch((err)=>{\n                this.logger(\"error\", `ICERestart failed`, err);\n                this.onUnrecoverableError?.();\n            });\n        });\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const { endpoint, onMessage, logTag } = opts;\n    const logger = getLogger([\n        \"SfuClientWS\",\n        logTag\n    ]);\n    const ws = new WebSocket(endpoint);\n    ws.binaryType = \"arraybuffer\"; // do we need this?\n    ws.addEventListener(\"error\", (e)=>{\n        logger(\"error\", \"Signaling WS channel error\", e);\n    });\n    ws.addEventListener(\"close\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is closed\", e);\n    });\n    ws.addEventListener(\"open\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is open\", e);\n    });\n    ws.addEventListener(\"message\", (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            logger(\"error\", \"Failed to decode a message. Check whether the Proto models match.\", {\n                event: e,\n                error: err\n            });\n        }\n    });\n    return ws;\n};\n/**\n * Creates a new promise with resolvers.\n *\n * Based on:\n * - https://github.com/tc39/proposal-promise-with-resolvers/blob/main/polyfills.js\n */ const promiseWithResolvers = ()=>{\n    let resolve;\n    let reject;\n    const promise = new Promise((_resolve, _reject)=>{\n        resolve = _resolve;\n        reject = _reject;\n    });\n    let isResolved = false;\n    let isRejected = false;\n    const resolver = (value)=>{\n        isResolved = true;\n        resolve(value);\n    };\n    const rejecter = (reason)=>{\n        isRejected = true;\n        reject(reason);\n    };\n    return {\n        promise,\n        resolve: resolver,\n        reject: rejecter,\n        isResolved,\n        isRejected\n    };\n};\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     */ constructor({ dispatcher, credentials, sessionId, logTag, joinResponseTimeout = 5000, onSignalClose, streamClient }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the Publisher and Subscriber Peer Connections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * Flag to indicate if the client is in the process of leaving the call.\n         * This is set to `true` when the user initiates the leave process.\n         */ this.isLeaving = false;\n        this.pingIntervalInMs = 10 * 1000;\n        this.unhealthyTimeoutInMs = this.pingIntervalInMs + 5 * 1000;\n        this.restoreWebSocketConcurrencyTag = Symbol(\"recoverWebSocket\");\n        /**\n         * Promise that resolves when the JoinResponse is received.\n         * Rejects after a certain threshold if the response is not received.\n         */ this.joinResponseTask = promiseWithResolvers();\n        /**\n         * A controller to abort the current requests.\n         */ this.abortController = new AbortController();\n        this.createWebSocket = ()=>{\n            this.signalWs = createWebSocketSignalChannel({\n                logTag: this.logTag,\n                endpoint: `${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,\n                onMessage: (message)=>{\n                    this.lastMessageTimestamp = new Date();\n                    this.scheduleConnectionCheck();\n                    this.dispatcher.dispatch(message, this.logTag);\n                }\n            });\n            this.signalWs.addEventListener(\"close\", this.handleWebSocketClose);\n            this.signalWs.addEventListener(\"error\", this.restoreWebSocket);\n            this.signalReady = new Promise((resolve)=>{\n                const onOpen = ()=>{\n                    this.signalWs.removeEventListener(\"open\", onOpen);\n                    resolve(this.signalWs);\n                };\n                this.signalWs.addEventListener(\"open\", onOpen);\n            });\n        };\n        this.cleanUpWebSocket = ()=>{\n            this.signalWs.removeEventListener(\"error\", this.restoreWebSocket);\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n        };\n        this.restoreWebSocket = ()=>{\n            withoutConcurrency(this.restoreWebSocketConcurrencyTag, async ()=>{\n                await this.networkAvailableTask?.promise;\n                this.logger(\"debug\", \"Restoring SFU WS connection\");\n                this.cleanUpWebSocket();\n                await sleep(500);\n                this.createWebSocket();\n            }).catch((err)=>this.logger(\"debug\", `Can't restore WS connection`, err));\n        };\n        this.handleWebSocketClose = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            this.onSignalClose?.();\n        };\n        this.close = (code = StreamSfuClient.NORMAL_CLOSURE, reason)=>{\n            if (this.signalWs.readyState === WebSocket.OPEN) {\n                this.logger(\"debug\", `Closing SFU WS connection: ${code} - ${reason}`);\n                this.signalWs.close(code, `js-client: ${reason}`);\n                this.cleanUpWebSocket();\n            }\n            this.dispose();\n        };\n        this.dispose = ()=>{\n            this.logger(\"debug\", \"Disposing SFU client\");\n            this.unsubscribeIceTrickle();\n            this.unsubscribeNetworkChanged();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            clearTimeout(this.migrateAwayTimeout);\n            this.abortController.abort();\n            this.migrationTask?.resolve();\n        };\n        this.leaveAndClose = async (reason)=>{\n            await this.joinTask;\n            try {\n                this.isLeaving = true;\n                await this.notifyLeave(reason);\n            } catch (err) {\n                this.logger(\"debug\", \"Error notifying SFU about leaving call\", err);\n            }\n            this.close(StreamSfuClient.NORMAL_CLOSURE, reason.substring(0, 115));\n        };\n        this.updateSubscriptions = async (tracks)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks\n                }), this.abortController.signal);\n        };\n        this.setPublisher = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendAnswer = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceTrickle = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceRestart = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.updateMuteState = async (trackType, muted)=>{\n            await this.joinTask;\n            return this.updateMuteStates({\n                muteStates: [\n                    {\n                        trackType,\n                        muted\n                    }\n                ]\n            });\n        };\n        this.updateMuteStates = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateMuteStates({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendStats = async (stats)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendStats({\n                    ...stats,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.startNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.enterMigration = async (opts = {})=>{\n            this.isLeaving = true;\n            const { timeout = 7 * 1000 } = opts;\n            this.migrationTask?.reject(new Error(\"Cancelled previous migration\"));\n            const task = this.migrationTask = promiseWithResolvers();\n            const unsubscribe = this.dispatcher.on(\"participantMigrationComplete\", ()=>{\n                unsubscribe();\n                clearTimeout(this.migrateAwayTimeout);\n                task.resolve();\n            });\n            this.migrateAwayTimeout = setTimeout(()=>{\n                unsubscribe();\n                task.reject(new Error(`Migration (${this.logTag}) failed to complete in ${timeout}ms`));\n            }, timeout);\n            return task.promise;\n        };\n        this.join = async (data)=>{\n            // wait for the signal web socket to be ready before sending \"joinRequest\"\n            await this.signalReady;\n            if (this.joinResponseTask.isResolved || this.joinResponseTask.isRejected) {\n                // we need to lock the RPC requests until we receive a JoinResponse.\n                // that's why we have this primitive lock mechanism.\n                // the client starts with already initialized joinResponseTask,\n                // and this code creates a new one for the next join request.\n                this.joinResponseTask = promiseWithResolvers();\n            }\n            // capture a reference to the current joinResponseTask as it might\n            // be replaced with a new one in case a second join request is made\n            const current = this.joinResponseTask;\n            let timeoutId;\n            const unsubscribe = this.dispatcher.on(\"joinResponse\", (joinResponse)=>{\n                this.logger(\"debug\", \"Received joinResponse\", joinResponse);\n                clearTimeout(timeoutId);\n                unsubscribe();\n                this.keepAlive();\n                current.resolve(joinResponse);\n            });\n            timeoutId = setTimeout(()=>{\n                unsubscribe();\n                current.reject(new Error('Waiting for \"joinResponse\" has timed out'));\n            }, this.joinResponseTimeout);\n            await this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"joinRequest\",\n                    joinRequest: JoinRequest.create({\n                        ...data,\n                        sessionId: this.sessionId,\n                        token: this.credentials.token\n                    })\n                }\n            }));\n            return current.promise;\n        };\n        this.ping = async ()=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"healthCheckRequest\",\n                    healthCheckRequest: {}\n                }\n            }));\n        };\n        this.notifyLeave = async (reason)=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"leaveCallRequest\",\n                    leaveCallRequest: {\n                        sessionId: this.sessionId,\n                        reason\n                    }\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            await this.signalReady; // wait for the signal ws to be open\n            const msgJson = SfuRequest.toJson(message);\n            if (this.signalWs.readyState !== WebSocket.OPEN) {\n                this.logger(\"debug\", \"Signal WS is not open. Skipping message\", msgJson);\n                return;\n            }\n            this.logger(\"debug\", `Sending message to: ${this.edgeName}`, msgJson);\n            this.signalWs.send(SfuRequest.toBinary(message));\n        };\n        this.keepAlive = ()=>{\n            clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = setInterval(()=>{\n                this.ping().catch((e)=>{\n                    this.logger(\"error\", \"Error sending healthCheckRequest to SFU\", e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.dispatcher = dispatcher;\n        this.sessionId = sessionId || generateUUIDv4();\n        this.onSignalClose = onSignalClose;\n        this.credentials = credentials;\n        const { server, token } = credentials;\n        this.edgeName = server.edge_name;\n        this.joinResponseTimeout = joinResponseTimeout;\n        this.logTag = logTag;\n        this.logger = getLogger([\n            \"SfuClient\",\n            logTag\n        ]);\n        this.rpc = createSignalClient({\n            baseUrl: server.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                getLogLevel() === \"trace\" && withRequestLogger(this.logger, \"trace\")\n            ].filter((v)=>!!v)\n        });\n        // Special handling for the ICETrickle kind of events.\n        // The SFU might trigger these events before the initial RTC\n        // connection is established or \"JoinResponse\" received.\n        // In that case, those events (ICE candidates) need to be buffered\n        // and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on(\"iceTrickle\", (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        // listen to network changes to handle offline state\n        // we shouldn't attempt to recover websocket connection when offline\n        this.unsubscribeNetworkChanged = streamClient.on(\"network.changed\", (e)=>{\n            if (!e.online) {\n                this.networkAvailableTask = promiseWithResolvers();\n            } else {\n                this.networkAvailableTask?.resolve();\n            }\n        });\n        this.createWebSocket();\n    }\n    get isHealthy() {\n        return this.signalWs.readyState === WebSocket.OPEN;\n    }\n    get joinTask() {\n        return this.joinResponseTask.promise;\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is disposed because a new\n * connection is established or is about to be established.\n * Here, we don't use 1000 (normal closure) because we don't want the\n * SFU to clean up the resources associated with the current participant.\n */ StreamSfuClient.DISPOSE_OLD_SOCKET = 4002;\nconst toRtcConfiguration = (config)=>{\n    return {\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n};\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger(\"warn\", \"No call session provided. Ignoring call.rejected event.\", event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger(\"info\", \"Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.\", event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger(\"info\", \"everyone rejected, leaving the call\");\n                await call.leave({\n                    reason: \"ring: everyone rejected\"\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger(\"info\", \"call creator rejected, leaving call\");\n                await call.leave({\n                    reason: \"ring: creator rejected\"\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState === CallingState.RINGING || callingState === CallingState.JOINED || callingState === CallingState.JOINING) {\n            call.leave({\n                reason: \"call.ended event received\"\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after call.ended \", err);\n            });\n        }\n    };\n};\n/**\n * Watches for `callEnded` events.\n */ const watchSfuCallEnded = (call)=>{\n    return call.on(\"callEnded\", async (e)=>{\n        if (call.state.callingState === CallingState.LEFT) return;\n        try {\n            // `call.ended` event arrived after the call is already left\n            // and all event handlers are detached. We need to manually\n            // update the call state to reflect the call has ended.\n            call.state.setEndedAt(new Date());\n            const reason = CallEndedReason[e.reason];\n            await call.leave({\n                reason: `callEnded received: ${reason}`\n            });\n        } catch (err) {\n            call.logger(\"error\", \"Failed to leave call after being ended by the SFU\", err);\n        }\n    });\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\n/**\n * An event responder which handles the `changePublishQuality` event.\n */ const watchChangePublishQuality = (dispatcher, call)=>{\n    return dispatcher.on(\"changePublishQuality\", (e)=>{\n        const { videoSenders } = e;\n        videoSenders.forEach((videoSender)=>{\n            const { layers } = videoSender;\n            call.updatePublishQuality(layers.filter((l)=>l.active));\n        });\n    });\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"connectionQualityChanged\", (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"healthCheckResponse\", (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                reason: \"live ended\"\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after live ended\", err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (!e.error) return;\n        const logger = getLogger([\n            \"SfuClient\"\n        ]);\n        const { error, reconnectStrategy } = e;\n        logger(\"error\", \"SFU reported error\", {\n            code: ErrorCode[error.code],\n            reconnectStrategy: WebsocketReconnectStrategy[reconnectStrategy],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on(\"trackUnpublished\", async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger(\"info\", `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else if (type === TrackType.SCREEN_SHARE || type === TrackType.SCREEN_SHARE_AUDIO) {\n                    await call.screenShare.disable();\n                } else {\n                    logger(\"warn\", \"Unsupported track type to soft mute\", TrackType[type]);\n                }\n            } catch (error) {\n                logger(\"error\", \"Failed to stop publishing\", error);\n            }\n        }\n    });\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow`.\n        // The SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        const orphanedTracks = reconcileOrphanedTracks(state, participant);\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, orphanedTracks, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: [\n                        ...p.publishedTracks,\n                        type\n                    ].filter(unique)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\nconst unique = (v, i, arr)=>arr.indexOf(v) === i;\n/**\n * Reconciles orphaned tracks (if any) for the given participant.\n *\n * @param state the call state.\n * @param participant the participant.\n */ const reconcileOrphanedTracks = (state, participant)=>{\n    const orphanTracks = state.takeOrphanedTracks(participant.trackLookupPrefix);\n    if (!orphanTracks.length) return;\n    const reconciledTracks = {};\n    for (const orphan of orphanTracks){\n        const key = trackTypeToParticipantStreamKey(orphan.trackType);\n        if (!key) continue;\n        reconciledTracks[key] = orphan.track;\n    }\n    return reconciledTracks;\n};\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"dominantSpeakerChanged\", (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"audioLevelChanged\", (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, dispatcher)=>{\n    const state = call.state;\n    const eventHandlers = [\n        call.on(\"call.ended\", watchCallEnded(call)),\n        watchSfuCallEnded(call),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchChangePublishQuality(dispatcher, call),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on(\"participantJoined\", watchParticipantJoined(state)),\n        call.on(\"participantLeft\", watchParticipantLeft(state)),\n        call.on(\"participantUpdated\", watchParticipantUpdated(state)),\n        call.on(\"trackPublished\", watchTrackPublished(state)),\n        call.on(\"trackUnpublished\", watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on(\"callGrantsUpdated\", watchCallGrantsUpdated(state)),\n        call.on(\"pinsUpdated\", watchPinsUpdated(state)),\n        handleRemoteSoftMute(call)\n    ];\n    if (call.ringing) {\n        // these events are only relevant when the call is ringing\n        eventHandlers.push(registerRingingCallEventHandlers(call));\n    }\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        \"call.accepted\": watchCallAccepted(call),\n        \"call.rejected\": watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? \"stream-react\" : sdk && sdk.type === SdkType.REACT_NATIVE ? \"stream-react-native\" : \"stream-js\";\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : \"0.0.0-development\";\n};\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        \"stats\"\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === \"subscriber\" && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === \"publisher\" && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, mediaStream)=>{\n        const pc = kind === \"subscriber\" ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (let track of mediaStream.getTracks()){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                // @ts-ignore\n                trackKind: track.kind,\n                kind\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        const sessionIds = new Set(sessionIdsToTrack);\n        if (sessionIds.size > 0) {\n            for (let participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const kind = participant.isLocalParticipant ? \"publisher\" : \"subscriber\";\n                try {\n                    const mergedStream = new MediaStream([\n                        ...participant.videoStream?.getVideoTracks() || [],\n                        ...participant.audioStream?.getAudioTracks() || []\n                    ]);\n                    participantStats[participant.sessionId] = await getStatsForStream(kind, mergedStream);\n                    mergedStream.getTracks().forEach((t)=>{\n                        mergedStream.removeTrack(t);\n                    });\n                } catch (e) {\n                    logger(\"error\", `Failed to collect stats for ${kind} of ${participant.userId}`, e);\n                }\n            }\n        }\n        const [subscriberStats, publisherStats] = await Promise.all([\n            subscriber.getStats().then((report)=>transform(report, {\n                    kind: \"subscriber\",\n                    trackKind: \"video\"\n                })).then(aggregate),\n            publisher ? publisher.getStats().then((report)=>transform(report, {\n                    kind: \"publisher\",\n                    trackKind: \"video\"\n                })).then(aggregate) : getEmptyStats()\n        ]);\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack(\"subscriber\"),\n            publisher ? getRawStatsForTrack(\"publisher\") : undefined\n        ]);\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            await run().catch((e)=>{\n                logger(\"debug\", \"Failed to collect stats\", e);\n            });\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind } = opts;\n    const direction = kind === \"subscriber\" ? \"inbound-rtp\" : \"outbound-rtp\";\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === \"codec\" && s.id === rtcStreamStats.codecId);\n        const transport = stats.find((s)=>s.type === \"transport\" && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === \"connected\") {\n            const candidatePair = stats.find((s)=>s.type === \"candidate-pair\" && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            // @ts-ignore: available in Chrome only, TS doesn't recognize this\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: \"none\",\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        codec: \"\",\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || \"\");\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n        // we take the first codec we find, as it should be the same for all streams\n        report.codec = streams[0].codec || \"\";\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has(\"cpu\") && \"cpu\",\n        qualityLimitationReasons.has(\"bandwidth\") && \"bandwidth\",\n        qualityLimitationReasons.has(\"other\") && \"other\"\n    ].filter(Boolean).join(\", \");\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher }){\n        this.logger = getLogger([\n            \"SfuStatsReporter\"\n        ]);\n        this.run = async ()=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.getStats().then(flatten).then(JSON.stringify),\n                this.publisher?.getStats().then(flatten).then(JSON.stringify) ?? \"[]\"\n            ]);\n            await this.sfuClient.sendStats({\n                sdk: this.sdkName,\n                sdkVersion: this.sdkVersion,\n                webrtcVersion: this.webRTCVersion,\n                subscriberStats,\n                publisherStats\n            });\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            clearInterval(this.intervalId);\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        const webRTCInfo = getWebRTCInfo();\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // The WebRTC version if passed from the SDK, it is taken else the browser info is sent.\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || \"\"}-${browser?.version || \"\"}` || \"N/A\";\n    }\n}\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || \"\");\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Firefox\");\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Chrome\");\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari\n});\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\nconst globalOverrideKey = Symbol(\"globalOverrideKey\");\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     *\n     * @param call the call to manage.\n     */ constructor(callState, speaker){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            \"DynascaleManager\"\n        ]);\n        this.pendingSubscriptionsUpdate = null;\n        this.videoTrackSubscriptionOverridesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject({});\n        this.videoTrackSubscriptionOverrides$ = this.videoTrackSubscriptionOverridesSubject.asObservable();\n        this.incomingVideoSettings$ = this.videoTrackSubscriptionOverrides$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((overrides)=>{\n            const { [globalOverrideKey]: globalSettings, ...participants } = overrides;\n            return {\n                enabled: globalSettings?.enabled !== false,\n                preferredResolution: globalSettings?.enabled ? globalSettings.dimension : undefined,\n                participants: Object.fromEntries(Object.entries(participants).map(([sessionId, participantOverride])=>[\n                        sessionId,\n                        {\n                            enabled: participantOverride?.enabled !== false,\n                            preferredResolution: participantOverride?.enabled ? participantOverride.dimension : undefined\n                        }\n                    ])),\n                isParticipantVideoEnabled: (sessionId)=>overrides[sessionId]?.enabled ?? overrides[globalOverrideKey]?.enabled ?? true\n            };\n        }), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n        this.setVideoTrackSubscriptionOverrides = (override, sessionIds)=>{\n            if (!sessionIds) {\n                return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, override ? {\n                    [globalOverrideKey]: override\n                } : {});\n            }\n            return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, (overrides)=>({\n                    ...overrides,\n                    ...Object.fromEntries(sessionIds.map((id)=>[\n                            id,\n                            override\n                        ]))\n                }));\n        };\n        this.applyTrackSubscriptions = (debounceType = DebounceType.SLOW)=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const updateSubscriptions = ()=>{\n                this.pendingSubscriptionsUpdate = null;\n                this.sfuClient?.updateSubscriptions(this.trackSubscriptions).catch((err)=>{\n                    this.logger(\"debug\", `Failed to update track subscriptions`, err);\n                });\n            };\n            if (debounceType) {\n                this.pendingSubscriptionsUpdate = setTimeout(updateSubscriptions, debounceType);\n            } else {\n                updateSubscriptions();\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.callState.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger(\"debug\", `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.callState.updateParticipantTracks(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                });\n                this.applyTrackSubscriptions(debounceType);\n            };\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((participant)=>participant.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = `${videoElement.clientWidth},${videoElement.clientHeight}`;\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions === currentDimensions || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                requestTrackWithDimensions(DebounceType.SLOW, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(\"publishedTracks\"), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((p)=>trackType === \"videoTrack\" ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.FAST, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(trackType === \"videoTrack\" ? \"videoStream\" : \"screenShareStream\")).subscribe((p)=>{\n                const source = trackType === \"videoTrack\" ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.callState.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((participants)=>participants.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(trackType === \"screenShareAudioTrack\" ? \"screenShareAudioStream\" : \"audioStream\")).subscribe((p)=>{\n                const source = trackType === \"screenShareAudioTrack\" ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (audioElement.srcObject) {\n                        audioElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                        // audio output device shall be set after the audio element is played\n                        // otherwise, the browser will not pick it up, and will always\n                        // play audio through the system's default device\n                        const { selectedDevice } = this.speaker.state;\n                        if (selectedDevice && \"setSinkId\" in audioElement) {\n                            audioElement.setSinkId(selectedDevice);\n                        }\n                    }\n                });\n            });\n            const sinkIdSubscription = !(\"setSinkId\" in audioElement) ? null : this.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                if (deviceId) {\n                    audioElement.setSinkId(deviceId);\n                }\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n                this.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.distinctUntilKeyChanged)(\"audioVolume\"))\n            ]).subscribe(([volume, p])=>{\n                audioElement.volume = p.audioVolume ?? volume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n            };\n        };\n        this.callState = callState;\n        this.speaker = speaker;\n    }\n    setSfuClient(sfuClient) {\n        this.sfuClient = sfuClient;\n    }\n    get trackSubscriptions() {\n        const subscriptions = [];\n        for (const p of this.callState.remoteParticipants){\n            // NOTE: audio tracks don't have to be requested explicitly\n            // as the SFU will implicitly subscribe us to all of them,\n            // once they become available.\n            if (p.videoDimension && hasVideo(p)) {\n                const override = this.videoTrackSubscriptionOverrides[p.sessionId] ?? this.videoTrackSubscriptionOverrides[globalOverrideKey];\n                if (override?.enabled !== false) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: override?.dimension ?? p.videoDimension\n                    });\n                }\n            }\n            if (p.screenShareDimension && hasScreenShare(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE,\n                    dimension: p.screenShareDimension\n                });\n            }\n            if (hasScreenShareAudio(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE_AUDIO\n                });\n            }\n        }\n        return subscriptions;\n    }\n    get videoTrackSubscriptionOverrides() {\n        return getCurrentValue(this.videoTrackSubscriptionOverrides$);\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType(\"default\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"development\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"livestream\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType(\"audio_room\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            \"permissions\"\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = (error)=>{\n                this.setState(\"granted\");\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener(\"change\", ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error(\"BrowserPermission instance possibly disposed\");\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== \"prompt\" || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === \"granted\";\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new DOMException(\"Permission was not granted previously, and prompting again is not allowed\", \"NotAllowedError\");\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                return true;\n            } catch (e) {\n                if (e instanceof DOMException && e.name === \"NotAllowedError\") {\n                    this.logger(\"info\", \"Browser permission was not granted\", {\n                        permission: this.permission\n                    });\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger(\"error\", `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten()).pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)((state)=>state !== \"denied\"));\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== \"undefined\" && !!navigator.permissions?.query;\n}\nconst uninitialized = Symbol(\"uninitialized\");\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return ()=>{\n        if (value === uninitialized) {\n            value = factory();\n        }\n        return value;\n    };\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param permission a BrowserPermission instance.\n * @param kind the kind of devices to enumerate.\n */ const getDevices = (permission, kind)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === \"\");\n        if (shouldPromptForBrowserPermission) {\n            await permission.prompt({\n                throwOnNotAllowed: true\n            });\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        return devices.filter((d)=>d.kind === kind);\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === \"undefined\") return false;\n    const element = document.createElement(\"audio\");\n    return \"setSinkId\" in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: \"microphone\"\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: \"camera\"\n    }));\nconst getDeviceChangeObserver = lazy(()=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.fromEvent)(navigator.mediaDevices, \"devicechange\").pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audioinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = ()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getVideoBrowserPermission(), \"videoinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n};\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = ()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audiooutput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1));\n};\nconst getStream = async (constraints)=>{\n    return await navigator.mediaDevices.getUserMedia(constraints);\n};\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns the new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return getStream(constraints);\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get audio stream\", {\n            error: e,\n            constraints: constraints\n        });\n        throw e;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n * @param trackConstraints the constraints to use when requesting the stream.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return getStream(constraints);\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get video stream\", {\n            error: e,\n            constraints: constraints\n        });\n        throw e;\n    }\n};\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @angular It's recommended to use the [`DeviceManagerService`](./DeviceManagerService.md) for a higher level API, use this low-level method only if the `DeviceManagerService` doesn't suit your requirements.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n */ const getScreenShareStream = async (options)=>{\n    try {\n        return await navigator.mediaDevices.getDisplayMedia({\n            video: true,\n            audio: {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false\n            },\n            // @ts-expect-error - not present in types yet\n            systemAudio: \"include\",\n            ...options\n        });\n    } catch (e) {\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get screen share stream\", e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== \"undefined\" && typeof navigator.mediaDevices !== \"undefined\" ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1)) : undefined;\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n        stream.removeTrack(track);\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === \"function\") {\n        // @ts-expect-error\n        stream.release();\n    }\n};\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol(\"statusChangeConcurrencyTag\");\n        this.filterRegistrationConcurrencyTag = Symbol(\"filterRegistrationConcurrencyTag\");\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n        };\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Returns `true` when this device is in enabled state.\n     */ get enabled() {\n        return this.state.status === \"enabled\";\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"enabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus(\"enabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.status;\n        if (!forceStop && this.state.optimisticStatus === \"disabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"disabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === \"stop-tracks\";\n                await this.muteStream(stopTracks);\n                this.state.setStatus(\"disabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === \"enabled\" && this.state.status === \"disabled\") {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.\");\n        }\n        if (deviceId === this.state.selectedDevice) {\n            return;\n        }\n        this.state.setDevice(deviceId);\n        await this.applySettingsToStream();\n    }\n    async applySettingsToStream() {\n        await withCancellation(this.statusChangeConcurrencyTag, async ()=>{\n            if (this.enabled) {\n                await this.muteStream();\n                await this.unmuteStream();\n            }\n        });\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        if (!this.state.mediaStream) return;\n        this.logger(\"debug\", `${stopTracks ? \"Stopping\" : \"Disabling\"} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream(stopTracks);\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === \"ended\");\n        if (allEnded) {\n            if (this.state.mediaStream && // @ts-expect-error release() is present in react-native-webrtc\n            typeof this.state.mediaStream.release === \"function\") {\n                // @ts-expect-error called to dispose the stream in RN\n                this.state.mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    muteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    unmuteTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === \"live\") track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.muteTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger(\"debug\", \"Starting stream\");\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === \"live\")) {\n            stream = this.state.mediaStream;\n            this.unmuteTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event(\"ended\")); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener(\"ended\", handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener(\"ended\", handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger(\"warn\", \"Filter failed to start and will be ignored\", error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            const handleTrackEnded = async ()=>{\n                await this.statusChangeSettled();\n                if (this.enabled) {\n                    this.isTrackStoppedDueToTrackEnd = true;\n                    setTimeout(()=>{\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    }, 2000);\n                    await this.disable();\n                }\n            };\n            this.getTracks().forEach((track)=>{\n                track.addEventListener(\"ended\", handleTrackEnded);\n                this.subscriptions.push(()=>track.removeEventListener(\"ended\", handleTrackEnded));\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return \"audioinput\";\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return \"videoinput\";\n        }\n        return \"\";\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_30__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDeviceInList(currentDevices, deviceId);\n                const prevDevice = this.findDeviceInList(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === \"disabled\") {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Unexpected error while handling disconnected or replaced device\", err);\n            }\n        }));\n    }\n    findDeviceInList(devices, deviceId) {\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === this.mediaDeviceKind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = \"stop-tracks\", permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_31__.of)(true);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return this.getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return this.getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return this.getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        this.setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        this.setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        this.setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return this.getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(\"stop-tracks\", getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return this.getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        this.setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === \"environment\" ? \"back\" : \"front\";\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nclass CameraManager extends InputMediaDeviceManager {\n    /**\n     * Constructs a new CameraManager.\n     *\n     * @param call the call instance.\n     */ constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        this.state.setDirection(direction);\n        // Providing both device id and direction doesn't work, so we deselect the device\n        this.state.setDevice(undefined);\n        await this.applySettingsToStream();\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === \"front\" ? \"back\" : \"front\";\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === \"enabled\") {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger(\"warn\", \"could not apply target resolution\", error);\n            }\n        }\n        if (this.enabled) {\n            const { width, height } = this.state.mediaStream.getVideoTracks()[0]?.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger(\"debug\", `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Sets the preferred codec for encoding the video.\n     *\n     * @internal internal use only, not part of the public API.\n     * @param codec the codec to use for encoding the video.\n     */ setPreferredCodec(codec) {\n        this.updatePublishOptions({\n            preferredCodec: codec\n        });\n    }\n    /**\n     * Updates the preferred publish options for the video stream.\n     *\n     * @internal\n     * @param options the options to use.\n     */ updatePublishOptions(options) {\n        this.publishOptions = {\n            ...this.publishOptions,\n            ...options\n        };\n    }\n    /**\n     * Returns the capture resolution of the camera.\n     */ getCaptureResolution() {\n        const { mediaStream } = this.state;\n        if (!mediaStream) return;\n        const [videoTrack] = mediaStream.getVideoTracks();\n        if (!videoTrack) return;\n        const settings = videoTrack.getSettings();\n        return {\n            width: settings.width,\n            height: settings.height,\n            frameRate: settings.frameRate\n        };\n    }\n    getDevices() {\n        return getVideoDevices();\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction) {\n            constraints.facingMode = this.state.direction === \"front\" ? \"user\" : \"environment\";\n        }\n        return getVideoStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishVideoStream(stream, this.publishOptions);\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.VIDEO, stopTracks);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return this.getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        this.setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD$1 = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD$1, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== \"closed\") {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nconst AUDIO_LEVEL_THRESHOLD = 0.2;\nclass RNSpeechDetector {\n    constructor(){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n    }\n    /**\n     * Starts the speech detection.\n     */ async start() {\n        try {\n            const audioStream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            this.pc1.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const audioTracks = audioStream.getAudioTracks();\n            // We need to mute the audio track for this temporary stream, or else you will hear yourself twice while in the call.\n            audioTracks.forEach((track)=>track.enabled = false);\n        } catch (error) {\n            console.error(\"Error connecting and negotiating between PeerConnections:\", error);\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        if (this.intervalId) {\n            clearInterval(this.intervalId);\n        }\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        this.intervalId = setInterval(async ()=>{\n            const stats = await this.pc1.getStats();\n            const report = flatten(stats);\n            // Audio levels are present inside stats of type `media-source` and of kind `audio`\n            const audioMediaSourceStats = report.find((stat)=>stat.type === \"media-source\" && stat.kind === \"audio\");\n            if (audioMediaSourceStats) {\n                const { audioLevel } = audioMediaSourceStats;\n                if (audioLevel) {\n                    if (audioLevel >= AUDIO_LEVEL_THRESHOLD) {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: true,\n                            audioLevel\n                        });\n                    } else {\n                        onSoundDetectedStateChanged({\n                            isSoundDetected: false,\n                            audioLevel: 0\n                        });\n                    }\n                }\n            }\n        }, 1000);\n        return ()=>{\n            clearInterval(this.intervalId);\n        };\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = isReactNative() ? \"disable-tracks\" : \"stop-tracks\"){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol(\"soundDetectorConcurrencyTag\");\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === \"disabled\") {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Could not enable speaking while muted\", err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.enable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error(\"Noise cancellation is not available.\");\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error(\"Noise cancellation is disabled for this call type.\");\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on(\"change\", (enabled)=>{\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n            this.noiseCancellationRegistration = registrationResult.registered;\n            this.unregisterNoiseCancellation = registrationResult.unregister;\n            await this.noiseCancellationRegistration;\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                noiseCancellation.enable();\n            }\n        } catch (e) {\n            this.logger(\"warn\", \"Failed to enable noise cancellation\", e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to disable noise cancellation\", err);\n            });\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     *\n     * Note: not supported in React Native.\n     */ async disableNoiseCancellation() {\n        if (isReactNative()) {\n            throw new Error(\"Noise cancellation is not supported in React Native\");\n        }\n        await (this.unregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger(\"warn\", \"Failed to unregister noise cancellation\", err);\n        });\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === \"disabled\") {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    getDevices() {\n        return getAudioDevices();\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishAudioStream(stream);\n    }\n    stopPublishStream(stopTracks) {\n        return this.call.stopPublish(TrackType.AUDIO, stopTracks);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                await this.rnSpeechDetector.start();\n                const unsubscribe = this.rnSpeechDetector?.onSpeakingDetectedStateChange((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector?.stop();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return this.getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        this.setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        this.setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n        this.subscriptions.push(createSubscription(call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, true);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_31__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        return getScreenShareStream(constraints);\n    }\n    publishStream(stream) {\n        return this.call.publishScreenShareStream(stream, {\n            screenShareSettings: this.state.settings\n        });\n    }\n    async stopPublishStream(stopTracks) {\n        await this.call.stopPublish(TrackType.SCREEN_SHARE, stopTracks);\n        await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO, stopTracks);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     *\n     * @param deviceId ignored.\n     */ async select(deviceId) {\n        throw new Error(\"This method is not supported in for Screen Share\");\n    }\n}\nclass SpeakerState {\n    constructor(){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(\"\");\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return this.getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return this.getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        this.setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        this.setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.state = new SpeakerState();\n        this.subscriptions = [];\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n        };\n        this.call = call;\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === \"audiooutput\");\n                if (!device) {\n                    this.select(\"\");\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        return getAudioOutputDevices();\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1\");\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1, or undefined\");\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.sfuClientTag = 0;\n        this.reconnectConcurrencyTag = Symbol(\"reconnectConcurrencyTag\");\n        this.reconnectAttempts = 0;\n        this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n        this.fastReconnectDeadlineSeconds = 0;\n        this.lastOfflineTimestamp = 0;\n        // maintain the order of publishing tracks to restore them after a reconnection\n        // it shouldn't contain duplicates\n        this.trackPublishOrder = [];\n        this.hasJoinedOnce = false;\n        this.deviceSettingsAppliedOnce = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol(\"joinLeaveConcurrencyTag\");\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        this.handleOwnCapabilitiesUpdated = async (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (hasPermission) continue;\n                try {\n                    switch(trackType){\n                        case TrackType.AUDIO:\n                            if (this.microphone.enabled) await this.microphone.disable();\n                            break;\n                        case TrackType.VIDEO:\n                            if (this.camera.enabled) await this.camera.disable();\n                            break;\n                        case TrackType.SCREEN_SHARE:\n                            if (this.screenShare.enabled) await this.screenShare.disable();\n                            break;\n                    }\n                } catch (err) {\n                    this.logger(\"error\", `Can't disable mic/camera/screenshare after revoked permissions`, err);\n                }\n            }\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject = false, reason = \"user is leaving the call\" } = {})=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    throw new Error(\"Cannot leave call that has already been left.\");\n                }\n                if (callingState === CallingState.JOINING) {\n                    const waitUntilCallJoined = ()=>{\n                        return new Promise((resolve)=>{\n                            this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.takeWhile)((state)=>state !== CallingState.JOINED, true)).subscribe(()=>resolve());\n                        });\n                    };\n                    await waitUntilCallJoined();\n                }\n                if (this.ringing) {\n                    // I'm the one who started the call, so I should cancel it.\n                    const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                    if (this.isCreatedByMe && !hasOtherParticipants && callingState === CallingState.RINGING) {\n                        // Signals other users that I have cancelled my call to them\n                        // before they accepted it.\n                        await this.reject();\n                    } else if (reject && callingState === CallingState.RINGING) {\n                        // Signals other users that I have rejected the incoming call.\n                        await this.reject();\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.close();\n                this.subscriber = undefined;\n                this.publisher?.close({\n                    stopTracks: true\n                });\n                this.publisher = undefined;\n                await this.sfuClient?.leaveAndClose(reason);\n                this.sfuClient = undefined;\n                this.dynascaleManager.setSfuClient(undefined);\n                this.state.setCallingState(CallingState.LEFT);\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.hasJoinedOnce = false;\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(false);\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring || this.ringing) {\n                // the call response can indicate where the call is still ringing or not\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(false);\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async (data)=>{\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                throw new Error(`Illegal State: call.join() shall be called only once`);\n            }\n            this.joinCallData = data;\n            this.logger(\"debug\", \"Starting join flow\");\n            this.state.setCallingState(CallingState.JOINING);\n            const performingMigration = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n            const performingRejoin = this.reconnectStrategy === WebsocketReconnectStrategy.REJOIN;\n            const performingFastReconnect = this.reconnectStrategy === WebsocketReconnectStrategy.FAST;\n            let statsOptions = this.sfuStatsReporter?.options;\n            if (!this.credentials || !statsOptions || performingRejoin || performingMigration) {\n                try {\n                    const joinResponse = await this.doJoinRequest(data);\n                    this.credentials = joinResponse.credentials;\n                    statsOptions = joinResponse.stats_options;\n                } catch (error) {\n                    // restore the previous call state if the join-flow fails\n                    this.state.setCallingState(callingState);\n                    throw error;\n                }\n            }\n            const previousSfuClient = this.sfuClient;\n            const previousSessionId = previousSfuClient?.sessionId;\n            const isWsHealthy = !!previousSfuClient?.isHealthy;\n            const sfuClient = performingRejoin || performingMigration || !isWsHealthy ? new StreamSfuClient({\n                logTag: String(this.sfuClientTag++),\n                dispatcher: this.dispatcher,\n                credentials: this.credentials,\n                streamClient: this.streamClient,\n                // a new session_id is necessary for the REJOIN strategy.\n                // we use the previous session_id if available\n                sessionId: performingRejoin ? undefined : previousSessionId,\n                onSignalClose: ()=>this.handleSfuSignalClose(sfuClient)\n            }) : previousSfuClient;\n            this.sfuClient = sfuClient;\n            this.dynascaleManager.setSfuClient(sfuClient);\n            const clientDetails = getClientDetails();\n            // we don't need to send JoinRequest if we are re-using an existing healthy SFU client\n            if (previousSfuClient !== sfuClient) {\n                // prepare a generic SDP and send it to the SFU.\n                // this is a throw-away SDP that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                const receivingCapabilitiesSdp = await getGenericSdp(\"recvonly\");\n                const reconnectDetails = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED ? this.getReconnectDetails(data?.migrating_from, previousSessionId) : undefined;\n                const { callState, fastReconnectDeadlineSeconds } = await sfuClient.join({\n                    subscriberSdp: receivingCapabilitiesSdp,\n                    clientDetails,\n                    fastReconnect: performingFastReconnect,\n                    reconnectDetails\n                });\n                this.fastReconnectDeadlineSeconds = fastReconnectDeadlineSeconds;\n                if (callState) {\n                    this.state.updateFromSfuCallState(callState, sfuClient.sessionId, reconnectDetails);\n                }\n            }\n            if (!performingMigration) {\n                // in MIGRATION, `JOINED` state is set in `this.reconnectMigrate()`\n                this.state.setCallingState(CallingState.JOINED);\n            }\n            this.hasJoinedOnce = true;\n            // when performing fast reconnect, or when we reuse the same SFU client,\n            // (ws remained healthy), we just need to restore the ICE connection\n            if (performingFastReconnect) {\n                // the SFU automatically issues an ICE restart on the subscriber\n                // we don't have to do it ourselves\n                await this.restoreICE(sfuClient, {\n                    includeSubscriber: false\n                });\n            } else {\n                const connectionConfig = toRtcConfiguration(this.credentials.ice_servers);\n                this.initPublisherAndSubscriber({\n                    sfuClient,\n                    connectionConfig,\n                    clientDetails,\n                    statsOptions,\n                    closePreviousInstances: !performingMigration\n                });\n            }\n            if (performingRejoin) {\n                const strategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                await previousSfuClient?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${strategy}`);\n            } else if (!isWsHealthy) {\n                previousSfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing unhealthy WS after reconnect\");\n            }\n            // device settings should be applied only once, we don't have to\n            // re-apply them on later reconnections or server-side data fetches\n            if (!this.deviceSettingsAppliedOnce) {\n                await this.applyDeviceConfig(true);\n                this.deviceSettingsAppliedOnce = true;\n            }\n            // We shouldn't persist the `ring` and `notify` state after joining the call\n            // as it's a one-time event and clashes with the potential reconnection attempts.\n            // When reconnecting, if provided with `ring: true` or `notify: true`,\n            // we will spam the other participants with push notifications and `call.ring` events.\n            delete this.joinCallData?.ring;\n            delete this.joinCallData?.notify;\n            this.logger(\"info\", `Joined call ${this.cid}`);\n        };\n        /**\n         * Prepares Reconnect Details object.\n         * @internal\n         */ this.getReconnectDetails = (migratingFromSfuId, previousSessionId)=>{\n            const strategy = this.reconnectStrategy;\n            const performingRejoin = strategy === WebsocketReconnectStrategy.REJOIN;\n            const announcedTracks = this.publisher?.getAnnouncedTracks() || [];\n            return {\n                strategy,\n                announcedTracks,\n                subscriptions: this.dynascaleManager.trackSubscriptions,\n                reconnectAttempt: this.reconnectAttempts,\n                fromSfuId: migratingFromSfuId || \"\",\n                previousSessionId: performingRejoin ? previousSessionId || \"\" : \"\"\n            };\n        };\n        /**\n         * Performs an ICE restart on both the Publisher and Subscriber Peer Connections.\n         * Uses the provided SFU client to restore the ICE connection.\n         *\n         * This method can throw an error if the ICE restart fails.\n         * This error should be handled by the reconnect loop,\n         * and a new reconnection shall be attempted.\n         *\n         * @internal\n         */ this.restoreICE = async (nextSfuClient, opts = {})=>{\n            const { includeSubscriber = true, includePublisher = true } = opts;\n            if (this.subscriber) {\n                this.subscriber.setSfuClient(nextSfuClient);\n                if (includeSubscriber) {\n                    await this.subscriber.restartIce();\n                }\n            }\n            if (this.publisher) {\n                this.publisher.setSfuClient(nextSfuClient);\n                if (includePublisher) {\n                    await this.publisher.restartIce();\n                }\n            }\n        };\n        /**\n         * Initializes the Publisher and Subscriber Peer Connections.\n         * @internal\n         */ this.initPublisherAndSubscriber = (opts)=>{\n            const { sfuClient, connectionConfig, clientDetails, statsOptions, closePreviousInstances } = opts;\n            if (closePreviousInstances && this.subscriber) {\n                this.subscriber.close();\n            }\n            this.subscriber = new Subscriber({\n                sfuClient,\n                dispatcher: this.dispatcher,\n                state: this.state,\n                connectionConfig,\n                logTag: String(this.sfuClientTag),\n                onUnrecoverableError: ()=>{\n                    this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting after a subscriber error\", err);\n                    });\n                }\n            });\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === \"anonymous\";\n            if (!isAnonymous) {\n                if (closePreviousInstances && this.publisher) {\n                    this.publisher.close({\n                        stopTracks: false\n                    });\n                }\n                const audioSettings = this.state.settings?.audio;\n                const isDtxEnabled = !!audioSettings?.opus_dtx_enabled;\n                const isRedEnabled = !!audioSettings?.redundant_coding_enabled;\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    isDtxEnabled,\n                    isRedEnabled,\n                    logTag: String(this.sfuClientTag),\n                    onUnrecoverableError: ()=>{\n                        this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after a publisher error\", err);\n                        });\n                    }\n                });\n            }\n            this.statsReporter?.stop();\n            this.statsReporter = createStatsReporter({\n                subscriber: this.subscriber,\n                publisher: this.publisher,\n                state: this.state,\n                datacenter: sfuClient.edgeName\n            });\n            this.sfuStatsReporter?.stop();\n            if (statsOptions?.reporting_interval_ms > 0) {\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher\n                });\n                this.sfuStatsReporter.start();\n            }\n        };\n        /**\n         * Retrieves credentials for joining the call.\n         *\n         * @internal\n         *\n         * @param data the join call data.\n         */ this.doJoinRequest = async (data)=>{\n            const location = await this.streamClient.getLocationHint();\n            const request = {\n                ...data,\n                location\n            };\n            const joinResponse = await this.streamClient.post(`${this.streamClientBasePath}/join`, request);\n            this.state.updateFromCallResponse(joinResponse.call);\n            this.state.setMembers(joinResponse.members);\n            this.state.setOwnCapabilities(joinResponse.own_capabilities);\n            if (data?.ring && !this.ringing) {\n                this.ringingSubject.next(true);\n            }\n            if (this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            return joinResponse;\n        };\n        /**\n         * Handles the closing of the SFU signal connection.\n         *\n         * @internal\n         * @param sfuClient the SFU client instance that was closed.\n         */ this.handleSfuSignalClose = (sfuClient)=>{\n            this.logger(\"debug\", \"[Reconnect] SFU signal connection closed\");\n            // normal close, no need to reconnect\n            if (sfuClient.isLeaving) return;\n            this.reconnect(WebsocketReconnectStrategy.REJOIN).catch((err)=>{\n                this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n            });\n        };\n        /**\n         * Handles the reconnection flow.\n         *\n         * @internal\n         *\n         * @param strategy the reconnection strategy to use.\n         */ this.reconnect = async (strategy)=>{\n            return withoutConcurrency(this.reconnectConcurrencyTag, async ()=>{\n                this.logger(\"info\", `[Reconnect] Reconnecting with strategy ${WebsocketReconnectStrategy[strategy]}`);\n                this.reconnectStrategy = strategy;\n                do {\n                    // we don't increment reconnect attempts for the FAST strategy.\n                    if (this.reconnectStrategy !== WebsocketReconnectStrategy.FAST) {\n                        this.reconnectAttempts++;\n                    }\n                    const current = WebsocketReconnectStrategy[this.reconnectStrategy];\n                    try {\n                        // wait until the network is available\n                        await this.networkAvailableTask?.promise;\n                        switch(this.reconnectStrategy){\n                            case WebsocketReconnectStrategy.UNSPECIFIED:\n                            case WebsocketReconnectStrategy.DISCONNECT:\n                                this.logger(\"debug\", `[Reconnect] No-op strategy ${current}`);\n                                break;\n                            case WebsocketReconnectStrategy.FAST:\n                                await this.reconnectFast();\n                                break;\n                            case WebsocketReconnectStrategy.REJOIN:\n                                await this.reconnectRejoin();\n                                break;\n                            case WebsocketReconnectStrategy.MIGRATE:\n                                await this.reconnectMigrate();\n                                break;\n                            default:\n                                ensureExhausted(this.reconnectStrategy, \"Unknown reconnection strategy\");\n                                break;\n                        }\n                        break; // do-while loop, reconnection worked, exit the loop\n                    } catch (error) {\n                        if (error instanceof ErrorFromResponse && error.unrecoverable) {\n                            this.logger(\"warn\", `[Reconnect] Can't reconnect due to coordinator unrecoverable error`, error);\n                            this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                            return;\n                        }\n                        this.logger(\"warn\", `[Reconnect] ${current} (${this.reconnectAttempts}) failed. Attempting with REJOIN`, error);\n                        await sleep(500);\n                        this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n                    }\n                }while (this.state.callingState !== CallingState.JOINED && this.state.callingState !== CallingState.RECONNECTING_FAILED && this.state.callingState !== CallingState.LEFT);\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"fast\" strategy.\n         * @internal\n         */ this.reconnectFast = async ()=>{\n            this.reconnectStrategy = WebsocketReconnectStrategy.FAST;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            return this.join(this.joinCallData);\n        };\n        /**\n         * Initiates the reconnection flow with the \"rejoin\" strategy.\n         * @internal\n         */ this.reconnectRejoin = async ()=>{\n            this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.join(this.joinCallData);\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n        };\n        /**\n         * Initiates the reconnection flow with the \"migrate\" strategy.\n         * @internal\n         */ this.reconnectMigrate = async ()=>{\n            const currentSfuClient = this.sfuClient;\n            if (!currentSfuClient) {\n                throw new Error(\"Cannot migrate without an active SFU client\");\n            }\n            this.reconnectStrategy = WebsocketReconnectStrategy.MIGRATE;\n            this.state.setCallingState(CallingState.MIGRATING);\n            const currentSubscriber = this.subscriber;\n            const currentPublisher = this.publisher;\n            currentSubscriber?.detachEventHandlers();\n            currentPublisher?.detachEventHandlers();\n            const migrationTask = currentSfuClient.enterMigration();\n            try {\n                const currentSfu = currentSfuClient.edgeName;\n                await this.join({\n                    ...this.joinCallData,\n                    migrating_from: currentSfu\n                });\n            } finally{\n                // cleanup the migration_from field after the migration is complete or failed\n                // as we don't want to keep dirty data in the join call data\n                delete this.joinCallData?.migrating_from;\n            }\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            try {\n                // Wait for the migration to complete, then close the previous SFU client\n                // and the peer connection instances. In case of failure, the migration\n                // task would throw an error and REJOIN would be attempted.\n                await migrationTask;\n                // in MIGRATE, we can consider the call as joined only after\n                // `participantMigrationComplete` event is received, signaled by\n                // the `migrationTask`\n                this.state.setCallingState(CallingState.JOINED);\n            } finally{\n                currentSubscriber?.close();\n                currentPublisher?.close({\n                    stopTracks: false\n                });\n                // and close the previous SFU client, without specifying close code\n                currentSfuClient.close();\n            }\n        };\n        /**\n         * Registers the various event handlers for reconnection.\n         *\n         * @internal\n         */ this.registerReconnectHandlers = ()=>{\n            // handles the legacy \"goAway\" event\n            const unregisterGoAway = this.on(\"goAway\", ()=>{\n                this.reconnect(WebsocketReconnectStrategy.MIGRATE).catch((err)=>{\n                    this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                });\n            });\n            // handles the \"error\" event, through which the SFU can request a reconnect\n            const unregisterOnError = this.on(\"error\", (e)=>{\n                const { reconnectStrategy: strategy } = e;\n                if (strategy === WebsocketReconnectStrategy.UNSPECIFIED) return;\n                if (strategy === WebsocketReconnectStrategy.DISCONNECT) {\n                    this.leave({\n                        reason: \"SFU instructed to disconnect\"\n                    }).catch((err)=>{\n                        this.logger(\"warn\", `Can't leave call after disconnect request`, err);\n                    });\n                } else {\n                    this.reconnect(strategy).catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                    });\n                }\n            });\n            const unregisterNetworkChanged = this.streamClient.on(\"network.changed\", (e)=>{\n                if (!e.online) {\n                    this.logger(\"debug\", \"[Reconnect] Going offline\");\n                    if (!this.hasJoinedOnce) return;\n                    this.lastOfflineTimestamp = Date.now();\n                    // create a new task that would resolve when the network is available\n                    const networkAvailableTask = promiseWithResolvers();\n                    networkAvailableTask.promise.then(()=>{\n                        let strategy = WebsocketReconnectStrategy.FAST;\n                        if (this.lastOfflineTimestamp) {\n                            const offline = (Date.now() - this.lastOfflineTimestamp) / 1000;\n                            if (offline > this.fastReconnectDeadlineSeconds) {\n                                // We shouldn't attempt FAST if we have exceeded the deadline.\n                                // The SFU would have already wiped out the session.\n                                strategy = WebsocketReconnectStrategy.REJOIN;\n                            }\n                        }\n                        this.reconnect(strategy).catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after going online\", err);\n                        });\n                    });\n                    this.networkAvailableTask = networkAvailableTask;\n                    this.sfuStatsReporter?.stop();\n                    this.state.setCallingState(CallingState.OFFLINE);\n                } else {\n                    this.logger(\"debug\", \"[Reconnect] Going online\");\n                    this.sfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing WS to reconnect after going online\");\n                    // we went online, release the previous waiters and reset the state\n                    this.networkAvailableTask?.resolve();\n                    this.networkAvailableTask = undefined;\n                    this.sfuStatsReporter?.start();\n                }\n            });\n            this.leaveCallHooks.add(unregisterGoAway);\n            this.leaveCallHooks.add(unregisterOnError);\n            this.leaveCallHooks.add(unregisterNetworkChanged);\n        };\n        /**\n         * Restores the published tracks after a reconnection.\n         * @internal\n         */ this.restorePublishedTracks = async ()=>{\n            // the tracks need to be restored in their original order of publishing\n            // otherwise, we might get `m-lines order mismatch` errors\n            for (const trackType of this.trackPublishOrder){\n                switch(trackType){\n                    case TrackType.AUDIO:\n                        const audioStream = this.microphone.state.mediaStream;\n                        if (audioStream) {\n                            await this.publishAudioStream(audioStream);\n                        }\n                        break;\n                    case TrackType.VIDEO:\n                        const videoStream = this.camera.state.mediaStream;\n                        if (videoStream) {\n                            await this.publishVideoStream(videoStream, this.camera.publishOptions);\n                        }\n                        break;\n                    case TrackType.SCREEN_SHARE:\n                        const screenShareStream = this.screenShare.state.mediaStream;\n                        if (screenShareStream) {\n                            await this.publishScreenShareStream(screenShareStream, {\n                                screenShareSettings: this.screenShare.getSettings()\n                            });\n                        }\n                        break;\n                    // screen share audio can't exist without a screen share, so we handle it there\n                    case TrackType.SCREEN_SHARE_AUDIO:\n                    case TrackType.UNSPECIFIED:\n                        break;\n                    default:\n                        ensureExhausted(trackType, \"Unknown track type\");\n                        break;\n                }\n            }\n        };\n        /**\n         * Restores the subscribed tracks after a reconnection.\n         * @internal\n         */ this.restoreSubscribedTracks = ()=>{\n            const { remoteParticipants } = this.state;\n            if (remoteParticipants.length <= 0) return;\n            this.dynascaleManager.applyTrackSubscriptions(undefined);\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the previously published stream.\n         * The previous video stream will be stopped.\n         *\n         * @param videoStream the video stream to publish.\n         * @param opts the options to use when publishing the stream.\n         */ this.publishVideoStream = async (videoStream, opts = {})=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SEND_VIDEO)) {\n                throw new Error(\"No permission to publish video\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [videoTrack] = videoStream.getVideoTracks();\n            if (!videoTrack) throw new Error(\"There is no video track in the stream\");\n            if (!this.trackPublishOrder.includes(TrackType.VIDEO)) {\n                this.trackPublishOrder.push(TrackType.VIDEO);\n            }\n            await this.publisher.publishStream(videoStream, videoTrack, TrackType.VIDEO, opts);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * The stream will be stopped if the user changes an input device, or if the user leaves the call.\n         *\n         * Consecutive calls to this method will replace the audio stream that is currently being published.\n         * The previous audio stream will be stopped.\n         *\n         * @param audioStream the audio stream to publish.\n         */ this.publishAudioStream = async (audioStream)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO)) {\n                throw new Error(\"No permission to publish audio\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [audioTrack] = audioStream.getAudioTracks();\n            if (!audioTrack) throw new Error(\"There is no audio track in the stream\");\n            if (!this.trackPublishOrder.includes(TrackType.AUDIO)) {\n                this.trackPublishOrder.push(TrackType.AUDIO);\n            }\n            await this.publisher.publishStream(audioStream, audioTrack, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         *\n         * Consecutive calls to this method will replace the previous screen-share stream.\n         * The previous screen-share stream will be stopped.\n         *\n         * @param screenShareStream the screen-share stream to publish.\n         * @param opts the options to use when publishing the stream.\n         */ this.publishScreenShareStream = async (screenShareStream, opts = {})=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.hasPermission(OwnCapability.SCREENSHARE)) {\n                throw new Error(\"No permission to publish screen share\");\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [screenShareTrack] = screenShareStream.getVideoTracks();\n            if (!screenShareTrack) {\n                throw new Error(\"There is no screen share track in the stream\");\n            }\n            if (!this.trackPublishOrder.includes(TrackType.SCREEN_SHARE)) {\n                this.trackPublishOrder.push(TrackType.SCREEN_SHARE);\n            }\n            await this.publisher.publishStream(screenShareStream, screenShareTrack, TrackType.SCREEN_SHARE, opts);\n            const [screenShareAudioTrack] = screenShareStream.getAudioTracks();\n            if (screenShareAudioTrack) {\n                if (!this.trackPublishOrder.includes(TrackType.SCREEN_SHARE_AUDIO)) {\n                    this.trackPublishOrder.push(TrackType.SCREEN_SHARE_AUDIO);\n                }\n                await this.publisher.publishStream(screenShareStream, screenShareAudioTrack, TrackType.SCREEN_SHARE_AUDIO, opts);\n            }\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         * Underlying track will be stopped and removed from the publisher.\n         *\n         * @param trackType the track type to stop publishing.\n         * @param stopTrack if `true` the track will be stopped, else it will be just disabled\n         */ this.stopPublish = async (trackType, stopTrack = true)=>{\n            this.logger(\"info\", `stopPublish ${TrackType[trackType]}, stop tracks: ${stopTrack}`);\n            await this.publisher?.unpublishStream(trackType, stopTrack);\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify start of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify stop of noise cancellation\", err);\n            });\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Updates the list of video layers to publish.\n         *\n         * @internal\n         * @param enabledLayers the list of layers to enable.\n         */ this.updatePublishQuality = async (enabledLayers)=>{\n            return this.publisher?.updateVideoPublishQuality(enabledLayers);\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call. The call settings object contains infomration about which permissions can be requested during a call (for example a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(\", \")}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, {});\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post(\"/call/members\", {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.leaveCallHooks.add(createSubscription(this.state.settings$, (settings)=>{\n                if (!settings) return;\n                // ignore if the call is not ringing\n                if (this.state.callingState !== CallingState.RINGING) return;\n                const timeoutInMs = settings.ring.auto_cancel_timeout_ms;\n                // 0 means no auto-drop\n                if (timeoutInMs <= 0) return;\n                clearTimeout(this.dropTimeout);\n                this.dropTimeout = setTimeout(()=>{\n                    this.leave({\n                        reason: \"ring: timeout\"\n                    }).catch((err)=>{\n                        this.logger(\"error\", \"Failed to drop call\", err);\n                    });\n                }, timeoutInMs);\n            }));\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         * @returns\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            if (rating < 1 || rating > 5) {\n                throw new Error(\"Rating must be between 1 and 5\");\n            }\n            const callSessionId = this.state.session?.id;\n            if (!callSessionId) {\n                throw new Error(\"Feedback can be submitted only in the context of a call session\");\n            }\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(getClientDetails());\n            // user sessionId is not available once the call has been left\n            // until we relax the backend validation, we'll send N/A\n            const userSessionId = this.sfuClient?.sessionId ?? \"N/A\";\n            const endpoint = `${this.streamClientBasePath}/feedback/${callSessionId}`;\n            return this.streamClient.post(endpoint, {\n                rating,\n                reason,\n                user_session_id: userSessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    \"x-stream-platform-data\": platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async (status)=>{\n            await this.initCamera({\n                setStatus: status\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Camera init failed\", err);\n            });\n            await this.initMic({\n                setStatus: status\n            }).catch((err)=>{\n                this.logger(\"warn\", \"Mic init failed\", err);\n            });\n        };\n        this.initCamera = async (options)=>{\n            // Wait for any in progress camera operation\n            await this.camera.statusChangeSettled();\n            if (this.state.localParticipant?.videoStream || !this.permissionsContext.hasPermission(\"send-video\")) {\n                return;\n            }\n            // Set camera direction if it's not yet set\n            if (!this.camera.state.direction && !this.camera.state.selectedDevice) {\n                let defaultDirection = \"front\";\n                const backendSetting = this.state.settings?.video.camera_facing;\n                if (backendSetting) {\n                    defaultDirection = backendSetting === \"front\" ? \"front\" : \"back\";\n                }\n                this.camera.state.setDirection(defaultDirection);\n            }\n            // Set target resolution\n            const targetResolution = this.state.settings?.video.target_resolution;\n            if (targetResolution) {\n                await this.camera.selectTargetResolution(targetResolution);\n            }\n            if (options.setStatus) {\n                // Publish already that was set before we joined\n                if (this.camera.enabled && this.camera.state.mediaStream && !this.publisher?.isPublishing(TrackType.VIDEO)) {\n                    await this.publishVideoStream(this.camera.state.mediaStream, this.camera.publishOptions);\n                }\n                // Start camera if backend config specifies, and there is no local setting\n                if (this.camera.state.status === undefined && this.state.settings?.video.camera_default_on) {\n                    await this.camera.enable();\n                }\n            }\n        };\n        this.initMic = async (options)=>{\n            // Wait for any in progress mic operation\n            await this.microphone.statusChangeSettled();\n            if (this.state.localParticipant?.audioStream || !this.permissionsContext.hasPermission(\"send-audio\")) {\n                return;\n            }\n            if (options.setStatus) {\n                // Publish media stream that was set before we joined\n                if (this.microphone.enabled && this.microphone.state.mediaStream && !this.publisher?.isPublishing(TrackType.AUDIO)) {\n                    await this.publishAudioStream(this.microphone.state.mediaStream);\n                }\n                // Start mic if backend config specifies, and there is no local setting\n                if (this.microphone.state.status === undefined && this.state.settings?.audio.mic_default_on) {\n                    await this.microphone.enable();\n                }\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = \"audioTrack\")=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || \"https://getstream.io/random_svg/?name=x&id=x\";\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener(\"error\", handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set(\"w\", String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set(\"h\", String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener(\"error\", handleError);\n            };\n        };\n        /**\n         * Specify preference for incoming video resolution. The preference will\n         * be matched as close as possible, but actual resolution will depend\n         * on the video source quality and client network conditions. Will enable\n         * incoming video, if previously disabled.\n         *\n         * @param resolution preferred resolution, or `undefined` to clear preference\n         * @param sessionIds optionally specify session ids of the participants this\n         * preference has effect on. Affects all participants by default.\n         */ this.setPreferredIncomingVideoResolution = (resolution, sessionIds)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(resolution ? {\n                enabled: true,\n                dimension: resolution\n            } : undefined, sessionIds);\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Enables or disables incoming video from all remote call participants,\n         * and removes any preference for preferred resolution.\n         */ this.setIncomingVideoEnabled = (enabled)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(enabled ? undefined : {\n                enabled: false\n            });\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            \"Call\"\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n        this.dynascaleManager = new DynascaleManager(this.state, this.speaker);\n    }\n    async setup() {\n        await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n            if (this.initialized) return;\n            this.leaveCallHooks.add(this.on(\"all\", (event)=>{\n                // update state with the latest event data\n                this.state.updateFromEvent(event);\n            }));\n            this.leaveCallHooks.add(registerEventHandlers(this, this.dispatcher));\n            this.registerEffects();\n            this.registerReconnectHandlers();\n            if (this.state.callingState === CallingState.LEFT) {\n                this.state.setCallingState(CallingState.IDLE);\n            }\n            this.initialized = true;\n        });\n    }\n    registerEffects() {\n        this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n        createSubscription(this.state.settings$, (settings)=>{\n            if (!settings) return;\n            this.permissionsContext.setCallSettings(settings);\n        }));\n        this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n        createSafeAsyncSubscription(this.state.ownCapabilities$, this.handleOwnCapabilitiesUpdated));\n        this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n        createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n            if (!blockedUserIds || blockedUserIds.length === 0) return;\n            const currentUserId = this.currentUserId;\n            if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                this.logger(\"info\", \"Leaving call because of being blocked\");\n                await this.leave({\n                    reason: \"user blocked\"\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Error leaving call after being blocked\", err);\n                });\n            }\n        }));\n        this.leaveCallHooks.add(// watch for auto drop cancellation\n        createSubscription(this.state.callingState$, (callingState)=>{\n            if (!this.ringing) return;\n            if (callingState === CallingState.JOINED || callingState === CallingState.JOINING || callingState === CallingState.LEFT) {\n                clearTimeout(this.dropTimeout);\n                this.dropTimeout = undefined;\n            }\n        }));\n        this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n        createSubscription(this.ringingSubject, (isRinging)=>{\n            if (!isRinging) return;\n            const callSession = this.state.session;\n            const receiver_id = this.clientStore.connectedUser?.id;\n            const ended_at = callSession?.ended_at;\n            const created_by_id = this.state.createdBy?.id;\n            const rejected_by = callSession?.rejected_by;\n            const accepted_by = callSession?.accepted_by;\n            let leaveCallIdle = false;\n            if (ended_at) {\n                // call was ended before it was accepted or rejected so we should leave it to idle\n                leaveCallIdle = true;\n            } else if (created_by_id && rejected_by) {\n                if (rejected_by[created_by_id]) {\n                    // call was cancelled by the caller\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && rejected_by) {\n                if (rejected_by[receiver_id]) {\n                    // call was rejected by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            } else if (receiver_id && accepted_by) {\n                if (accepted_by[receiver_id]) {\n                    // call was accepted by the receiver in some other device\n                    leaveCallIdle = true;\n                }\n            }\n            if (leaveCallIdle) {\n                if (this.state.callingState !== CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n            } else {\n                if (this.state.callingState === CallingState.IDLE) {\n                    this.state.setCallingState(CallingState.RINGING);\n                }\n                this.scheduleAutoDrop();\n                this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n            }\n        }));\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n}\nclass InsightMetrics {\n    constructor(){\n        this.connectionStartTimestamp = null;\n        this.wsTotalFailures = 0;\n        this.wsConsecutiveFailures = 0;\n        this.instanceClientId = randomId();\n    }\n}\n/**\n * postInsights is not supposed to be used by end users directly within chat application, and thus is kept isolated\n * from all the client/connection code/logic.\n *\n * @param insightType\n * @param insights\n */ const postInsights = async (insightType, insights)=>{\n    const maxAttempts = 3;\n    for(let i = 0; i < maxAttempts; i++){\n        try {\n            await axios__WEBPACK_IMPORTED_MODULE_32__[\"default\"].post(`https://chat-insights.getstream.io/insights/${insightType}`, insights);\n        } catch (e) {\n            await sleep((i + 1) * 3000);\n            continue;\n        }\n        break;\n    }\n};\nfunction buildWsFatalInsight(connection, event) {\n    return {\n        ...event,\n        ...buildWsBaseInsight(connection)\n    };\n}\nfunction buildWsBaseInsight(connection) {\n    const { client } = connection;\n    return {\n        ready_state: connection.ws?.readyState,\n        url: connection._buildUrl(),\n        api_key: client.key,\n        start_ts: client.insightMetrics.connectionStartTimestamp,\n        end_ts: new Date().getTime(),\n        auth_type: client.getAuthType(),\n        token: client.tokenManager.token,\n        user_id: client.userID,\n        user_details: client._user,\n        // device: client.options.device,\n        device: \"browser\",\n        client_id: connection.connectionID,\n        ws_details: connection.ws,\n        ws_consecutive_failures: client.insightMetrics.wsConsecutiveFailures,\n        ws_total_failures: client.insightMetrics.wsTotalFailures,\n        request_id: connection.requestID,\n        online: typeof navigator !== \"undefined\" ? navigator?.onLine : null,\n        user_agent: typeof navigator !== \"undefined\" ? navigator?.userAgent : null,\n        instance_client_id: client.insightMetrics.instanceClientId\n    };\n}\nfunction buildWsSuccessAfterFailureInsight(connection) {\n    return buildWsBaseInsight(connection);\n}\n// Type guards to check WebSocket error type\nconst isCloseEvent = (res)=>res.code !== undefined;\nconst isErrorEvent = (res)=>res.error !== undefined;\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = \"info\")=>{\n            this.client.logger(level, \"connection:\" + msg, {\n                ...extra\n            });\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            // const qs = encodeURIComponent(this.client._buildWSPayload(this.requestID));\n            // params.set('json', qs);\n            params.set(\"api_key\", this.client.key);\n            params.set(\"stream-auth-type\", this.client.getAuthType());\n            params.set(\"X-Stream-Client\", this.client.getUserAgent());\n            // params.append('authorization', this.client._getToken()!);\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                this._log(\"onlineStatusChanged() - Status changing to offline\");\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger(\"error\", `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger(\"error\", `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = {\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            };\n            this.authenticationSent = true;\n            this.ws?.send(JSON.stringify(authMessage));\n            this._log(\"onopen() - onopen callback\", {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onmessage() - onmessage callback\", {\n                event,\n                wsID\n            });\n            const data = typeof event.data === \"string\" ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isResolved && data && data.type === \"connection.error\") {\n                this.isResolved = true;\n                if (data.error) {\n                    // @ts-expect-error - the types of _errorFromWSEvent are incorrect\n                    this.rejectPromise?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === \"health.check\" || data.type === \"connection.ok\")) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === \"connection.ok\") {\n                this.resolvePromise?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === \"connection.error\" && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                data.received_at = new Date();\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onclose() - onclose callback - \" + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                error.reason = event.reason;\n                error.code = event.code;\n                error.wasClean = event.wasClean;\n                error.target = event.target;\n                this.rejectPromise?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectPromise?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this.rejectPromise?.(this._errorFromWSEvent(event));\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         *\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         *\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                statusCode = \"unknown\";\n                message = event.reason;\n            }\n            if (isErrorEvent(event)) {\n                code = event.error.code;\n                statusCode = event.error.StatusCode;\n                message = event.error.message;\n            }\n            // Keeping this `warn` level log, to avoid cluttering of error logs from ws failures.\n            this._log(`_errorFromWSEvent() - WS failed with code ${code}`, {\n                event\n            }, \"warn\");\n            const error = new Error(`WS failed with code ${code} and reason - ${message}`);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpen = new Promise((resolve, reject)=>{\n                this.resolvePromise = resolve;\n                this.rejectPromise = reject;\n            });\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            if (this.healthCheckTimeoutRef) {\n                clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: \"health.check\",\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch (e) {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            if (this.connectionCheckTimeoutRef) {\n                clearTimeout(this.connectionCheckTimeoutRef);\n            }\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** True after the auth payload is sent to the server */ this.authenticationSent = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-ignore\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-ignore\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-ignore\n                        code: error.code,\n                        // @ts-ignore\n                        StatusCode: error.StatusCode,\n                        // @ts-ignore\n                        message: error.message,\n                        // @ts-ignore\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: \"\",\n                    StatusCode: \"\",\n                    message: \"initial WS connection could not be established\",\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        // remove ws handlers...\n        if (this.ws && this.ws.removeAllListeners) {\n            this.ws.removeAllListeners();\n        }\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? \"with\" : \"without\"} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting || this.isDisconnected && this.client.options.enableWSFallback) return; // simply ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        this.requestID = randomId();\n        this.client.insightMetrics.connectionStartTimestamp = new Date().getTime();\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch (e) {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            let mustSetupConnectionIdPromise = true;\n            if (this.client.connectionIdPromise) {\n                if (await isPromisePending(this.client.connectionIdPromise)) {\n                    mustSetupConnectionIdPromise = false;\n                }\n            }\n            if (mustSetupConnectionIdPromise) {\n                this.client._setupConnectionIdPromise();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`, {\n                wsURL,\n                requestID: this.requestID\n            });\n            this.ws = new (isomorphic_ws__WEBPACK_IMPORTED_MODULE_5___default())(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                if (this.client.insightMetrics.wsConsecutiveFailures > 0 && this.client.options.enableInsights) {\n                    postInsights(\"ws_success_after_failure\", buildWsSuccessAfterFailureInsight(this));\n                    this.client.insightMetrics.wsConsecutiveFailures = 0;\n                }\n                return response;\n            }\n        } catch (err) {\n            await this.client._setupConnectionIdPromise();\n            this.isConnecting = false;\n            // @ts-ignore\n            this._log(`_connect() - Error - `, err);\n            if (this.client.options.enableInsights) {\n                this.client.insightMetrics.wsConsecutiveFailures++;\n                this.client.insightMetrics.wsTotalFailures++;\n                const insights = buildWsFatalInsight(this, convertErrorToJson(err));\n                postInsights?.(\"ws_fatal\", insights);\n            }\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log(\"_reconnect() - Initiating the reconnect\");\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n            return;\n        }\n        if (this.isDisconnected && this.client.options.enableWSFallback) {\n            this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n            return;\n        }\n        this._log(\"_reconnect() - Destroying current WS connection\");\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log(\"_reconnect() - Waiting for recoverCallBack\");\n            // await this.client.recoverState();\n            this._log(\"_reconnect() - Finished recoverCallBack\");\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                this._reconnect();\n            }\n        }\n        this._log(\"_reconnect() - == END ==\");\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.removeAllListeners();\n            this?.ws?.close();\n        } catch (e) {\n        // we don't care\n        }\n    }\n}\nfunction isString(arrayOrString) {\n    return typeof arrayOrString === \"string\";\n}\nfunction isMapStringCallback(arrayOrString, callback) {\n    return !!callback && isString(arrayOrString);\n}\nfunction map(arrayOrString, callback) {\n    const res = [];\n    if (isString(arrayOrString) && isMapStringCallback(arrayOrString, callback)) {\n        for(let k = 0, len = arrayOrString.length; k < len; k++){\n            if (arrayOrString.charAt(k)) {\n                const kValue = arrayOrString.charAt(k);\n                const mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    } else if (!isString(arrayOrString) && !isMapStringCallback(arrayOrString, callback)) {\n        for(let k = 0, len = arrayOrString.length; k < len; k++){\n            if (k in arrayOrString) {\n                const kValue = arrayOrString[k];\n                const mappedValue = callback(kValue, k, arrayOrString);\n                res[k] = mappedValue;\n            }\n        }\n    }\n    return res;\n}\nconst encodeBase64 = (data)=>(0,base64_js__WEBPACK_IMPORTED_MODULE_6__.fromByteArray)(new Uint8Array(map(data, (char)=>char.charCodeAt(0))));\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = \"\";\n    const A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            ((a = b >>> (l -= 8) & 0xff) || x < L - 2) && (r += w(a));\n        }\n    }\n    return r;\n};\n/**\n *\n * @param {string} userId the id of the user\n * @return {string}\n */ function DevToken(userId) {\n    return [\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9\",\n        encodeBase64(JSON.stringify({\n            user_id: userId\n        })),\n        \"devtoken\"\n    ].join(\".\");\n}\nfunction UserFromToken(token) {\n    const fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    /**\n     * Constructor\n     *\n     * @param {Secret} secret\n     */ constructor(secret){\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.validateToken(tokenOrProvider, user, isAnonymous);\n            this.user = user;\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = \"provider\";\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                this.token = tokenOrProvider;\n                this.type = \"static\";\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider, user, isAnonymous)=>{\n            // allow empty token for anon user\n            if (user && isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error(\"UserWithId token can not be empty\");\n            }\n            if (tokenOrProvider && typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n                throw new Error(\"user token should either be a string or a function\");\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                // Allow empty token for anonymous users\n                if (isAnonymous && tokenOrProvider === \"\") return;\n                const tokenUserId = UserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || !isAnonymous && tokenUserId !== user.id)) {\n                    throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            // eslint-disable-next-line no-async-promise-executor\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === \"static\") {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== \"string\") {\n                    try {\n                        this.token = await this.tokenProvider();\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === \"static\";\n        this.loadTokenPromise = null;\n        if (secret) {\n            this.secret = secret;\n        }\n        this.type = \"static\";\n    }\n}\nconst APIErrorCodes = {\n    \"-1\": {\n        name: \"InternalSystemError\",\n        retryable: true\n    },\n    \"2\": {\n        name: \"AccessKeyError\",\n        retryable: false\n    },\n    \"3\": {\n        name: \"AuthenticationFailedError\",\n        retryable: true\n    },\n    \"4\": {\n        name: \"InputError\",\n        retryable: false\n    },\n    \"6\": {\n        name: \"DuplicateUsernameError\",\n        retryable: false\n    },\n    \"9\": {\n        name: \"RateLimitError\",\n        retryable: true\n    },\n    \"16\": {\n        name: \"DoesNotExistError\",\n        retryable: false\n    },\n    \"17\": {\n        name: \"NotAllowedError\",\n        retryable: false\n    },\n    \"18\": {\n        name: \"EventNotSupportedError\",\n        retryable: false\n    },\n    \"19\": {\n        name: \"ChannelFeatureNotSupportedError\",\n        retryable: false\n    },\n    \"20\": {\n        name: \"MessageTooLongError\",\n        retryable: false\n    },\n    \"21\": {\n        name: \"MultipleNestingLevelError\",\n        retryable: false\n    },\n    \"22\": {\n        name: \"PayloadTooBigError\",\n        retryable: false\n    },\n    \"23\": {\n        name: \"RequestTimeoutError\",\n        retryable: true\n    },\n    \"24\": {\n        name: \"MaxHeaderSizeExceededError\",\n        retryable: false\n    },\n    \"40\": {\n        name: \"AuthErrorTokenExpired\",\n        retryable: false\n    },\n    \"41\": {\n        name: \"AuthErrorTokenNotValidYet\",\n        retryable: false\n    },\n    \"42\": {\n        name: \"AuthErrorTokenUsedBeforeIssuedAt\",\n        retryable: false\n    },\n    \"43\": {\n        name: \"AuthErrorTokenSignatureInvalid\",\n        retryable: false\n    },\n    \"44\": {\n        name: \"CustomCommandEndpointMissingError\",\n        retryable: false\n    },\n    \"45\": {\n        name: \"CustomCommandEndpointCallError\",\n        retryable: true\n    },\n    \"46\": {\n        name: \"ConnectionIDNotFoundError\",\n        retryable: false\n    },\n    \"60\": {\n        name: \"CoolDownError\",\n        retryable: true\n    },\n    \"69\": {\n        name: \"ErrWrongRegion\",\n        retryable: false\n    },\n    \"70\": {\n        name: \"ErrQueryChannelPermissions\",\n        retryable: false\n    },\n    \"71\": {\n        name: \"ErrTooManyConnections\",\n        retryable: true\n    },\n    \"99\": {\n        name: \"AppSuspendedError\",\n        retryable: false\n    }\n};\nfunction isAPIError(error) {\n    return error.code !== undefined;\n}\nfunction isErrorRetryable(error) {\n    if (!error.code) return false;\n    const err = APIErrorCodes[`${error.code}`];\n    if (!err) return false;\n    return err.retryable;\n}\nfunction isConnectionIDError(error) {\n    return error.code === 46; // ConnectionIDNotFoundError\n}\nfunction isWSFailure(err) {\n    if (typeof err.isWSFailure === \"boolean\") {\n        return err.isWSFailure;\n    }\n    try {\n        return JSON.parse(err.message).isWSFailure;\n    } catch (_) {\n        return false;\n    }\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\nvar ConnectionState;\n(function(ConnectionState) {\n    ConnectionState[\"Closed\"] = \"CLOSED\";\n    ConnectionState[\"Connected\"] = \"CONNECTED\";\n    ConnectionState[\"Connecting\"] = \"CONNECTING\";\n    ConnectionState[\"Disconnected\"] = \"DISCONNECTED\";\n    ConnectionState[\"Init\"] = \"INIT\";\n})(ConnectionState || (ConnectionState = {}));\nclass WSConnectionFallback {\n    constructor(client){\n        /** @private */ this._onlineStatusChanged = (event)=>{\n            this._log(`_onlineStatusChanged() - ${event.type}`);\n            if (event.type === \"offline\") {\n                this._setState(ConnectionState.Closed);\n                this.cancelToken?.cancel(\"disconnect() is called\");\n                this.cancelToken = undefined;\n                return;\n            }\n            if (event.type === \"online\" && this.state === ConnectionState.Closed) {\n                this.connect(true);\n            }\n        };\n        /** @private */ this._req = async (params, config, retry)=>{\n            if (!this.cancelToken && !params.close) {\n                this.cancelToken = axios__WEBPACK_IMPORTED_MODULE_32__[\"default\"].CancelToken.source();\n            }\n            try {\n                const res = await this.client.doAxiosRequest(\"get\", this.client.baseURL.replace(\":3030\", \":8900\") + \"/longpoll\", undefined, {\n                    config: {\n                        ...config,\n                        cancelToken: this.cancelToken?.token\n                    },\n                    params,\n                    publicEndpoint: true\n                });\n                this.consecutiveFailures = 0; // always reset in case of no error\n                return res;\n            } catch (err) {\n                this.consecutiveFailures += 1;\n                // @ts-ignore\n                if (retry && isErrorRetryable(err)) {\n                    this._log(`_req() - Retryable error, retrying request`);\n                    await sleep(retryInterval(this.consecutiveFailures));\n                    return this._req(params, config, retry);\n                }\n                throw err;\n            }\n        };\n        /** @private */ this._poll = async ()=>{\n            while(this.state === ConnectionState.Connected){\n                try {\n                    const data = await this._req({}, {\n                        timeout: 30000\n                    }, true); // 30s => API responds in 20s if there is no event\n                    if (data.events?.length) {\n                        for(let i = 0; i < data.events.length; i++){\n                            this.client.dispatchEvent(data.events[i]);\n                        }\n                    }\n                } catch (err) {\n                    if (axios__WEBPACK_IMPORTED_MODULE_32__[\"default\"].isCancel(err)) {\n                        this._log(`_poll() - axios canceled request`);\n                        return;\n                    }\n                    /** client.doAxiosRequest will take care of TOKEN_EXPIRED error */ // @ts-ignore\n                    if (isConnectionIDError(err)) {\n                        this._log(`_poll() - ConnectionID error, connecting without ID...`);\n                        this._setState(ConnectionState.Disconnected);\n                        this.connect(true);\n                        return;\n                    }\n                    // @ts-ignore\n                    if (isAPIError(err) && !isErrorRetryable(err)) {\n                        this._setState(ConnectionState.Closed);\n                        return;\n                    }\n                    await sleep(retryInterval(this.consecutiveFailures));\n                }\n            }\n        };\n        /**\n         * connect try to open a longpoll request\n         * @param reconnect should be false for first call and true for subsequent calls to keep the connection alive and call recoverState\n         */ this.connect = async (reconnect = false)=>{\n            if (this.state === ConnectionState.Connecting) {\n                this._log(\"connect() - connecting already in progress\", {\n                    reconnect\n                }, \"warn\");\n                return;\n            }\n            if (this.state === ConnectionState.Connected) {\n                this._log(\"connect() - already connected and polling\", {\n                    reconnect\n                }, \"warn\");\n                return;\n            }\n            this._setState(ConnectionState.Connecting);\n            this.connectionID = undefined; // connect should be sent with empty connection_id so API creates one\n            try {\n                const { event } = await this._req({\n                    json: this.client._buildWSPayload()\n                }, {\n                    timeout: 8000\n                }, reconnect);\n                this._setState(ConnectionState.Connected);\n                this.connectionID = event.connection_id;\n                this.client.resolveConnectionId?.();\n                // @ts-expect-error\n                this.client.dispatchEvent(event);\n                this._poll();\n                return event;\n            } catch (err) {\n                this._setState(ConnectionState.Closed);\n                this.client.rejectConnectionId?.();\n                throw err;\n            }\n        };\n        /**\n         * isHealthy checks if there is a connectionID and connection is in Connected state\n         */ this.isHealthy = ()=>{\n            return !!this.connectionID && this.state === ConnectionState.Connected;\n        };\n        this.disconnect = async (timeout = 2000)=>{\n            removeConnectionEventListeners(this._onlineStatusChanged);\n            this._setState(ConnectionState.Disconnected);\n            this.cancelToken?.cancel(\"disconnect() is called\");\n            this.cancelToken = undefined;\n            const connection_id = this.connectionID;\n            this.connectionID = undefined;\n            try {\n                await this._req({\n                    close: true,\n                    connection_id\n                }, {\n                    timeout\n                }, false);\n                this._log(`disconnect() - Closed connectionID`);\n            } catch (err) {\n                this._log(`disconnect() - Failed`, {\n                    err\n                }, \"error\");\n            }\n        };\n        this.client = client;\n        this.state = ConnectionState.Init;\n        this.consecutiveFailures = 0;\n        addConnectionEventListeners(this._onlineStatusChanged);\n    }\n    _log(msg, extra = {}, level = \"info\") {\n        this.client.logger(level, \"WSConnectionFallback:\" + msg, {\n            ...extra\n        });\n    }\n    _setState(state) {\n        this._log(`_setState() - ${state}`);\n        // transition from connecting => connected\n        if (this.state === ConnectionState.Connecting && state === ConnectionState.Connected) {\n            this.client.dispatchEvent({\n                type: \"connection.changed\",\n                online: true\n            });\n        }\n        if (state === ConnectionState.Closed || state === ConnectionState.Disconnected) {\n            this.client.dispatchEvent({\n                type: \"connection.changed\",\n                online: false\n            });\n        }\n        this.state = state;\n    }\n}\nconst getLocationHint = async (hintUrl = `https://hint.stream-io-video.com/`, timeout = 2000, maxAttempts = 3)=>{\n    const logger = getLogger([\n        \"location-hint\"\n    ]);\n    let attempt = 0;\n    let locationHint = \"ERR\";\n    do {\n        const abortController = new AbortController();\n        const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n        try {\n            const response = await fetch(hintUrl, {\n                method: \"HEAD\",\n                signal: abortController.signal\n            });\n            const awsPop = response.headers.get(\"x-amz-cf-pop\") || \"ERR\";\n            logger(\"debug\", `Location header: ${awsPop}`);\n            locationHint = awsPop.substring(0, 3); // AMS1-P2 -> AMS\n        } catch (e) {\n            logger(\"warn\", `Failed to get location hint from ${hintUrl}`, e);\n            locationHint = \"ERR\";\n        } finally{\n            clearTimeout(timeoutId);\n        }\n    }while (locationHint === \"ERR\" && ++attempt < maxAttempts);\n    return locationHint;\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.devToken = (userID)=>{\n            return DevToken(userID);\n        };\n        this.getAuthType = ()=>{\n            return this.anonymous ? \"anonymous\" : \"jwt\";\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === \"ERR\") {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID || this.wsFallback?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} userTokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, userTokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.setUserPromise) {\n                this.logger(\"warn\", \"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                return this.setUserPromise;\n            }\n            if (this.userID) {\n                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n            }\n            if ((this._isUsingServerAuth() || this.node) && !this.options.allowServerSideConnect) {\n                this.logger(\"warn\", 'Please do not use connectUser server side. connectUser impacts MAU and concurrent connection usage and thus your bill. If you have a valid use-case, add \"allowServerSideConnect: true\" to the client options to disable this warning.');\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            const setTokenPromise = this._setToken(user, userTokenOrProvider, this.anonymous);\n            this._setUser(user);\n            const wsPromise = this.openConnection();\n            this.setUserPromise = Promise.all([\n                setTokenPromise,\n                wsPromise\n            ]).then((result)=>result[1]);\n            try {\n                addConnectionEventListeners(this.updateNetworkConnectionStatus);\n                return await this.setUserPromise;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    this.closeConnection();\n                } else {\n                    this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setToken = (user, userTokenOrProvider, isAnonymous)=>this.tokenManager.setTokenOrProvider(userTokenOrProvider, user, isAnonymous);\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            await Promise.all([\n                this.wsConnection?.disconnect(timeout),\n                this.wsFallback?.disconnect(timeout)\n            ]);\n            return Promise.resolve();\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error(\"UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n            }\n            if (this.wsConnection?.isConnecting && this.wsPromise) {\n                this.logger(\"info\", \"client:openConnection() - connection already in progress\");\n                return this.wsPromise;\n            }\n            if ((this.wsConnection?.isHealthy || this.wsFallback?.isHealthy()) && this._hasConnectionID()) {\n                this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\");\n                return Promise.resolve();\n            }\n            this._setupConnectionIdPromise();\n            this.clientID = `${this.userID}--${randomId()}`;\n            this.wsPromise = this.connect();\n            return this.wsPromise;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger(\"info\", \"client:disconnect() - Disconnecting the client\");\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            removeConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this.tokenManager.reset();\n            this.connectionIdPromise = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest(\"post\", \"/guest\", {\n                user: {\n                    ...user\n                }\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            addConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this._setupConnectionIdPromise();\n            this.anonymous = true;\n            await this._setToken(user, tokenOrProvider, this.anonymous);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        /**\n         * sets up the this.connectionIdPromise\n         */ this._setupConnectionIdPromise = async ()=>{\n            /** a promise that is resolved once connection id is set */ this.connectionIdPromise = new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            });\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            this.logger(\"trace\", `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            this.logger(\"trace\", `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this._logApiError = (type, url, error)=>{\n            this.logger(\"error\", `client:${type} - Error - url: ${url}`, {\n                url,\n                error\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise\n                ]);\n                // we need to wait for presence of connection id before making requests\n                try {\n                    await this.connectionIdPromise;\n                } catch (e) {\n                    // in case connection id was rejected\n                    // reconnection maybe in progress\n                    // we can wait for healthy connection to resolve, which rejects when 15s timeout is reached\n                    await this.wsConnection?._waitForHealthy();\n                    await this.connectionIdPromise;\n                }\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case \"get\":\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case \"delete\":\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case \"post\":\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case \"put\":\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case \"patch\":\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case \"options\":\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error(\"Invalid request type\");\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return this.handleResponse(response);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.[\"x-client-request-id\"];\n                this.consecutiveFailures += 1;\n                if (e.response) {\n                    this._logApiError(type, url, e.response);\n                    /** connection_fallback depends on this token expiration logic */ if (e.response.data.code === KnownCodes.TOKEN_EXPIRED && !this.tokenManager.isStatic()) {\n                        if (this.consecutiveFailures > 1) {\n                            await sleep(retryInterval(this.consecutiveFailures));\n                        }\n                        await this.tokenManager.loadToken();\n                        return await this.doAxiosRequest(type, url, data, options);\n                    }\n                    return this.handleResponse(e.response);\n                } else {\n                    this._logApiError(type, url, e);\n                    // eslint-disable-next-line no-throw-literal\n                    throw e;\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest(\"get\", url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest(\"put\", url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest(\"post\", url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest(\"patch\", url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest(\"delete\", url, null, {\n                params\n            });\n        };\n        this.errorFromResponse = (response)=>{\n            const { data, status } = response;\n            const err = new ErrorFromResponse();\n            err.message = `Stream error code ${data.code}: ${data.message}`;\n            err.code = data.code;\n            err.unrecoverable = data.unrecoverable;\n            err.response = response;\n            err.status = status;\n            return err;\n        };\n        this.handleResponse = (response)=>{\n            const data = response.data;\n            if (isErrorResponse(response)) {\n                throw this.errorFromResponse(response);\n            }\n            return data;\n        };\n        this.dispatchEvent = (event)=>{\n            this.logger(\"debug\", `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n            }\n            if (!this.wsBaseURL) {\n                throw Error(\"Websocket base url not set\");\n            }\n            if (!this.clientID) {\n                throw Error(\"clientID is not set\");\n            }\n            if (!this.wsConnection && (this.options.warmUp || this.options.enableInsights)) {\n                this._sayHi();\n            }\n            // The StableWSConnection handles all the reconnection logic.\n            if (this.options.wsConnection && this.node) {\n                // Intentionally avoiding adding ts generics on wsConnection in options since its only useful for unit test purpose.\n                this.options.wsConnection.setClient(this);\n                this.wsConnection = this.options.wsConnection;\n            } else {\n                this.wsConnection = new StableWSConnection(this);\n            }\n            try {\n                // if fallback is used before, continue using it instead of waiting for WS to fail\n                if (this.wsFallback) {\n                    return await this.wsFallback.connect();\n                }\n                this.logger(\"info\", \"StreamClient.connect: this.wsConnection.connect()\");\n                // if WSFallback is enabled, ws connect should timeout faster so fallback can try\n                return await this.wsConnection.connect(this.options.enableWSFallback ? this.defaultWSTimeoutWithFallback : this.defaultWSTimeout);\n            } catch (err) {\n                // run fallback only if it's WS/Network error and not a normal API error\n                // make sure browser is online before even trying the longpoll\n                if (this.options.enableWSFallback && // @ts-ignore\n                isWSFailure(err) && isOnline(this.logger)) {\n                    this.logger(\"warn\", \"client:connect() - WS failed, fallback to longpoll\");\n                    this.dispatchEvent({\n                        type: \"transport.changed\",\n                        mode: \"longpoll\"\n                    });\n                    this.wsConnection._destroyCurrentWSConnection();\n                    this.wsConnection.disconnect().then(); // close WS so no retry\n                    this.wsFallback = new WSConnectionFallback(this);\n                    return await this.wsFallback.connect();\n                }\n                throw err;\n            }\n        };\n        /**\n         * Check the connectivity with server for warmup purpose.\n         *\n         * @private\n         */ this._sayHi = ()=>{\n            const client_request_id = randomId();\n            const opts = {\n                headers: axios__WEBPACK_IMPORTED_MODULE_1__.AxiosHeaders.from({\n                    \"x-client-request-id\": client_request_id\n                })\n            };\n            this.doAxiosRequest(\"get\", this.baseURL + \"/hi\", null, opts).catch((e)=>{\n                if (this.options.enableInsights) {\n                    postInsights(\"http_hi_failed\", {\n                        api_key: this.key,\n                        err: e,\n                        client_request_id\n                    });\n                }\n            });\n        };\n        this.getUserAgent = ()=>{\n            const version = \"1.8.0\";\n            return this.userAgent || `stream-video-javascript-client-${this.node ? \"node\" : \"browser\"}-${version}`;\n        };\n        this.setUserAgent = (userAgent)=>{\n            this.userAgent = userAgent;\n        };\n        /**\n         * _isUsingServerAuth - Returns true if we're using server side auth\n         */ this._isUsingServerAuth = ()=>!!this.secret;\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            if (!options.headers?.[\"x-client-request-id\"]) {\n                options.headers = {\n                    ...options.headers,\n                    \"x-client-request-id\": randomId()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    \"stream-auth-type\": options.publicEndpoint && !this.user ? \"anonymous\" : this.getAuthType(),\n                    \"X-Stream-Client\": this.getUserAgent(),\n                    ...options.headers\n                },\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        /**\n         * encode ws url payload\n         * @private\n         * @returns json string\n         */ this._buildWSPayload = (client_request_id)=>{\n            return JSON.stringify({\n                user_id: this.userID,\n                user_details: this._user,\n                client_request_id\n            });\n        };\n        this.updateNetworkConnectionStatus = (event)=>{\n            if (event.type === \"offline\") {\n                this.logger(\"debug\", \"device went offline\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: false\n                });\n            } else if (event.type === \"online\") {\n                this.logger(\"debug\", \"device went online\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: true\n                });\n            }\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== \"undefined\"\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout, options?.locationHintMaxAttempts);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            warmUp: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_4___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || \"https://video.stream-io-api.com/video\");\n        if (typeof process !== \"undefined\" && \"env\" in process && process.env.STREAM_LOCAL_TEST_RUN) {\n            this.setBaseURL(\"http://localhost:3030/video\");\n        }\n        if (typeof process !== \"undefined\" && \"env\" in process && process.env.STREAM_LOCAL_TEST_HOST) {\n            this.setBaseURL(`http://${process.env.STREAM_LOCAL_TEST_HOST}/video`);\n        }\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_32__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromise = null;\n        this.setUserPromise = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.insightMetrics = new InsightMetrics();\n        this.defaultWSTimeoutWithFallback = 6000;\n        this.defaultWSTimeout = 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n}\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.logLevel = \"warn\";\n        this.eventHandlersToUnregister = [];\n        /**\n         * Connects the given user to the client.\n         * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n         * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n         *\n         * @param user the user to connect.\n         * @param token a token or a function that returns a token.\n         */ this.connectUser = async (user, token)=>{\n            if (user.type === \"anonymous\") {\n                user.id = \"!anon\";\n                return this.connectAnonymousUser(user, token);\n            }\n            let connectUser = ()=>{\n                return this.streamClient.connectUser(user, token);\n            };\n            if (user.type === \"guest\") {\n                connectUser = async ()=>{\n                    return this.streamClient.connectGuestUser(user);\n                };\n            }\n            this.connectionPromise = this.disconnectionPromise ? this.disconnectionPromise.then(()=>connectUser()) : connectUser();\n            this.connectionPromise?.finally(()=>this.connectionPromise = undefined);\n            const connectUserResponse = await this.connectionPromise;\n            // connectUserResponse will be void if connectUser called twice for the same user\n            if (connectUserResponse?.me) {\n                this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n            }\n            this.eventHandlersToUnregister.push(this.on(\"connection.changed\", (event)=>{\n                if (event.online) {\n                    const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                    this.logger(\"info\", `Rewatching calls after connection changed ${callsToReWatch.join(\", \")}`);\n                    if (callsToReWatch.length > 0) {\n                        this.queryCalls({\n                            watch: true,\n                            filter_conditions: {\n                                cid: {\n                                    $in: callsToReWatch\n                                }\n                            },\n                            sort: [\n                                {\n                                    field: \"cid\",\n                                    direction: 1\n                                }\n                            ]\n                        }).catch((err)=>{\n                            this.logger(\"error\", \"Failed to re-watch calls\", err);\n                        });\n                    }\n                }\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.created\", (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"warn\", \"Received `call.created` sent by the current user\");\n                    return;\n                }\n                this.logger(\"info\", `New call created and registered: ${call.cid}`);\n                const newCall = new Call({\n                    streamClient: this.streamClient,\n                    type: call.type,\n                    id: call.id,\n                    members,\n                    clientStore: this.writeableStateStore\n                });\n                newCall.state.updateFromCallResponse(call);\n                this.writeableStateStore.registerCall(newCall);\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.ring\", async (event)=>{\n                const { call, members } = event;\n                if (user.id === call.created_by.id) {\n                    this.logger(\"debug\", \"Received `call.ring` sent by the current user so ignoring the event\");\n                    return;\n                }\n                // The call might already be tracked by the client,\n                // if `call.created` was received before `call.ring`.\n                // In that case, we cleanup the already tracked call.\n                const prevCall = this.writeableStateStore.findCall(call.type, call.id);\n                await prevCall?.leave({\n                    reason: \"cleaning-up in call.ring\"\n                });\n                // we create a new call\n                const theCall = new Call({\n                    streamClient: this.streamClient,\n                    type: call.type,\n                    id: call.id,\n                    members,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                theCall.state.updateFromCallResponse(call);\n                // we fetch the latest metadata for the call from the server\n                await theCall.get();\n                this.writeableStateStore.registerCall(theCall);\n            }));\n            return connectUserResponse;\n        };\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            if (!this.streamClient.user && !this.connectionPromise) {\n                return;\n            }\n            const userId = this.streamClient.user?.id;\n            const apiKey = this.streamClient.key;\n            const disconnectUser = ()=>this.streamClient.disconnectUser(timeout);\n            this.disconnectionPromise = this.connectionPromise ? this.connectionPromise.then(()=>disconnectUser()) : disconnectUser();\n            this.disconnectionPromise.finally(()=>this.disconnectionPromise = undefined);\n            await this.disconnectionPromise;\n            if (userId) {\n                StreamVideoClient._instanceMap.delete(apiKey + userId);\n            }\n            this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n            this.eventHandlersToUnregister = [];\n            this.writeableStateStore.setConnectedUser(undefined);\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         */ this.call = (type, id)=>{\n            return new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest(\"post\", \"/guest\", data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post(\"/calls\", data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig(false);\n                if (data.watch) {\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post(\"/devices\", {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         */ this.addVoipDevice = async (id, push_provider, push_provider_name, userID)=>{\n            return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get(\"/devices\", userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete(\"/devices\", {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            // if we find the call and is already ringing, we don't need to create a new call\n            // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n            let call = this.state.calls.find((c)=>c.cid === call_cid && c.ringing);\n            if (!call) {\n                // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                const [callType, callId] = call_cid.split(\":\");\n                call = new Call({\n                    streamClient: this.streamClient,\n                    type: callType,\n                    id: callId,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                await call.get();\n            }\n            return call;\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            const connectAnonymousUser = ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider);\n            this.connectionPromise = this.disconnectionPromise ? this.disconnectionPromise.then(()=>connectAnonymousUser()) : connectAnonymousUser();\n            this.connectionPromise.finally(()=>this.connectionPromise = undefined);\n            return this.connectionPromise;\n        };\n        let logger = logToConsole;\n        let logLevel = \"warn\";\n        if (typeof apiKeyOrArgs === \"string\") {\n            logLevel = opts?.logLevel || logLevel;\n            logger = opts?.logger || logger;\n        } else {\n            logLevel = apiKeyOrArgs.options?.logLevel || logLevel;\n            logger = apiKeyOrArgs.options?.logger || logger;\n        }\n        setLogger(logger, logLevel);\n        this.logger = getLogger([\n            \"client\"\n        ]);\n        const coordinatorLogger = getLogger([\n            \"coordinator\"\n        ]);\n        if (typeof apiKeyOrArgs === \"string\") {\n            this.streamClient = new StreamClient(apiKeyOrArgs, {\n                persistUserOnConnectionFailure: true,\n                ...opts,\n                logLevel,\n                logger: coordinatorLogger\n            });\n        } else {\n            this.streamClient = new StreamClient(apiKeyOrArgs.apiKey, {\n                persistUserOnConnectionFailure: true,\n                ...apiKeyOrArgs.options,\n                logLevel,\n                logger: coordinatorLogger\n            });\n            const sdkInfo = getSdkInfo();\n            if (sdkInfo) {\n                const sdkName = SdkType[sdkInfo.type].toLowerCase();\n                const sdkVersion = `${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`;\n                const userAgent = this.streamClient.getUserAgent();\n                this.streamClient.setUserAgent(`${userAgent}-video-${sdkName}-sdk-${sdkVersion}`);\n            }\n        }\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== \"string\") {\n            const user = apiKeyOrArgs.user;\n            const token = apiKeyOrArgs.token || apiKeyOrArgs.tokenProvider;\n            if (user) {\n                let id = user.id;\n                if (user.type === \"anonymous\") {\n                    id = \"!anon\";\n                }\n                if (id) {\n                    if (StreamVideoClient._instanceMap.has(apiKeyOrArgs.apiKey + id)) {\n                        this.logger(\"warn\", `A StreamVideoClient already exists for ${user.type === \"anonymous\" ? \"an anonymous user\" : id}; Prefer using getOrCreateInstance method`);\n                    }\n                    user.id = id;\n                    StreamVideoClient._instanceMap.set(apiKeyOrArgs.apiKey + id, this);\n                }\n                this.connectUser(user, token).catch((err)=>{\n                    this.logger(\"error\", \"Failed to connect\", err);\n                });\n            }\n        }\n    }\n    static getOrCreateInstance(args) {\n        const user = args.user;\n        if (!user.id) {\n            if (args.user.type === \"anonymous\") {\n                user.id = \"!anon\";\n            } else {\n                throw new Error(\"User ID is required for a non-anonymous user\");\n            }\n        }\n        if (!args.token && !args.tokenProvider) {\n            if (args.user.type !== \"anonymous\" && args.user.type !== \"guest\") {\n                throw new Error(\"TokenProvider or token is required for a user that is not a guest or anonymous\");\n            }\n        }\n        let instance = StreamVideoClient._instanceMap.get(args.apiKey + user.id);\n        if (!instance) {\n            instance = new StreamVideoClient({\n                ...args,\n                user\n            });\n        }\n        return instance;\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n}\nStreamVideoClient._instanceMap = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrSEE7O0NBRUcsR0FDVSxNQUFBQSx3Q0FBd0M7SUFDbkRDLFNBQVM7SUFDVEMsVUFBVTs7QUF1RFo7O0NBRUcsR0FDVSxNQUFBQyx5Q0FBeUM7SUFDcERGLFNBQVM7SUFDVEMsVUFBVTs7QUErRFo7O0NBRUcsR0FDVSxNQUFBRSwrQkFBK0I7SUFDMUNDLE1BQU07SUFDTkMsT0FBTztJQUNQQyxjQUFjOztBQW9pRWhCOztDQUVHLEdBQ1UsTUFBQUMsbUNBQW1DO0lBQzlDQyxVQUFVO0lBQ1ZDLFFBQVE7SUFDUkMsSUFBSTs7QUFLTjs7Q0FFRyxHQUNVLE1BQUFDLDJDQUEyQztJQUN0RFAsTUFBTTtJQUNOQyxPQUFPO0lBQ1BDLGNBQWM7O0FBS2hCOztDQUVHLEdBQ1UsTUFBQU0sNkNBQTZDO0lBQ3hEUixNQUFNO0lBQ05DLE9BQU87SUFDUEMsY0FBYzs7QUFrbEJoQjs7Q0FFRyxHQUNVLE1BQUFPLHNDQUFzQztJQUNqREMsVUFBVTtJQUNWQyxLQUFLO0lBQ0xDLFFBQVE7SUFDUkMsUUFBUTs7QUF3dkNWOztDQUVHLEdBQ1UsTUFBQUMsb0NBQW9DO0lBQy9DQyxXQUFXO0lBQ1hYLFVBQVU7SUFDVlksU0FBUzs7QUE0Q1g7OztDQUdHLEdBQ1UsTUFBQUMsZ0JBQWdCO0lBQzNCQyxhQUFhO0lBQ2JDLHFCQUFxQjtJQUNyQkMsYUFBYTtJQUNiQyxpQkFBaUI7SUFDakJDLDJCQUEyQjtJQUMzQkMsVUFBVTtJQUNWQyxnQkFBZ0I7SUFDaEJDLFdBQVc7SUFDWEMsaUJBQWlCO0lB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SSxDQUFDNjRDLFVBQVU7WUFDYkEsV0FBVyxJQUFJakMsa0JBQWtCO2dCQUFFLEdBQUc3bUQsSUFBSTtnQkFBRXdQO1lBQUk7O1FBRWxELE9BQU9zNUM7O0lBR1Q7O0tBRUcsR0FDSCxJQUFJNTRDLFFBQUs7UUFDUCxPQUFPLElBQUksQ0FBQzA0QyxrQkFBa0I7OztBQWhJakIvQixrQkFBQWtCLFlBQVksR0FBbUMsSUFBSTc2QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2dlbi9jb29yZGluYXRvci9pbmRleC50cz83Y2VhIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMudHM/N2MyNyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9nZW4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC50cz9kZjY3Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnRzPzJlMWMiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzLnRzPzJkZGUiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC50cz9jYzk2Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzLnRzPzdjN2EiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvdHlwZXMudHM/NDc5ZCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudC50cz9hZmVkIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3JwYy9jcmVhdGVDbGllbnQudHM/YzZhOCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzLnRzPzY4NjYiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvaGVscGVycy9wbGF0Zm9ybXMudHM/M2QzMCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9sb2dnZXIudHM/ODc0NiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9ycGMvcmV0cnlhYmxlLnRzPzZkM2MiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY2xpZW50LWRldGFpbHMudHM/Mzc4ZSIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9ydGMvY29kZWNzLnRzP2RlYjUiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvcnRjL0Rpc3BhdGNoZXIudHM/ZDAxZSIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9ydGMvSWNlVHJpY2tsZUJ1ZmZlci50cz9mZjZlIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3J0Yy9oZWxwZXJzL2ljZUNhbmRpZGF0ZS50cz8xMWIzIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3J0Yy92aWRlb0xheWVycy50cz9iYjcwIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvZW5zdXJlRXhoYXVzdGVkLnRzP2Y0ZDEiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvcnRjL2hlbHBlcnMvdHJhY2tzLnRzP2U2OTgiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvaGVscGVycy9jb25jdXJyZW5jeS50cz9kZTFkIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3N0b3JlL3J4VXRpbHMudHM/Nzk0MSIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9zdG9yZS9DYWxsaW5nU3RhdGUudHM/Y2EyMyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9zdG9yZS9zdGF0ZVN0b3JlLnRzPzAxOGEiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvc29ydGluZy9jb21wYXJhdG9yLnRzPzhhNzIiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzLnRzPzg5ODgiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvc29ydGluZy9wYXJ0aWNpcGFudHMudHM/NTg1YiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9zb3J0aW5nL3ByZXNldHMudHM/YmM0OCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9zdG9yZS9DYWxsU3RhdGUudHM/NTdiOCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9oZWxwZXJzL3NkcC1tdW5naW5nLnRzP2ZkY2YiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvcnRjL1B1Ymxpc2hlci50cz80MGJkIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3J0Yy9TdWJzY3JpYmVyLnRzPzY4ZDMiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvcnRjL3NpZ25hbC50cz9kNzFiIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvd2l0aFJlc29sdmVycy50cz80NDBjIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL1N0cmVhbVNmdUNsaWVudC50cz81ZDIzIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3J0Yy9oZWxwZXJzL3J0Y0NvbmZpZ3VyYXRpb24udHM/ZGFhNyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9ldmVudHMvY2FsbC50cz83NGYzIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2V2ZW50cy9jYWxsLXBlcm1pc3Npb25zLnRzPzk5ZjAiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZXZlbnRzL2ludGVybmFsLnRzP2FlN2IiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZXZlbnRzL211dGVzLnRzPzIwOGYiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZXZlbnRzL3BhcnRpY2lwYW50LnRzPzlmNWMiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZXZlbnRzL3NwZWFrZXIudHM/NjYwMyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9ldmVudHMvY2FsbEV2ZW50SGFuZGxlcnMudHM/MjU5YiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9zdGF0cy91dGlscy50cz80MDdlIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3N0YXRzL3N0YXRlU3RvcmVTdGF0c1JlcG9ydGVyLnRzP2YzYTAiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvc3RhdHMvU2Z1U3RhdHNSZXBvcnRlci50cz8yMWM1Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvVmlld3BvcnRUcmFja2VyLnRzPzc4NGMiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvaGVscGVycy9icm93c2Vycy50cz9hODQ2Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvRHluYXNjYWxlTWFuYWdlci50cz80MTc4Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL3Blcm1pc3Npb25zL1Blcm1pc3Npb25zQ29udGV4dC50cz84YThlIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL0NhbGxUeXBlLnRzP2FiOTciLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZGV2aWNlcy9Ccm93c2VyUGVybWlzc2lvbi50cz8xYmY3Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvbGF6eS50cz9hM2E0Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2RldmljZXMvZGV2aWNlcy50cz9iNDdmIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2RldmljZXMvSW5wdXRNZWRpYURldmljZU1hbmFnZXIudHM/ZTYxMCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9kZXZpY2VzL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUudHM/ZWE3NyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9kZXZpY2VzL0NhbWVyYU1hbmFnZXJTdGF0ZS50cz8yYzYyIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2RldmljZXMvQ2FtZXJhTWFuYWdlci50cz9lOGEyIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2RldmljZXMvTWljcm9waG9uZU1hbmFnZXJTdGF0ZS50cz8zZjEzIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2hlbHBlcnMvc291bmQtZGV0ZWN0b3IudHM/Y2IyZiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9oZWxwZXJzL1JOU3BlZWNoRGV0ZWN0b3IudHM/NmViNSIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9kZXZpY2VzL01pY3JvcGhvbmVNYW5hZ2VyLnRzP2Y3NmYiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZGV2aWNlcy9TY3JlZW5TaGFyZVN0YXRlLnRzPzc5ZGYiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvZGV2aWNlcy9TY3JlZW5TaGFyZU1hbmFnZXIudHM/MTA4MyIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJTdGF0ZS50cz8yOTY4Iiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2RldmljZXMvU3BlYWtlck1hbmFnZXIudHM/MjE0NSIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9DYWxsLnRzPzdiNWUiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9pbnNpZ2h0cy50cz81ZTljIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi50cz82MDZmIiwid2VicGFjazovL3pvb20vLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vYmFzZTY0LnRzPzA1ZjYiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9zaWduaW5nLnRzPzllYzMiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi90b2tlbl9tYW5hZ2VyLnRzPzAzZTIiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9lcnJvcnMudHM/MjEyNiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2Nvbm5lY3Rpb25fZmFsbGJhY2sudHM/NTRjMCIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9jb29yZGluYXRvci9jb25uZWN0aW9uL2xvY2F0aW9uLnRzP2NmMDkiLCJ3ZWJwYWNrOi8vem9vbS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQudHM/M2YxZiIsIndlYnBhY2s6Ly96b29tLy4uLy4uL3NyYy9TdHJlYW1WaWRlb0NsaWVudC50cz8xNDQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlICovXG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBUElFcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFQSUVycm9yIHtcbiAgLyoqXG4gICAqIFJlc3BvbnNlIEhUVFAgc3RhdHVzIGNvZGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBTdGF0dXNDb2RlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBBUEkgZXJyb3IgY29kZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGNvZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgZXJyb3Itc3BlY2lmaWMgaW5mb3JtYXRpb25cbiAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZGV0YWlsczogQXJyYXk8bnVtYmVyPjtcbiAgLyoqXG4gICAqIFJlcXVlc3QgZHVyYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogQWRkaXRpb25hbCBlcnJvciBpbmZvXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBleGNlcHRpb25fZmllbGRzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIE1lc3NhZ2UgZGVzY3JpYmluZyBhbiBlcnJvclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCB3aXRoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBtb3JlX2luZm86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQWNjZXB0Q2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXB0Q2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBY2NlcHRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGRlZmF1bHRfZGV2aWNlOiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWljX2RlZmF1bHRfb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge05vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbm9pc2VfY2FuY2VsbGF0aW9uPzogTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG9wdXNfZHR4X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcmVkdW5kYW50X2NvZGluZ19lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHNwZWFrZXJfZGVmYXVsdF9vbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSA9IHtcbiAgU1BFQUtFUjogJ3NwZWFrZXInLFxuICBFQVJQSUVDRTogJ2VhcnBpZWNlJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtID1cbiAgKHR5cGVvZiBBdWRpb1NldHRpbmdzUmVxdWVzdERlZmF1bHREZXZpY2VFbnVtKVtrZXlvZiB0eXBlb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZGVmYXVsdF9kZXZpY2U6IEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1pY19kZWZhdWx0X29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge05vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5vaXNlX2NhbmNlbGxhdGlvbj86IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgb3B1c19kdHhfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWR1bmRhbnRfY29kaW5nX2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgc3BlYWtlcl9kZWZhdWx0X29uOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtID0ge1xuICBTUEVBS0VSOiAnc3BlYWtlcicsXG4gIEVBUlBJRUNFOiAnZWFycGllY2UnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtID1cbiAgKHR5cGVvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSlba2V5b2YgdHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgam9pbl9haGVhZF90aW1lX3NlY29uZHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tMaXN0T3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrTGlzdE9wdGlvbnMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrTGlzdE9wdGlvbnNcbiAgICovXG4gIGJlaGF2aW9yOiBCbG9ja0xpc3RPcHRpb25zQmVoYXZpb3JFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrTGlzdE9wdGlvbnNcbiAgICovXG4gIGJsb2NrbGlzdDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0gPSB7XG4gIEZMQUc6ICdmbGFnJyxcbiAgQkxPQ0s6ICdibG9jaycsXG4gIFNIQURPV19CTE9DSzogJ3NoYWRvd19ibG9jaycsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQmxvY2tMaXN0T3B0aW9uc0JlaGF2aW9yRW51bSlba2V5b2YgdHlwZW9mIEJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja1VzZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIGJsb2NrXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja1VzZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmxvY2tVc2VyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja1VzZXJSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGNhbGwgcGFydGljaXBhbnRzIHRvIG5vdGlmeSB3aGVuIGEgdXNlciBpcyBibG9ja2VkIG9uIGEgY2FsbCwgY2xpZW50cyBjYW4gdXNlIHRoaXMgZXZlbnQgdG8gc2hvdyBhIG5vdGlmaWNhdGlvbi5cbiAqIElmIHRoZSB1c2VyIGlzIHRoZSBjdXJyZW50IHVzZXIsIHRoZSBjbGllbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlbiBhcyB3ZWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJsb2NrZWRVc2VyRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja2VkVXNlckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBibG9ja2VkX2J5X3VzZXI/OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmJsb2NrZWRfdXNlclwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtITFNTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGhscz86IEhMU1NldHRpbmdzUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0hMU1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBobHM6IEhMU1NldHRpbmdzUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciBhY2NlcHRzIGEgbm90aWZpY2F0aW9uIHRvIGpvaW4gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQWNjZXB0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxBY2NlcHRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmFjY2VwdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIENhbGxDbG9zZWRDYXB0aW9uIHJlcHJlc2VudHMgYSBjbG9zZWQgY2FwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBzcGVha2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgY3JlYXRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgY2hlY2sgaWYgdGhlIHJpbmdpbmdcbiAqIGZpZWxkIGlzIHNldCB0byB0cnVlIGFuZCBpZiBzbywgc2hvdyB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENyZWF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxDcmVhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBtZW1iZXJzIGFkZGVkIHRvIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5jcmVhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBkZWxldGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBsZWF2ZSB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbERlbGV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxEZWxldGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZGVsZXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgbWFyayBhcyBlbmRlZCBmb3IgYWxsIGl0cyBwYXJ0aWNpcGFudHMuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGxlYXZlIHRoZSBjYWxsIHNjcmVlblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRW5kZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFdmVudFxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIGVuZF90aW1lc3RhbXA6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHNldmVyaXR5OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEV2ZW50XG4gICAqL1xuICB0aW1lc3RhbXA6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGhsc19wbGF5bGlzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxJbmdyZXNzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JUTVBJbmdyZXNzfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcDogUlRNUEluZ3Jlc3M7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBzdGFydGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBzdGFydCB0aGUgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTGl2ZVN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5saXZlX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIGFkZGVkIHRvIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJBZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl9hZGRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgcmVtb3ZlZCBmcm9tIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclJlbW92ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgbWVtYmVyIElEcyByZW1vdmVkIGZyb20gdGhlIGNhbGxcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfcmVtb3ZlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgZ2V0IGl0cyByb2xlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz47IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfYWRkZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBjYWxsIG1lbWJlcnMgd2hvIGRpZCBub3QgYWNjZXB0L3JlamVjdC9qb2luIHRoZSBjYWxsIHRvIG5vdGlmeSB0aGV5IG1pc3NlZCB0aGUgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgbWVtYmVycyB3aG8gbWlzc2VkIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBub3RpZnlfdXNlcjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm5vdGlmaWNhdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgbWVtYmVyc1xuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgam9pbmVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICB1c2VyX3Nlc3Npb25faWQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSByZWFjdGlvbiBpcyBzZW50IGluIGEgY2FsbCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdG8gc2hvdyB0aGUgcmVhY3Rpb24gaW4gdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWFjdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlYWN0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVhY3Rpb25fbmV3XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVhY3Rpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsUmVjb3JkaW5nIHJlcHJlc2VudHMgYSByZWNvcmRpbmcgb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZWNvcmRpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY2FsbF9yZWNvcmRpbmc6IENhbGxSZWNvcmRpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3JlYWR5XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHJlamVjdHMgYSBub3RpZmljYXRpb24gdG8gam9pbiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWplY3RlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlamVjdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWplY3RlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnM/OiBBcnJheTxNZW1iZXJSZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHNldHRpbmdzX292ZXJyaWRlPzogQ2FsbFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGJhY2tzdGFnZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHVuaXF1ZSBpZGVudGlmaWVyIGZvciBhIGNhbGwgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjdXJyZW50X3Nlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZWdyZXNzOiBFZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIGVuZGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGVuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxJbmdyZXNzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGluZ3Jlc3M6IENhbGxJbmdyZXNzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBqb2luX2FoZWFkX3RpbWVfc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICByZWNvcmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNlc3Npb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2Vzc2lvbj86IENhbGxTZXNzaW9uUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSB3aGVuIHRoZSBjYWxsIHdpbGwgc3RhcnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpYmluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmluZ0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJpbmdFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwubm90aWZpY2F0aW9uXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB2aWRlbzogYm9vbGVhbjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIHNlc3Npb24gZW5kc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvbkVuZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuXG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBwYXJ0aWNpcGFudCBjb3VudHMgaW4gYSBjYWxsIHNlc3Npb24gYXJlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgcGFydGljaXBhbnQgam9pbnMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50OiBDYWxsUGFydGljaXBhbnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBsZWF2ZXMgYSBjYWxsIHNlc3Npb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnQ6IENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBhY2NlcHRlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBlbmRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGxpdmVfZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbGl2ZV9zdGFydGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgbWlzc2VkX2J5OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50czogQXJyYXk8Q2FsbFBhcnRpY2lwYW50UmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBzdHJpbmc7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICByZWplY3RlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBzdGFydGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHRpbWVyX2VuZHNfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBzZXNzaW9uIHN0YXJ0c1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnNlc3Npb25fc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0F1ZGlvU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW8/OiBBdWRpb1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBiYWNrc3RhZ2U/OiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYnJvYWRjYXN0aW5nPzogQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0dlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZ2VvZmVuY2luZz86IEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGxpbWl0cz86IExpbWl0c1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmRTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmc/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBSaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyaW5nPzogU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGh1bWJuYWlscz86IFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb24/OiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBWaWRlb1NldHRpbmdzUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXVkaW9TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGF1ZGlvOiBBdWRpb1NldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBiYWNrc3RhZ2U6IEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBicm9hZGNhc3Rpbmc6IEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGdlb2ZlbmNpbmc6IEdlb2ZlbmNlU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGxpbWl0czogTGltaXRzU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJlY29yZGluZzogUmVjb3JkU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSaW5nU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByaW5nOiBSaW5nU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBzY3JlZW5zaGFyaW5nOiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0aHVtYm5haWxzOiBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0cmFuc2NyaXB0aW9uOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdmlkZW86IFZpZGVvU2V0dGluZ3NSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2FsbCBtZW1iZXJzXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zdGF0dXM6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBmaXJzdF9zdGF0c190aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVGltZWxpbmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVGltZWxpbmUge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxFdmVudD59XG4gICAqIEBtZW1iZXJvZiBDYWxsVGltZWxpbmVcbiAgICovXG4gIGV2ZW50czogQXJyYXk8Q2FsbEV2ZW50Pjtcbn1cbi8qKlxuICogQ2FsbFRyYW5zY3JpcHRpb24gcmVwcmVzZW50cyBhIHRyYW5zY3JpcHRpb24gb2YgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgZW5kX3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgc3RhcnRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25GYWlsZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaXMgcmVhZHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRyYW5zY3JpcHRpb259XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblJlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfdHJhbnNjcmlwdGlvbjogQ2FsbFRyYW5zY3JpcHRpb247XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0b3BwZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgdXBkYXRlZCwgY2xpZW50cyBzaG91bGQgdXNlIHRoaXMgdXBkYXRlIHRoZSBsb2NhbCBzdGF0ZSBvZiB0aGUgY2FsbC5cbiAqIFRoaXMgZXZlbnQgYWxzbyBjb250YWlucyB0aGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoZSBjYWxsLCBjbGllbnRzIHNob3VsZCB1cGRhdGUgdGhlIG93bl9jYXBhYmlsaXR5IGZvciB0aGUgY3VycmVudC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxVcGRhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBieSByb2xlIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhcGFiaWxpdGllc19ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBtZW1iZXIgaXMgbXV0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVzZXJNdXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBmcm9tX3VzZXJfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICBtdXRlZF91c2VyX2lkczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudXNlcl9tdXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxDb25maWdXaXRoSW5mbyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYWxsb3dlZF9mbGFnX3JlYXNvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgYXV0b21vZDogQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBhdXRvbW9kX2JlaGF2aW9yOiBDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RocmVzaG9sZHN9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGF1dG9tb2RfdGhyZXNob2xkcz86IFRocmVzaG9sZHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBibG9ja2xpc3Q/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBibG9ja2xpc3RfYmVoYXZpb3I/OiBDaGFubmVsQ29uZmlnV2l0aEluZm9CbG9ja2xpc3RCZWhhdmlvckVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8QmxvY2tMaXN0T3B0aW9ucz59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGJsb2NrbGlzdHM/OiBBcnJheTxCbG9ja0xpc3RPcHRpb25zPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDb21tYW5kPn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY29tbWFuZHM6IEFycmF5PENvbW1hbmQ+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGNvbm5lY3RfZXZlbnRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIGN1c3RvbV9ldmVudHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBncmFudHM/OiB7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz4gfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtYXJrX21lc3NhZ2VzX3BlbmRpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtYXhfbWVzc2FnZV9sZW5ndGg6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBtdXRlczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHBhcnRpdGlvbl9zaXplPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcGFydGl0aW9uX3R0bD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBwb2xsczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcXVvdGVzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHJlYWN0aW9uczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICByZWFkX2V2ZW50czogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICByZW1pbmRlcnM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgcmVwbGllczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICBzZWFyY2g6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxDb25maWdXaXRoSW5mb1xuICAgKi9cbiAgdHlwaW5nX2V2ZW50czogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvXG4gICAqL1xuICB1cGxvYWRzOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsQ29uZmlnV2l0aEluZm9cbiAgICovXG4gIHVybF9lbnJpY2htZW50OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RFbnVtID0ge1xuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgU0lNUExFOiAnc2ltcGxlJyxcbiAgQUk6ICdBSScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW0gPVxuICAodHlwZW9mIENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RFbnVtKVtrZXlvZiB0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RCZWhhdmlvckVudW0gPSB7XG4gIEZMQUc6ICdmbGFnJyxcbiAgQkxPQ0s6ICdibG9jaycsXG4gIFNIQURPV19CTE9DSzogJ3NoYWRvd19ibG9jaycsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bSA9XG4gICh0eXBlb2YgQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQXV0b21vZEJlaGF2aW9yRW51bSlba2V5b2YgdHlwZW9mIENoYW5uZWxDb25maWdXaXRoSW5mb0F1dG9tb2RCZWhhdmlvckVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bSA9IHtcbiAgRkxBRzogJ2ZsYWcnLFxuICBCTE9DSzogJ2Jsb2NrJyxcbiAgU0hBRE9XX0JMT0NLOiAnc2hhZG93X2Jsb2NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDaGFubmVsQ29uZmlnV2l0aEluZm9CbG9ja2xpc3RCZWhhdmlvckVudW0gPVxuICAodHlwZW9mIENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bSlba2V5b2YgdHlwZW9mIENoYW5uZWxDb25maWdXaXRoSW5mb0Jsb2NrbGlzdEJlaGF2aW9yRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2hhbm5lbE1lbWJlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxNZW1iZXIge1xuICAvKipcbiAgICogRXhwaXJhdGlvbiBkYXRlIG9mIHRoZSBiYW5cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGJhbl9leHBpcmVzPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBtZW1iZXIgaXMgYmFubmVkIHRoaXMgY2hhbm5lbCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBiYW5uZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBSb2xlIG9mIHRoZSBtZW1iZXIgaW4gdGhlIGNoYW5uZWxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIGNoYW5uZWxfcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgd2hlbiBpbnZpdGUgd2FzIGFjY2VwdGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpbnZpdGVfYWNjZXB0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIHdoZW4gaW52aXRlIHdhcyByZWplY3RlZFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgaW52aXRlX3JlamVjdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBtZW1iZXIgd2FzIGludml0ZWQgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgaW52aXRlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBXaGV0aGVyIG1lbWJlciBpcyBjaGFubmVsIG1vZGVyYXRvciBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBpc19tb2RlcmF0b3I/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBub3RpZmljYXRpb25zX211dGVkOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciBtZW1iZXIgaXMgc2hhZG93IGJhbm5lZCBpbiB0aGlzIGNoYW5uZWwgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE1lbWJlclxuICAgKi9cbiAgc2hhZG93X2Jhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICBzdGF0dXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTWVtYmVyXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNZW1iZXJcbiAgICovXG4gIHVzZXJfaWQ/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYW5uZWxNdXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbm5lbE11dGUge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NoYW5uZWxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxNdXRlXG4gICAqL1xuICBjaGFubmVsPzogQ2hhbm5lbFJlc3BvbnNlO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIG11dGUgZXhwaXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbE11dGVcbiAgICovXG4gIGV4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsTXV0ZVxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqIFJlcHJlc2VudHMgY2hhbm5lbCBpbiBjaGF0XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYW5uZWxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGF1dG8gdHJhbnNsYXRpb24gaXMgZW5hYmxlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBMYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8gd2hlbiBhdXRvIHRyYW5zbGF0aW9uIGlzIGFjdGl2ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBhdXRvX3RyYW5zbGF0aW9uX2xhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogQ2hhbm5lbCBDSUQgKDx0eXBlPjo8aWQ+KVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDaGFubmVsQ29uZmlnV2l0aEluZm99XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGNvbmZpZz86IENoYW5uZWxDb25maWdXaXRoSW5mbztcbiAgLyoqXG4gICAqIENvb2xkb3duIHBlcmlvZCBhZnRlciBzZW5kaW5nIGVhY2ggbWVzc2FnZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjb29sZG93bj86IG51bWJlcjtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9ieT86IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciBjaGFubmVsIGlzIGZyb3plbiBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGZyb3plbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjaGFubmVsIGlzIGhpZGRlbiBieSBjdXJyZW50IHVzZXIgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBoaWRkZW4/OiBib29sZWFuO1xuICAvKipcbiAgICogRGF0ZSBzaW5jZSB3aGVuIHRoZSBtZXNzYWdlIGhpc3RvcnkgaXMgYWNjZXNzaWJsZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBoaWRlX21lc3NhZ2VzX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqIENoYW5uZWwgdW5pcXVlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIHRoZSBsYXN0IG1lc3NhZ2Ugc2VudFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBsYXN0X21lc3NhZ2VfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOdW1iZXIgb2YgbWVtYmVycyBpbiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJfY291bnQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGNoYW5uZWwgbWVtYmVycyAobWF4IDEwMClcbiAgICogQHR5cGUge0FycmF5PENoYW5uZWxNZW1iZXI+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzPzogQXJyYXk8Q2hhbm5lbE1lbWJlcj47XG4gIC8qKlxuICAgKiBEYXRlIG9mIG11dGUgZXhwaXJhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBtdXRlX2V4cGlyZXNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIHRoaXMgY2hhbm5lbCBpcyBtdXRlZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIG11dGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIExpc3Qgb2YgY2hhbm5lbCBjYXBhYmlsaXRpZXMgb2YgYXV0aGVudGljYXRlZCB1c2VyXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRlYW0gdGhlIGNoYW5uZWwgYmVsb25ncyB0byAobXVsdGktdGVuYW50IG9ubHkpXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDaGFubmVsUmVzcG9uc2VcbiAgICovXG4gIHRlYW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIHRoZSBsYXRlc3QgdHJ1bmNhdGlvbiBvZiB0aGUgY2hhbm5lbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB0cnVuY2F0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdHJ1bmNhdGVkX2J5PzogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqIFR5cGUgb2YgdGhlIGNoYW5uZWxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENoYW5uZWxSZXNwb25zZVxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2hhbm5lbFJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNsb3NlZCBjYXB0aW9ucyBhcmUgYmVpbmcgc2VudCBpbiBhIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVzZSB0aGlzIHRvIHNob3cgdGhlIGNsb3NlZCBjYXB0aW9ucyBpbiB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvc2VkQ2FwdGlvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbENsb3NlZENhcHRpb259XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uOiBDYWxsQ2xvc2VkQ2FwdGlvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByYXRpbmc6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGs6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgc2RrX3ZlcnNpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9zZXNzaW9uX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogUmVwcmVzZW50cyBjdXN0b20gY2hhdCBjb21tYW5kXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbW1hbmRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb21tYW5kIHtcbiAgLyoqXG4gICAqIEFyZ3VtZW50cyBoZWxwIHRleHQsIHNob3duIGluIGNvbW1hbmRzIGF1dG8tY29tcGxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgYXJnczogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICByZWFkb25seSBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGVzY3JpcHRpb24sIHNob3duIGluIGNvbW1hbmRzIGF1dG8tY29tcGxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29tbWFuZFxuICAgKi9cbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIFVuaXF1ZSBjb21tYW5kIG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFNldCBuYW1lIHVzZWQgZm9yIGdyb3VwaW5nIGNvbW1hbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb21tYW5kXG4gICAqL1xuICBzZXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbW1hbmRcbiAgICovXG4gIHJlYWRvbmx5IHVwZGF0ZWRfYXQ/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ByaXZhY3lTZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXR9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dDtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIFdTIGNvbm5lY3Rpb24gaXMgZXN0YWJsaXNoZWQgYW5kIGF1dGhlbnRpY2F0ZWQsIHRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGZ1bGwgdXNlciBvYmplY3QgYXMgaXQgaXMgc3RvcmVkIG9uIHRoZSBzZXJ2ZXJcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ29ubmVjdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgY29ubmVjdGlvbl9pZCBmb3IgdGhpcyBjbGllbnRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtPd25Vc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgbWU6IE93blVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNvbm5lY3Rpb24ub2tcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBXUyBjb25uZWN0aW9uIGZhaWxzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvbkVycm9yRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBUElFcnJvcn1cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBlcnJvcjogQVBJRXJyb3I7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjb25uZWN0aW9uLm9rXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb29yZGluYXRlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvb3JkaW5hdGVzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDb29yZGluYXRlc1xuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDb29yZGluYXRlc1xuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENyZWF0ZURldmljZVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVEZXZpY2VSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIERldmljZSBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIHB1c2hfcHJvdmlkZXI6IENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGVuIHRydWUgdGhlIHRva2VuIGlzIGZvciBBcHBsZSBWb0lQIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIHZvaXBfdG9rZW4/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtID0ge1xuICBGSVJFQkFTRTogJ2ZpcmViYXNlJyxcbiAgQVBOOiAnYXBuJyxcbiAgSFVBV0VJOiAnaHVhd2VpJyxcbiAgWElBT01JOiAneGlhb21pJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSA9XG4gICh0eXBlb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0pW2tleW9mIHR5cGVvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgKi9cbiAgdXNlcjogVXNlclJlcXVlc3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVHdWVzdFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIHRoZSBhY2Nlc3MgdG9rZW4gdG8gYXV0aGVudGljYXRlIHRoZSB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfdG9rZW46IHN0cmluZztcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENyZWRlbnRpYWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlZGVudGlhbHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PElDRVNlcnZlcj59XG4gICAqIEBtZW1iZXJvZiBDcmVkZW50aWFsc1xuICAgKi9cbiAgaWNlX3NlcnZlcnM6IEFycmF5PElDRVNlcnZlcj47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U0ZVUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDcmVkZW50aWFsc1xuICAgKi9cbiAgc2VydmVyOiBTRlVSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVkZW50aWFsc1xuICAgKi9cbiAgdG9rZW46IHN0cmluZztcbn1cbi8qKlxuICogQSBjdXN0b20gZXZlbnQsIHRoaXMgZXZlbnQgaXMgdXNlZCB0byBzZW5kIGN1c3RvbSBldmVudHMgdG8gb3RoZXIgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDdXN0b21WaWRlb0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tVmlkZW9FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQsIFwiY3VzdG9tXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ3VzdG9tVmlkZW9FdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZWxldGVSZWNvcmRpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERldmljZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERldmljZSB7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBkZXZpY2UgaXMgZGlzYWJsZWQgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBSZWFzb24gZXhwbGFpbmluZyB3aHkgZGV2aWNlIGhhZCBiZWVuIGRpc2FibGVkXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VcbiAgICovXG4gIGRpc2FibGVkX3JlYXNvbj86IHN0cmluZztcbiAgLyoqXG4gICAqIERldmljZSBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVxuICAgKi9cbiAgcHVzaF9wcm92aWRlcl9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogVXNlciBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlXG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGVuIHRydWUgdGhlIHRva2VuIGlzIGZvciBBcHBsZSBWb0lQIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIERldmljZVxuICAgKi9cbiAgdm9pcD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVkZ2VSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVkZ2VSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBjb250aW5lbnRfY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgZ3JlZW46IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBsYXRlbmN5X3Rlc3RfdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBsYXRpdHVkZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICByZWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHN1YmRpdmlzaW9uX2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICB5ZWxsb3c6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWdyZXNzSExTUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NITFNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzSExTUmVzcG9uc2VcbiAgICovXG4gIHBsYXlsaXN0X3VybDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NSVE1QUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgc3RyZWFtX2tleTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWdyZXNzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgYnJvYWRjYXN0aW5nOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0VncmVzc0hMU1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUmVzcG9uc2VcbiAgICovXG4gIGhscz86IEVncmVzc0hMU1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEVncmVzc1JUTVBSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcHM6IEFycmF5PEVncmVzc1JUTVBSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVuZENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVuZENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRW5kQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG5hbWVzPzogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgR2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBuYW1lczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2VvbG9jYXRpb25SZXN1bHRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9sb2NhdGlvblJlc3VsdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGFjY3VyYWN5X3JhZGl1czogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBjaXR5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvbnRpbmVudDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBjb250aW5lbnRfY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdlb2xvY2F0aW9uUmVzdWx0XG4gICAqL1xuICBjb3VudHJ5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIGNvdW50cnlfaXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgbGF0aXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZW9sb2NhdGlvblJlc3VsdFxuICAgKi9cbiAgbG9uZ2l0dWRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIHN1YmRpdmlzaW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2VvbG9jYXRpb25SZXN1bHRcbiAgICovXG4gIHN1YmRpdmlzaW9uX2lzb19jb2RlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdldENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldENhbGxTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc3RhdHVzOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFRpbWVsaW5lfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxfdGltZWxpbmU/OiBDYWxsVGltZWxpbmU7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGppdHRlcj86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3k/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbWF4X2ZyZWV6ZXNfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG1heF90b3RhbF9xdWFsaXR5X2xpbWl0YXRpb25fZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJTdGF0cz59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRfcmVwb3J0OiBBcnJheTxVc2VyU3RhdHM+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBwdWJsaXNoaW5nX3BhcnRpY2lwYW50czogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldENhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHNmdV9jb3VudDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNGVUxvY2F0aW9uUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHNmdXM6IEFycmF5PFNGVUxvY2F0aW9uUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRFZGdlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0RWRnZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RWRnZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEdldEVkZ2VzUmVzcG9uc2VcbiAgICovXG4gIGVkZ2VzOiBBcnJheTxFZGdlUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIGlmIHByb3ZpZGVkIGl0IHNlbmRzIGEgbm90aWZpY2F0aW9uIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICBub3RpZnk/OiBib29sZWFuO1xuICAvKipcbiAgICogaWYgcHJvdmlkZWQgaXQgc2VuZHMgYSByaW5nIGV2ZW50IHRvIHRoZSBtZW1iZXJzIGZvciB0aGlzIGNhbGxcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lbWJlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR29MaXZlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHJlY29yZGluZ19zdG9yYWdlX25hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X2hscz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3JlY29yZGluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHb0xpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhdXRvX29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgSExTU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhMU1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNvbm5lY3Rpb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7T3duVXNlcn1cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIG1lPzogT3duVXNlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIElDRVNlcnZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVNlcnZlciB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICBwYXNzd29yZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHVybHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSUNFU2VydmVyXG4gICAqL1xuICB1c2VybmFtZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBKb2luQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogaWYgdHJ1ZSB0aGUgY2FsbCB3aWxsIGJlIGNyZWF0ZWQgaWYgaXQgZG9lc24ndCBleGlzdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgY3JlYXRlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgZGF0YT86IENhbGxSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbG9jYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBJZiB0aGUgcGFydGljaXBhbnQgaXMgbWlncmF0aW5nIGZyb20gYW5vdGhlciBTRlUsIHRoZW4gdGhpcyBpcyB0aGUgSUQgb2YgdGhlIHByZXZpb3VzIFNGVVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBtaWdyYXRpbmdfZnJvbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBub3RpZnk/OiBib29sZWFuO1xuICAvKipcbiAgICogaWYgdHJ1ZSBhbmQgdGhlIGNhbGwgaXMgY3JlYXRlZCwgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGluY2x1ZGUgcmluZz10cnVlXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICByaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEpvaW5DYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBKb2luQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q3JlZGVudGlhbHN9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c09wdGlvbnN9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzdGF0c19vcHRpb25zOiBTdGF0c09wdGlvbnM7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExhYmVsVGhyZXNob2xkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExhYmVsVGhyZXNob2xkcyB7XG4gIC8qKlxuICAgKiBUaHJlc2hvbGQgZm9yIGF1dG9tYXRpYyBtZXNzYWdlIGJsb2NrXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMYWJlbFRocmVzaG9sZHNcbiAgICovXG4gIGJsb2NrPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhyZXNob2xkIGZvciBhdXRvbWF0aWMgbWVzc2FnZSBmbGFnXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMYWJlbFRocmVzaG9sZHNcbiAgICovXG4gIGZsYWc/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtYXhfZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtYXhfcGFydGljaXBhbnRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdERldmljZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGRldmljZXNcbiAgICogQHR5cGUge0FycmF5PERldmljZT59XG4gICAqIEBtZW1iZXJvZiBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gICAqL1xuICBkZXZpY2VzOiBBcnJheTxEZXZpY2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxSZWNvcmRpbmc+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nczogQXJyYXk8Q2FsbFJlY29yZGluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxUcmFuc2NyaXB0aW9uPn1cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICB0cmFuc2NyaXB0aW9uczogQXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMb2NhdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMb2NhdGlvblxuICAgKi9cbiAgY29udGluZW50X2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMb2NhdGlvblxuICAgKi9cbiAgY291bnRyeV9pc29fY29kZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExvY2F0aW9uXG4gICAqL1xuICBzdWJkaXZpc2lvbl9pc29fY29kZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNT1NTdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1PU1N0YXRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBNT1NTdGF0c1xuICAgKi9cbiAgYXZlcmFnZV9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAqIEBtZW1iZXJvZiBNT1NTdGF0c1xuICAgKi9cbiAgaGlzdG9ncmFtX2R1cmF0aW9uX3NlY29uZHM6IEFycmF5PG51bWJlcj47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTU9TU3RhdHNcbiAgICovXG4gIG1heF9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE1PU1N0YXRzXG4gICAqL1xuICBtaW5fc2NvcmU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVkaWFQdWJTdWJIaW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVkaWFQdWJTdWJIaW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICBhdWRpb19wdWJsaXNoZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgYXVkaW9fc3Vic2NyaWJlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTWVkaWFQdWJTdWJIaW50XG4gICAqL1xuICB2aWRlb19wdWJsaXNoZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE1lZGlhUHViU3ViSGludFxuICAgKi9cbiAgdmlkZW9fc3Vic2NyaWJlZDogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVtYmVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1lbWJlclJlcXVlc3Qge1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgcm9sZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE1lbWJlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVtYmVyUmVzcG9uc2Uge1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIG1lbWJlciByZXNwb25zZSBkYXRhXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgZGVsZXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICByb2xlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIHRoZSBsYXN0IHVwZGF0ZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE11dGVVc2Vyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBtdXRlX2FsbF91c2Vycz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgc2NyZWVuc2hhcmVfYXVkaW8/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc1xuICAgKi9cbiAgbW9kZTogTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0gPVxuICAodHlwZW9mIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSlba2V5b2YgdHlwZW9mIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTnVsbEJvb2xcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOdWxsQm9vbCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE51bGxCb29sXG4gICAqL1xuICBIYXNWYWx1ZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE51bGxCb29sXG4gICAqL1xuICBWYWx1ZT86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE51bGxUaW1lXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTnVsbFRpbWUge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBOdWxsVGltZVxuICAgKi9cbiAgSGFzVmFsdWU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE51bGxUaW1lXG4gICAqL1xuICBWYWx1ZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBBbGwgcG9zc2liaWxpdHkgb2Ygc3RyaW5nIHRvIHVzZVxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgT3duQ2FwYWJpbGl0eSA9IHtcbiAgQkxPQ0tfVVNFUlM6ICdibG9jay11c2VycycsXG4gIENIQU5HRV9NQVhfRFVSQVRJT046ICdjaGFuZ2UtbWF4LWR1cmF0aW9uJyxcbiAgQ1JFQVRFX0NBTEw6ICdjcmVhdGUtY2FsbCcsXG4gIENSRUFURV9SRUFDVElPTjogJ2NyZWF0ZS1yZWFjdGlvbicsXG4gIEVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT046ICdlbmFibGUtbm9pc2UtY2FuY2VsbGF0aW9uJyxcbiAgRU5EX0NBTEw6ICdlbmQtY2FsbCcsXG4gIEpPSU5fQkFDS1NUQUdFOiAnam9pbi1iYWNrc3RhZ2UnLFxuICBKT0lOX0NBTEw6ICdqb2luLWNhbGwnLFxuICBKT0lOX0VOREVEX0NBTEw6ICdqb2luLWVuZGVkLWNhbGwnLFxuICBNVVRFX1VTRVJTOiAnbXV0ZS11c2VycycsXG4gIFBJTl9GT1JfRVZFUllPTkU6ICdwaW4tZm9yLWV2ZXJ5b25lJyxcbiAgUkVBRF9DQUxMOiAncmVhZC1jYWxsJyxcbiAgUkVNT1ZFX0NBTExfTUVNQkVSOiAncmVtb3ZlLWNhbGwtbWVtYmVyJyxcbiAgU0NSRUVOU0hBUkU6ICdzY3JlZW5zaGFyZScsXG4gIFNFTkRfQVVESU86ICdzZW5kLWF1ZGlvJyxcbiAgU0VORF9WSURFTzogJ3NlbmQtdmlkZW8nLFxuICBTVEFSVF9CUk9BRENBU1RfQ0FMTDogJ3N0YXJ0LWJyb2FkY2FzdC1jYWxsJyxcbiAgU1RBUlRfUkVDT1JEX0NBTEw6ICdzdGFydC1yZWNvcmQtY2FsbCcsXG4gIFNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0YXJ0LXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gIFNUT1BfQlJPQURDQVNUX0NBTEw6ICdzdG9wLWJyb2FkY2FzdC1jYWxsJyxcbiAgU1RPUF9SRUNPUkRfQ0FMTDogJ3N0b3AtcmVjb3JkLWNhbGwnLFxuICBTVE9QX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0b3AtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgVVBEQVRFX0NBTEw6ICd1cGRhdGUtY2FsbCcsXG4gIFVQREFURV9DQUxMX01FTUJFUjogJ3VwZGF0ZS1jYWxsLW1lbWJlcicsXG4gIFVQREFURV9DQUxMX1BFUk1JU1NJT05TOiAndXBkYXRlLWNhbGwtcGVybWlzc2lvbnMnLFxuICBVUERBVEVfQ0FMTF9TRVRUSU5HUzogJ3VwZGF0ZS1jYWxsLXNldHRpbmdzJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBPd25DYXBhYmlsaXR5ID0gKHR5cGVvZiBPd25DYXBhYmlsaXR5KVtrZXlvZiB0eXBlb2YgT3duQ2FwYWJpbGl0eV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgT3duVXNlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIE93blVzZXIge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBiYW5uZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENoYW5uZWxNdXRlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGNoYW5uZWxfbXV0ZXM6IEFycmF5PENoYW5uZWxNdXRlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEZXZpY2U+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgZGV2aWNlczogQXJyYXk8RGV2aWNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclxuICAgKi9cbiAgbGFzdF9hY3RpdmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIGxhdGVzdF9oaWRkZW5fY2hhbm5lbHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFVzZXJNdXRlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIG11dGVzOiBBcnJheTxVc2VyTXV0ZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIG9ubGluZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICBwcml2YWN5X3NldHRpbmdzPzogUHJpdmFjeVNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHB1c2hfbm90aWZpY2F0aW9ucz86IFB1c2hOb3RpZmljYXRpb25TZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICByb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHRlYW1zPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICB0b3RhbF91bnJlYWRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICB1bnJlYWRfY2hhbm5lbHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICB1bnJlYWRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyXG4gICAqL1xuICB1bnJlYWRfdGhyZWFkczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgT3duVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3duVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBiYW5uZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2hhbm5lbE11dGU+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBjaGFubmVsX211dGVzOiBBcnJheTxDaGFubmVsTXV0ZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVsZXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEZXZpY2U+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZXZpY2VzOiBBcnJheTxEZXZpY2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGludmlzaWJsZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXRlc3RfaGlkZGVuX2NoYW5uZWxzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxVc2VyTXV0ZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbXV0ZXM6IEFycmF5PFVzZXJNdXRlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBQcml2YWN5U2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcHVzaF9ub3RpZmljYXRpb25zPzogUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICByb2xlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0b3RhbF91bnJlYWRfY291bnQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHVucmVhZF9jaGFubmVsczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgdW5yZWFkX3RocmVhZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHJlcXVlc3RzIGFjY2VzcyB0byBhIGZlYXR1cmUgb24gYSBjYWxsLFxuICogY2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgZGlzcGxheSBhIHBlcm1pc3Npb24gcmVxdWVzdCB0byB0aGUgdXNlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvblJlcXVlc3RFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwZXJtaXNzaW9ucyByZXF1ZXN0ZWQgYnkgdGhlIHVzZXJcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBwZXJtaXNzaW9uczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucGVybWlzc2lvbl9yZXF1ZXN0XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQaW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGluUmVxdWVzdCB7XG4gIC8qKlxuICAgKiB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQaW5SZXF1ZXN0XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgdXNlciBJRCBvZiB0aGUgdXNlciB3aG8gcGlubmVkIHRoZSBtZXNzYWdlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQaW5SZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFBpblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGluUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQaW5SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWFkUmVjZWlwdHN9XG4gICAqIEBtZW1iZXJvZiBQcml2YWN5U2V0dGluZ3NcbiAgICovXG4gIHJlYWRfcmVjZWlwdHM/OiBSZWFkUmVjZWlwdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VHlwaW5nSW5kaWNhdG9yc31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1xuICAgKi9cbiAgdHlwaW5nX2luZGljYXRvcnM/OiBUeXBpbmdJbmRpY2F0b3JzO1xufVxuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHJpdmFjeVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlYWRSZWNlaXB0c31cbiAgICogQG1lbWJlcm9mIFByaXZhY3lTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICByZWFkX3JlY2VpcHRzPzogUmVhZFJlY2VpcHRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1R5cGluZ0luZGljYXRvcnN9XG4gICAqIEBtZW1iZXJvZiBQcml2YWN5U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdHlwaW5nX2luZGljYXRvcnM/OiBUeXBpbmdJbmRpY2F0b3JzO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQdWJsaXNoZWRUcmFja0luZm9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoZWRUcmFja0luZm8ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICAgKi9cbiAgY29kZWNfbWltZV90eXBlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlZFRyYWNrSW5mb1xuICAgKi9cbiAgZHVyYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdWJsaXNoZWRUcmFja0luZm9cbiAgICovXG4gIHRyYWNrX3R5cGU/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5ncyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1xuICAgKi9cbiAgZGlzYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1xuICAgKi9cbiAgZGlzYWJsZWRfdW50aWw/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc0lucHV0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge051bGxCb29sfVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzSW5wdXRcbiAgICovXG4gIGRpc2FibGVkPzogTnVsbEJvb2w7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TnVsbFRpbWV9XG4gICAqIEBtZW1iZXJvZiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dFxuICAgKi9cbiAgZGlzYWJsZWRfdW50aWw/OiBOdWxsVGltZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkX3VudGlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydHM6IEFycmF5PENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgd2F0Y2g/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgY2FsbHM6IEFycmF5PENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzPjtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgbmV4dD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG59XG4vKipcbiAqIFJUTVAgaW5wdXQgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUlRNUEluZ3Jlc3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSVE1QSW5ncmVzcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEluZ3Jlc3NcbiAgICovXG4gIGFkZHJlc3M6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVhY3Rpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWN0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICBlbW9qaV9jb2RlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlYWRSZWNlaXB0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlYWRSZWNlaXB0cyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJlYWRSZWNlaXB0c1xuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXVkaW9fb25seT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHF1YWxpdHk/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9XG4gICh0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtKVtrZXlvZiB0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXVkaW9fb25seTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcXVhbGl0eTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIFJlYXNvbiBmb3IgcmVqZWN0aW5nIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWplY3RDYWxsUmVxdWVzdFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWplY3RDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0XG4gICAqL1xuICBwZXJtaXNzaW9uczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1dG9fY2FuY2VsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYXV0b19jYW5jZWxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbWlzc2VkX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTRlVMb2NhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0ZVTG9jYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q29vcmRpbmF0ZXN9XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBjb29yZGluYXRlczogQ29vcmRpbmF0ZXM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVTG9jYXRpb25SZXNwb25zZVxuICAgKi9cbiAgZGF0YWNlbnRlcjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVUxvY2F0aW9uUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TG9jYXRpb259XG4gICAqIEBtZW1iZXJvZiBTRlVMb2NhdGlvblJlc3BvbnNlXG4gICAqL1xuICBsb2NhdGlvbjogTG9jYXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNGVVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0ZVUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICBlZGdlX25hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIHdzX2VuZHBvaW50OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRDYWxsRXZlbnRSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZENhbGxFdmVudFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgU2VuZENhbGxFdmVudFJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRDYWxsRXZlbnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRDYWxsRXZlbnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZENhbGxFdmVudFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIGVtb2ppX2NvZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVhY3Rpb25SZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICByZWFjdGlvbjogUmVhY3Rpb25SZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU29ydFBhcmFtUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNvcnRQYXJhbVJlcXVlc3Qge1xuICAvKipcbiAgICogRGlyZWN0aW9uIG9mIHNvcnRpbmcsIDEgZm9yIEFzY2VuZGluZywgLTEgZm9yIERlc2NlbmRpbmcsIGRlZmF1bHQgaXMgMVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU29ydFBhcmFtUmVxdWVzdFxuICAgKi9cbiAgZGlyZWN0aW9uPzogbnVtYmVyO1xuICAvKipcbiAgICogTmFtZSBvZiBmaWVsZCB0byBzb3J0IGJ5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTb3J0UGFyYW1SZXF1ZXN0XG4gICAqL1xuICBmaWVsZD86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIHBsYXlsaXN0X3VybDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbl9leHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0cyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3RhdHNcbiAgICovXG4gIGF2ZXJhZ2Vfc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN0YXRzXG4gICAqL1xuICBtYXhfc2Vjb25kczogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGF0c09wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0c09wdGlvbnMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN0YXRzT3B0aW9uc1xuICAgKi9cbiAgcmVwb3J0aW5nX2ludGVydmFsX21zOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcExpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BMaXZlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcFJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcFJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN1YnNlc3Npb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzZXNzaW9uIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBlbmRlZF9hdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIGpvaW5lZF9hdDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01lZGlhUHViU3ViSGludH1cbiAgICogQG1lbWJlcm9mIFN1YnNlc3Npb25cbiAgICovXG4gIHB1Yl9zdWJfaGludD86IE1lZGlhUHViU3ViSGludDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdWJzZXNzaW9uXG4gICAqL1xuICBzZnVfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVGFyZ2V0UmVzb2x1dGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhcmdldFJlc29sdXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFRhcmdldFJlc29sdXRpb25cbiAgICovXG4gIGJpdHJhdGU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbn1cbi8qKlxuICogU2V0cyB0aHJlc2hvbGRzIGZvciBBSSBtb2RlcmF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRocmVzaG9sZHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHJlc2hvbGRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMYWJlbFRocmVzaG9sZHN9XG4gICAqIEBtZW1iZXJvZiBUaHJlc2hvbGRzXG4gICAqL1xuICBleHBsaWNpdD86IExhYmVsVGhyZXNob2xkcztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtMYWJlbFRocmVzaG9sZHN9XG4gICAqIEBtZW1iZXJvZiBUaHJlc2hvbGRzXG4gICAqL1xuICBzcGFtPzogTGFiZWxUaHJlc2hvbGRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xhYmVsVGhyZXNob2xkc31cbiAgICogQG1lbWJlcm9mIFRocmVzaG9sZHNcbiAgICovXG4gIHRveGljPzogTGFiZWxUaHJlc2hvbGRzO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2VfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uX21vZGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RNb2RlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uX21vZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbW9kZTogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VNb2RlRW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUeXBpbmdJbmRpY2F0b3JzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHlwaW5nSW5kaWNhdG9ycyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFR5cGluZ0luZGljYXRvcnNcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHVzZXIgdG8gdW5ibG9ja1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja1VzZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja1VzZXJSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIGlzIHVuYmxvY2tlZCBvbiBhIGNhbGwsXG4gKiB0aGlzIGNhbiBiZSB1c2VmdWwgdG8gbm90aWZ5IHRoZSB1c2VyIHRoYXQgdGhleSBjYW4gbm93IGpvaW4gdGhlIGNhbGwgYWdhaW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5ibG9ja2VkVXNlckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja2VkVXNlckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnVuYmxvY2tlZF91c2VyXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVbmJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5waW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5waW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVxdWVzdFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIHVzZXIgSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVucGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbnBpblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIExpc3Qgb2YgdXNlcklEIHRvIHJlbW92ZVxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgcmVtb3ZlX21lbWJlcnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogTGlzdCBvZiBtZW1iZXJzIHRvIHVwZGF0ZSBvciBpbnNlcnRcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB1cGRhdGVfbWVtYmVycz86IEFycmF5PE1lbWJlclJlcXVlc3Q+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHNldHRpbmdzX292ZXJyaWRlPzogQ2FsbFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqIHRoZSB0aW1lIHRoZSBjYWxsIGlzIHNjaGVkdWxlZCB0byBzdGFydFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHN0YXJ0c19hdD86IHN0cmluZztcbn1cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlQ2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgZ3JhbnRfcGVybWlzc2lvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICByZXZva2VfcGVybWlzc2lvbnM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gbm90aWZ5IGFib3V0IHBlcm1pc3Npb24gY2hhbmdlcyBmb3IgYSB1c2VyLCBjbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCB1cGRhdGUgdGhlaXIgVUkgYWNjb3JkaW5nbHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXJcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5PjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucGVybWlzc2lvbnNfdXBkYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJCYW5uZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJCYW5uZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjaGFubmVsX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBjaGFubmVsX3R5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYnk6IFVzZXJPYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICBleHBpcmF0aW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHNoYWRvdzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyQmFubmVkRXZlbnRcbiAgICovXG4gIHRlYW0/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckJhbm5lZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJCYW5uZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJEZWFjdGl2YXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckRlYWN0aXZhdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJEZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2J5OiBVc2VyT2JqZWN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJEZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckRlbGV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJEZWxldGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgZGVsZXRlX2NvbnZlcnNhdGlvbl9jaGFubmVsczogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlckRlbGV0ZWRFdmVudFxuICAgKi9cbiAgaGFyZF9kZWxldGU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyRGVsZXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJEZWxldGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VySW5mb1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckluZm9SZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlckluZm9SZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VySW5mb1Jlc3BvbnNlXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJJbmZvUmVzcG9uc2VcbiAgICovXG4gIHJvbGVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlIHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBtdXRlIGV4cGlyYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICBleHBpcmVzPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVxuICAgKi9cbiAgdGFyZ2V0PzogVXNlck9iamVjdDtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlXG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlck11dGVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICBleHBpcmVzPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldD86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZVJlc3BvbnNlXG4gICAqL1xuICB1cGRhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVSZXNwb25zZVxuICAgKi9cbiAgdXNlcj86IFVzZXJSZXNwb25zZTtcbn1cblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyTXV0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJNdXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJNdXRlZEV2ZW50XG4gICAqL1xuICB0YXJnZXRfdXNlcj86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHRhcmdldF91c2Vycz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyT2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGNoYXQgdXNlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyT2JqZWN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlck9iamVjdCB7XG4gIC8qKlxuICAgKiBFeHBpcmF0aW9uIGRhdGUgb2YgdGhlIGJhblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgYmFuX2V4cGlyZXM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGV0aGVyIGEgdXNlciBpcyBiYW5uZWQgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgYmFubmVkOiBib29sZWFuO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBjcmVhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICogRGF0ZSBvZiBkZWFjdGl2YXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJlYWRvbmx5IGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIHVzZXIgaWRlbnRpZmllclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFByZWZlcnJlZCBsYW5ndWFnZSBvZiBhIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZSBvZiBsYXN0IGFjdGl2aXR5XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIG9ubGluZSBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSBvbmxpbmU6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHJpdmFjeVNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKiBSZXZvY2F0aW9uIGRhdGUgZm9yIHRva2Vuc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlck9iamVjdFxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgc2V0IG9mIHVzZXIgcGVybWlzc2lvbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJPYmplY3RcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgdGVhbXMgdXNlciBpcyBhIHBhcnQgb2ZcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICB0ZWFtcz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyT2JqZWN0XG4gICAqL1xuICByZWFkb25seSB1cGRhdGVkX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJQcmVzZW5jZUNoYW5nZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnRcbiAgICovXG4gIHVzZXI/OiBVc2VyT2JqZWN0O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZWFjdGl2YXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVhY3RpdmF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlck9iamVjdH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZWFjdGl2YXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIFVzZXIgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGludmlzaWJsZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICAvKipcbiAgICogT3B0aW9uYWwgbmFtZSBvZiB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQcml2YWN5U2V0dGluZ3N9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IFByaXZhY3lTZXR0aW5ncztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dH1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBwdXNoX25vdGlmaWNhdGlvbnM/OiBQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NJbnB1dDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIFdoZXRoZXIgYSB1c2VyIGlzIGJhbm5lZCBvciBub3RcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGJhbm5lZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUgb2YgZGVhY3RpdmF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGRlbGV0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVbmlxdWUgdXNlciBpZGVudGlmaWVyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFByZWZlcnJlZCBsYW5ndWFnZSBvZiBhIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUgb2YgbGFzdCBhY3Rpdml0eVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBsYXN0X2FjdGl2ZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG5hbWUgb2YgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBhIHVzZXIgb25saW5lIG9yIG5vdFxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgb25saW5lOiBib29sZWFuO1xuICAvKipcbiAgICogUmV2b2NhdGlvbiBkYXRlIGZvciB0b2tlbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICogRGV0ZXJtaW5lcyB0aGUgc2V0IG9mIHVzZXIgcGVybWlzc2lvbnNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiB0ZWFtcyB1c2VyIGlzIGEgcGFydCBvZlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdGVhbXM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclNlc3Npb25TdGF0c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJTZXNzaW9uU3RhdHMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGJyb3dzZXI/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgYnJvd3Nlcl92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGN1cnJlbnRfaXA/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgY3VycmVudF9zZnU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgZGV2aWNlX21vZGVsPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRldmljZV92ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGRpc3RhbmNlX3RvX3NmdV9raWxvbWV0ZXJzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIGZyZWV6ZV9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7R2VvbG9jYXRpb25SZXN1bHR9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBnZW9sb2NhdGlvbj86IEdlb2xvY2F0aW9uUmVzdWx0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBsYXRlbmN5PzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2Zpcl9wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9mcmVlemVfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfZnJlZXplc19kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgbWF4X2ZyZWV6ZXNfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfbmFja19wZXJfc2Vjb25kPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9wbGlfcGVyX3NlY29uZD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1F1YWxpdHl9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBtYXhfcHVibGlzaGluZ192aWRlb19xdWFsaXR5PzogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUXVhbGl0eX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIG1heF9yZWNlaXZpbmdfdmlkZW9fcXVhbGl0eT86IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvcz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBvc192ZXJzaW9uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHBhY2tldF9sb3NzX2ZyYWN0aW9uOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVkaWFQdWJTdWJIaW50fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHViX3N1Yl9oaW50cz86IE1lZGlhUHViU3ViSGludDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxQdWJsaXNoZWRUcmFja0luZm8+fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVkX3RyYWNrcz86IEFycmF5PFB1Ymxpc2hlZFRyYWNrSW5mbz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TU9TU3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfYXVkaW9fbW9zPzogTU9TU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfbGF0ZW5jeT86IFN0YXRzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hlcl9ub2lzZV9jYW5jZWxsYXRpb25fc2Vjb25kcz86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfcGFja2V0X2xvc3NfZnJhY3Rpb246IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoZXJfcXVhbGl0eV9saW1pdGF0aW9uX2ZyYWN0aW9uPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogbnVtYmVyOyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcHVibGlzaGVyX3ZpZGVvX3F1YWxpdHlfbGltaXRhdGlvbl9kdXJhdGlvbl9zZWNvbmRzPzoge1xuICAgIFtrZXk6IHN0cmluZ106IG51bWJlcjtcbiAgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBwdWJsaXNoaW5nX2F1ZGlvX2NvZGVjPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hpbmdfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHB1Ymxpc2hpbmdfdmlkZW9fY29kZWM/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgcXVhbGl0eV9zY29yZTogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHJlY2VpdmluZ19hdWRpb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICByZWNlaXZpbmdfZHVyYXRpb25fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHJlY2VpdmluZ192aWRlb19jb2RlYz86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzZGs/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc2RrX3ZlcnNpb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge01PU1N0YXRzfVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgc3Vic2NyaWJlcl9hdWRpb19tb3M/OiBNT1NTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTdGF0c31cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHN1YnNjcmliZXJfaml0dGVyPzogU3RhdHM7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U3RhdHN9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX2xhdGVuY3k/OiBTdGF0cztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzY3JpYmVyX3ZpZGVvX3F1YWxpdHlfdGhyb3R0bGVkX2R1cmF0aW9uX3NlY29uZHM/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U3Vic2Vzc2lvbj59XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICBzdWJzZXNzaW9ucz86IEFycmF5PFN1YnNlc3Npb24+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxUaW1lbGluZX1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRpbWVsaW5lPzogQ2FsbFRpbWVsaW5lO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRvdGFsX3BpeGVsc19pbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTZXNzaW9uU3RhdHNcbiAgICovXG4gIHRvdGFsX3BpeGVsc19vdXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclNlc3Npb25TdGF0c1xuICAgKi9cbiAgdHJ1bmNhdGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyU2Vzc2lvblN0YXRzXG4gICAqL1xuICB3ZWJydGNfdmVyc2lvbj86IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlclN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclN0YXRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VySW5mb1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICBpbmZvOiBVc2VySW5mb1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJTdGF0c1xuICAgKi9cbiAgbWluX2V2ZW50X3RzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclN0YXRzXG4gICAqL1xuICByYXRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VXNlclNlc3Npb25TdGF0cz59XG4gICAqIEBtZW1iZXJvZiBVc2VyU3RhdHNcbiAgICovXG4gIHNlc3Npb25fc3RhdHM6IEFycmF5PFVzZXJTZXNzaW9uU3RhdHM+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyVW5iYW5uZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJVbmJhbm5lZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY2hhbm5lbF9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVbmJhbm5lZEV2ZW50XG4gICAqL1xuICBjaGFubmVsX3R5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclVuYmFubmVkRXZlbnRcbiAgICovXG4gIHNoYWRvdzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdGVhbT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyVW5iYW5uZWRFdmVudFxuICAgKi9cbiAgdXNlcj86IFVzZXJPYmplY3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgcmVjZWl2ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJPYmplY3R9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlck9iamVjdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9RdWFsaXR5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9RdWFsaXR5IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1Jlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1F1YWxpdHlcbiAgICovXG4gIHJlc29sdXRpb24/OiBWaWRlb1Jlc29sdXRpb247XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9RdWFsaXR5XG4gICAqL1xuICB1c2FnZV90eXBlPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1Jlc29sdXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1Jlc29sdXRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFZpZGVvUmVzb2x1dGlvblxuICAgKi9cbiAgaGVpZ2h0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZXNvbHV0aW9uXG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2FtZXJhX2RlZmF1bHRfb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBjYW1lcmFfZmFjaW5nPzogVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGFyZ2V0UmVzb2x1dGlvbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbj86IFRhcmdldFJlc29sdXRpb247XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtID0ge1xuICBGUk9OVDogJ2Zyb250JyxcbiAgQkFDSzogJ2JhY2snLFxuICBFWFRFUk5BTDogJ2V4dGVybmFsJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0gPVxuICAodHlwZW9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSlba2V5b2YgdHlwZW9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNhbWVyYV9kZWZhdWx0X29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2FtZXJhX2ZhY2luZzogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRhcmdldF9yZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0gPSB7XG4gIEZST05UOiAnZnJvbnQnLFxuICBCQUNLOiAnYmFjaycsXG4gIEVYVEVSTkFMOiAnZXh0ZXJuYWwnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0gPVxuICAodHlwZW9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0pW2tleW9mIHR5cGVvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBXU0F1dGhNZXNzYWdlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV1NBdXRoTWVzc2FnZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHByb2R1Y3RzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Nvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB1c2VyX2RldGFpbHM6IENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Q7XG59XG4vKipcbiAqIEB0eXBlIFdTRXZlbnRcbiAqIFRoZSBkaXNjcmltaW5hdG9yIG9iamVjdCBmb3IgYWxsIHdlYnNvY2tldCBldmVudHMsIGl0IG1hcHMgZXZlbnRzJyBwYXlsb2FkIHRvIHRoZSBmaW5hbCB0eXBlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCB0eXBlIFdTRXZlbnQgPVxuICB8ICh7IHR5cGU6ICdjYWxsLmFjY2VwdGVkJyB9ICYgQ2FsbEFjY2VwdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuYmxvY2tlZF91c2VyJyB9ICYgQmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbicgfSAmIENsb3NlZENhcHRpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jcmVhdGVkJyB9ICYgQ2FsbENyZWF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5kZWxldGVkJyB9ICYgQ2FsbERlbGV0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5lbmRlZCcgfSAmIENhbGxFbmRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkJyB9ICYgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmxpdmVfc3RhcnRlZCcgfSAmIENhbGxMaXZlU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9hZGRlZCcgfSAmIENhbGxNZW1iZXJBZGRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9yZW1vdmVkJyB9ICYgQ2FsbE1lbWJlclJlbW92ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5tZW1iZXJfdXBkYXRlZCcgfSAmIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nO1xuICAgIH0gJiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5taXNzZWQnIH0gJiBDYWxsTWlzc2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubm90aWZpY2F0aW9uJyB9ICYgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcgfSAmIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbnNfdXBkYXRlZCcgfSAmIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWFjdGlvbl9uZXcnIH0gJiBDYWxsUmVhY3Rpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19yZWFkeScgfSAmIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCcgfSAmIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVqZWN0ZWQnIH0gJiBDYWxsUmVqZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yaW5nJyB9ICYgQ2FsbFJpbmdFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5zZXNzaW9uX2VuZGVkJyB9ICYgQ2FsbFNlc3Npb25FbmRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2NvdW50X3VwZGF0ZWQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9sZWZ0JztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5zZXNzaW9uX3N0YXJ0ZWQnIH0gJiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwudHJhbnNjcmlwdGlvbl9yZWFkeScgfSAmIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51bmJsb2NrZWRfdXNlcicgfSAmIFVuYmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51cGRhdGVkJyB9ICYgQ2FsbFVwZGF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51c2VyX211dGVkJyB9ICYgQ2FsbFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjb25uZWN0aW9uLmVycm9yJyB9ICYgQ29ubmVjdGlvbkVycm9yRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24ub2snIH0gJiBDb25uZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY3VzdG9tJyB9ICYgQ3VzdG9tVmlkZW9FdmVudClcbiAgfCAoeyB0eXBlOiAnaGVhbHRoLmNoZWNrJyB9ICYgSGVhbHRoQ2hlY2tFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5iYW5uZWQnIH0gJiBVc2VyQmFubmVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIuZGVhY3RpdmF0ZWQnIH0gJiBVc2VyRGVhY3RpdmF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5kZWxldGVkJyB9ICYgVXNlckRlbGV0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci5tdXRlZCcgfSAmIFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnByZXNlbmNlLmNoYW5nZWQnIH0gJiBVc2VyUHJlc2VuY2VDaGFuZ2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ3VzZXIucmVhY3RpdmF0ZWQnIH0gJiBVc2VyUmVhY3RpdmF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci51bmJhbm5lZCcgfSAmIFVzZXJVbmJhbm5lZEV2ZW50KVxuICB8ICh7IHR5cGU6ICd1c2VyLnVwZGF0ZWQnIH0gJiBVc2VyVXBkYXRlZEV2ZW50KTtcbiIsImltcG9ydCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NSZXNwb25zZSB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFN0YWJsZVdTQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQgeyBDb25uZWN0ZWRFdmVudCwgVXNlclJlcXVlc3QsIFdTRXZlbnQgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQWxsU2Z1RXZlbnRzIH0gZnJvbSAnLi4vLi4vcnRjJztcblxuZXhwb3J0IHR5cGUgVVIgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgVXNlciA9XG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdyb2xlJz4gJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ3JvbGUnPiAmIHsgdHlwZTogJ2d1ZXN0JyB9KVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAnaWQnIHwgJ3JvbGUnPiAmIHtcbiAgICAgIGlkPzogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSBVc2VyV2l0aElkID1cbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU6ICdndWVzdCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7XG4gICAgICBpZDogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSB7IE93blVzZXJSZXNwb25zZSB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCB0eXBlIENvbm5lY3RBUElSZXNwb25zZSA9IFByb21pc2U8dm9pZCB8IENvbm5lY3RlZEV2ZW50PjtcblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAndHJhY2UnIHwgJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cbnR5cGUgRXJyb3JSZXNwb25zZURldGFpbHMgPSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgbWVzc2FnZXM6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IHR5cGUgQVBJRXJyb3JSZXNwb25zZSA9IHtcbiAgY29kZTogbnVtYmVyO1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG1vcmVfaW5mbzogc3RyaW5nO1xuICBTdGF0dXNDb2RlOiBudW1iZXI7XG4gIGRldGFpbHM/OiBFcnJvclJlc3BvbnNlRGV0YWlscztcbiAgdW5yZWNvdmVyYWJsZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY2xhc3MgRXJyb3JGcm9tUmVzcG9uc2U8VD4gZXh0ZW5kcyBFcnJvciB7XG4gIGNvZGU/OiBudW1iZXI7XG4gIHJlc3BvbnNlPzogQXhpb3NSZXNwb25zZTxUPjtcbiAgc3RhdHVzPzogbnVtYmVyO1xuICB1bnJlY292ZXJhYmxlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IHR5cGUgQ29ubmVjdGlvbkNoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCc7XG4gIG9ubGluZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIE5ldHdvcmtDaGFuZ2VkRXZlbnQgPSB7XG4gIHR5cGU6ICduZXR3b3JrLmNoYW5nZWQnO1xuICBvbmxpbmU6IGJvb2xlYW47XG59O1xuXG5leHBvcnQgdHlwZSBUcmFuc3BvcnRDaGFuZ2VkRXZlbnQgPSB7XG4gIHR5cGU6ICd0cmFuc3BvcnQuY2hhbmdlZCc7XG4gIG1vZGU6ICdsb25ncG9sbCc7XG59O1xuXG5leHBvcnQgdHlwZSBDb25uZWN0aW9uUmVjb3ZlcmVkRXZlbnQgPSB7XG4gIHR5cGU6ICdjb25uZWN0aW9uLnJlY292ZXJlZCc7XG59O1xuXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb0V2ZW50ID0gKFxuICB8IFdTRXZlbnRcbiAgfCBOZXR3b3JrQ2hhbmdlZEV2ZW50XG4gIHwgQ29ubmVjdGlvbkNoYW5nZWRFdmVudFxuICB8IFRyYW5zcG9ydENoYW5nZWRFdmVudFxuICB8IENvbm5lY3Rpb25SZWNvdmVyZWRFdmVudFxuKSAmIHsgcmVjZWl2ZWRfYXQ/OiBzdHJpbmcgfCBEYXRlIH07XG5cbi8vIFRPRE86IHdlIHNob3VsZCB1c2UgV1NDYWxsRXZlbnQgaGVyZSBidXQgdGhhdCBuZWVkcyBmaXhpbmdcbmV4cG9ydCB0eXBlIFN0cmVhbUNhbGxFdmVudCA9IEV4dHJhY3Q8U3RyZWFtVmlkZW9FdmVudCwgeyBjYWxsX2NpZDogc3RyaW5nIH0+O1xuZXhwb3J0IHR5cGUgRXZlbnRUeXBlcyA9ICdhbGwnIHwgV1NFdmVudFsndHlwZSddO1xuXG5leHBvcnQgdHlwZSBBbGxDbGllbnRFdmVudFR5cGVzID0gJ2FsbCcgfCBTdHJlYW1WaWRlb0V2ZW50Wyd0eXBlJ107XG5leHBvcnQgdHlwZSBBbGxDbGllbnRFdmVudHMgPSB7XG4gIFtLIGluIEFsbENsaWVudEV2ZW50VHlwZXNdOiBFeHRyYWN0PFN0cmVhbVZpZGVvRXZlbnQsIHsgdHlwZTogSyB9Pjtcbn07XG5leHBvcnQgdHlwZSBDbGllbnRFdmVudExpc3RlbmVyPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+ID0gKFxuICBldmVudDogQWxsQ2xpZW50RXZlbnRzW0VdLFxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBBbGxDbGllbnRDYWxsRXZlbnRzID0ge1xuICBbSyBpbiBFdmVudFR5cGVzXTogRXh0cmFjdDxXU0V2ZW50LCB7IHR5cGU6IEsgfT47XG59O1xuXG5leHBvcnQgdHlwZSBBbGxDYWxsRXZlbnRzID0gQWxsQ2xpZW50Q2FsbEV2ZW50cyAmIEFsbFNmdUV2ZW50cztcbmV4cG9ydCB0eXBlIENhbGxFdmVudExpc3RlbmVyPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPiA9IChcbiAgZXZlbnQ6IEFsbENhbGxFdmVudHNbRV0sXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIExvZ2dlciA9IChcbiAgbG9nTGV2ZWw6IExvZ0xldmVsLFxuICBtZXNzYWdlOiBzdHJpbmcsXG4gIC4uLmFyZ3M6IHVua25vd25bXVxuKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1DbGllbnRPcHRpb25zID0gUGFydGlhbDxBeGlvc1JlcXVlc3RDb25maWc+ICYge1xuICAvKipcbiAgICogVXNlZCB0byBkaXNhYmxlIHdhcm5pbmdzIHRoYXQgYXJlIHRyaWdnZXJlZCBieSB1c2luZyBjb25uZWN0VXNlciBvciBjb25uZWN0QW5vbnltb3VzVXNlciBzZXJ2ZXItc2lkZS5cbiAgICovXG4gIGFsbG93U2VydmVyU2lkZUNvbm5lY3Q/OiBib29sZWFuO1xuICBheGlvc1JlcXVlc3RDb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWc7XG4gIC8qKlxuICAgKiBCYXNlIHVybCB0byB1c2UgZm9yIEFQSVxuICAgKiBzdWNoIGFzIGh0dHBzOi8vY2hhdC1wcm94eS1kdWJsaW4uc3RyZWFtLWlvLWFwaS5jb21cbiAgICovXG4gIGJhc2VVUkw/OiBzdHJpbmc7XG4gIGJyb3dzZXI/OiBib29sZWFuO1xuICAvLyBkZXZpY2U/OiBCYXNlRGV2aWNlRmllbGRzO1xuICBlbmFibGVJbnNpZ2h0cz86IGJvb2xlYW47XG4gIC8qKiBleHBlcmltZW50YWwgZmVhdHVyZSwgcGxlYXNlIGNvbnRhY3Qgc3VwcG9ydCBpZiB5b3Ugd2FudCB0aGlzIGZlYXR1cmUgZW5hYmxlZCBmb3IgeW91ICovXG4gIGVuYWJsZVdTRmFsbGJhY2s/OiBib29sZWFuO1xuICBsb2dnZXI/OiBMb2dnZXI7XG4gIGxvZ0xldmVsPzogTG9nTGV2ZWw7XG4gIC8qKlxuICAgKiBUaGUgVVJMIHRvIHVzZSBmb3IgdGhlIGxvY2F0aW9uIGhpbnQuXG4gICAqL1xuICBsb2NhdGlvbkhpbnRVcmw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCB0aW1lb3V0IGZvciByZXF1ZXN0aW5nIGEgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludFRpbWVvdXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXR0ZW1wdHMgdG8gcmVxdWVzdCBhIGxvY2F0aW9uIGhpbnQuXG4gICAqL1xuICBsb2NhdGlvbkhpbnRNYXhBdHRlbXB0cz86IG51bWJlcjtcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdXNlciB3aWxsIGJlIHBlcnNpc3RlZCBvbiBjbGllbnQuIE90aGVyd2lzZSBpZiBgY29ubmVjdFVzZXJgIGNhbGwgZmFpbHMsIHRoZW4geW91IG5lZWQgdG9cbiAgICogY2FsbCBgY29ubmVjdFVzZXJgIGFnYWluIHRvIHJldHJ5LlxuICAgKiBUaGlzIGlzIG1haW5seSB1c2VmdWwgZm9yIGNoYXQgYXBwbGljYXRpb24gd29ya2luZyBpbiBvZmZsaW5lIG1vZGUsIHdoZXJlIHlvdSB3aWxsIG5lZWQgY2xpZW50LnVzZXIgdG9cbiAgICogcGVyc2lzdCBldmVuIGlmIGNvbm5lY3RVc2VyIGNhbGwgZmFpbHMuXG4gICAqL1xuICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgc2VjcmV0IGtleSBmb3IgdGhlIEFQSSBrZXkuIFRoaXMgaXMgb25seSBuZWVkZWQgZm9yIHNlcnZlciBzaWRlIGF1dGhlbnRpY2F0aW9uLlxuICAgKi9cbiAgc2VjcmV0Pzogc3RyaW5nO1xuXG4gIHdhcm1VcD86IGJvb2xlYW47XG4gIC8vIFNldCB0aGUgaW5zdGFuY2Ugb2YgU3RhYmxlV1NDb25uZWN0aW9uIG9uIGNoYXQgY2xpZW50LiBJdHMgcHVyZWx5IGZvciB0ZXN0aW5nIHB1cnBvc2UgYW5kIHNob3VsZFxuICAvLyBub3QgYmUgdXNlZCBpbiBwcm9kdWN0aW9uIGFwcHMuXG4gIHdzQ29ubmVjdGlvbj86IFN0YWJsZVdTQ29ubmVjdGlvbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRva2VuUHJvdmlkZXIgPSAoKSA9PiBQcm9taXNlPHN0cmluZz47XG5leHBvcnQgdHlwZSBUb2tlbk9yUHJvdmlkZXIgPSBudWxsIHwgc3RyaW5nIHwgVG9rZW5Qcm92aWRlciB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgQnVpbHRJblJlamVjdFJlYXNvbiA9ICdidXN5JyB8ICdkZWNsaW5lJyB8ICdjYW5jZWwnO1xuZXhwb3J0IHR5cGUgUmVqZWN0UmVhc29uID0gQnVpbHRJblJlamVjdFJlYXNvbiB8IHN0cmluZztcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuOS40IHdpdGggcGFyYW1ldGVyIGxvbmdfdHlwZV9zdHJpbmcsY2xpZW50X2dlbmVyaWMsc2VydmVyX25vbmUsZXNsaW50X2Rpc2FibGUsb3B0aW1pemVfY29kZV9zaXplXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcImdvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QucHJvdG9cIiAocGFja2FnZSBcImdvb2dsZS5wcm90b2J1ZlwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbi8vXG4vLyBQcm90b2NvbCBCdWZmZXJzIC0gR29vZ2xlJ3MgZGF0YSBpbnRlcmNoYW5nZSBmb3JtYXRcbi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy8gICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuLy9cbmltcG9ydCB0eXBlIHtcbiAgSnNvbk9iamVjdCxcbiAgSnNvblJlYWRPcHRpb25zLFxuICBKc29uVmFsdWUsXG4gIEpzb25Xcml0ZU9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7XG4gIGlzSnNvbk9iamVjdCxcbiAgTWVzc2FnZVR5cGUsXG4gIHR5cGVvZkpzb25WYWx1ZSxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIGBTdHJ1Y3RgIHJlcHJlc2VudHMgYSBzdHJ1Y3R1cmVkIGRhdGEgdmFsdWUsIGNvbnNpc3Rpbmcgb2YgZmllbGRzXG4gKiB3aGljaCBtYXAgdG8gZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLiBJbiBzb21lIGxhbmd1YWdlcywgYFN0cnVjdGBcbiAqIG1pZ2h0IGJlIHN1cHBvcnRlZCBieSBhIG5hdGl2ZSByZXByZXNlbnRhdGlvbi4gRm9yIGV4YW1wbGUsIGluXG4gKiBzY3JpcHRpbmcgbGFuZ3VhZ2VzIGxpa2UgSlMgYSBzdHJ1Y3QgaXMgcmVwcmVzZW50ZWQgYXMgYW5cbiAqIG9iamVjdC4gVGhlIGRldGFpbHMgb2YgdGhhdCByZXByZXNlbnRhdGlvbiBhcmUgZGVzY3JpYmVkIHRvZ2V0aGVyXG4gKiB3aXRoIHRoZSBwcm90byBzdXBwb3J0IGZvciB0aGUgbGFuZ3VhZ2UuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBTdHJ1Y3RgIGlzIEpTT04gb2JqZWN0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdHJ1Y3Qge1xuICAvKipcbiAgICogVW5vcmRlcmVkIG1hcCBvZiBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogbWFwPHN0cmluZywgZ29vZ2xlLnByb3RvYnVmLlZhbHVlPiBmaWVsZHMgPSAxO1xuICAgKi9cbiAgZmllbGRzOiB7XG4gICAgW2tleTogc3RyaW5nXTogVmFsdWU7XG4gIH07XG59XG4vKipcbiAqIGBWYWx1ZWAgcmVwcmVzZW50cyBhIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXJcbiAqIG51bGwsIGEgbnVtYmVyLCBhIHN0cmluZywgYSBib29sZWFuLCBhIHJlY3Vyc2l2ZSBzdHJ1Y3QgdmFsdWUsIG9yIGFcbiAqIGxpc3Qgb2YgdmFsdWVzLiBBIHByb2R1Y2VyIG9mIHZhbHVlIGlzIGV4cGVjdGVkIHRvIHNldCBvbmUgb2YgdGhlc2VcbiAqIHZhcmlhbnRzLiBBYnNlbmNlIG9mIGFueSB2YXJpYW50IGluZGljYXRlcyBhbiBlcnJvci5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYFZhbHVlYCBpcyBKU09OIHZhbHVlLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZhbHVlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjoga2luZFxuICAgKi9cbiAga2luZDpcbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBudWxsIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUgbnVsbF92YWx1ZSA9IDE7XG4gICAgICAgICAqL1xuICAgICAgICBudWxsVmFsdWU6IE51bGxWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGRvdWJsZSB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBkb3VibGUgbnVtYmVyX3ZhbHVlID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIG51bWJlclZhbHVlOiBudW1iZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSBzdHJpbmcgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHN0cmluZ192YWx1ZSA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJpbmdWYWx1ZTogc3RyaW5nO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdib29sVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIGJvb2xlYW4gdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBib29sX3ZhbHVlID0gNDtcbiAgICAgICAgICovXG4gICAgICAgIGJvb2xWYWx1ZTogYm9vbGVhbjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHN0cnVjdHVyZWQgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBzdHJ1Y3RfdmFsdWUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnbGlzdFZhbHVlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcHJlc2VudHMgYSByZXBlYXRlZCBgVmFsdWVgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUgbGlzdF92YWx1ZSA9IDY7XG4gICAgICAgICAqL1xuICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBgTGlzdFZhbHVlYCBpcyBhIHdyYXBwZXIgYXJvdW5kIGEgcmVwZWF0ZWQgZmllbGQgb2YgdmFsdWVzLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTGlzdFZhbHVlYCBpcyBKU09OIGFycmF5LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0VmFsdWUge1xuICAvKipcbiAgICogUmVwZWF0ZWQgZmllbGQgb2YgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWVzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZSB2YWx1ZXMgPSAxO1xuICAgKi9cbiAgdmFsdWVzOiBWYWx1ZVtdO1xufVxuLyoqXG4gKiBgTnVsbFZhbHVlYCBpcyBhIHNpbmdsZXRvbiBlbnVtZXJhdGlvbiB0byByZXByZXNlbnQgdGhlIG51bGwgdmFsdWUgZm9yIHRoZVxuICogYFZhbHVlYCB0eXBlIHVuaW9uLlxuICpcbiAqICBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYE51bGxWYWx1ZWAgaXMgSlNPTiBgbnVsbGAuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZVxuICovXG5leHBvcnQgZW51bSBOdWxsVmFsdWUge1xuICAvKipcbiAgICogTnVsbCB2YWx1ZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IE5VTExfVkFMVUUgPSAwO1xuICAgKi9cbiAgTlVMTF9WQUxVRSA9IDAsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJ1Y3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cnVjdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdmaWVsZHMnLFxuICAgICAgICBraW5kOiAnbWFwJyxcbiAgICAgICAgSzogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICAgIFY6IHsga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBWYWx1ZSB9LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBTdHJ1Y3RgIHRvIEpTT04gb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogU3RydWN0LCBvcHRpb25zOiBKc29uV3JpdGVPcHRpb25zKTogSnNvblZhbHVlIHtcbiAgICBsZXQganNvbjogSnNvbk9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhtZXNzYWdlLmZpZWxkcykpIHtcbiAgICAgIGpzb25ba10gPSBWYWx1ZS50b0pzb24odik7XG4gICAgfVxuICAgIHJldHVybiBqc29uO1xuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFN0cnVjdGAgZnJvbSBKU09OIG9iamVjdC5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBTdHJ1Y3QsXG4gICk6IFN0cnVjdCB7XG4gICAgaWYgKCFpc0pzb25PYmplY3QoanNvbikpXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSBtZXNzYWdlICcgK1xuICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICcgZnJvbSBKU09OICcgK1xuICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSArXG4gICAgICAgICAgJy4nLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgZ2xvYmFsVGhpcy5PYmplY3QuZW50cmllcyhqc29uKSkge1xuICAgICAgdGFyZ2V0LmZpZWxkc1trXSA9IFZhbHVlLmZyb21Kc29uKHYpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFxuICovXG5leHBvcnQgY29uc3QgU3RydWN0ID0gbmV3IFN0cnVjdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWYWx1ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5WYWx1ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdudWxsX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBbJ2dvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUnLCBOdWxsVmFsdWVdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdudW1iZXJfdmFsdWUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogMSAvKlNjYWxhclR5cGUuRE9VQkxFKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N0cmluZ192YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYm9vbF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3N0cnVjdF92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdraW5kJyxcbiAgICAgICAgVDogKCkgPT4gU3RydWN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdsaXN0X3ZhbHVlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBMaXN0VmFsdWUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYFZhbHVlYCB0byBKU09OIHZhbHVlLlxuICAgKi9cbiAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZTogVmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGlmIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgc3dpdGNoIChtZXNzYWdlLmtpbmQub25lb2ZLaW5kKSB7XG4gICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgIGNhc2UgJ2Jvb2xWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuYm9vbFZhbHVlO1xuICAgICAgY2FzZSAnbnVsbFZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBjYXNlICdudW1iZXJWYWx1ZSc6XG4gICAgICAgIGxldCBudW1iZXJWYWx1ZSA9IG1lc3NhZ2Uua2luZC5udW1iZXJWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBudW1iZXJWYWx1ZSA9PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzRmluaXRlKG51bWJlclZhbHVlKSlcbiAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gbnVtYmVyVmFsdWU7XG4gICAgICBjYXNlICdzdHJpbmdWYWx1ZSc6XG4gICAgICAgIHJldHVybiBtZXNzYWdlLmtpbmQuc3RyaW5nVmFsdWU7XG4gICAgICBjYXNlICdsaXN0VmFsdWUnOlxuICAgICAgICBsZXQgbGlzdFZhbHVlRmllbGQgPSB0aGlzLmZpZWxkcy5maW5kKChmKSA9PiBmLm5vID09PSA2KTtcbiAgICAgICAgaWYgKGxpc3RWYWx1ZUZpZWxkPy5raW5kICE9PSAnbWVzc2FnZScpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBsaXN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5saXN0VmFsdWUpO1xuICAgICAgY2FzZSAnc3RydWN0VmFsdWUnOlxuICAgICAgICBsZXQgc3RydWN0VmFsdWVGaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoKGYpID0+IGYubm8gPT09IDUpO1xuICAgICAgICBpZiAoc3RydWN0VmFsdWVGaWVsZD8ua2luZCAhPT0gJ21lc3NhZ2UnKSB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgICByZXR1cm4gc3RydWN0VmFsdWVGaWVsZC5UKCkudG9Kc29uKG1lc3NhZ2Uua2luZC5zdHJ1Y3RWYWx1ZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBEZWNvZGUgYFZhbHVlYCBmcm9tIEpTT04gdmFsdWUuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVmFsdWUsXG4gICk6IFZhbHVlIHtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBzd2l0Y2ggKHR5cGVvZiBqc29uKSB7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICB0YXJnZXQua2luZCA9IHsgb25lb2ZLaW5kOiAnbnVtYmVyVmFsdWUnLCBudW1iZXJWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdzdHJpbmdWYWx1ZScsIHN0cmluZ1ZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdib29sVmFsdWUnLCBib29sVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoanNvbiA9PT0gbnVsbCkge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnbnVsbFZhbHVlJyxcbiAgICAgICAgICAgIG51bGxWYWx1ZTogTnVsbFZhbHVlLk5VTExfVkFMVUUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICAgICAgICB0YXJnZXQua2luZCA9IHtcbiAgICAgICAgICAgIG9uZW9mS2luZDogJ2xpc3RWYWx1ZScsXG4gICAgICAgICAgICBsaXN0VmFsdWU6IExpc3RWYWx1ZS5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnc3RydWN0VmFsdWUnLFxuICAgICAgICAgICAgc3RydWN0VmFsdWU6IFN0cnVjdC5mcm9tSnNvbihqc29uKSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSAnICtcbiAgICAgICAgICAgIHRoaXMudHlwZU5hbWUgK1xuICAgICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbiksXG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVmFsdWVcbiAqL1xuZXhwb3J0IGNvbnN0IFZhbHVlID0gbmV3IFZhbHVlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIExpc3RWYWx1ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TGlzdFZhbHVlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3ZhbHVlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmFsdWUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYExpc3RWYWx1ZWAgdG8gSlNPTiBhcnJheS5cbiAgICovXG4gIGludGVybmFsSnNvbldyaXRlKG1lc3NhZ2U6IExpc3RWYWx1ZSwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UudmFsdWVzLm1hcCgodikgPT4gVmFsdWUudG9Kc29uKHYpKTtcbiAgfVxuICAvKipcbiAgICogRGVjb2RlIGBMaXN0VmFsdWVgIGZyb20gSlNPTiBhcnJheS5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBMaXN0VmFsdWUsXG4gICk6IExpc3RWYWx1ZSB7XG4gICAgaWYgKCFnbG9iYWxUaGlzLkFycmF5LmlzQXJyYXkoanNvbikpXG4gICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBwYXJzZSAnICtcbiAgICAgICAgICB0aGlzLnR5cGVOYW1lICtcbiAgICAgICAgICAnIGZyb20gSlNPTiAnICtcbiAgICAgICAgICB0eXBlb2ZKc29uVmFsdWUoanNvbiksXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGxldCB2YWx1ZXMgPSBqc29uLm1hcCgodikgPT4gVmFsdWUuZnJvbUpzb24odikpO1xuICAgIHRhcmdldC52YWx1ZXMucHVzaCguLi52YWx1ZXMpO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuTGlzdFZhbHVlXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0VmFsdWUgPSBuZXcgTGlzdFZhbHVlJFR5cGUoKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuOS40IHdpdGggcGFyYW1ldGVyIGxvbmdfdHlwZV9zdHJpbmcsY2xpZW50X2dlbmVyaWMsc2VydmVyX25vbmUsZXNsaW50X2Rpc2FibGUsb3B0aW1pemVfY29kZV9zaXplXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcImdvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG9cIiAocGFja2FnZSBcImdvb2dsZS5wcm90b2J1ZlwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbi8vXG4vLyBQcm90b2NvbCBCdWZmZXJzIC0gR29vZ2xlJ3MgZGF0YSBpbnRlcmNoYW5nZSBmb3JtYXRcbi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9cbi8vXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmVcbi8vIG1ldDpcbi8vXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuLy8gICAgICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gICAgICogTmVpdGhlciB0aGUgbmFtZSBvZiBHb29nbGUgSW5jLiBub3IgdGhlIG5hbWVzIG9mIGl0c1xuLy8gY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbi8vIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4vL1xuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SU1xuLy8gXCJBUyBJU1wiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVFxuLy8gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXG4vLyBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUgRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVFxuLy8gT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsIElOQ0lERU5UQUwsXG4vLyBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSxcbi8vIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWVxuLy8gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuLy8gKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFXG4vLyBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuLy9cbmltcG9ydCB0eXBlIHtcbiAgSnNvblJlYWRPcHRpb25zLFxuICBKc29uVmFsdWUsXG4gIEpzb25Xcml0ZU9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlLCBQYkxvbmcsIHR5cGVvZkpzb25WYWx1ZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcblxuLyoqXG4gKiBBIFRpbWVzdGFtcCByZXByZXNlbnRzIGEgcG9pbnQgaW4gdGltZSBpbmRlcGVuZGVudCBvZiBhbnkgdGltZSB6b25lIG9yIGxvY2FsXG4gKiBjYWxlbmRhciwgZW5jb2RlZCBhcyBhIGNvdW50IG9mIHNlY29uZHMgYW5kIGZyYWN0aW9ucyBvZiBzZWNvbmRzIGF0XG4gKiBuYW5vc2Vjb25kIHJlc29sdXRpb24uIFRoZSBjb3VudCBpcyByZWxhdGl2ZSB0byBhbiBlcG9jaCBhdCBVVEMgbWlkbmlnaHQgb25cbiAqIEphbnVhcnkgMSwgMTk3MCwgaW4gdGhlIHByb2xlcHRpYyBHcmVnb3JpYW4gY2FsZW5kYXIgd2hpY2ggZXh0ZW5kcyB0aGVcbiAqIEdyZWdvcmlhbiBjYWxlbmRhciBiYWNrd2FyZHMgdG8geWVhciBvbmUuXG4gKlxuICogQWxsIG1pbnV0ZXMgYXJlIDYwIHNlY29uZHMgbG9uZy4gTGVhcCBzZWNvbmRzIGFyZSBcInNtZWFyZWRcIiBzbyB0aGF0IG5vIGxlYXBcbiAqIHNlY29uZCB0YWJsZSBpcyBuZWVkZWQgZm9yIGludGVycHJldGF0aW9uLCB1c2luZyBhIFsyNC1ob3VyIGxpbmVhclxuICogc21lYXJdKGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3RpbWUvc21lYXIpLlxuICpcbiAqIFRoZSByYW5nZSBpcyBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTkuOTk5OTk5OTk5Wi4gQnlcbiAqIHJlc3RyaWN0aW5nIHRvIHRoYXQgcmFuZ2UsIHdlIGVuc3VyZSB0aGF0IHdlIGNhbiBjb252ZXJ0IHRvIGFuZCBmcm9tIFtSRkNcbiAqIDMzMzldKGh0dHBzOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzMzM5LnR4dCkgZGF0ZSBzdHJpbmdzLlxuICpcbiAqICMgRXhhbXBsZXNcbiAqXG4gKiBFeGFtcGxlIDE6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gUE9TSVggYHRpbWUoKWAuXG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKHRpbWUoTlVMTCkpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3MoMCk7XG4gKlxuICogRXhhbXBsZSAyOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFBPU0lYIGBnZXR0aW1lb2ZkYXkoKWAuXG4gKlxuICogICAgIHN0cnVjdCB0aW1ldmFsIHR2O1xuICogICAgIGdldHRpbWVvZmRheSgmdHYsIE5VTEwpO1xuICpcbiAqICAgICBUaW1lc3RhbXAgdGltZXN0YW1wO1xuICogICAgIHRpbWVzdGFtcC5zZXRfc2Vjb25kcyh0di50dl9zZWMpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3ModHYudHZfdXNlYyAqIDEwMDApO1xuICpcbiAqIEV4YW1wbGUgMzogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBXaW4zMiBgR2V0U3lzdGVtVGltZUFzRmlsZVRpbWUoKWAuXG4gKlxuICogICAgIEZJTEVUSU1FIGZ0O1xuICogICAgIEdldFN5c3RlbVRpbWVBc0ZpbGVUaW1lKCZmdCk7XG4gKiAgICAgVUlOVDY0IHRpY2tzID0gKCgoVUlOVDY0KWZ0LmR3SGlnaERhdGVUaW1lKSA8PCAzMikgfCBmdC5kd0xvd0RhdGVUaW1lO1xuICpcbiAqICAgICAvLyBBIFdpbmRvd3MgdGljayBpcyAxMDAgbmFub3NlY29uZHMuIFdpbmRvd3MgZXBvY2ggMTYwMS0wMS0wMVQwMDowMDowMFpcbiAqICAgICAvLyBpcyAxMTY0NDQ3MzYwMCBzZWNvbmRzIGJlZm9yZSBVbml4IGVwb2NoIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKChJTlQ2NCkgKCh0aWNrcyAvIDEwMDAwMDAwKSAtIDExNjQ0NDczNjAwTEwpKTtcbiAqICAgICB0aW1lc3RhbXAuc2V0X25hbm9zKChJTlQzMikgKCh0aWNrcyAlIDEwMDAwMDAwKSAqIDEwMCkpO1xuICpcbiAqIEV4YW1wbGUgNDogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBKYXZhIGBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKWAuXG4gKlxuICogICAgIGxvbmcgbWlsbGlzID0gU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzKCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXAgPSBUaW1lc3RhbXAubmV3QnVpbGRlcigpLnNldFNlY29uZHMobWlsbGlzIC8gMTAwMClcbiAqICAgICAgICAgLnNldE5hbm9zKChpbnQpICgobWlsbGlzICUgMTAwMCkgKiAxMDAwMDAwKSkuYnVpbGQoKTtcbiAqXG4gKlxuICogRXhhbXBsZSA1OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIEphdmEgYEluc3RhbnQubm93KClgLlxuICpcbiAqICAgICBJbnN0YW50IG5vdyA9IEluc3RhbnQubm93KCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXAgPVxuICogICAgICAgICBUaW1lc3RhbXAubmV3QnVpbGRlcigpLnNldFNlY29uZHMobm93LmdldEVwb2NoU2Vjb25kKCkpXG4gKiAgICAgICAgICAgICAuc2V0TmFub3Mobm93LmdldE5hbm8oKSkuYnVpbGQoKTtcbiAqXG4gKlxuICogRXhhbXBsZSA2OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIGN1cnJlbnQgdGltZSBpbiBQeXRob24uXG4gKlxuICogICAgIHRpbWVzdGFtcCA9IFRpbWVzdGFtcCgpXG4gKiAgICAgdGltZXN0YW1wLkdldEN1cnJlbnRUaW1lKClcbiAqXG4gKiAjIEpTT04gTWFwcGluZ1xuICpcbiAqIEluIEpTT04gZm9ybWF0LCB0aGUgVGltZXN0YW1wIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZyBpbiB0aGVcbiAqIFtSRkMgMzMzOV0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzMzMzkudHh0KSBmb3JtYXQuIFRoYXQgaXMsIHRoZVxuICogZm9ybWF0IGlzIFwie3llYXJ9LXttb250aH0te2RheX1Ue2hvdXJ9OnttaW59OntzZWN9Wy57ZnJhY19zZWN9XVpcIlxuICogd2hlcmUge3llYXJ9IGlzIGFsd2F5cyBleHByZXNzZWQgdXNpbmcgZm91ciBkaWdpdHMgd2hpbGUge21vbnRofSwge2RheX0sXG4gKiB7aG91cn0sIHttaW59LCBhbmQge3NlY30gYXJlIHplcm8tcGFkZGVkIHRvIHR3byBkaWdpdHMgZWFjaC4gVGhlIGZyYWN0aW9uYWxcbiAqIHNlY29uZHMsIHdoaWNoIGNhbiBnbyB1cCB0byA5IGRpZ2l0cyAoaS5lLiB1cCB0byAxIG5hbm9zZWNvbmQgcmVzb2x1dGlvbiksXG4gKiBhcmUgb3B0aW9uYWwuIFRoZSBcIlpcIiBzdWZmaXggaW5kaWNhdGVzIHRoZSB0aW1lem9uZSAoXCJVVENcIik7IHRoZSB0aW1lem9uZVxuICogaXMgcmVxdWlyZWQuIEEgcHJvdG8zIEpTT04gc2VyaWFsaXplciBzaG91bGQgYWx3YXlzIHVzZSBVVEMgKGFzIGluZGljYXRlZCBieVxuICogXCJaXCIpIHdoZW4gcHJpbnRpbmcgdGhlIFRpbWVzdGFtcCB0eXBlIGFuZCBhIHByb3RvMyBKU09OIHBhcnNlciBzaG91bGQgYmVcbiAqIGFibGUgdG8gYWNjZXB0IGJvdGggVVRDIGFuZCBvdGhlciB0aW1lem9uZXMgKGFzIGluZGljYXRlZCBieSBhbiBvZmZzZXQpLlxuICpcbiAqIEZvciBleGFtcGxlLCBcIjIwMTctMDEtMTVUMDE6MzA6MTUuMDFaXCIgZW5jb2RlcyAxNS4wMSBzZWNvbmRzIHBhc3RcbiAqIDAxOjMwIFVUQyBvbiBKYW51YXJ5IDE1LCAyMDE3LlxuICpcbiAqIEluIEphdmFTY3JpcHQsIG9uZSBjYW4gY29udmVydCBhIERhdGUgb2JqZWN0IHRvIHRoaXMgZm9ybWF0IHVzaW5nIHRoZVxuICogc3RhbmRhcmRcbiAqIFt0b0lTT1N0cmluZygpXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL3RvSVNPU3RyaW5nKVxuICogbWV0aG9kLiBJbiBQeXRob24sIGEgc3RhbmRhcmQgYGRhdGV0aW1lLmRhdGV0aW1lYCBvYmplY3QgY2FuIGJlIGNvbnZlcnRlZFxuICogdG8gdGhpcyBmb3JtYXQgdXNpbmdcbiAqIFtgc3RyZnRpbWVgXShodHRwczovL2RvY3MucHl0aG9uLm9yZy8yL2xpYnJhcnkvdGltZS5odG1sI3RpbWUuc3RyZnRpbWUpIHdpdGhcbiAqIHRoZSB0aW1lIGZvcm1hdCBzcGVjICclWS0lbS0lZFQlSDolTTolUy4lZlonLiBMaWtld2lzZSwgaW4gSmF2YSwgb25lIGNhbiB1c2VcbiAqIHRoZSBKb2RhIFRpbWUncyBbYElTT0RhdGVUaW1lRm9ybWF0LmRhdGVUaW1lKClgXShcbiAqIGh0dHA6Ly93d3cuam9kYS5vcmcvam9kYS10aW1lL2FwaWRvY3Mvb3JnL2pvZGEvdGltZS9mb3JtYXQvSVNPRGF0ZVRpbWVGb3JtYXQuaHRtbCNkYXRlVGltZSUyRCUyRFxuICogKSB0byBvYnRhaW4gYSBmb3JtYXR0ZXIgY2FwYWJsZSBvZiBnZW5lcmF0aW5nIHRpbWVzdGFtcHMgaW4gdGhpcyBmb3JtYXQuXG4gKlxuICpcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGltZXN0YW1wIHtcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgc2Vjb25kcyBvZiBVVEMgdGltZSBzaW5jZSBVbml4IGVwb2NoXG4gICAqIDE5NzAtMDEtMDFUMDA6MDA6MDBaLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAgICogOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IHNlY29uZHMgPSAxO1xuICAgKi9cbiAgc2Vjb25kczogc3RyaW5nO1xuICAvKipcbiAgICogTm9uLW5lZ2F0aXZlIGZyYWN0aW9ucyBvZiBhIHNlY29uZCBhdCBuYW5vc2Vjb25kIHJlc29sdXRpb24uIE5lZ2F0aXZlXG4gICAqIHNlY29uZCB2YWx1ZXMgd2l0aCBmcmFjdGlvbnMgbXVzdCBzdGlsbCBoYXZlIG5vbi1uZWdhdGl2ZSBuYW5vcyB2YWx1ZXNcbiAgICogdGhhdCBjb3VudCBmb3J3YXJkIGluIHRpbWUuIE11c3QgYmUgZnJvbSAwIHRvIDk5OSw5OTksOTk5XG4gICAqIGluY2x1c2l2ZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBuYW5vcyA9IDI7XG4gICAqL1xuICBuYW5vczogbnVtYmVyO1xufVxuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVGltZXN0YW1wJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUaW1lc3RhbXA+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vjb25kcycsIGtpbmQ6ICdzY2FsYXInLCBUOiAzIC8qU2NhbGFyVHlwZS5JTlQ2NCovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbmFub3MnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGBUaW1lc3RhbXBgIGZvciB0aGUgY3VycmVudCB0aW1lLlxuICAgKi9cbiAgbm93KCk6IFRpbWVzdGFtcCB7XG4gICAgY29uc3QgbXNnID0gdGhpcy5jcmVhdGUoKTtcbiAgICBjb25zdCBtcyA9IERhdGUubm93KCk7XG4gICAgbXNnLnNlY29uZHMgPSBQYkxvbmcuZnJvbShNYXRoLmZsb29yKG1zIC8gMTAwMCkpLnRvU3RyaW5nKCk7XG4gICAgbXNnLm5hbm9zID0gKG1zICUgMTAwMCkgKiAxMDAwMDAwO1xuICAgIHJldHVybiBtc2c7XG4gIH1cbiAgLyoqXG4gICAqIENvbnZlcnRzIGEgYFRpbWVzdGFtcGAgdG8gYSBKYXZhU2NyaXB0IERhdGUuXG4gICAqL1xuICB0b0RhdGUobWVzc2FnZTogVGltZXN0YW1wKTogRGF0ZSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgUGJMb25nLmZyb20obWVzc2FnZS5zZWNvbmRzKS50b051bWJlcigpICogMTAwMCArXG4gICAgICAgIE1hdGguY2VpbChtZXNzYWdlLm5hbm9zIC8gMTAwMDAwMCksXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBKYXZhU2NyaXB0IERhdGUgdG8gYSBgVGltZXN0YW1wYC5cbiAgICovXG4gIGZyb21EYXRlKGRhdGU6IERhdGUpOiBUaW1lc3RhbXAge1xuICAgIGNvbnN0IG1zZyA9IHRoaXMuY3JlYXRlKCk7XG4gICAgY29uc3QgbXMgPSBkYXRlLmdldFRpbWUoKTtcbiAgICBtc2cuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKE1hdGguZmxvb3IobXMgLyAxMDAwKSkudG9TdHJpbmcoKTtcbiAgICBtc2cubmFub3MgPSAobXMgJSAxMDAwKSAqIDEwMDAwMDA7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuICAvKipcbiAgICogSW4gSlNPTiBmb3JtYXQsIHRoZSBgVGltZXN0YW1wYCB0eXBlIGlzIGVuY29kZWQgYXMgYSBzdHJpbmdcbiAgICogaW4gdGhlIFJGQyAzMzM5IGZvcm1hdC5cbiAgICovXG4gIGludGVybmFsSnNvbldyaXRlKG1lc3NhZ2U6IFRpbWVzdGFtcCwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgbGV0IG1zID0gUGJMb25nLmZyb20obWVzc2FnZS5zZWNvbmRzKS50b051bWJlcigpICogMTAwMDtcbiAgICBpZiAoXG4gICAgICBtcyA8IERhdGUucGFyc2UoJzAwMDEtMDEtMDFUMDA6MDA6MDBaJykgfHxcbiAgICAgIG1zID4gRGF0ZS5wYXJzZSgnOTk5OS0xMi0zMVQyMzo1OTo1OVonKVxuICAgIClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBlbmNvZGUgVGltZXN0YW1wIHRvIEpTT04uIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuJyxcbiAgICAgICk7XG4gICAgaWYgKG1lc3NhZ2UubmFub3MgPCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIGVuY29kZSBpbnZhbGlkIFRpbWVzdGFtcCB0byBKU09OLiBOYW5vcyBtdXN0IG5vdCBiZSBuZWdhdGl2ZS4nLFxuICAgICAgKTtcbiAgICBsZXQgeiA9ICdaJztcbiAgICBpZiAobWVzc2FnZS5uYW5vcyA+IDApIHtcbiAgICAgIGxldCBuYW5vc1N0ciA9IChtZXNzYWdlLm5hbm9zICsgMTAwMDAwMDAwMCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMSk7XG4gICAgICBpZiAobmFub3NTdHIuc3Vic3RyaW5nKDMpID09PSAnMDAwMDAwJylcbiAgICAgICAgeiA9ICcuJyArIG5hbm9zU3RyLnN1YnN0cmluZygwLCAzKSArICdaJztcbiAgICAgIGVsc2UgaWYgKG5hbm9zU3RyLnN1YnN0cmluZyg2KSA9PT0gJzAwMCcpXG4gICAgICAgIHogPSAnLicgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgNikgKyAnWic7XG4gICAgICBlbHNlIHogPSAnLicgKyBuYW5vc1N0ciArICdaJztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBEYXRlKG1zKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJy4wMDBaJywgeik7XG4gIH1cbiAgLyoqXG4gICAqIEluIEpTT04gZm9ybWF0LCB0aGUgYFRpbWVzdGFtcGAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nXG4gICAqIGluIHRoZSBSRkMgMzMzOSBmb3JtYXQuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogVGltZXN0YW1wLFxuICApOiBUaW1lc3RhbXAge1xuICAgIGlmICh0eXBlb2YganNvbiAhPT0gJ3N0cmluZycpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTiAnICsgdHlwZW9mSnNvblZhbHVlKGpzb24pICsgJy4nLFxuICAgICAgKTtcbiAgICBsZXQgbWF0Y2hlcyA9IGpzb24ubWF0Y2goXG4gICAgICAvXihbMC05XXs0fSktKFswLTldezJ9KS0oWzAtOV17Mn0pVChbMC05XXsyfSk6KFswLTldezJ9KTooWzAtOV17Mn0pKD86WnxcXC4oWzAtOV17Myw5fSlafChbKy1dWzAtOV1bMC05XTpbMC05XVswLTldKSkkLyxcbiAgICApO1xuICAgIGlmICghbWF0Y2hlcylcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIEludmFsaWQgZm9ybWF0LicpO1xuICAgIGxldCBtcyA9IERhdGUucGFyc2UoXG4gICAgICBtYXRjaGVzWzFdICtcbiAgICAgICAgJy0nICtcbiAgICAgICAgbWF0Y2hlc1syXSArXG4gICAgICAgICctJyArXG4gICAgICAgIG1hdGNoZXNbM10gK1xuICAgICAgICAnVCcgK1xuICAgICAgICBtYXRjaGVzWzRdICtcbiAgICAgICAgJzonICtcbiAgICAgICAgbWF0Y2hlc1s1XSArXG4gICAgICAgICc6JyArXG4gICAgICAgIG1hdGNoZXNbNl0gK1xuICAgICAgICAobWF0Y2hlc1s4XSA/IG1hdGNoZXNbOF0gOiAnWicpLFxuICAgICk7XG4gICAgaWYgKE51bWJlci5pc05hTihtcykpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBJbnZhbGlkIHZhbHVlLicpO1xuICAgIGlmIChcbiAgICAgIG1zIDwgRGF0ZS5wYXJzZSgnMDAwMS0wMS0wMVQwMDowMDowMFonKSB8fFxuICAgICAgbXMgPiBEYXRlLnBhcnNlKCc5OTk5LTEyLTMxVDIzOjU5OjU5WicpXG4gICAgKVxuICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gTXVzdCBiZSBmcm9tIDAwMDEtMDEtMDFUMDA6MDA6MDBaIHRvIDk5OTktMTItMzFUMjM6NTk6NTlaIGluY2x1c2l2ZS4nLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICB0YXJnZXQuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKG1zIC8gMTAwMCkudG9TdHJpbmcoKTtcbiAgICB0YXJnZXQubmFub3MgPSAwO1xuICAgIGlmIChtYXRjaGVzWzddKVxuICAgICAgdGFyZ2V0Lm5hbm9zID1cbiAgICAgICAgcGFyc2VJbnQoJzEnICsgbWF0Y2hlc1s3XSArICcwJy5yZXBlYXQoOSAtIG1hdGNoZXNbN10ubGVuZ3RoKSkgLVxuICAgICAgICAxMDAwMDAwMDAwO1xuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wXG4gKi9cbmV4cG9ydCBjb25zdCBUaW1lc3RhbXAgPSBuZXcgVGltZXN0YW1wJFR5cGUoKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuOS40IHdpdGggcGFyYW1ldGVyIGxvbmdfdHlwZV9zdHJpbmcsY2xpZW50X2dlbmVyaWMsc2VydmVyX25vbmUsZXNsaW50X2Rpc2FibGUsb3B0aW1pemVfY29kZV9zaXplXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcInZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1Lm1vZGVsc1wiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHsgU3RydWN0IH0gZnJvbSAnLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdCc7XG5pbXBvcnQgeyBUaW1lc3RhbXAgfSBmcm9tICcuLi8uLi8uLi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcblxuLyoqXG4gKiBDYWxsU3RhdGUgaXMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNhbGxcbiAqIGFzIHNlZW4gYnkgYW4gU0ZVLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZSB7XG4gIC8qKlxuICAgKiBwYXJ0aWNpcGFudHMgaXMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKiBJbiBsYXJnZSBjYWxscywgdGhlIGxpc3QgY291bGQgYmUgdHJ1bmNhdGVkIGluIHdoaWNoXG4gICAqIGNhc2UsIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBjb250YWlucyBmZXdlciBwYXJ0aWNpcGFudHNcbiAgICogdGhhbiB0aGUgY291bnRzIHJldHVybmVkIGluIHBhcnRpY2lwYW50X2NvdW50LiBBbm9ueW1vdXNcbiAgICogcGFydGljaXBhbnRzIGFyZSAqKk5PVCoqIGluY2x1ZGVkIGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50cyA9IDE7XG4gICAqL1xuICBwYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50W107XG4gIC8qKlxuICAgKiBzdGFydGVkX2F0IGlzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHN0YXJ0ZWRfYXQgPSAyO1xuICAgKi9cbiAgc3RhcnRlZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogcGFydGljaXBhbnRfY291bnQgY29udGFpbnMgdGhlIHN1bW1hcnkgb2YgdGhlIGNvdW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50IHBhcnRpY2lwYW50X2NvdW50ID0gMztcbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQ/OiBQYXJ0aWNpcGFudENvdW50O1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgcGlucyBpbiB0aGUgY2FsbC5cbiAgICogUGlucyBhcmUgb3JkZXJlZCBpbiBkZXNjZW5kaW5nIG9yZGVyIChtb3N0IGltcG9ydGFudCBmaXJzdCkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluIHBpbnMgPSA0O1xuICAgKi9cbiAgcGluczogUGluW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudENvdW50IHtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwgaW5jbHVkaW5nXG4gICAqIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiB0b3RhbCA9IDE7XG4gICAqL1xuICB0b3RhbDogbnVtYmVyO1xuICAvKipcbiAgICogVG90YWwgbnVtYmVyIG9mIGFub255bW91cyBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGFub255bW91cyA9IDI7XG4gICAqL1xuICBhbm9ueW1vdXM6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGluIHtcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHRvIHBpblxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIHVzZXIgc2VzaW9uX2lkIHRvIHBpbiwgaWYgbm90IHByb3ZpZGVkLCBhcHBsaWVzIHRvIGFsbCBzZXNzaW9uc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiB0aG9zZSB3aG8gYXJlIG9ubGluZSBpbiB0aGUgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBtYXAgb2YgdHJhY2sgaWQgdG8gdHJhY2sgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSBwdWJsaXNoZWRfdHJhY2tzID0gMztcbiAgICovXG4gIHB1Ymxpc2hlZFRyYWNrczogVHJhY2tUeXBlW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgam9pbmVkX2F0ID0gNDtcbiAgICovXG4gIGpvaW5lZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdHJhY2tfbG9va3VwX3ByZWZpeCA9IDU7XG4gICAqL1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSA2O1xuICAgKi9cbiAgY29ubmVjdGlvblF1YWxpdHk6IENvbm5lY3Rpb25RdWFsaXR5O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3NwZWFraW5nID0gNztcbiAgICovXG4gIGlzU3BlYWtpbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfZG9taW5hbnRfc3BlYWtlciA9IDg7XG4gICAqL1xuICBpc0RvbWluYW50U3BlYWtlcjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZmxvYXQgYXVkaW9fbGV2ZWwgPSA5O1xuICAgKi9cbiAgYXVkaW9MZXZlbDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDEwO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaW1hZ2UgPSAxMTtcbiAgICovXG4gIGltYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gMTI7XG4gICAqL1xuICBjdXN0b20/OiBTdHJ1Y3Q7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmluZyByb2xlcyA9IDEzO1xuICAgKi9cbiAgcm9sZXM6IHN0cmluZ1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RyZWFtUXVhbGl0eSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSB2aWRlb19xdWFsaXR5ID0gMTtcbiAgICovXG4gIHZpZGVvUXVhbGl0eTogVmlkZW9RdWFsaXR5O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDI7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0RpbWVuc2lvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiB3aWR0aCA9IDE7XG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgaGVpZ2h0ID0gMjtcbiAgICovXG4gIGhlaWdodDogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0xheWVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9MYXllciB7XG4gIC8qKlxuICAgKiBmb3IgdHJhY2tzIHdpdGggYSBzaW5nbGUgbGF5ZXIsIHRoaXMgc2hvdWxkIGJlIEhJR0hcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmlkID0gMTtcbiAgICovXG4gIHJpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiB2aWRlb19kaW1lbnNpb24gPSAyO1xuICAgKi9cbiAgdmlkZW9EaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbiAgLyoqXG4gICAqIHRhcmdldCBiaXRyYXRlLCBzZXJ2ZXIgd2lsbCBtZWFzdXJlIGFjdHVhbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBiaXRyYXRlID0gNDtcbiAgICovXG4gIGJpdHJhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGZwcyA9IDU7XG4gICAqL1xuICBmcHM6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5IHF1YWxpdHkgPSA2O1xuICAgKi9cbiAgcXVhbGl0eTogVmlkZW9RdWFsaXR5O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlY1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENvZGVjIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIHBheWxvYWRfdHlwZSA9IDE7XG4gICAqL1xuICBwYXlsb2FkVHlwZTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDI7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBmbXRwX2xpbmUgPSAzO1xuICAgKi9cbiAgZm10cExpbmU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGNsb2NrX3JhdGUgPSA0O1xuICAgKi9cbiAgY2xvY2tSYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBlbmNvZGluZ19wYXJhbWV0ZXJzID0gNTtcbiAgICovXG4gIGVuY29kaW5nUGFyYW1ldGVyczogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgZmVlZGJhY2tzID0gNjtcbiAgICovXG4gIGZlZWRiYWNrczogc3RyaW5nW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VUcmlja2xlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGljZV9jYW5kaWRhdGUgPSAyO1xuICAgKi9cbiAgaWNlQ2FuZGlkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMztcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm9cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja0luZm8ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdHJhY2tfaWQgPSAxO1xuICAgKi9cbiAgdHJhY2tJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDI7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllciBsYXllcnMgPSA1O1xuICAgKi9cbiAgbGF5ZXJzOiBWaWRlb0xheWVyW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaWQgPSA2O1xuICAgKi9cbiAgbWlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBmb3IgYXVkaW8gdHJhY2tzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBkdHggPSA3O1xuICAgKi9cbiAgZHR4OiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHN0ZXJlbyA9IDg7XG4gICAqL1xuICBzdGVyZW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcmVkID0gOTtcbiAgICovXG4gIHJlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDEwO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXJyb3Ige1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvckNvZGUgY29kZSA9IDE7XG4gICAqL1xuICBjb2RlOiBFcnJvckNvZGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtZXNzYWdlID0gMjtcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzaG91bGRfcmV0cnkgPSAzO1xuICAgKi9cbiAgc2hvdWxkUmV0cnk6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDbGllbnREZXRhaWxzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrIHNkayA9IDE7XG4gICAqL1xuICBzZGs/OiBTZGs7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLk9TIG9zID0gMjtcbiAgICovXG4gIG9zPzogT1M7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXIgYnJvd3NlciA9IDM7XG4gICAqL1xuICBicm93c2VyPzogQnJvd3NlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRGV2aWNlIGRldmljZSA9IDQ7XG4gICAqL1xuICBkZXZpY2U/OiBEZXZpY2U7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFNkayB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGUgdHlwZSA9IDE7XG4gICAqL1xuICB0eXBlOiBTZGtUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWFqb3IgPSAyO1xuICAgKi9cbiAgbWFqb3I6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1pbm9yID0gMztcbiAgICovXG4gIG1pbm9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwYXRjaCA9IDQ7XG4gICAqL1xuICBwYXRjaDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PU1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE9TIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdmVyc2lvbiA9IDI7XG4gICAqL1xuICB2ZXJzaW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBhcmNoaXRlY3R1cmUgPSAzO1xuICAgKi9cbiAgYXJjaGl0ZWN0dXJlOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkJyb3dzZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm93c2VyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxO1xuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdmVyc2lvbiA9IDI7XG4gICAqL1xuICB2ZXJzaW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERldmljZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbCB7XG4gIC8qKlxuICAgKiB0aGUgY2FsbCB0eXBlXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIGNhbGwgaWRcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaWQgPSAyO1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBpZCBvZiB0aGUgdXNlciB0aGF0IGNyZWF0ZWQgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGNyZWF0ZWRfYnlfdXNlcl9pZCA9IDM7XG4gICAqL1xuICBjcmVhdGVkQnlVc2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBpZCBvZiB0aGUgY3VycmVudCBob3N0IGZvciB0aGlzIGNhbGxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaG9zdF91c2VyX2lkID0gNDtcbiAgICovXG4gIGhvc3RVc2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlN0cnVjdCBjdXN0b20gPSA1O1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGNyZWF0ZWRfYXQgPSA2O1xuICAgKi9cbiAgY3JlYXRlZEF0PzogVGltZXN0YW1wO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIHVwZGF0ZWRfYXQgPSA3O1xuICAgKi9cbiAgdXBkYXRlZEF0PzogVGltZXN0YW1wO1xufVxuLyoqXG4gKiBDYWxsR3JhbnRzIHJlcHJlc2VudHMgdGhlIHNldCBvZiBwZXJtaXNzaW9ucyBnaXZlblxuICogdG8gdGhlIHVzZXIgZm9yIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEdyYW50c1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxHcmFudHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9wdWJsaXNoX2F1ZGlvID0gMTtcbiAgICovXG4gIGNhblB1Ymxpc2hBdWRpbzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF92aWRlbyA9IDI7XG4gICAqL1xuICBjYW5QdWJsaXNoVmlkZW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3NjcmVlbnNoYXJlID0gMztcbiAgICovXG4gIGNhblNjcmVlbnNoYXJlOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZVxuICovXG5leHBvcnQgZW51bSBQZWVyVHlwZSB7XG4gIC8qKlxuICAgKiB0b2RvIGZpeCBtZSAobWFyY2VsbylcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBFRVJfVFlQRV9QVUJMSVNIRVJfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgUFVCTElTSEVSX1VOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQRUVSX1RZUEVfU1VCU0NSSUJFUiA9IDE7XG4gICAqL1xuICBTVUJTQ1JJQkVSID0gMSxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gQ29ubmVjdGlvblF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX1BPT1IgPSAxO1xuICAgKi9cbiAgUE9PUiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0dPT0QgPSAyO1xuICAgKi9cbiAgR09PRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0VYQ0VMTEVOVCA9IDM7XG4gICAqL1xuICBFWENFTExFTlQgPSAzLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gVmlkZW9RdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX0xPV19VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBMT1dfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfTUlEID0gMTtcbiAgICovXG4gIE1JRCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9ISUdIID0gMjtcbiAgICovXG4gIEhJR0ggPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfT0ZGID0gMztcbiAgICovXG4gIE9GRiA9IDMsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZVxuICovXG5leHBvcnQgZW51bSBUcmFja1R5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfQVVESU8gPSAxO1xuICAgKi9cbiAgQVVESU8gPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVklERU8gPSAyO1xuICAgKi9cbiAgVklERU8gPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFID0gMztcbiAgICovXG4gIFNDUkVFTl9TSEFSRSA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8gPSA0O1xuICAgKi9cbiAgU0NSRUVOX1NIQVJFX0FVRElPID0gNCxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlXG4gKi9cbmV4cG9ydCBlbnVtIEVycm9yQ29kZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX05PVF9GT1VORCA9IDEwMDtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfTk9UX0ZPVU5EID0gMTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS1NfTUlTTUFUQ0ggPSAxMDE7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLU19NSVNNQVRDSCA9IDEwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfT1VUX09GX09SREVSID0gMTAyO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19PVVRfT0ZfT1JERVIgPSAxMDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX1ZJREVPX0xBWUVSX05PVF9GT1VORCA9IDEwMztcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfVklERU9fTEFZRVJfTk9UX0ZPVU5EID0gMTAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfTElWRV9FTkRFRCA9IDEwNDtcbiAgICovXG4gIExJVkVfRU5ERUQgPSAxMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDA7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJTkdfT1VUID0gMjAxO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HX09VVCA9IDIwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElPTl9GQUlMRUQgPSAyMDI7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJT05fRkFJTEVEID0gMjAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfUkVDT05ORUNUX0ZBSUxFRCA9IDIwNDtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX1JFQ09OTkVDVF9GQUlMRUQgPSAyMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NRURJQV9UUkFOU1BPUlRfRkFJTFVSRSA9IDIwNTtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01FRElBX1RSQU5TUE9SVF9GQUlMVVJFID0gMjA1LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfQ0FMTF9OT1RfRk9VTkQgPSAzMDA7XG4gICAqL1xuICBDQUxMX05PVF9GT1VORCA9IDMwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1JFUVVFU1RfVkFMSURBVElPTl9GQUlMRUQgPSA0MDA7XG4gICAqL1xuICBSRVFVRVNUX1ZBTElEQVRJT05fRkFJTEVEID0gNDAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfVU5BVVRIRU5USUNBVEVEID0gNDAxO1xuICAgKi9cbiAgVU5BVVRIRU5USUNBVEVEID0gNDAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEVSTUlTU0lPTl9ERU5JRUQgPSA0MDM7XG4gICAqL1xuICBQRVJNSVNTSU9OX0RFTklFRCA9IDQwMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1RPT19NQU5ZX1JFUVVFU1RTID0gNDI5O1xuICAgKi9cbiAgVE9PX01BTllfUkVRVUVTVFMgPSA0MjksXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9JTlRFUk5BTF9TRVJWRVJfRVJST1IgPSA1MDA7XG4gICAqL1xuICBJTlRFUk5BTF9TRVJWRVJfRVJST1IgPSA1MDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9TRlVfU0hVVFRJTkdfRE9XTiA9IDYwMDtcbiAgICovXG4gIFNGVV9TSFVUVElOR19ET1dOID0gNjAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfU0ZVX0ZVTEwgPSA3MDA7XG4gICAqL1xuICBTRlVfRlVMTCA9IDcwMCxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrVHlwZVxuICovXG5leHBvcnQgZW51bSBTZGtUeXBlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfUkVBQ1QgPSAxO1xuICAgKi9cbiAgUkVBQ1QgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0FOR1VMQVIgPSAyO1xuICAgKi9cbiAgQU5HVUxBUiA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfQU5EUk9JRCA9IDM7XG4gICAqL1xuICBBTkRST0lEID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9JT1MgPSA0O1xuICAgKi9cbiAgSU9TID0gNCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9GTFVUVEVSID0gNTtcbiAgICovXG4gIEZMVVRURVIgPSA1LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1JFQUNUX05BVElWRSA9IDY7XG4gICAqL1xuICBSRUFDVF9OQVRJVkUgPSA2LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1VOSVRZID0gNztcbiAgICovXG4gIFVOSVRZID0gNyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9HTyA9IDg7XG4gICAqL1xuICBHTyA9IDgsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfUExBSU5fSkFWQVNDUklQVCA9IDk7XG4gICAqL1xuICBQTEFJTl9KQVZBU0NSSVBUID0gOSxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb25cbiAqL1xuZXhwb3J0IGVudW0gVHJhY2tVbnB1Ymxpc2hSZWFzb24ge1xuICAvKipcbiAgICogRGVmYXVsdCB2YWx1ZSB3aGljaCBpcyB1c2VkIHdoZW4gdGhlIHNwZWNpZmljIHJlYXNvblxuICAgKiBmb3IgbXV0aW5nIHRoZSB0cmFjayBpcyBub3Qga25vd24uXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgdXNlciBtdXRpbmcgdGhlaXIgdHJhY2tzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9VU0VSX01VVEVEID0gMTtcbiAgICovXG4gIFVTRVJfTVVURUQgPSAxLFxuICAvKipcbiAgICogUmVwcmVzZW50cyBtdXRpbmcgdGhlIHRyYWNrIGJlY2F1c2UgdGhlIHBlcm1pc3Npb24gdG9cbiAgICogcHVibGlzaCB0aGUgdHJhY2sgaGFzIGJlZW4gcmV2b2tlZC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fUEVSTUlTU0lPTl9SRVZPS0VEID0gMjtcbiAgICovXG4gIFBFUk1JU1NJT05fUkVWT0tFRCA9IDIsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIG11dGluZyB0aGUgdHJhY2sgZHVlIHRvIG1vZGVyYXRpb24gYWN0aW9ucy5cbiAgICogVGhpcyBpcyBkaWZmZXJlbnQgZnJvbSBwZXJtaXNzaW9uIHJldm9rZWQgYmVjYXVzZSB0aGVcbiAgICogcGFydGljaXBhbnQgY2FuIHVubXV0ZSB0aGVtc2VsdmVzIGhlcmUgd2hlcmVhcyBpbiBjYXNlXG4gICAqIG9mIFwicGVybWlzc2lvbiByZXZva2VcIiBpdCBpcyBub3QgcG9zc2libGUgdW50aWwgdGhlXG4gICAqIGNhbGwgcGVybWlzc2lvbnMgYXJlIHVwZGF0ZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX01PREVSQVRJT04gPSAzO1xuICAgKi9cbiAgTU9ERVJBVElPTiA9IDMsXG59XG4vKipcbiAqIEdvQXdheVJlYXNvbiByZXByZXNlbnRzIHRoZSByZWFzb24gZm9yIHRoZSBTRlUgdG9cbiAqIGRpc2Nvbm5lY3QgdGhlIGNsaWVudC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb25cbiAqL1xuZXhwb3J0IGVudW0gR29Bd2F5UmVhc29uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBHT19BV0FZX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fU0hVVFRJTkdfRE9XTiA9IDE7XG4gICAqL1xuICBTSFVUVElOR19ET1dOID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBHT19BV0FZX1JFQVNPTl9SRUJBTEFOQ0UgPSAyO1xuICAgKi9cbiAgUkVCQUxBTkNFID0gMixcbn1cbi8qKlxuICogQ2FsbEVuZGVkUmVhc29uIHJlcHJlc2VudHMgdGhlIHJlYXNvbiBmb3IgdGhlIGNhbGwgdG8gZW5kLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxFbmRlZFJlYXNvblxuICovXG5leHBvcnQgZW51bSBDYWxsRW5kZWRSZWFzb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIFVOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9FTkRFRCA9IDE7XG4gICAqL1xuICBFTkRFRCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fTElWRV9FTkRFRCA9IDI7XG4gICAqL1xuICBMSVZFX0VOREVEID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9LSUNLRUQgPSAzO1xuICAgKi9cbiAgS0lDS0VEID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9TRVNTSU9OX0VOREVEID0gNDtcbiAgICovXG4gIFNFU1NJT05fRU5ERUQgPSA0LFxufVxuLyoqXG4gKiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSBkZWZpbmVzIHRoZSB3cyBzdHJhdGVnaWVzIGF2YWlsYWJsZSBmb3IgaGFuZGxpbmcgcmVjb25uZWN0aW9ucy5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVxuICovXG5leHBvcnQgZW51bSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBTZW50IGFmdGVyIHJlYWNoaW5nIHRoZSBtYXhpbXVtIHJlY29ubmVjdGlvbiBhdHRlbXB0cywgb3IgYW55IG90aGVyIHVucmVjb3ZlcmFibGUgZXJyb3IgbGVhZGluZyB0byBwZXJtYW5lbnQgZGlzY29ubmVjdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfRElTQ09OTkVDVCA9IDE7XG4gICAqL1xuICBESVNDT05ORUNUID0gMSxcbiAgLyoqXG4gICAqIFNESyBzaG91bGQgbWFpbnRhaW5pbmcgZXhpc3RpbmcgcHVibGlzaGVyL3N1YnNjcmliZXIgcGMgaW5zdGFuY2VzXG4gICAqIGFuZCBlc3RhYmxpc2ggYSBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX0ZBU1QgPSAyO1xuICAgKi9cbiAgRkFTVCA9IDIsXG4gIC8qKlxuICAgKiBTREsgc2hvdWxkIG9idGFpbiBuZXcgY3JlZGVudGlhbHMgZnJvbSB0aGUgY29vcmRpbmF0b3IsIGRyb3BzIGV4aXN0aW5nIHBjIGluc3RhbmNlcywgc2V0IGEgbmV3IHNlc3Npb25faWQgYW5kIGluaXRpYWxpemVzXG4gICAqIGEgY29tcGxldGVseSBuZXcgV2ViU29ja2V0IGNvbm5lY3Rpb24sIGVuc3VyaW5nIGEgY29tcHJlaGVuc2l2ZSByZXNldC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfUkVKT0lOID0gMztcbiAgICovXG4gIFJFSk9JTiA9IDMsXG4gIC8qKlxuICAgKiBTREsgc2hvdWxkIG1pZ3JhdGUgdG8gYSBuZXcgU0ZVIGluc3RhbmNlXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX01JR1JBVEUgPSA0O1xuICAgKi9cbiAgTUlHUkFURSA9IDQsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50cycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnQsXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3N0YXJ0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X2NvdW50JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudENvdW50LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdwaW5zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsU3RhdGUgPSBuZXcgQ2FsbFN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50Q291bnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50Q291bnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndG90YWwnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnYW5vbnltb3VzJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRDb3VudCA9IG5ldyBQYXJ0aWNpcGFudENvdW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBpbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW4nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgY29uc3QgUGluID0gbmV3IFBpbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVkX3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdqb2luZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX2xvb2t1cF9wcmVmaXgnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eScsXG4gICAgICAgICAgQ29ubmVjdGlvblF1YWxpdHksXG4gICAgICAgICAgJ0NPTk5FQ1RJT05fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICdpc19zcGVha2luZycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdpc19kb21pbmFudF9zcGVha2VyJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA5LCBuYW1lOiAnYXVkaW9fbGV2ZWwnLCBraW5kOiAnc2NhbGFyJywgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAxMSwgbmFtZTogJ2ltYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAxMiwgbmFtZTogJ2N1c3RvbScsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gU3RydWN0IH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMyxcbiAgICAgICAgbmFtZTogJ3JvbGVzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50ID0gbmV3IFBhcnRpY2lwYW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0cmVhbVF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0cmVhbVF1YWxpdHk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlN0cmVhbVF1YWxpdHknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmlkZW9fcXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBTdHJlYW1RdWFsaXR5ID0gbmV3IFN0cmVhbVF1YWxpdHkkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9EaW1lbnNpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvRGltZW5zaW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd3aWR0aCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdoZWlnaHQnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvblxuICovXG5leHBvcnQgY29uc3QgVmlkZW9EaW1lbnNpb24gPSBuZXcgVmlkZW9EaW1lbnNpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9MYXllciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9MYXllcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdyaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19kaW1lbnNpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdiaXRyYXRlJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ2ZwcycsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdxdWFsaXR5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eScsXG4gICAgICAgICAgVmlkZW9RdWFsaXR5LFxuICAgICAgICAgICdWSURFT19RVUFMSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9MYXllciA9IG5ldyBWaWRlb0xheWVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvZGVjJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb2RlYz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGF5bG9hZF90eXBlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2ZtdHBfbGluZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2Nsb2NrX3JhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdlbmNvZGluZ19wYXJhbWV0ZXJzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmZWVkYmFja3MnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlY1xuICovXG5leHBvcnQgY29uc3QgQ29kZWMgPSBuZXcgQ29kZWMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaWNlX2NhbmRpZGF0ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZSA9IG5ldyBJQ0VUcmlja2xlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrSW5mbyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tJbmZvPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndHJhY2tfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllcixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA2LCBuYW1lOiAnbWlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnZHR4Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogOCwgbmFtZTogJ3N0ZXJlbycsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDksIG5hbWU6ICdyZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiAxMCwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja0luZm8gPSBuZXcgVHJhY2tJbmZvJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEVycm9yJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxFcnJvcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3InLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY29kZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvckNvZGUnLFxuICAgICAgICAgIEVycm9yQ29kZSxcbiAgICAgICAgICAnRVJST1JfQ09ERV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtZXNzYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2hvdWxkX3JldHJ5Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEVycm9yID0gbmV3IEVycm9yJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENsaWVudERldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENsaWVudERldGFpbHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHMnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RrJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBTZGsgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdvcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gT1MgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdicm93c2VyJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBCcm93c2VyIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZGV2aWNlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBEZXZpY2UgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IENsaWVudERldGFpbHMgPSBuZXcgQ2xpZW50RGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZGskVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNkaz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrVHlwZScsIFNka1R5cGUsICdTREtfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWFqb3InLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtaW5vcicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3BhdGNoJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGNvbnN0IFNkayA9IG5ldyBTZGskVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgT1MkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPE9TPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2FyY2hpdGVjdHVyZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PU1xuICovXG5leHBvcnQgY29uc3QgT1MgPSBuZXcgT1MkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQnJvd3NlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QnJvd3Nlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQnJvd3NlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQnJvd3NlclxuICovXG5leHBvcnQgY29uc3QgQnJvd3NlciA9IG5ldyBCcm93c2VyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIERldmljZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RGV2aWNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZVxuICovXG5leHBvcnQgY29uc3QgRGV2aWNlID0gbmV3IERldmljZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3R5cGUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2NyZWF0ZWRfYnlfdXNlcl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnaG9zdF91c2VyX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2NyZWF0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAgeyBubzogNywgbmFtZTogJ3VwZGF0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgY29uc3QgQ2FsbCA9IG5ldyBDYWxsJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxHcmFudHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxHcmFudHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY2FuX3B1Ymxpc2hfYXVkaW8nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdjYW5fcHVibGlzaF92aWRlbycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nhbl9zY3JlZW5zaGFyZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEdyYW50c1xuICovXG5leHBvcnQgY29uc3QgQ2FsbEdyYW50cyA9IG5ldyBDYWxsR3JhbnRzJFR5cGUoKTtcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXG4vLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuOS40IHdpdGggcGFyYW1ldGVyIGxvbmdfdHlwZV9zdHJpbmcsY2xpZW50X2dlbmVyaWMsc2VydmVyX25vbmUsZXNsaW50X2Rpc2FibGUsb3B0aW1pemVfY29kZV9zaXplXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcInZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5zaWduYWxcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQge1xuICBFcnJvcixcbiAgSUNFVHJpY2tsZSxcbiAgUGVlclR5cGUsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0RpbWVuc2lvbixcbn0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTZXJ2aWNlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcblxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFN0YXRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zdGF0cyA9IDI7XG4gICAqL1xuICBzdWJzY3JpYmVyU3RhdHM6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHB1Ymxpc2hlcl9zdGF0cyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZXJTdGF0czogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgd2VicnRjX3ZlcnNpb24gPSA0O1xuICAgKi9cbiAgd2VicnRjVmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrID0gNTtcbiAgICovXG4gIHNkazogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RrX3ZlcnNpb24gPSA2O1xuICAgKi9cbiAgc2RrVmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAyO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0UmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDE7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlIG11dGVfc3RhdGVzID0gMztcbiAgICovXG4gIG11dGVTdGF0ZXM6IFRyYWNrTXV0ZVN0YXRlW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrTXV0ZVN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tNdXRlU3RhdGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDI7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuQXVkaW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTXV0ZUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMTtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5WaWRlb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9NdXRlQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAyO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHRyYWNrcyA9IDM7XG4gICAqL1xuICB0cmFja3M6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMztcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiBkaW1lbnNpb24gPSA0O1xuICAgKi9cbiAgZGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZSBwZWVyX3R5cGUgPSAxO1xuICAgKi9cbiAgcGVlclR5cGU6IFBlZXJUeXBlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMjtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZEFuc3dlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldFB1Ymxpc2hlclJlcXVlc3Qge1xuICAvKipcbiAgICogc2RwIG9mZmVyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyB0cmFja3MgPSAzO1xuICAgKi9cbiAgdHJhY2tzOiBUcmFja0luZm9bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXRQdWJsaXNoZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBzZHAgYW5zd2VyXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDE7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAzO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0ID1cbiAgbmV3IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSA9XG4gIG5ldyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0ID1cbiAgbmV3IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSA9XG4gIG5ldyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kU3RhdHNSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kU3RhdHNSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3dlYnJ0Y192ZXJzaW9uJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdzZGsnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdzZGtfdmVyc2lvbicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXF1ZXN0ID0gbmV3IFNlbmRTdGF0c1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTZW5kU3RhdHNSZXNwb25zZSA9IG5ldyBTZW5kU3RhdHNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlcXVlc3QgPSBuZXcgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydFJlc3BvbnNlID0gbmV3IElDRVJlc3RhcnRSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdtdXRlX3N0YXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tNdXRlU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0ID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSA9IG5ldyBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tNdXRlU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrTXV0ZVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrTXV0ZVN0YXRlID0gbmV3IFRyYWNrTXV0ZVN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTXV0ZUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb011dGVDaGFuZ2VkID0gbmV3IEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9NdXRlQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZCcsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTXV0ZUNoYW5nZWQgPSBuZXcgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QgPSBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlID1cbiAgbmV3IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHJhY2tfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdkaW1lbnNpb24nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyA9IG5ldyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZEFuc3dlclJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRBbnN3ZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXF1ZXN0ID0gbmV3IFNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZEFuc3dlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFNlbmRBbnN3ZXJSZXNwb25zZSA9IG5ldyBTZW5kQW5zd2VyUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZVJlc3BvbnNlID0gbmV3IElDRVRyaWNrbGVSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZXRQdWJsaXNoZXJSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZXRQdWJsaXNoZXJSZXF1ZXN0ID0gbmV3IFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnaWNlX3Jlc3RhcnQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVzcG9uc2UgPSBuZXcgU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSgpO1xuLyoqXG4gKiBAZ2VuZXJhdGVkIFNlcnZpY2VUeXBlIGZvciBwcm90b2J1ZiBzZXJ2aWNlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlclxuICovXG5leHBvcnQgY29uc3QgU2lnbmFsU2VydmVyID0gbmV3IFNlcnZpY2VUeXBlKFxuICAnc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyJyxcbiAgW1xuICAgIHtcbiAgICAgIG5hbWU6ICdTZXRQdWJsaXNoZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZXRQdWJsaXNoZXJSZXF1ZXN0LFxuICAgICAgTzogU2V0UHVibGlzaGVyUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZEFuc3dlcicsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgICAgTzogU2VuZEFuc3dlclJlc3BvbnNlLFxuICAgIH0sXG4gICAgeyBuYW1lOiAnSWNlVHJpY2tsZScsIG9wdGlvbnM6IHt9LCBJOiBJQ0VUcmlja2xlLCBPOiBJQ0VUcmlja2xlUmVzcG9uc2UgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnVXBkYXRlU3Vic2NyaXB0aW9ucycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgICAgTzogVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZU11dGVTdGF0ZXMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdJY2VSZXN0YXJ0JyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogSUNFUmVzdGFydFJlcXVlc3QsXG4gICAgICBPOiBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU2VuZFN0YXRzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICAgIE86IFNlbmRTdGF0c1Jlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1N0YXJ0Tm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdG9wTm9pc2VDYW5jZWxsYXRpb24nLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgTzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgXSxcbik7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvZXZlbnQvZXZlbnRzLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LmV2ZW50XCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgTWVzc2FnZVR5cGUgfSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5pbXBvcnQge1xuICBDYWxsRW5kZWRSZWFzb24sXG4gIENhbGxHcmFudHMsXG4gIENhbGxTdGF0ZSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgQ29kZWMsXG4gIENvbm5lY3Rpb25RdWFsaXR5LFxuICBFcnJvciBhcyBFcnJvciQsXG4gIEdvQXdheVJlYXNvbixcbiAgSUNFVHJpY2tsZSBhcyBJQ0VUcmlja2xlJCxcbiAgUGFydGljaXBhbnQsXG4gIFBhcnRpY2lwYW50Q291bnQsXG4gIFBlZXJUeXBlLFxuICBQaW4sXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBUcmFja1VucHVibGlzaFJlYXNvbixcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIH0gZnJvbSAnLi4vc2lnbmFsX3JwYy9zaWduYWwnO1xuXG4vKipcbiAqIFNGVUV2ZW50IGlzIGEgbWVzc2FnZSB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdUV2ZW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZXZlbnRfcGF5bG9hZFxuICAgKi9cbiAgZXZlbnRQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdWJzY3JpYmVyT2ZmZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3Vic2NyaWJlck9mZmVyIHNlbmRzIHRoZSBTRFAgb2ZmZXIgZm9yIGVzdGFibGlzaGluZyB0aGVcbiAgICAgICAgICogc3Vic2NyaWJlciBQZWVyQ29ubmVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlciBzdWJzY3JpYmVyX29mZmVyID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwdWJsaXNoZXJBbnN3ZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHVibGlzaGVyQW5zd2VyIHNlbmRzIHRoZSBTRFAgYW5zd2VyIHRvIHRoZSBvZmZlciBzZW50IGJ5XG4gICAgICAgICAqIHRoZSBjbGllbnQgZm9yIGVzdGFibGlzaGluZyB0aGUgUHVibGlzaGVyIFBlZXJDb25uZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyIHB1Ymxpc2hlcl9hbnN3ZXIgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaGVyQW5zd2VyOiBQdWJsaXNoZXJBbnN3ZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Nvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgaXMgc2VudCB0byBpbmZvcm0gdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgICogcXVhbGl0eSBvZiB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLiBJdCBkb2VzIG5vdCBoYXZlXG4gICAgICAgICAqIHRvIGNvbnRhaW4gdGhlIGZ1bGwgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cyBpbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCBjb25uZWN0aW9uX3F1YWxpdHlfY2hhbmdlZCA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYXVkaW9MZXZlbENoYW5nZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBmb3IgY2hhbmdlIGluIGF1ZGlvIGxldmVscyBvZlxuICAgICAgICAgKiB0aGUgcGFydGljaXBhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQgYXVkaW9fbGV2ZWxfY2hhbmdlZCA9IDQ7XG4gICAgICAgICAqL1xuICAgICAgICBhdWRpb0xldmVsQ2hhbmdlZDogQXVkaW9MZXZlbENoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2ljZVRyaWNrbGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSUNFVHJpY2tsZSBjb250YWlucyB0aGUgSUNFIGNhbmRpZGF0ZSByZXF1aXJlZCB0byBlc3RhYmxpc2hcbiAgICAgICAgICogdGhlIElDRSB0cmFuc3BvcnQ6IHBhcnQgb2YgZXN0YWJsaXNoaW5nIHRoZSBQZWVyQ29ubmVjdGlvblxuICAgICAgICAgKiBhbmQgYWxzbyBmb3IgSUNFIHJlc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUgaWNlX3RyaWNrbGUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlVHJpY2tsZTogSUNFVHJpY2tsZSQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZVB1Ymxpc2hRdWFsaXR5IGFkdmlzZXMgdGhlIHB1Ymxpc2hlciB0byBzd2l0Y2ggb24vb2ZmXG4gICAgICAgICAqIHZhcmlvdXMgcXVhbGl0aWVzIG9mIHRoZWlyIHZpZGVvIHN0cmVhbSBiYXNlZCBvbiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKiBUaGlzIGlzIGRvbmUgdG8gc2F2ZSB0aGUgYmFuZHdpZHRoIGFuZCB0aGUgQ1BVIG9mIHRoZSBwdWJsaXNoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eSBjaGFuZ2VfcHVibGlzaF9xdWFsaXR5ID0gNjtcbiAgICAgICAgICovXG4gICAgICAgIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiBDaGFuZ2VQdWJsaXNoUXVhbGl0eTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRKb2luZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRKb2luZWQgbm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgbmV3IHBhcnRpY2lwYW50XG4gICAgICAgICAqIGhhcyBqb2luZWQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkIHBhcnRpY2lwYW50X2pvaW5lZCA9IDEwO1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRKb2luZWQ6IFBhcnRpY2lwYW50Sm9pbmVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudExlZnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRMZWZ0IG5vdGlmaWVzIHRoZSBjbGllbnQgdGhhdCBhIGNhbGwgcGFydGljaXBhbnRcbiAgICAgICAgICogaGFzIGxlZnQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCBwYXJ0aWNpcGFudF9sZWZ0ID0gMTE7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudExlZnQ6IFBhcnRpY2lwYW50TGVmdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZG9taW5hbnRTcGVha2VyQ2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIG5vdGlmaWVzIHRoZSBjbGllbnQgYWJvdXQgdGhlIGN1cnJlbnRcbiAgICAgICAgICogZG9taW5hbnQgc3BlYWtlci4gVGhpcyBpcyByZXF1aXJlZCBmb3IgY2VydGFpbiB1c2UgY2FzZXMgbGlrZVxuICAgICAgICAgKiB0aGUgc3BvdGxpZ2h0IHZpZXcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkIGRvbWluYW50X3NwZWFrZXJfY2hhbmdlZCA9IDEyO1xuICAgICAgICAgKi9cbiAgICAgICAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogRG9taW5hbnRTcGVha2VyQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlc3BvbnNlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEpvaW5SZXNwb25zZSBhY2tub3dsZWRnZXMgYSBwYXJ0aWNpcGFudCBzdWNjZXNzZnVsbHkgam9pbmluZ1xuICAgICAgICAgKiB0aGUgY2FsbC4gVGhpcyBpcyBzZW50IGluIHJlc3BvbnNlIHRvIHRoZSBKb2luUmVxdWVzdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZSBqb2luX3Jlc3BvbnNlID0gMTM7XG4gICAgICAgICAqL1xuICAgICAgICBqb2luUmVzcG9uc2U6IEpvaW5SZXNwb25zZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXNwb25zZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWFsdGhDaGVja1Jlc3BvbnNlIGlzIHNlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIEhlYWx0aENoZWNrUmVxdWVzdC5cbiAgICAgICAgICogSXQgY29udGFpbnMgdGhlIHBhcnRpY2lwYW50IGNvdW50IGluIHRoZSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZSBoZWFsdGhfY2hlY2tfcmVzcG9uc2UgPSAxNDtcbiAgICAgICAgICovXG4gICAgICAgIGhlYWx0aENoZWNrUmVzcG9uc2U6IEhlYWx0aENoZWNrUmVzcG9uc2U7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrUHVibGlzaGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrUHVibGlzaGVkIGlzIHNlbnQgd2hlbiBhIG5ldyB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBwdWJsaXNoZWQgYnkgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY2FsbC4gSXQgaXMgYWxzbyBzZW50IG9uIG11dGUvdW5tdXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWQgdHJhY2tfcHVibGlzaGVkID0gMTY7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1B1Ymxpc2hlZDogVHJhY2tQdWJsaXNoZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrVW5wdWJsaXNoZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tVbnB1Ymxpc2hlZCBpcyBzZW50IHdoZW4gYSB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBubyBsb25nZXIgcHVibGlzaGVkLiBJdCBpcyBzZW50IG9uIG11dGluZyBhIHRyYWNrIG9yIHdoZW4gdGhlIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGlzIGxlYXZpbmcgdGhlIGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkIHRyYWNrX3VucHVibGlzaGVkID0gMTc7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1VucHVibGlzaGVkOiBUcmFja1VucHVibGlzaGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdlcnJvcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFcnJvciBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFueSBlcnJvciByZWxhdGVkIHRvIHRoZSBwYXJ0aWNpcGFudC4gVGhlXG4gICAgICAgICAqIGVycm9yIGNvZGUgYW5kIHRoZSBtZXNzYWdlIGV4cGxhaW4gd2hhdCB3ZW50IHdyb25nLiBXaGV0aGVyIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBjYW4gcmV0cnkgaXMgYWxzbyBpbmRpY2F0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvciBlcnJvciA9IDE4O1xuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEVycm9yO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjYWxsR3JhbnRzVXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsR3JhbnRzVXBkYXRlZCB0ZWxscyB3aGF0IHRyYWNrcyBhIHBhcnRpY2lwYW50IGlzIGFsbG93ZWQgdG8gcHVibGlzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgPSAxOTtcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxHcmFudHNVcGRhdGVkOiBDYWxsR3JhbnRzVXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZ29Bd2F5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdvQXdheSB0ZWxscyB0aGUgY2xpZW50IHRvIG1pZ3JhdGUgYXdheSBmcm9tIHRoZSBTRlUgaXQgaXMgY29ubmVjdGVkIHRvLlxuICAgICAgICAgKiBUaGUgcmVhc29uIGZpZWxkIGluZGljYXRlcyB3aHkgdGhpcyBtZXNzYWdlIHdhcyBzZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5IGdvX2F3YXkgPSAyMDtcbiAgICAgICAgICovXG4gICAgICAgIGdvQXdheTogR29Bd2F5O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdpY2VSZXN0YXJ0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElDRVJlc3RhcnQgdGVsbHMgdGhlIGNsaWVudCB0byBwZXJmb3JtIElDRSByZXN0YXJ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCBpY2VfcmVzdGFydCA9IDIxO1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlUmVzdGFydDogSUNFUmVzdGFydDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGluc1VwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGluc0NoYW5nZWQgaXMgc2VudCB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsIGNoYW5nZXMuIFRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGVudGlyZSBsaXN0IG9mIHBpbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZCBwaW5zX3VwZGF0ZWQgPSAyMjtcbiAgICAgICAgICovXG4gICAgICAgIHBpbnNVcGRhdGVkOiBQaW5zQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2FsbEVuZGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxFbmRlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdGhhdCB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICAgICAqIFRoZSByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCBjYWxsX2VuZGVkID0gMjM7XG4gICAgICAgICAqL1xuICAgICAgICBjYWxsRW5kZWQ6IENhbGxFbmRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBzZW50IHdoZW4gdXNlciBkYXRhIGlzIHVwZGF0ZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCBwYXJ0aWNpcGFudF91cGRhdGVkID0gMjQ7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IFBhcnRpY2lwYW50VXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIGlzIHNlbnQgd2hlbiB0aGUgcGFydGljaXBhbnQgbWlncmF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIHBhcnRpY2lwYW50X21pZ3JhdGlvbl9jb21wbGV0ZSA9IDI1O1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTogUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiB1bmRlZmluZWQ7XG4gICAgICB9O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5zQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsLlxuICAgKiBQaW5zIGFyZSBvcmRlcmVkIGluIGRlc2NlbmRpbmcgb3JkZXIgKG1vc3QgaW1wb3J0YW50IGZpcnN0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW4gcGlucyA9IDE7XG4gICAqL1xuICBwaW5zOiBQaW5bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvciQ7XG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSByZWNvbm5lY3Qgc3RyYXRlZ3kgdG8gYmUgdXNlZCBieSB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgcmVjb25uZWN0X3N0cmF0ZWd5ID0gNTtcbiAgICovXG4gIHJlY29ubmVjdFN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbn1cbi8qKlxuICogU2Z1UmVxdWVzdCBpcyBhIG1lc3NhZ2UgdGhhdCBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgU0ZVLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiByZXF1ZXN0X3BheWxvYWRcbiAgICovXG4gIHJlcXVlc3RQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3Qgam9pbl9yZXF1ZXN0ID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIGpvaW5SZXF1ZXN0OiBKb2luUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QgaGVhbHRoX2NoZWNrX3JlcXVlc3QgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiBIZWFsdGhDaGVja1JlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2xlYXZlQ2FsbFJlcXVlc3QnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3QgbGVhdmVfY2FsbF9yZXF1ZXN0ID0gMztcbiAgICAgICAgICovXG4gICAgICAgIGxlYXZlQ2FsbFJlcXVlc3Q6IExlYXZlQ2FsbFJlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5MZWF2ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGVhdmVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmVhc29uID0gMjtcbiAgICovXG4gIHJlYXNvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVxdWVzdCB7fVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhDaGVja1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDE7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrUHVibGlzaGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHlwZSA9IDM7XG4gICAqL1xuICB0eXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBQYXJ0aWNpcGFudCBpbmZvcm1hdGlvbiBoZXJlIGlzIGluY2x1ZGVkIGFzIGFuIG9wdGltaXNhdGlvblxuICAgKiBmb3IgbGFyZ2UgY2FsbHMgd2hlcmUgYnJvYWRjYXN0aW5nIG9uIGV2ZXJ5IHBhcnRpY2lwYW50IGpvaW5cbiAgICogaXMgZXhwZW5zaXZlLiBZb3Ugc2hvdWxkICoqTk9UKiogYXNzdW1lIHRoYXQgdGhpcyB3aWxsIGFsd2F5c1xuICAgKiBiZSBhdmFpbGFibGUgdGhvdWdoIHlvdSBjYW4gdXNlIGl0IHRvIHVwZGF0ZSB0aGUgcGFydGljaXBhbnRcbiAgICogbGlzdCB3aGVuIGl0IGlzIHRoZXJlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNDtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrVW5wdWJsaXNoZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0eXBlID0gMztcbiAgICovXG4gIHR5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24gY2F1c2UgPSA0O1xuICAgKi9cbiAgY2F1c2U6IFRyYWNrVW5wdWJsaXNoUmVhc29uO1xuICAvKipcbiAgICogUGFydGljaXBhbnQgaW5mb3JtYXRpb24gaGVyZSBpcyBpbmNsdWRlZCBhcyBhbiBvcHRpbWlzYXRpb25cbiAgICogZm9yIGxhcmdlIGNhbGxzIHdoZXJlIGJyb2FkY2FzdGluZyBvbiBldmVyeSBwYXJ0aWNpcGFudCBqb2luXG4gICAqIGlzIGV4cGVuc2l2ZS4gWW91IHNob3VsZCAqKk5PVCoqIGFzc3VtZSB0aGF0IHRoaXMgd2lsbCBhbHdheXNcbiAgICogYmUgYXZhaWxhYmxlIHRob3VnaCB5b3UgY2FuIHVzZSBpdCB0byB1cGRhdGUgdGhlIHBhcnRpY2lwYW50XG4gICAqIGxpc3Qgd2hlbiBpdCBpcyB0aGVyZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDU7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSm9pblJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdG9rZW4gPSAxO1xuICAgKi9cbiAgdG9rZW46IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBkdW1iIFNEUCB0aGF0IGFsbG93IHVzIHRvIGV4dHJhY3Qgc3Vic2NyaWJlcidzIGRlY29kZSBjb2RlY3NcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zZHAgPSAzO1xuICAgKi9cbiAgc3Vic2NyaWJlclNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzIGNsaWVudF9kZXRhaWxzID0gNDtcbiAgICovXG4gIGNsaWVudERldGFpbHM/OiBDbGllbnREZXRhaWxzO1xuICAvKipcbiAgICogRGVwcmVjYXRlZDogdXNlIFJlY29ubmVjdERldGFpbHMgaW5zdGVhZFxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uIG1pZ3JhdGlvbiA9IDUgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIG1pZ3JhdGlvbj86IE1pZ3JhdGlvbjtcbiAgLyoqXG4gICAqIEZhc3QgcmVjb25uZWN0IGZsYWcgZXhwbGljaXRseSBpbmRpY2F0ZXMgdGhhdCBpZiB0aGUgcGFydGljaXBhbnQgc2Vzc2lvblxuICAgKiBhbmQgdGhlIGFzc29jaWF0ZWQgc3RhdGUgaXMgc3RpbGwgcHJlc2VudCBpbiB0aGUgU0ZVLCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAqIHRvIHJlc3RvcmUgdGhlIFBlZXJDb25uZWN0aW9uIHdpdGggYW4gSUNFIHJlc3RhcnQuIElmIHRoZSBTRlUgcmVwbGllcyB3aXRoXG4gICAqIFwicmVjb25uZWN0ZWQ6IHRydWVcIiBpbiBpdHMgSm9pblJlc3BvbnNlLCB0aGVuIGl0IGlzIHNhZmUgdG8gcGVyZm9ybSBhbiBJQ0VcbiAgICogcmVzdGFydCBvciBlbHNlIHRoZSBleGlzdGluZyBQZWVyQ29ubmVjdGlvbnMgbXVzdCBiZSBjbGVhbmVkIHVwLlxuICAgKlxuICAgKiBGb3IgdGhlIFNGVSwgZmFzdF9yZWNvbm5lY3Q6ZmFsc2UgaW5kaWNhdGVzIHRoYXQgZXZlbiBpZiBpdCBoYXMgdGhlIHN0YXRlXG4gICAqIGNhY2hlZCwgdGhlIGNsaWVudCBzdGF0ZSBpcyBub3QgaW4gc3luYyBhbmQgaGVuY2UgaXQgbXVzdCBiZSBjbGVhbmVkIHVwIGJlZm9yZVxuICAgKiBwcm9jZWVkaW5nIGZ1cnRoZXIuXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBmYXN0X3JlY29ubmVjdCA9IDYgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIGZhc3RSZWNvbm5lY3Q6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlscyByZWNvbm5lY3RfZGV0YWlscyA9IDc7XG4gICAqL1xuICByZWNvbm5lY3REZXRhaWxzPzogUmVjb25uZWN0RGV0YWlscztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb25uZWN0RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHN0cmF0ZWd5ID0gMTtcbiAgICovXG4gIHN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIGFubm91bmNlZF90cmFja3MgPSAzO1xuICAgKi9cbiAgYW5ub3VuY2VkVHJhY2tzOiBUcmFja0luZm9bXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHN1YnNjcmlwdGlvbnMgPSA0O1xuICAgKi9cbiAgc3Vic2NyaXB0aW9uczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiByZWNvbm5lY3RfYXR0ZW1wdCA9IDU7XG4gICAqL1xuICByZWNvbm5lY3RBdHRlbXB0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBmcm9tX3NmdV9pZCA9IDY7XG4gICAqL1xuICBmcm9tU2Z1SWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIG9ubHkgc2V0IGluIGNhc2Ugb2YgcmVqb2luXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHByZXZpb3VzX3Nlc3Npb25faWQgPSA3O1xuICAgKi9cbiAgcHJldmlvdXNTZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNaWdyYXRpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnJvbV9zZnVfaWQgPSAxO1xuICAgKi9cbiAgZnJvbVNmdUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzID0gMjtcbiAgICovXG4gIGFubm91bmNlZFRyYWNrczogVHJhY2tJbmZvW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyBzdWJzY3JpcHRpb25zID0gMztcbiAgICovXG4gIHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZSBjYWxsX3N0YXRlID0gMTtcbiAgICovXG4gIGNhbGxTdGF0ZT86IENhbGxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCByZWNvbm5lY3RlZCA9IDI7XG4gICAqL1xuICByZWNvbm5lY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgZmFzdF9yZWNvbm5lY3RfZGVhZGxpbmVfc2Vjb25kcyA9IDM7XG4gICAqL1xuICBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzOiBudW1iZXI7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGpvaW5zIGEgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudEpvaW5lZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGxlYXZlcyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50TGVmdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBmaXJlZCB3aGVuIHVzZXIgZGF0YSBpcyB1cGRhdGVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudFVwZGF0ZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBTdWJzY3JpYmVyT2ZmZXIgaXMgc2VudCB3aGVuIHRoZSBTRlUgYWRkcyB0cmFja3MgdG8gYSBzdWJzY3JpcHRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZXJPZmZlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAxO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDI7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoZXJBbnN3ZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xufVxuLyoqXG4gKiBDb25uZWN0aW9uUXVhbGl0eSBpcyBzZW50IHRvIGluZm9ybSBhYm91dCBjb25uZWN0aW9uIHF1YWxpdHkgY2hhbmdlc1xuICogZWcuIHRoaWVycnkncyBjb25uZWN0aW9uIGlzIG5vdCBnb29kIC0+IHJlbmRlciBhIHJlZCBpY29uIFpvb20gc3R5bGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvIGNvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzID0gMTtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlczogQ29ubmVjdGlvblF1YWxpdHlJbmZvW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvblF1YWxpdHlJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSAzO1xuICAgKi9cbiAgY29ubmVjdGlvblF1YWxpdHk6IENvbm5lY3Rpb25RdWFsaXR5O1xufVxuLyoqXG4gKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgd2hlbiB0aGVyZSBpcyBhIG5ldyBkb21pbmFudCBzcGVha2VyIGluIHRoZSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIDAuMCBtZWFucyBjb21wbGV0ZSBzaWxlbmNlLCAxLjAgbG91ZGVzdFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGxldmVsID0gMztcbiAgICovXG4gIGxldmVsOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfc3BlYWtpbmcgPSA0O1xuICAgKi9cbiAgaXNTcGVha2luZzogYm9vbGVhbjtcbn1cbi8qKlxuICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIG5vdGlmeSBhYm91dCBhdWRpbyBsZXZlbHMgYnkgdXNlclxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb0xldmVsQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCBhdWRpb19sZXZlbHMgPSAxO1xuICAgKi9cbiAgYXVkaW9MZXZlbHM6IEF1ZGlvTGV2ZWxbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvTWVkaWFSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgY2hhbm5lbF9jb3VudCA9IDE7XG4gICAqL1xuICBjaGFubmVsQ291bnQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdCBtZWRpYV9yZXF1ZXN0ID0gMTtcbiAgICovXG4gIG1lZGlhUmVxdWVzdD86IEF1ZGlvTWVkaWFSZXF1ZXN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTWVkaWFSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9NZWRpYVJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBpZGVhbF9oZWlnaHQgPSAxO1xuICAgKi9cbiAgaWRlYWxIZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgaWRlYWxfd2lkdGggPSAyO1xuICAgKi9cbiAgaWRlYWxXaWR0aDogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBpZGVhbF9mcmFtZV9yYXRlID0gMztcbiAgICovXG4gIGlkZWFsRnJhbWVSYXRlOiBudW1iZXI7XG59XG4vKipcbiAqIFZpZGVvTGF5ZXJTZXR0aW5nIGlzIHVzZWQgdG8gc3BlY2lmeSB2YXJpb3VzIHBhcmFtZXRlcnMgb2YgYSBwYXJ0aWN1bGFyIGVuY29kaW5nIGluIHNpbXVsY2FzdC5cbiAqIFRoZSBwYXJhbWV0ZXJzIGFyZSBzcGVjaWZpZWQgaGVyZSAtIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SVENSdHBFbmNvZGluZ1BhcmFtZXRlcnNcbiAqIFNES3MgdXNlIHRoZXNlIHBhcmFtZXRlcnMgc2VudCBmcm9tIHRoZSBzZXJ2ZXIgdG8gZHluYW1pY2FsbHkgYWRqdXN0IHRoZXNlIHBhcmFtZXRlcnMgdG8gc2F2ZSBDUFUsIGJhbmR3aWR0aFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb0xheWVyU2V0dGluZyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBhY3RpdmUgPSAyO1xuICAgKi9cbiAgYWN0aXZlOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfYml0cmF0ZSA9IDM7XG4gICAqL1xuICBtYXhCaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IHNjYWxlX3Jlc29sdXRpb25fZG93bl9ieSA9IDQ7XG4gICAqL1xuICBzY2FsZVJlc29sdXRpb25Eb3duQnk6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZy5Qcmlvcml0eSBwcmlvcml0eSA9IDU7XG4gICAqL1xuICBwcmlvcml0eTogVmlkZW9MYXllclNldHRpbmdfUHJpb3JpdHk7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gNjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBtYXhfZnJhbWVyYXRlID0gNztcbiAgICovXG4gIG1heEZyYW1lcmF0ZTogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nLlByaW9yaXR5XG4gKi9cbmV4cG9ydCBlbnVtIFZpZGVvTGF5ZXJTZXR0aW5nX1ByaW9yaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQUklPUklUWV9ISUdIX1VOU1BFQ0lGSUVEID0gMDtcbiAgICovXG4gIEhJR0hfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX0xPVyA9IDE7XG4gICAqL1xuICBMT1cgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX01FRElVTSA9IDI7XG4gICAqL1xuICBNRURJVU0gPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBSSU9SSVRZX1ZFUllfTE9XID0gMztcbiAgICovXG4gIFZFUllfTE9XID0gMyxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb01lZGlhUmVxdWVzdCBtZWRpYV9yZXF1ZXN0ID0gMTtcbiAgICovXG4gIG1lZGlhUmVxdWVzdD86IFZpZGVvTWVkaWFSZXF1ZXN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nIGxheWVycyA9IDM7XG4gICAqL1xuICBsYXllcnM6IFZpZGVvTGF5ZXJTZXR0aW5nW107XG59XG4vKipcbiAqIHNlbnQgdG8gdXNlcnMgd2hlbiB0aGV5IG5lZWQgdG8gY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZWlyIHZpZGVvXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hRdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlciBhdWRpb19zZW5kZXJzID0gMTtcbiAgICovXG4gIGF1ZGlvU2VuZGVyczogQXVkaW9TZW5kZXJbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlciB2aWRlb19zZW5kZXJzID0gMjtcbiAgICovXG4gIHZpZGVvU2VuZGVyczogVmlkZW9TZW5kZXJbXTtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyBpcyBzZW50IHRvIHVzZXJzIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UgaW4gdGhlIGNhbGwgcGVybWlzc2lvbnNcbiAqIHRvIHB1Ymxpc2ggYXVkaW8sIHZpZGVvIG9yIHNoYXJlIHRoZSBzY3JlZW4gZm9yIGEgdXNlciBvciBhIHJvbGUuIFRoaXMgaXNcbiAqIGlkZW1wb3RlbnQgYW5kIGNhbiBiZSBzZW50IGF0IGFueSB0aW1lLiBPbmx5IHRoZSBjdXJyZW50X2dyYW50cyBpbiB0aGUgbGF0ZXN0XG4gKiBtZXNzYWdlIHNob3VsZCBiZSBjb25zaWRlcmVkLiBJbiBvdGhlciB3b3JkcywgdGhpcyBpcyBub3QgZGVwZW5kZW50IG9uIGFueVxuICogb3RoZXIgbWVzc2FnZSAoaW5jbHVkaW5nIHByZXZpb3VzIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgbWVzc2FnZSlcbiAqXG4gKiBXaGVuIHRoaXMgbWVzc2FnZSBpcyByZWNlaXZlZCwgdGhlIGNsaWVudCAoc2F5LCBSZWFjdCBjb21wb25lbnQpIHNob3VsZCBtdXRlXG4gKiB0aGUgdHJhY2tzIHdoaWNoIGFyZSBub3QgYWxsb3dlZCBhbnltb3JlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG1lc3NhZ2UgaGFzXG4gKiBncmFudHMge2F1ZGlvOnRydWUsIHZpZGVvOmZhbHNlfSB3aGlsZSB0aGUgdXNlciBpcyBwdWJsaXNoaW5nIHZpZGVvLCB0aGVuIHRoZVxuICogY2xpZW50IGNvbXBvbmVudCBzaG91bGQgbXV0ZSB0aGUgdmlkZW8gdHJhY2sgYW5kIGdyYXkgb3V0IHRoZSB2aWRlbyBidXR0b24uXG4gKiBUaGlzIHdheSwgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBwdWJsaXNoIHZpZGVvIHVudGlsIHRoZSBwZXJtaXNzaW9uc1xuICogYXJlIGdyYW50ZWQgYWdhaW4uIEFsc28sIG11dGluZyB0aGUgdHJhY2sgb24gdGhlIGNsaWVudCBzaWRlIHdpbGwgcHJldmVudFxuICogdGhlIFNGVSBmcm9tIHJlY2VpdmluZyB0aGUgdmlkZW8gdHJhY2sgYW5kIHdpbGwgc2F2ZSBiYW5kd2lkdGguXG4gKlxuICogSW4gc2ltcGxlIHdvcmRzLCB0aGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgbXV0aW5nIGEgdHJhY2sgb24gdGhlIGNsaWVudC5cbiAqIEhlcmUsIGluc3RlYWQgb2YgdGhlIHVzZXIgaW5zdHJ1Y3RpbmcgdGhlIGNsaWVudCwgU0ZVIHdvdWxkIGJlIGRvaW5nIGl0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzVXBkYXRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMgY3VycmVudF9ncmFudHMgPSAxO1xuICAgKi9cbiAgY3VycmVudEdyYW50cz86IENhbGxHcmFudHM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtZXNzYWdlID0gMjtcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cbi8qKlxuICogR28gYXdheSBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVS5cbiAqIFRoZSBldmljdCByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSB1c2VyIGlzIGJlaW5nIGV2aWN0ZWQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0F3YXkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb24gcmVhc29uID0gMTtcbiAgICovXG4gIHJlYXNvbjogR29Bd2F5UmVhc29uO1xufVxuLyoqXG4gKiBDYWxsRW5kZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IENhbGxFbmRlZFJlYXNvbjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdUV2ZW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVFdmVudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX29mZmVyJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFN1YnNjcmliZXJPZmZlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX2Fuc3dlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoZXJBbnN3ZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnaWNlX3RyaWNrbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSUNFVHJpY2tsZSQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2NoYW5nZV9wdWJsaXNoX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9qb2luZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRKb2luZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9sZWZ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TGVmdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ2RvbWluYW50X3NwZWFrZXJfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXNwb25zZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3B1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1B1Ymxpc2hlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3VucHVibGlzaGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICdlcnJvcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBFcnJvcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOSxcbiAgICAgICAgbmFtZTogJ2NhbGxfZ3JhbnRzX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjAsXG4gICAgICAgIG5hbWU6ICdnb19hd2F5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEdvQXdheSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyMSxcbiAgICAgICAgbmFtZTogJ2ljZV9yZXN0YXJ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVJlc3RhcnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjIsXG4gICAgICAgIG5hbWU6ICdwaW5zX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGluc0NoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjMsXG4gICAgICAgIG5hbWU6ICdjYWxsX2VuZGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxFbmRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNCxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI1LFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfbWlncmF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudFxuICovXG5leHBvcnQgY29uc3QgU2Z1RXZlbnQgPSBuZXcgU2Z1RXZlbnQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJywgW10pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlXG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlID1cbiAgbmV3IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGluc0NoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBpbnNDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BpbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBpbixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBpbnNDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBQaW5zQ2hhbmdlZCA9IG5ldyBQaW5zQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBFcnJvciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RXJyb3I+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuRXJyb3InLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yJCB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdF9zdHJhdGVneScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneScsXG4gICAgICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgJ1dFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yXG4gKi9cbmV4cG9ydCBjb25zdCBFcnJvciA9IG5ldyBFcnJvciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVRyaWNrbGUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2ljZV9jYW5kaWRhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VUcmlja2xlID0gbmV3IElDRVRyaWNrbGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VSZXN0YXJ0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydFxuICovXG5leHBvcnQgY29uc3QgSUNFUmVzdGFydCA9IG5ldyBJQ0VSZXN0YXJ0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdVJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNmdVJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdqb2luX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVxdWVzdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnaGVhbHRoX2NoZWNrX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBIZWFsdGhDaGVja1JlcXVlc3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2xlYXZlX2NhbGxfcmVxdWVzdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdyZXF1ZXN0UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IExlYXZlQ2FsbFJlcXVlc3QsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTZnVSZXF1ZXN0ID0gbmV3IFNmdVJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTGVhdmVDYWxsUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TGVhdmVDYWxsUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5MZWF2ZUNhbGxSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWFzb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgTGVhdmVDYWxsUmVxdWVzdCA9IG5ldyBMZWF2ZUNhbGxSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEhlYWx0aENoZWNrUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SGVhbHRoQ2hlY2tSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdCcsIFtdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBIZWFsdGhDaGVja1JlcXVlc3QgPSBuZXcgSGVhbHRoQ2hlY2tSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEhlYWx0aENoZWNrUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9jb3VudCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRDb3VudCxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWx0aENoZWNrUmVzcG9uc2UgPSBuZXcgSGVhbHRoQ2hlY2tSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUcmFja1B1Ymxpc2hlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tQdWJsaXNoZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZFxuICovXG5leHBvcnQgY29uc3QgVHJhY2tQdWJsaXNoZWQgPSBuZXcgVHJhY2tQdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tVbnB1Ymxpc2hlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tVbnB1Ymxpc2hlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjYXVzZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1VucHVibGlzaFJlYXNvbicsXG4gICAgICAgICAgVHJhY2tVbnB1Ymxpc2hSZWFzb24sXG4gICAgICAgICAgJ1RSQUNLX1VOUFVCTElTSF9SRUFTT05fJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrVW5wdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrVW5wdWJsaXNoZWQgPSBuZXcgVHJhY2tVbnB1Ymxpc2hlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBKb2luUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Sm9pblJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndG9rZW4nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaWJlcl9zZHAnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ2NsaWVudF9kZXRhaWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBDbGllbnREZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdtaWdyYXRpb24nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IE1pZ3JhdGlvbiB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2Zhc3RfcmVjb25uZWN0JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAncmVjb25uZWN0X2RldGFpbHMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFJlY29ubmVjdERldGFpbHMsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSm9pblJlcXVlc3QgPSBuZXcgSm9pblJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUmVjb25uZWN0RGV0YWlscyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UmVjb25uZWN0RGV0YWlscz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3N0cmF0ZWd5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5JyxcbiAgICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgICAgICAgICAnV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdhbm5vdW5jZWRfdHJhY2tzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmlwdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAncmVjb25uZWN0X2F0dGVtcHQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmcm9tX3NmdV9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAncHJldmlvdXNfc2Vzc2lvbl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlJlY29ubmVjdERldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29ubmVjdERldGFpbHMgPSBuZXcgUmVjb25uZWN0RGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBNaWdyYXRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPE1pZ3JhdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb24nLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnZnJvbV9zZnVfaWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2Fubm91bmNlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrSW5mbyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaXB0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBNaWdyYXRpb24gPSBuZXcgTWlncmF0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEpvaW5SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Sm9pblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX3N0YXRlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDYWxsU3RhdGUgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWNvbm5lY3RlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdF9kZWFkbGluZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Kb2luUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IEpvaW5SZXNwb25zZSA9IG5ldyBKb2luUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRKb2luZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50Sm9pbmVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfY2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkXG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudEpvaW5lZCA9IG5ldyBQYXJ0aWNpcGFudEpvaW5lZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudExlZnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50TGVmdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudExlZnQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY2FsbF9jaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudExlZnQgPSBuZXcgUGFydGljaXBhbnRMZWZ0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50VXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGFydGljaXBhbnRVcGRhdGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50VXBkYXRlZCA9IG5ldyBQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU3Vic2NyaWJlck9mZmVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdWJzY3JpYmVyT2ZmZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2ljZV9yZXN0YXJ0Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TdWJzY3JpYmVyT2ZmZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZXJPZmZlciA9IG5ldyBTdWJzY3JpYmVyT2ZmZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUHVibGlzaGVyQW5zd2VyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQdWJsaXNoZXJBbnN3ZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3NkcCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFB1Ymxpc2hlckFuc3dlciA9IG5ldyBQdWJsaXNoZXJBbnN3ZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBDb25uZWN0aW9uUXVhbGl0eUluZm8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCA9IG5ldyBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29ubmVjdGlvblF1YWxpdHlJbmZvJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb25uZWN0aW9uUXVhbGl0eUluZm8+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY29ubmVjdGlvbl9xdWFsaXR5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5JyxcbiAgICAgICAgICBDb25uZWN0aW9uUXVhbGl0eSxcbiAgICAgICAgICAnQ09OTkVDVElPTl9RVUFMSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUluZm9cbiAqL1xuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25RdWFsaXR5SW5mbyA9IG5ldyBDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RG9taW5hbnRTcGVha2VyQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IERvbWluYW50U3BlYWtlckNoYW5nZWQgPSBuZXcgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb0xldmVsJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb0xldmVsPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWwnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdsZXZlbCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTGV2ZWwgPSBuZXcgQXVkaW9MZXZlbCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb0xldmVsQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXVkaW9MZXZlbENoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTGV2ZWxDaGFuZ2VkID0gbmV3IEF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTWVkaWFSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb01lZGlhUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjaGFubmVsX2NvdW50JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb01lZGlhUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9NZWRpYVJlcXVlc3QgPSBuZXcgQXVkaW9NZWRpYVJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXVkaW9TZW5kZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvU2VuZGVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ21lZGlhX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvTWVkaWFSZXF1ZXN0LFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9TZW5kZXJcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2VuZGVyID0gbmV3IEF1ZGlvU2VuZGVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTWVkaWFSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb01lZGlhUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb01lZGlhUmVxdWVzdCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdpZGVhbF9oZWlnaHQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaWRlYWxfd2lkdGgnLCBraW5kOiAnc2NhbGFyJywgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2lkZWFsX2ZyYW1lX3JhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTWVkaWFSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb01lZGlhUmVxdWVzdCA9IG5ldyBWaWRlb01lZGlhUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb0xheWVyU2V0dGluZyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9MYXllclNldHRpbmc+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2FjdGl2ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtYXhfYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnc2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNSxcbiAgICAgICAgbmFtZTogJ3ByaW9yaXR5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcuUHJpb3JpdHknLFxuICAgICAgICAgIFZpZGVvTGF5ZXJTZXR0aW5nX1ByaW9yaXR5LFxuICAgICAgICAgICdQUklPUklUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdtYXhfZnJhbWVyYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb0xheWVyU2V0dGluZyA9IG5ldyBWaWRlb0xheWVyU2V0dGluZyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb1NlbmRlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9TZW5kZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9TZW5kZXInLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnbWVkaWFfcmVxdWVzdCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9NZWRpYVJlcXVlc3QsXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAxIC8qUmVwZWF0VHlwZS5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllclNldHRpbmcsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgY29uc3QgVmlkZW9TZW5kZXIgPSBuZXcgVmlkZW9TZW5kZXIkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ2hhbmdlUHVibGlzaFF1YWxpdHkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENoYW5nZVB1Ymxpc2hRdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2F1ZGlvX3NlbmRlcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvU2VuZGVyLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICd2aWRlb19zZW5kZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDEgLypSZXBlYXRUeXBlLlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb1NlbmRlcixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoUXVhbGl0eSA9IG5ldyBDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEdyYW50c1VwZGF0ZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY3VycmVudF9ncmFudHMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENhbGxHcmFudHMgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtZXNzYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsR3JhbnRzVXBkYXRlZCA9IG5ldyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBHb0F3YXkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEdvQXdheT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncmVhc29uJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvbicsXG4gICAgICAgICAgR29Bd2F5UmVhc29uLFxuICAgICAgICAgICdHT19BV0FZX1JFQVNPTl8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5XG4gKi9cbmV4cG9ydCBjb25zdCBHb0F3YXkgPSBuZXcgR29Bd2F5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxFbmRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEVuZGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdyZWFzb24nLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uJyxcbiAgICAgICAgICBDYWxsRW5kZWRSZWFzb24sXG4gICAgICAgICAgJ0NBTExfRU5ERURfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxFbmRlZCA9IG5ldyBDYWxsRW5kZWQkVHlwZSgpO1xuIiwiaW1wb3J0IHR5cGUge1xuICBQYXJ0aWNpcGFudCxcbiAgVmlkZW9EaW1lbnNpb24sXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB0eXBlIHtcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBNZW1iZXJSZXNwb25zZSxcbiAgT3duQ2FwYWJpbGl0eSxcbiAgUmVhY3Rpb25SZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB0eXBlIHsgQ29tcGFyYXRvciB9IGZyb20gJy4vc29ydGluZyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtUmVhY3Rpb24gPSBQaWNrPFxuICBSZWFjdGlvblJlc3BvbnNlLFxuICAndHlwZScgfCAnZW1vamlfY29kZScgfCAnY3VzdG9tJ1xuPjtcblxuZXhwb3J0IGVudW0gVmlzaWJpbGl0eVN0YXRlIHtcbiAgVU5LTk9XTiA9ICdVTktOT1dOJyxcbiAgVklTSUJMRSA9ICdWSVNJQkxFJyxcbiAgSU5WSVNJQkxFID0gJ0lOVklTSUJMRScsXG59XG5cbmV4cG9ydCBlbnVtIERlYm91bmNlVHlwZSB7XG4gIElNTUVESUFURSA9IDIwLFxuICBGQVNUID0gMTAwLFxuICBNRURJVU0gPSA2MDAsXG4gIFNMT1cgPSAxMjAwLFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQgZXh0ZW5kcyBQYXJ0aWNpcGFudCB7XG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHB1Ymxpc2hpbmcgYXVkaW8gYW5kXG4gICAqIHdlIGhhdmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIGF1ZGlvU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHZpZGVvIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciB2aWRlbyxcbiAgICogYW5kIHdlIGFyZSBzdWJzY3JpYmVkIHRvIGl0LlxuICAgKi9cbiAgdmlkZW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlIHN0cmVhbSwgaWYgdGhleSBhcmUgc2hhcmluZyB0aGVpciBzY3JlZW4sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHNjcmVlbiBhdWRpbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHNoYXJpbmcgdGhlaXIgYXVkaW8sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHNjcmVlblNoYXJlQXVkaW9TdHJlYW0/OiBNZWRpYVN0cmVhbTtcblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCB2aWRlbyBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3MgdmlkZW8uXG4gICAqL1xuICB2aWRlb0RpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIHNjcmVlbiBzaGFyZSBkaW1lbnNpb25zIGZvciB0aGlzIHBhcnRpY2lwYW50LlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdW5zdWJzY3JpYmUgZnJvbSB0aGlzIHBhcnRpY2lwYW50J3Mgc2NyZWVuIHNoYXJlLlxuICAgKi9cbiAgc2NyZWVuU2hhcmVEaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcblxuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgcGFydGljaXBhbnQgaXMgdGhlIGxvY2FsIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgaXNMb2NhbFBhcnRpY2lwYW50PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHBpbiBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQuXG4gICAqL1xuICBwaW4/OiBQYXJ0aWNpcGFudFBpbjtcblxuICAvKipcbiAgICogVGhlIGxhc3QgcmVhY3Rpb24gdGhpcyB1c2VyIGhhcyBzZW50IHRvIHRoaXMgY2FsbC5cbiAgICogSW50ZWdyYXRvcnMgY2FuIGJhdGNoL2NvbGxlY3QgcGFzdCByZWFjdGlvbnMgYW5kIHNob3cgdGhlbSB0byB0aGUgVUkuXG4gICAqL1xuICByZWFjdGlvbj86IFN0cmVhbVJlYWN0aW9uO1xuXG4gIC8qKlxuICAgKiBUaGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiB0aGUgcGFydGljaXBhbnQncyB0cmFja3Mgd2l0aGluIGEgZGVmaW5lZCB2aWV3cG9ydC5cbiAgICovXG4gIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPzogUmVjb3JkPFZpZGVvVHJhY2tUeXBlLCBWaXNpYmlsaXR5U3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgdm9sdW1lIG9mIHRoZSBwYXJ0aWNpcGFudCdzIGF1ZGlvIHN0cmVhbSAoZnJvbSAwIHRvIDEpLlxuICAgKiBTZXQgaXQgdG8gYHVuZGVmaW5lZGAgdG8gdXNlIHRoZSBkZWZhdWx0IHZvbHVtZS5cbiAgICpcbiAgICogTm90ZTogdGhpcyB2YWx1ZSBpcyBub3QgYXBwbGljYWJsZSBpbiBSZWFjdCBOYXRpdmUuXG4gICAqL1xuICBhdWRpb1ZvbHVtZT86IG51bWJlcjtcbn1cblxuZXhwb3J0IHR5cGUgVmlkZW9UcmFja1R5cGUgPSAndmlkZW9UcmFjaycgfCAnc2NyZWVuU2hhcmVUcmFjayc7XG5leHBvcnQgdHlwZSBBdWRpb1RyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJyB8ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snO1xuZXhwb3J0IHR5cGUgVHJhY2tNdXRlVHlwZSA9XG4gIHwgJ2F1ZGlvJ1xuICB8ICd2aWRlbydcbiAgfCAnc2NyZWVuc2hhcmUnXG4gIHwgJ3NjcmVlbnNoYXJlX2F1ZGlvJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgcGFydGljaXBhbnQncyBwaW4gc3RhdGUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhcnRpY2lwYW50UGluID0ge1xuICAvKipcbiAgICogU2V0IHRvIHRydWUgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBieSB0aGUgbG9jYWwgdXNlci5cbiAgICogRmFsc2UgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZCBzZXJ2ZXItc2lkZSwgYnkgdGhlIGNhbGwgbW9kZXJhdG9yLlxuICAgKi9cbiAgaXNMb2NhbFBpbjogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGltZXN0YW1wIHdoZW4gdGhlIHBhcnRpY2lwYW50IGlzIHBpbm5lZC5cbiAgICovXG4gIHBpbm5lZEF0OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEEgcGFydGlhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoID0gUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2Yge0BsaW5rIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaH0gb3JnYW5pemVkIGJ5IHNlc3Npb25JZC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgPSB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaDtcbn07XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZSA9IHtcbiAgLyoqXG4gICAqIFRoZSB2aWRlbyBkaW1lbnNpb24gdG8gcmVxdWVzdC5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIGluIGNhc2UgeW91IHdhbnQgdG8gdW5zdWJzY3JpYmUuXG4gICAqL1xuICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlcyA9IHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3Vic2NyaXB0aW9uQ2hhbmdlO1xufTtcblxuLyoqXG4gKiBBIHByZWZlcnJlZCBjb2RlYyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIGEgdmlkZW8gdHJhY2suXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHR5cGUgUHJlZmVycmVkQ29kZWMgPSAndnA4JyB8ICdoMjY0JyB8IHN0cmluZztcblxuZXhwb3J0IHR5cGUgUHVibGlzaE9wdGlvbnMgPSB7XG4gIHByZWZlcnJlZENvZGVjPzogUHJlZmVycmVkQ29kZWMgfCBudWxsO1xuICBwcmVmZXJyZWRCaXRyYXRlPzogbnVtYmVyO1xuICBiaXRyYXRlRG93bnNjYWxlRmFjdG9yPzogbnVtYmVyO1xuICBzY3JlZW5TaGFyZVNldHRpbmdzPzogU2NyZWVuU2hhcmVTZXR0aW5ncztcbn07XG5cbmV4cG9ydCB0eXBlIFNjcmVlblNoYXJlU2V0dGluZ3MgPSB7XG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIG1heGltdW0gZnJhbWVyYXRlIChpbiBmcmFtZXMgcGVyIHNlY29uZCkgb2YgdGhlIHNjcmVlbiBzaGFyZS5cbiAgICogRGVmYXVsdHMgdG8gMzAuXG4gICAqL1xuICBtYXhGcmFtZXJhdGU/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIExpbWl0cyB0aGUgbWF4aW11bSBiaXRyYXRlIChpbiBiaXRzIHBlciBzZWNvbmQpIG9mIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIERlZmF1bHRzIHRvIDMwMDAwMDAgKDNNYnBzKS5cbiAgICovXG4gIG1heEJpdHJhdGU/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBDYWxsTGVhdmVPcHRpb25zID0ge1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGNhbGxlciB3aWxsIGdldCBhIGBjYWxsLnJlamVjdGVkYCBldmVudC5cbiAgICogSGFzIGFuIGVmZmVjdCBvbmx5IGlmIHRoZSBjYWxsIGlzIGluIHRoZSBgcmluZ2luZ2Agc3RhdGUuXG4gICAqXG4gICAqIEBkZWZhdWx0IGBmYWxzZWAuXG4gICAqL1xuICByZWplY3Q/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgcmVhc29uIGZvciBsZWF2aW5nIHRoZSBjYWxsLlxuICAgKiBUaGlzIHdpbGwgYmUgc2VudCB0byB0aGUgYmFja2VuZCBhbmQgd2lsbCBiZSB2aXNpYmxlIGluIHRoZSBsb2dzLlxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsfSBjb25zdHJ1Y3Rvci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIHN0cmVhbUNsaWVudCBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICAvKipcbiAgICogVGhlIENhbGwgdHlwZS5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENhbGwgSUQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBsaXN0IG9mIHtAbGluayBNZW1iZXJSZXNwb25zZX0gZnJvbSB0aGUgYmFja2VuZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBtZW1iZXJzPzogTWVtYmVyUmVzcG9uc2VbXTtcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgT3duQ2FwYWJpbGl0eX0gY29taW5nIGZyb20gdGhlIGJhY2tlZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXM/OiBPd25DYXBhYmlsaXR5W107XG5cbiAgLyoqXG4gICAqIEZsYWdzIHRoZSBjYWxsIGFzIGEgcmluZ2luZyBjYWxsLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmluZ2luZz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHRoaXMgY2FsbCBpbnN0YW5jZSBzaG91bGQgcmVjZWl2ZSB1cGRhdGVzIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlLlxuICAgKi9cbiAgd2F0Y2hpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb21wYXJhdG9yIHRvIHVzZSB3aGVuIHNvcnRpbmcgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuICAvKipcbiAgICogVGhlIHN0YXRlIHN0b3JlIG9mIHRoZSBjbGllbnRcbiAgICovXG4gIGNsaWVudFN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmU7XG59O1xuXG4vKipcbiAqIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8ge0BsaW5rIENhbGwuam9pbn0gbWV0aG9kLlxuICovXG5leHBvcnQgdHlwZSBKb2luQ2FsbERhdGEgPSBPbWl0PEpvaW5DYWxsUmVxdWVzdCwgJ2xvY2F0aW9uJz47XG5leHBvcnQgeyBBeGlvc0Vycm9yIH07XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjkuNCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuc2lnbmFsXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHR5cGUge1xuICBScGNPcHRpb25zLFxuICBScGNUcmFuc3BvcnQsXG4gIFNlcnZpY2VJbmZvLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBzdGFja0ludGVyY2VwdCB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgdHlwZSB7XG4gIElDRVJlc3RhcnRSZXF1ZXN0LFxuICBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gIElDRVRyaWNrbGVSZXNwb25zZSxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRBbnN3ZXJSZXNwb25zZSxcbiAgU2VuZFN0YXRzUmVxdWVzdCxcbiAgU2VuZFN0YXRzUmVzcG9uc2UsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlc3BvbnNlLFxuICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSxcbn0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNpZ25hbFNlcnZlckNsaWVudCB7XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBVcGRhdGVNdXRlU3RhdGVzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UpO1xuICAgKi9cbiAgdXBkYXRlTXV0ZVN0YXRlcyhcbiAgICBpbnB1dDogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJDbGllbnQgaW1wbGVtZW50cyBJU2lnbmFsU2VydmVyQ2xpZW50LCBTZXJ2aWNlSW5mbyB7XG4gIHR5cGVOYW1lID0gU2lnbmFsU2VydmVyLnR5cGVOYW1lO1xuICBtZXRob2RzID0gU2lnbmFsU2VydmVyLm1ldGhvZHM7XG4gIG9wdGlvbnMgPSBTaWduYWxTZXJ2ZXIub3B0aW9ucztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfdHJhbnNwb3J0OiBScGNUcmFuc3BvcnQpIHt9XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1swXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNldFB1Ymxpc2hlclJlcXVlc3QsIFNldFB1Ymxpc2hlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1sxXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRJQ0VDYW5kaWRhdGUgc2VuZHMgYW4gSUNFIGNhbmRpZGF0ZSB0byB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVRyaWNrbGUoc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlKTtcbiAgICovXG4gIGljZVRyaWNrbGUoXG4gICAgaW5wdXQ6IElDRVRyaWNrbGUsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1szXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gICAgICBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s0XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZW5kU3RhdHMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2UpO1xuICAgKi9cbiAgc2VuZFN0YXRzKFxuICAgIGlucHV0OiBTZW5kU3RhdHNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RhcnROb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s3XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzhdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8XG4gICAgICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgTWV0aG9kSW5mbyxcbiAgTmV4dFVuYXJ5Rm4sXG4gIFJwY0ludGVyY2VwdG9yLFxuICBScGNPcHRpb25zLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQge1xuICBUd2lycEZldGNoVHJhbnNwb3J0LFxuICBUd2lycE9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogVHdpcnBPcHRpb25zID0ge1xuICBiYXNlVXJsOiAnJyxcbiAgc2VuZEpzb246IHRydWUsXG4gIHRpbWVvdXQ6IDUgKiAxMDAwLCAvLyBtcy5cbiAganNvbk9wdGlvbnM6IHtcbiAgICBpZ25vcmVVbmtub3duRmllbGRzOiB0cnVlLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IHdpdGhIZWFkZXJzID0gKFxuICBoZWFkZXJzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+LFxuKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5KFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwge1xuICAgICAgb3B0aW9ucy5tZXRhID0geyAuLi5vcHRpb25zLm1ldGEsIC4uLmhlYWRlcnMgfTtcbiAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aFJlcXVlc3RMb2dnZXIgPSAoXG4gIGxvZ2dlcjogTG9nZ2VyLFxuICBsZXZlbDogTG9nTGV2ZWwsXG4pOiBScGNJbnRlcmNlcHRvciA9PiB7XG4gIHJldHVybiB7XG4gICAgaW50ZXJjZXB0VW5hcnk6IChcbiAgICAgIG5leHQ6IE5leHRVbmFyeUZuLFxuICAgICAgbWV0aG9kOiBNZXRob2RJbmZvLFxuICAgICAgaW5wdXQ6IG9iamVjdCxcbiAgICAgIG9wdGlvbnM6IFJwY09wdGlvbnMsXG4gICAgKTogVW5hcnlDYWxsID0+IHtcbiAgICAgIGxvZ2dlcihsZXZlbCwgYENhbGxpbmcgU0ZVIFJQQyBtZXRob2QgJHttZXRob2QubmFtZX1gLCB7XG4gICAgICAgIGlucHV0LFxuICAgICAgICBvcHRpb25zLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV4dChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9LFxuICB9O1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIG5ldyBTaWduYWxTZXJ2ZXJDbGllbnQgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgdGhlIHR3aXJwIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTaWduYWxDbGllbnQgPSAob3B0aW9ucz86IFR3aXJwT3B0aW9ucykgPT4ge1xuICBjb25zdCB0cmFuc3BvcnQgPSBuZXcgVHdpcnBGZXRjaFRyYW5zcG9ydCh7XG4gICAgLi4uZGVmYXVsdE9wdGlvbnMsXG4gICAgLi4ub3B0aW9ucyxcbiAgfSk7XG5cbiAgcmV0dXJuIG5ldyBTaWduYWxTZXJ2ZXJDbGllbnQodHJhbnNwb3J0KTtcbn07XG4iLCJpbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG06IG51bWJlcik6IFByb21pc2U8dm9pZD4gPT5cbiAgbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgbSkpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbjxUPih2YWx1ZTogRnVuY3Rpb24gfCBUKTogdmFsdWUgaXMgRnVuY3Rpb24ge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICYmXG4gICAgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgKTtcbn1cblxuLyoqXG4gKiBBIG1hcCBvZiBrbm93biBlcnJvciBjb2Rlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEtub3duQ29kZXMgPSB7XG4gIFRPS0VOX0VYUElSRUQ6IDQwLFxuICBXU19DTE9TRURfU1VDQ0VTUzogMTAwMCxcbiAgV1NfQ0xPU0VEX0FCUlVQVExZOiAxMDA2LFxuICBXU19QT0xJQ1lfVklPTEFUSU9OOiAxMDA4LFxufTtcblxuLyoqXG4gKiByZXRyeUludGVydmFsIC0gQSByZXRyeSBpbnRlcnZhbCB3aGljaCBpbmNyZWFzZXMgYWNjIHRvIG51bWJlciBvZiBmYWlsdXJlc1xuICpcbiAqIEByZXR1cm4ge251bWJlcn0gRHVyYXRpb24gdG8gd2FpdCBpbiBtaWxsaXNlY29uZHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJldHJ5SW50ZXJ2YWwobnVtYmVyT2ZGYWlsdXJlczogbnVtYmVyKSB7XG4gIC8vIHRyeSB0byByZWNvbm5lY3QgaW4gMC4yNS01IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIGNvbnN0IG1heCA9IE1hdGgubWluKDUwMCArIG51bWJlck9mRmFpbHVyZXMgKiAyMDAwLCA1MDAwKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDUwMDApO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUR2NCgpO1xufVxuXG5mdW5jdGlvbiBoZXgoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcyArPSBieXRlc1tpXS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuICByZXR1cm4gcztcbn1cblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgY29uc3QgYnl0ZXMgPSBnZXRSYW5kb21CeXRlcygxNik7XG4gIGJ5dGVzWzZdID0gKGJ5dGVzWzZdICYgMHgwZikgfCAweDQwOyAvLyB2ZXJzaW9uXG4gIGJ5dGVzWzhdID0gKGJ5dGVzWzhdICYgMHhiZikgfCAweDgwOyAvLyB2YXJpYW50XG5cbiAgcmV0dXJuIChcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMCwgNCkpICtcbiAgICAnLScgK1xuICAgIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSkgK1xuICAgICctJyArXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDYsIDgpKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoOCwgMTApKSArXG4gICAgJy0nICtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSlcbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20oYnl0ZXM6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgY29uc3QgbWF4ID0gTWF0aC5wb3coMiwgKDggKiBieXRlcy5ieXRlTGVuZ3RoKSAvIGJ5dGVzLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBieXRlc1tpXSA9IE1hdGgucmFuZG9tKCkgKiBtYXg7XG4gIH1cbn1cbmRlY2xhcmUgY29uc3QgbXNDcnlwdG86IENyeXB0bztcblxuY29uc3QgZ2V0UmFuZG9tVmFsdWVzID0gKCgpID0+IHtcbiAgaWYgKFxuICAgIHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIGNyeXB0bz8uZ2V0UmFuZG9tVmFsdWVzICE9PSAndW5kZWZpbmVkJ1xuICApIHtcbiAgICByZXR1cm4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdldFJhbmRvbVZhbHVlc1dpdGhNYXRoUmFuZG9tO1xuICB9XG59KSgpO1xuXG5mdW5jdGlvbiBnZXRSYW5kb21CeXRlcyhsZW5ndGg6IG51bWJlcik6IFVpbnQ4QXJyYXkge1xuICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gIGdldFJhbmRvbVZhbHVlcyhieXRlcyk7XG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRFcnJvclRvSnNvbihlcnI6IEVycm9yKSB7XG4gIGNvbnN0IGpzb25PYmogPSB7fSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuICBpZiAoIWVycikgcmV0dXJuIGpzb25PYmo7XG5cbiAgdHJ5IHtcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnIpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAganNvbk9ialtrZXldID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlcnIsIGtleSk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6ICdmYWlsZWQgdG8gc2VyaWFsaXplIHRoZSBlcnJvcicsXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBqc29uT2JqO1xufVxuXG4vKipcbiAqIEluZm9ybXMgaWYgYSBwcm9taXNlIGlzIHlldCB0byBiZSByZXNvbHZlZCBvciByZWplY3RlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNQcm9taXNlUGVuZGluZzxUPihwcm9taXNlOiBQcm9taXNlPFQ+KSB7XG4gIGNvbnN0IGVtcHR5T2JqID0ge307XG4gIHJldHVybiBQcm9taXNlLnJhY2UoW3Byb21pc2UsIGVtcHR5T2JqXSkudGhlbihcbiAgICAodmFsdWUpID0+ICh2YWx1ZSA9PT0gZW1wdHlPYmogPyB0cnVlIDogZmFsc2UpLFxuICAgICgpID0+IGZhbHNlLFxuICApO1xufVxuXG4vKipcbiAqIGlzT25saW5lIHNhZmVseSByZXR1cm4gdGhlIG5hdmlnYXRvci5vbmxpbmUgdmFsdWUgZm9yIGJyb3dzZXIgZW52XG4gKiBpZiBuYXZpZ2F0b3IgaXMgbm90IGluIGdsb2JhbCBvYmplY3QsIGl0IGFsd2F5cyByZXR1cm4gdHJ1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPbmxpbmUobG9nZ2VyOiBMb2dnZXIpIHtcbiAgY29uc3QgbmF2ID1cbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJ1xuICAgICAgPyBuYXZpZ2F0b3JcbiAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lm5hdmlnYXRvclxuICAgICAgICA/IHdpbmRvdy5uYXZpZ2F0b3JcbiAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgaWYgKCFuYXYpIHtcbiAgICBsb2dnZXIoXG4gICAgICAnd2FybicsXG4gICAgICAnaXNPbmxpbmUgZmFpbGVkIHRvIGFjY2VzcyB3aW5kb3cubmF2aWdhdG9yIGFuZCBhc3N1bWUgYnJvd3NlciBpcyBvbmxpbmUnLFxuICAgICk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBSTiBuYXZpZ2F0b3IgaGFzIHVuZGVmaW5lZCBmb3Igb25MaW5lXG4gIGlmICh0eXBlb2YgbmF2Lm9uTGluZSAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gbmF2Lm9uTGluZTtcbn1cblxuLyoqXG4gKiBsaXN0ZW5Gb3JDb25uZWN0aW9uQ2hhbmdlcyAtIEFkZHMgYW4gZXZlbnQgbGlzdGVuZXIgZmlyZWQgb24gYnJvd3NlciBnb2luZyBvbmxpbmUgb3Igb2ZmbGluZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKGNiOiAoZTogRXZlbnQpID0+IHZvaWQpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBjYik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGNiKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKGNiOiAoZTogRXZlbnQpID0+IHZvaWQpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBjYik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29ubGluZScsIGNiKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBDaGVja3Mgd2hldGhlciB3ZSBhcmUgdXNpbmcgUmVhY3QgTmF0aXZlXG4gKi9cbmV4cG9ydCBjb25zdCBpc1JlYWN0TmF0aXZlID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG5hdmlnYXRvci5wcm9kdWN0Py50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufTtcbiIsImltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4vaGVscGVycy9wbGF0Zm9ybXMnO1xuXG4vLyBsb2cgbGV2ZWxzLCBzb3J0ZWQgYnkgdmVyYm9zaXR5XG5leHBvcnQgY29uc3QgbG9nTGV2ZWxzOiBSZWNvcmQ8TG9nTGV2ZWwsIG51bWJlcj4gPSBPYmplY3QuZnJlZXplKHtcbiAgdHJhY2U6IDAsXG4gIGRlYnVnOiAxLFxuICBpbmZvOiAyLFxuICB3YXJuOiAzLFxuICBlcnJvcjogNCxcbn0pO1xuXG5sZXQgbG9nZ2VyOiBMb2dnZXIgfCB1bmRlZmluZWQ7XG5sZXQgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nO1xuXG5leHBvcnQgY29uc3QgbG9nVG9Db25zb2xlOiBMb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgbGV0IGxvZ01ldGhvZDtcbiAgc3dpdGNoIChsb2dMZXZlbCkge1xuICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBFUlJPUjogJHttZXNzYWdlfWA7XG4gICAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmVycm9yO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnd2Fybic6XG4gICAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBgV0FSTjogJHttZXNzYWdlfWA7XG4gICAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLndhcm47XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbmZvJzpcbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuaW5mbztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3RyYWNlJzpcbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUudHJhY2U7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5sb2c7XG4gICAgICBicmVhaztcbiAgfVxuXG4gIGxvZ01ldGhvZChtZXNzYWdlLCAuLi5hcmdzKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRMb2dnZXIgPSAobDogTG9nZ2VyLCBsdmw/OiBMb2dMZXZlbCkgPT4ge1xuICBsb2dnZXIgPSBsO1xuICBpZiAobHZsKSB7XG4gICAgc2V0TG9nTGV2ZWwobHZsKTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNldExvZ0xldmVsID0gKGw6IExvZ0xldmVsKSA9PiB7XG4gIGxldmVsID0gbDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRMb2dMZXZlbCA9ICgpOiBMb2dMZXZlbCA9PiBsZXZlbDtcblxuZXhwb3J0IGNvbnN0IGdldExvZ2dlciA9ICh3aXRoVGFncz86IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IGxvZ2dlck1ldGhvZCA9IGxvZ2dlciB8fCBsb2dUb0NvbnNvbGU7XG4gIGNvbnN0IHRhZ3MgPSAod2l0aFRhZ3MgfHwgW10pLmZpbHRlcihCb29sZWFuKS5qb2luKCc6Jyk7XG4gIGNvbnN0IHJlc3VsdDogTG9nZ2VyID0gKGxvZ0xldmVsLCBtZXNzYWdlLCAuLi5hcmdzKSA9PiB7XG4gICAgaWYgKGxvZ0xldmVsc1tsb2dMZXZlbF0gPj0gbG9nTGV2ZWxzW2xldmVsXSkge1xuICAgICAgbG9nZ2VyTWV0aG9kKGxvZ0xldmVsLCBgWyR7dGFnc31dOiAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsImltcG9ydCB7XG4gIEZpbmlzaGVkVW5hcnlDYWxsLFxuICBScGNFcnJvcixcbiAgVW5hcnlDYWxsLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZS1ycGMnO1xuaW1wb3J0IHsgVHdpcnBFcnJvckNvZGUgfSBmcm9tICdAcHJvdG9idWYtdHMvdHdpcnAtdHJhbnNwb3J0JztcbmltcG9ydCB7IHJldHJ5SW50ZXJ2YWwsIHNsZWVwIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBFcnJvciBhcyBTZnVFcnJvciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG4vKipcbiAqIEFuIGludGVybmFsIGludGVyZmFjZSB3aGljaCBhc3NlcnRzIHRoYXQgXCJyZXRyeWFibGVcIiBTRlUgcmVzcG9uc2VzXG4gKiBjb250YWluIGEgZmllbGQgY2FsbGVkIFwiZXJyb3JcIi5cbiAqIElkZWFsbHksIHRoaXMgc2hvdWxkIGJlIGNvbWluZyBmcm9tIHRoZSBQcm90b2J1ZiBkZWZpbml0aW9ucy5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZnVSZXNwb25zZVdpdGhFcnJvciB7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBlcnJvciBmaWVsZCB3aGljaCBzaG91bGQgYmUgcHJlc2VudCBpbiBhbGwgU0ZVIHJlc3BvbnNlcy5cbiAgICovXG4gIGVycm9yPzogU2Z1RXJyb3I7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb3N1cmUgd2hpY2ggd3JhcHMgdGhlIGdpdmVuIFJQQyBjYWxsIGFuZCByZXRyaWVzIGludm9raW5nXG4gKiB0aGUgUlBDIHVudGlsIGl0IHN1Y2NlZWRzIG9yIHRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIGlzIHJlYWNoZWQuXG4gKlxuICogRm9yIGVhY2ggcmV0cnksIHRoZXJlIHdvdWxkIGJlIGEgZGVsYXkgdG8gYXZvaWQgcmVxdWVzdCBidXJzdHMgdG93YXJkIHRoZSBTRlUuXG4gKlxuICogQHBhcmFtIHJwYyB0aGUgY2xvc3VyZSBhcm91bmQgdGhlIFJQQyBjYWxsIHRvIGV4ZWN1dGUuXG4gKiBAcGFyYW0gc2lnbmFsIHRoZSBzaWduYWwgdG8gYWJvcnQgdGhlIFJQQyBjYWxsIGFuZCByZXRyaWVzIGxvb3AuXG4gKi9cbmV4cG9ydCBjb25zdCByZXRyeWFibGUgPSBhc3luYyA8XG4gIEkgZXh0ZW5kcyBvYmplY3QsXG4gIE8gZXh0ZW5kcyBTZnVSZXNwb25zZVdpdGhFcnJvcixcbj4oXG4gIHJwYzogKCkgPT4gVW5hcnlDYWxsPEksIE8+LFxuICBzaWduYWw/OiBBYm9ydFNpZ25hbCxcbik6IFByb21pc2U8RmluaXNoZWRVbmFyeUNhbGw8SSwgTz4+ID0+IHtcbiAgbGV0IGF0dGVtcHQgPSAwO1xuICBsZXQgcmVzdWx0OiBGaW5pc2hlZFVuYXJ5Q2FsbDxJLCBPPiB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgZG8ge1xuICAgIGlmIChhdHRlbXB0ID4gMCkgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbChhdHRlbXB0KSk7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdCA9IGF3YWl0IHJwYygpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc3QgaXNSZXF1ZXN0Q2FuY2VsbGVkID1cbiAgICAgICAgZXJyIGluc3RhbmNlb2YgUnBjRXJyb3IgJiZcbiAgICAgICAgZXJyLmNvZGUgPT09IFR3aXJwRXJyb3JDb2RlW1R3aXJwRXJyb3JDb2RlLmNhbmNlbGxlZF07XG4gICAgICBjb25zdCBpc0Fib3J0ZWQgPSBzaWduYWw/LmFib3J0ZWQgPz8gZmFsc2U7XG4gICAgICBpZiAoaXNSZXF1ZXN0Q2FuY2VsbGVkIHx8IGlzQWJvcnRlZCkgdGhyb3cgZXJyO1xuICAgICAgZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCcsICdycGMnXSkoJ2RlYnVnJywgYHJwYyBmYWlsZWQgKCR7YXR0ZW1wdH0pYCwgZXJyKTtcbiAgICAgIGF0dGVtcHQrKztcbiAgICB9XG4gIH0gd2hpbGUgKCFyZXN1bHQgfHwgcmVzdWx0LnJlc3BvbnNlLmVycm9yPy5zaG91bGRSZXRyeSk7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iLCJpbXBvcnQge1xuICBDbGllbnREZXRhaWxzLFxuICBEZXZpY2UsXG4gIE9TLFxuICBTZGssXG4gIFNka1R5cGUsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IFVBUGFyc2VyIH0gZnJvbSAndWEtcGFyc2VyLWpzJztcblxudHlwZSBXZWJSVENJbmZvVHlwZSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xufTtcblxuY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMCc7XG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG5cbmxldCBzZGtJbmZvOiBTZGsgfCB1bmRlZmluZWQgPSB7XG4gIHR5cGU6IFNka1R5cGUuUExBSU5fSkFWQVNDUklQVCxcbiAgbWFqb3IsXG4gIG1pbm9yLFxuICBwYXRjaCxcbn07XG5cbmxldCBvc0luZm86IE9TIHwgdW5kZWZpbmVkO1xubGV0IGRldmljZUluZm86IERldmljZSB8IHVuZGVmaW5lZDtcbmxldCB3ZWJSdGNJbmZvOiBXZWJSVENJbmZvVHlwZSB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNvbnN0IHNldFNka0luZm8gPSAoaW5mbzogU2RrKSA9PiB7XG4gIHNka0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiBzZGtJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldE9TSW5mbyA9IChpbmZvOiBPUykgPT4ge1xuICBvc0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldE9TSW5mbyA9ICgpID0+IHtcbiAgcmV0dXJuIG9zSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXREZXZpY2VJbmZvID0gKGluZm86IERldmljZSkgPT4ge1xuICBkZXZpY2VJbmZvID0gaW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZXZpY2VJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gZGV2aWNlSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRXZWJSVENJbmZvID0gKCkgPT4ge1xuICByZXR1cm4gd2ViUnRjSW5mbztcbn07XG5cbmV4cG9ydCBjb25zdCBzZXRXZWJSVENJbmZvID0gKGluZm86IFdlYlJUQ0luZm9UeXBlKSA9PiB7XG4gIHdlYlJ0Y0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IHR5cGUgTG9jYWxDbGllbnREZXRhaWxzVHlwZSA9IENsaWVudERldGFpbHMgJiB7XG4gIHdlYlJUQ0luZm8/OiBXZWJSVENJbmZvVHlwZTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRDbGllbnREZXRhaWxzID0gKCk6IExvY2FsQ2xpZW50RGV0YWlsc1R5cGUgPT4ge1xuICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgLy8gU2luY2UgUk4gZG9lc24ndCBzdXBwb3J0IHdlYiwgc2hhcmluZyBicm93c2VyIGluZm8gaXMgbm90IHJlcXVpcmVkXG4gICAgcmV0dXJuIHtcbiAgICAgIHNkazogZ2V0U2RrSW5mbygpLFxuICAgICAgb3M6IGdldE9TSW5mbygpLFxuICAgICAgZGV2aWNlOiBnZXREZXZpY2VJbmZvKCksXG4gICAgfTtcbiAgfVxuXG4gIGNvbnN0IHVzZXJBZ2VudCA9IG5ldyBVQVBhcnNlcihuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgeyBicm93c2VyLCBvcywgZGV2aWNlLCBjcHUgfSA9IHVzZXJBZ2VudC5nZXRSZXN1bHQoKTtcbiAgcmV0dXJuIHtcbiAgICBzZGs6IGdldFNka0luZm8oKSxcbiAgICBicm93c2VyOiB7XG4gICAgICBuYW1lOiBicm93c2VyLm5hbWUgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHZlcnNpb246IGJyb3dzZXIudmVyc2lvbiB8fCAnJyxcbiAgICB9LFxuICAgIG9zOiB7XG4gICAgICBuYW1lOiBvcy5uYW1lIHx8ICcnLFxuICAgICAgdmVyc2lvbjogb3MudmVyc2lvbiB8fCAnJyxcbiAgICAgIGFyY2hpdGVjdHVyZTogY3B1LmFyY2hpdGVjdHVyZSB8fCAnJyxcbiAgICB9LFxuICAgIGRldmljZToge1xuICAgICAgbmFtZTogW2RldmljZS52ZW5kb3IsIGRldmljZS5tb2RlbCwgZGV2aWNlLnR5cGVdXG4gICAgICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAgICAgLmpvaW4oJyAnKSxcbiAgICAgIHZlcnNpb246ICcnLFxuICAgIH0sXG4gIH07XG59O1xuIiwiaW1wb3J0IHsgZ2V0T1NJbmZvIH0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuXG4vKipcbiAqIFJldHVybnMgYmFjayBhIGxpc3Qgb2Ygc29ydGVkIGNvZGVjcywgd2l0aCB0aGUgcHJlZmVycmVkIGNvZGVjIGZpcnN0LlxuICpcbiAqIEBwYXJhbSBraW5kIHRoZSBraW5kIG9mIGNvZGVjIHRvIGdldC5cbiAqIEBwYXJhbSBwcmVmZXJyZWRDb2RlYyB0aGUgY29kZWMgdG8gcHJpb3JpdGl6ZSAodnA4LCBoMjY0LCB2cDksIGF2MS4uLikuXG4gKiBAcGFyYW0gY29kZWNUb1JlbW92ZSB0aGUgY29kZWMgdG8gZXhjbHVkZSBmcm9tIHRoZSBsaXN0LlxuICovXG5leHBvcnQgY29uc3QgZ2V0UHJlZmVycmVkQ29kZWNzID0gKFxuICBraW5kOiAnYXVkaW8nIHwgJ3ZpZGVvJyxcbiAgcHJlZmVycmVkQ29kZWM6IHN0cmluZyxcbiAgY29kZWNUb1JlbW92ZT86IHN0cmluZyxcbik6IFJUQ1J0cENvZGVjQ2FwYWJpbGl0eVtdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCEoJ2dldENhcGFiaWxpdGllcycgaW4gUlRDUnRwUmVjZWl2ZXIpKSByZXR1cm47XG5cbiAgY29uc3QgY2FwYWJpbGl0aWVzID0gUlRDUnRwUmVjZWl2ZXIuZ2V0Q2FwYWJpbGl0aWVzKGtpbmQpO1xuICBpZiAoIWNhcGFiaWxpdGllcykgcmV0dXJuO1xuXG4gIGNvbnN0IHByZWZlcnJlZDogUlRDUnRwQ29kZWNDYXBhYmlsaXR5W10gPSBbXTtcbiAgY29uc3QgcGFydGlhbGx5UHJlZmVycmVkOiBSVENSdHBDb2RlY0NhcGFiaWxpdHlbXSA9IFtdO1xuICBjb25zdCB1bnByZWZlcnJlZDogUlRDUnRwQ29kZWNDYXBhYmlsaXR5W10gPSBbXTtcblxuICBjb25zdCBwcmVmZXJyZWRDb2RlY01pbWVUeXBlID0gYCR7a2luZH0vJHtwcmVmZXJyZWRDb2RlYy50b0xvd2VyQ2FzZSgpfWA7XG4gIGNvbnN0IGNvZGVjVG9SZW1vdmVNaW1lVHlwZSA9XG4gICAgY29kZWNUb1JlbW92ZSAmJiBgJHtraW5kfS8ke2NvZGVjVG9SZW1vdmUudG9Mb3dlckNhc2UoKX1gO1xuXG4gIGZvciAoY29uc3QgY29kZWMgb2YgY2FwYWJpbGl0aWVzLmNvZGVjcykge1xuICAgIGNvbnN0IGNvZGVjTWltZVR5cGUgPSBjb2RlYy5taW1lVHlwZS50b0xvd2VyQ2FzZSgpO1xuXG4gICAgY29uc3Qgc2hvdWxkUmVtb3ZlQ29kZWMgPSBjb2RlY01pbWVUeXBlID09PSBjb2RlY1RvUmVtb3ZlTWltZVR5cGU7XG4gICAgaWYgKHNob3VsZFJlbW92ZUNvZGVjKSBjb250aW51ZTsgLy8gc2tpcCB0aGlzIGNvZGVjXG5cbiAgICBjb25zdCBpc1ByZWZlcnJlZENvZGVjID0gY29kZWNNaW1lVHlwZSA9PT0gcHJlZmVycmVkQ29kZWNNaW1lVHlwZTtcbiAgICBpZiAoIWlzUHJlZmVycmVkQ29kZWMpIHtcbiAgICAgIHVucHJlZmVycmVkLnB1c2goY29kZWMpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gaDI2NCBpcyBhIHNwZWNpYWwgY2FzZSwgd2Ugd2FudCB0byBwcmlvcml0aXplIHRoZSBiYXNlbGluZSBjb2RlYyB3aXRoXG4gICAgLy8gcHJvZmlsZS1sZXZlbC1pZCBpcyA0MmUwMWYgYW5kIHBhY2tldGl6YXRpb24tbW9kZT0wIGZvciBtYXhpbXVtXG4gICAgLy8gY3Jvc3MtYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICAgIC8vIHRoaXMgYnJhbmNoIGNvdmVycyB0aGUgb3RoZXIgY2FzZXMsIHN1Y2ggYXMgdnA4LlxuICAgIGlmIChjb2RlY01pbWVUeXBlICE9PSAndmlkZW8vaDI2NCcpIHtcbiAgICAgIHByZWZlcnJlZC5wdXNoKGNvZGVjKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGNvbnN0IHNkcEZtdHBMaW5lID0gY29kZWMuc2RwRm10cExpbmU7XG4gICAgaWYgKCFzZHBGbXRwTGluZSB8fCAhc2RwRm10cExpbmUuaW5jbHVkZXMoJ3Byb2ZpbGUtbGV2ZWwtaWQ9NDJlMDFmJykpIHtcbiAgICAgIC8vIHRoaXMgaXMgbm90IHRoZSBiYXNlbGluZSBoMjY0IGNvZGVjLCBwcmlvcml0aXplIGl0IGxvd2VyXG4gICAgICBwYXJ0aWFsbHlQcmVmZXJyZWQucHVzaChjb2RlYyk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBwYWNrZXRpemF0aW9uLW1vZGUgbW9kZSBpcyBvcHRpb25hbDsgd2hlbiBub3QgcHJlc2VudCBpdCBkZWZhdWx0cyB0byAwOlxuICAgIC8vIGh0dHBzOi8vZGF0YXRyYWNrZXIuaWV0Zi5vcmcvZG9jL2h0bWwvcmZjNjE4NCNzZWN0aW9uLTYuMlxuICAgIGlmIChcbiAgICAgIHNkcEZtdHBMaW5lLmluY2x1ZGVzKCdwYWNrZXRpemF0aW9uLW1vZGU9MCcpIHx8XG4gICAgICAhc2RwRm10cExpbmUuaW5jbHVkZXMoJ3BhY2tldGl6YXRpb24tbW9kZScpXG4gICAgKSB7XG4gICAgICBwcmVmZXJyZWQudW5zaGlmdChjb2RlYyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZlcnJlZC5wdXNoKGNvZGVjKTtcbiAgICB9XG4gIH1cblxuICAvLyByZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiBjb2RlY3MsIHdpdGggdGhlIHByZWZlcnJlZCBjb2RlY3MgZmlyc3RcbiAgcmV0dXJuIFsuLi5wcmVmZXJyZWQsIC4uLnBhcnRpYWxseVByZWZlcnJlZCwgLi4udW5wcmVmZXJyZWRdO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgZ2VuZXJpYyBTRFAgZm9yIHRoZSBnaXZlbiBkaXJlY3Rpb24uXG4gKiBXZSB1c2UgdGhpcyBTRFAgdG8gc2VuZCBpdCBhcyBwYXJ0IG9mIG91ciBKb2luUmVxdWVzdCBzbyB0aGF0IHRoZSBTRlVcbiAqIGNhbiB1c2UgaXQgdG8gZGV0ZXJtaW5lIGNsaWVudCdzIGNvZGVjIGNhcGFiaWxpdGllcy5cbiAqXG4gKiBAcGFyYW0gZGlyZWN0aW9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIHRyYW5zY2VpdmVyLlxuICovXG5leHBvcnQgY29uc3QgZ2V0R2VuZXJpY1NkcCA9IGFzeW5jIChkaXJlY3Rpb246IFJUQ1J0cFRyYW5zY2VpdmVyRGlyZWN0aW9uKSA9PiB7XG4gIGNvbnN0IHRlbXBQYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbigpO1xuICB0ZW1wUGMuYWRkVHJhbnNjZWl2ZXIoJ3ZpZGVvJywgeyBkaXJlY3Rpb24gfSk7XG4gIHRlbXBQYy5hZGRUcmFuc2NlaXZlcignYXVkaW8nLCB7IGRpcmVjdGlvbiB9KTtcblxuICBjb25zdCBvZmZlciA9IGF3YWl0IHRlbXBQYy5jcmVhdGVPZmZlcigpO1xuICBjb25zdCBzZHAgPSBvZmZlci5zZHAgPz8gJyc7XG5cbiAgdGVtcFBjLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKHQpID0+IHtcbiAgICB0LnN0b3A/LigpO1xuICB9KTtcbiAgdGVtcFBjLmNsb3NlKCk7XG4gIHJldHVybiBzZHA7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIG9wdGltYWwgY29kZWMgZm9yIFJOLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Uk5PcHRpbWFsQ29kZWMgPSAoKSA9PiB7XG4gIGNvbnN0IG9zTmFtZSA9IGdldE9TSW5mbygpPy5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gIC8vIGluIGlwYWRzIGl0IHdhcyBub3RpY2VkIHRoYXQgaWYgdnA4IGNvZGVjIGlzIHVzZWRcbiAgLy8gdGhlbiB0aGUgYnl0ZXMgc2VudCBpcyAwIGluIHRoZSBvdXRib3VuZC1ydHBcbiAgLy8gc28gd2UgYXJlIGZvcmNpbmcgaDI2NCBjb2RlYyBmb3IgaXBhZHNcbiAgaWYgKG9zTmFtZSA9PT0gJ2lwYWRvcycpIHJldHVybiAnaDI2NCc7XG4gIGlmIChvc05hbWUgPT09ICdhbmRyb2lkJykgcmV0dXJuICd2cDgnO1xuICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiIsImltcG9ydCB7IENhbGxFdmVudExpc3RlbmVyLCBFdmVudFR5cGVzIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IFNmdUV2ZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZXhwb3J0IHR5cGUgU2Z1RXZlbnRLaW5kcyA9IE5vbk51bGxhYmxlPFNmdUV2ZW50WydldmVudFBheWxvYWQnXVsnb25lb2ZLaW5kJ10+O1xuZXhwb3J0IHR5cGUgQWxsU2Z1RXZlbnRzID0ge1xuICBbSyBpbiBTZnVFdmVudEtpbmRzXTogSyBleHRlbmRzIGtleW9mIEV4dHJhY3Q8XG4gICAgU2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddLFxuICAgIHsgb25lb2ZLaW5kOiBLIH1cbiAgPlxuICAgID8gRXh0cmFjdDxTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ10sIHsgb25lb2ZLaW5kOiBLIH0+W0tdXG4gICAgOiBuZXZlcjtcbn07XG5cbmV4cG9ydCB0eXBlIERpc3BhdGNoYWJsZU1lc3NhZ2U8SyBleHRlbmRzIFNmdUV2ZW50S2luZHM+ID0ge1xuICBldmVudFBheWxvYWQ6IHtcbiAgICBvbmVvZktpbmQ6IEs7XG4gIH0gJiB7XG4gICAgW0tleSBpbiBLXTogQWxsU2Z1RXZlbnRzW0tleV07XG4gIH07XG59O1xuXG5jb25zdCBzZnVFdmVudEtpbmRzOiB7IFtrZXkgaW4gU2Z1RXZlbnRLaW5kc106IHVuZGVmaW5lZCB9ID0ge1xuICBzdWJzY3JpYmVyT2ZmZXI6IHVuZGVmaW5lZCxcbiAgcHVibGlzaGVyQW5zd2VyOiB1bmRlZmluZWQsXG4gIGNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDogdW5kZWZpbmVkLFxuICBhdWRpb0xldmVsQ2hhbmdlZDogdW5kZWZpbmVkLFxuICBpY2VUcmlja2xlOiB1bmRlZmluZWQsXG4gIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50Sm9pbmVkOiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50TGVmdDogdW5kZWZpbmVkLFxuICBkb21pbmFudFNwZWFrZXJDaGFuZ2VkOiB1bmRlZmluZWQsXG4gIGpvaW5SZXNwb25zZTogdW5kZWZpbmVkLFxuICBoZWFsdGhDaGVja1Jlc3BvbnNlOiB1bmRlZmluZWQsXG4gIHRyYWNrUHVibGlzaGVkOiB1bmRlZmluZWQsXG4gIHRyYWNrVW5wdWJsaXNoZWQ6IHVuZGVmaW5lZCxcbiAgZXJyb3I6IHVuZGVmaW5lZCxcbiAgY2FsbEdyYW50c1VwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgZ29Bd2F5OiB1bmRlZmluZWQsXG4gIGljZVJlc3RhcnQ6IHVuZGVmaW5lZCxcbiAgcGluc1VwZGF0ZWQ6IHVuZGVmaW5lZCxcbiAgY2FsbEVuZGVkOiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50VXBkYXRlZDogdW5kZWZpbmVkLFxuICBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlOiB1bmRlZmluZWQsXG59O1xuXG5leHBvcnQgY29uc3QgaXNTZnVFdmVudCA9IChcbiAgZXZlbnROYW1lOiBTZnVFdmVudEtpbmRzIHwgRXZlbnRUeXBlcyxcbik6IGV2ZW50TmFtZSBpcyBTZnVFdmVudEtpbmRzID0+IHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZnVFdmVudEtpbmRzLCBldmVudE5hbWUpO1xufTtcblxuZXhwb3J0IGNsYXNzIERpc3BhdGNoZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ0Rpc3BhdGNoZXInXSk7XG4gIHByaXZhdGUgc3Vic2NyaWJlcnM6IFBhcnRpYWw8XG4gICAgUmVjb3JkPFNmdUV2ZW50S2luZHMsIENhbGxFdmVudExpc3RlbmVyPGFueT5bXSB8IHVuZGVmaW5lZD5cbiAgPiA9IHt9O1xuXG4gIGRpc3BhdGNoID0gPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPihcbiAgICBtZXNzYWdlOiBEaXNwYXRjaGFibGVNZXNzYWdlPEs+LFxuICAgIGxvZ1RhZzogc3RyaW5nID0gJzAnLFxuICApID0+IHtcbiAgICBjb25zdCBldmVudEtpbmQgPSBtZXNzYWdlLmV2ZW50UGF5bG9hZC5vbmVvZktpbmQ7XG4gICAgaWYgKCFldmVudEtpbmQpIHJldHVybjtcbiAgICBjb25zdCBwYXlsb2FkID0gbWVzc2FnZS5ldmVudFBheWxvYWRbZXZlbnRLaW5kXTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgRGlzcGF0Y2hpbmcgJHtldmVudEtpbmR9LCB0YWc9JHtsb2dUYWd9YCwgcGF5bG9hZCk7XG4gICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5zdWJzY3JpYmVyc1tldmVudEtpbmRdO1xuICAgIGlmICghbGlzdGVuZXJzKSByZXR1cm47XG4gICAgZm9yIChjb25zdCBmbiBvZiBsaXN0ZW5lcnMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKHBheWxvYWQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdMaXN0ZW5lciBmYWlsZWQgd2l0aCBlcnJvcicsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsU2Z1RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICAodGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID8/PSBbXSkucHVzaChmbiBhcyBuZXZlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHRoaXMub2ZmKGV2ZW50TmFtZSwgZm4pO1xuICAgIH07XG4gIH07XG5cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSA9ICh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gfHwgW10pLmZpbHRlcihcbiAgICAgIChmKSA9PiBmICE9PSBmbixcbiAgICApO1xuICB9O1xuXG4gIG9mZkFsbCA9IChldmVudE5hbWU/OiBTZnVFdmVudEtpbmRzKSA9PiB7XG4gICAgaWYgKGV2ZW50TmFtZSkge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlcnMgPSB7fTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuLyoqXG4gKiBBIGJ1ZmZlciBmb3IgSUNFIENhbmRpZGF0ZXMuIFVzZWQgZm9yIElDRSBUcmlja2xlOlxuICogLSBodHRwczovL2Jsb2dnZWVrLm1lL3dlYnJ0Y2dsb3NzYXJ5L3RyaWNrbGUtaWNlL1xuICovXG5leHBvcnQgY2xhc3MgSWNlVHJpY2tsZUJ1ZmZlciB7XG4gIHJlYWRvbmx5IHN1YnNjcmliZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8SUNFVHJpY2tsZT4oKTtcbiAgcmVhZG9ubHkgcHVibGlzaGVyQ2FuZGlkYXRlcyA9IG5ldyBSZXBsYXlTdWJqZWN0PElDRVRyaWNrbGU+KCk7XG5cbiAgcHVzaCA9IChpY2VUcmlja2xlOiBJQ0VUcmlja2xlKSA9PiB7XG4gICAgaWYgKGljZVRyaWNrbGUucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIpIHtcbiAgICAgIHRoaXMuc3Vic2NyaWJlckNhbmRpZGF0ZXMubmV4dChpY2VUcmlja2xlKTtcbiAgICB9IGVsc2UgaWYgKGljZVRyaWNrbGUucGVlclR5cGUgPT09IFBlZXJUeXBlLlBVQkxJU0hFUl9VTlNQRUNJRklFRCkge1xuICAgICAgdGhpcy5wdWJsaXNoZXJDYW5kaWRhdGVzLm5leHQoaWNlVHJpY2tsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ3NmdS1jbGllbnQnXSk7XG4gICAgICBsb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSwgVW5rbm93biBwZWVyIHR5cGVgLCBpY2VUcmlja2xlKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEljZUNhbmRpZGF0ZShcbiAgY2FuZGlkYXRlOiBSVENJY2VDYW5kaWRhdGUsXG4pOiBJQ0VUcmlja2xlWydpY2VDYW5kaWRhdGUnXSB7XG4gIGlmICghY2FuZGlkYXRlLnVzZXJuYW1lRnJhZ21lbnQpIHtcbiAgICAvLyByZWFjdC1uYXRpdmUtd2VicnRjIGRvZXNuJ3QgaW5jbHVkZSB1c2VybmFtZUZyYWdtZW50IGluIHRoZSBjYW5kaWRhdGVcbiAgICBjb25zdCBzcGxpdHRlZENhbmRpZGF0ZSA9IGNhbmRpZGF0ZS5jYW5kaWRhdGUuc3BsaXQoJyAnKTtcbiAgICBjb25zdCB1ZnJhZ0luZGV4ID1cbiAgICAgIHNwbGl0dGVkQ2FuZGlkYXRlLmZpbmRJbmRleCgoczogc3RyaW5nKSA9PiBzID09PSAndWZyYWcnKSArIDE7XG4gICAgY29uc3QgdXNlcm5hbWVGcmFnbWVudCA9IHNwbGl0dGVkQ2FuZGlkYXRlW3VmcmFnSW5kZXhdO1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IC4uLmNhbmRpZGF0ZSwgdXNlcm5hbWVGcmFnbWVudCB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoY2FuZGlkYXRlLnRvSlNPTigpKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUHVibGlzaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vc2hpbXMnO1xuXG5leHBvcnQgdHlwZSBPcHRpbWFsVmlkZW9MYXllciA9IFJUQ1J0cEVuY29kaW5nUGFyYW1ldGVycyAmIHtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG59O1xuXG5jb25zdCBERUZBVUxUX0JJVFJBVEUgPSAxMjUwMDAwO1xuY29uc3QgZGVmYXVsdFRhcmdldFJlc29sdXRpb246IFRhcmdldFJlc29sdXRpb25SZXNwb25zZSA9IHtcbiAgYml0cmF0ZTogREVGQVVMVF9CSVRSQVRFLFxuICB3aWR0aDogMTI4MCxcbiAgaGVpZ2h0OiA3MjAsXG59O1xuXG5jb25zdCBkZWZhdWx0Qml0cmF0ZVBlclJpZDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcbiAgcTogMzAwMDAwLFxuICBoOiA3NTAwMDAsXG4gIGY6IERFRkFVTFRfQklUUkFURSxcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgbW9zdCBvcHRpbWFsIHZpZGVvIGxheWVycyBmb3Igc2ltdWxjYXN0aW5nXG4gKiBmb3IgdGhlIGdpdmVuIHRyYWNrLlxuICpcbiAqIEBwYXJhbSB2aWRlb1RyYWNrIHRoZSB2aWRlbyB0cmFjayB0byBmaW5kIG9wdGltYWwgbGF5ZXJzIGZvci5cbiAqIEBwYXJhbSB0YXJnZXRSZXNvbHV0aW9uIHRoZSBleHBlY3RlZCB0YXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSBwdWJsaXNoT3B0aW9ucyB0aGUgcHVibGlzaCBvcHRpb25zIGZvciB0aGUgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCBmaW5kT3B0aW1hbFZpZGVvTGF5ZXJzID0gKFxuICB2aWRlb1RyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICB0YXJnZXRSZXNvbHV0aW9uOiBUYXJnZXRSZXNvbHV0aW9uUmVzcG9uc2UgPSBkZWZhdWx0VGFyZ2V0UmVzb2x1dGlvbixcbiAgcHVibGlzaE9wdGlvbnM/OiBQdWJsaXNoT3B0aW9ucyxcbikgPT4ge1xuICBjb25zdCBvcHRpbWFsVmlkZW9MYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW10gPSBbXTtcbiAgY29uc3Qgc2V0dGluZ3MgPSB2aWRlb1RyYWNrLmdldFNldHRpbmdzKCk7XG4gIGNvbnN0IHsgd2lkdGg6IHcgPSAwLCBoZWlnaHQ6IGggPSAwIH0gPSBzZXR0aW5ncztcbiAgY29uc3QgeyBwcmVmZXJyZWRCaXRyYXRlLCBiaXRyYXRlRG93bnNjYWxlRmFjdG9yID0gMiB9ID0gcHVibGlzaE9wdGlvbnMgfHwge307XG4gIGNvbnN0IG1heEJpdHJhdGUgPSBnZXRDb21wdXRlZE1heEJpdHJhdGUoXG4gICAgdGFyZ2V0UmVzb2x1dGlvbixcbiAgICB3LFxuICAgIGgsXG4gICAgcHJlZmVycmVkQml0cmF0ZSxcbiAgKTtcbiAgbGV0IGRvd25zY2FsZUZhY3RvciA9IDE7XG4gIGxldCBiaXRyYXRlRmFjdG9yID0gMTtcbiAgWydmJywgJ2gnLCAncSddLmZvckVhY2goKHJpZCkgPT4ge1xuICAgIC8vIFJldmVyc2luZyB0aGUgb3JkZXIgW2YsIGgsIHFdIHRvIFtxLCBoLCBmXSBhcyBDaHJvbWUgdXNlcyBlbmNvZGluZyBpbmRleFxuICAgIC8vIHdoZW4gZGVjaWRpbmcgd2hpY2ggbGF5ZXIgdG8gZGlzYWJsZSB3aGVuIENQVSBvciBiYW5kd2lkdGggaXMgY29uc3RyYWluZWQuXG4gICAgLy8gRW5jb2RpbmdzIHNob3VsZCBiZSBvcmRlcmVkIGluIGluY3JlYXNpbmcgc3BhdGlhbCByZXNvbHV0aW9uIG9yZGVyLlxuICAgIG9wdGltYWxWaWRlb0xheWVycy51bnNoaWZ0KHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZCxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHcgLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGggLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgbWF4Qml0cmF0ZTpcbiAgICAgICAgTWF0aC5yb3VuZChtYXhCaXRyYXRlIC8gYml0cmF0ZUZhY3RvcikgfHwgZGVmYXVsdEJpdHJhdGVQZXJSaWRbcmlkXSxcbiAgICAgIHNjYWxlUmVzb2x1dGlvbkRvd25CeTogZG93bnNjYWxlRmFjdG9yLFxuICAgICAgbWF4RnJhbWVyYXRlOiAzMCxcbiAgICB9KTtcbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgICBiaXRyYXRlRmFjdG9yICo9IGJpdHJhdGVEb3duc2NhbGVGYWN0b3I7XG4gIH0pO1xuXG4gIC8vIGZvciBzaW1wbGljaXR5LCB3ZSBzdGFydCB3aXRoIGFsbCBsYXllcnMgZW5hYmxlZCwgdGhlbiB0aGlzIGZ1bmN0aW9uXG4gIC8vIHdpbGwgY2xlYXIvcmVhc3NpZ24gdGhlIGxheWVycyB0aGF0IGFyZSBub3QgbmVlZGVkXG4gIHJldHVybiB3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMoc2V0dGluZ3MsIG9wdGltYWxWaWRlb0xheWVycyk7XG59O1xuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBtYXhpbXVtIGJpdHJhdGUgZm9yIGEgZ2l2ZW4gcmVzb2x1dGlvbi5cbiAqIElmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgbG93ZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gKiB3ZSB3YW50IHRvIHByb3BvcnRpb25hbGx5IHJlZHVjZSB0aGUgdGFyZ2V0IGJpdHJhdGUuXG4gKiBJZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGhpZ2hlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAqIHdlIHdhbnQgdG8gdXNlIHRoZSB0YXJnZXQgYml0cmF0ZS5cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0UmVzb2x1dGlvbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24uXG4gKiBAcGFyYW0gY3VycmVudFdpZHRoIHRoZSBjdXJyZW50IHdpZHRoIG9mIHRoZSB0cmFjay5cbiAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IHRoZSBjdXJyZW50IGhlaWdodCBvZiB0aGUgdHJhY2suXG4gKiBAcGFyYW0gcHJlZmVycmVkQml0cmF0ZSB0aGUgcHJlZmVycmVkIGJpdHJhdGUgZm9yIHRoZSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbXB1dGVkTWF4Qml0cmF0ZSA9IChcbiAgdGFyZ2V0UmVzb2x1dGlvbjogVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlLFxuICBjdXJyZW50V2lkdGg6IG51bWJlcixcbiAgY3VycmVudEhlaWdodDogbnVtYmVyLFxuICBwcmVmZXJyZWRCaXRyYXRlOiBudW1iZXIgfCB1bmRlZmluZWQsXG4pOiBudW1iZXIgPT4ge1xuICAvLyBpZiB0aGUgY3VycmVudCByZXNvbHV0aW9uIGlzIGxvd2VyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICAvLyB3ZSB3YW50IHRvIHByb3BvcnRpb25hbGx5IHJlZHVjZSB0aGUgdGFyZ2V0IGJpdHJhdGVcbiAgY29uc3Qge1xuICAgIHdpZHRoOiB0YXJnZXRXaWR0aCxcbiAgICBoZWlnaHQ6IHRhcmdldEhlaWdodCxcbiAgICBiaXRyYXRlOiB0YXJnZXRCaXRyYXRlLFxuICB9ID0gdGFyZ2V0UmVzb2x1dGlvbjtcbiAgY29uc3QgYml0cmF0ZSA9IHByZWZlcnJlZEJpdHJhdGUgfHwgdGFyZ2V0Qml0cmF0ZTtcbiAgaWYgKGN1cnJlbnRXaWR0aCA8IHRhcmdldFdpZHRoIHx8IGN1cnJlbnRIZWlnaHQgPCB0YXJnZXRIZWlnaHQpIHtcbiAgICBjb25zdCBjdXJyZW50UGl4ZWxzID0gY3VycmVudFdpZHRoICogY3VycmVudEhlaWdodDtcbiAgICBjb25zdCB0YXJnZXRQaXhlbHMgPSB0YXJnZXRXaWR0aCAqIHRhcmdldEhlaWdodDtcbiAgICBjb25zdCByZWR1Y3Rpb25GYWN0b3IgPSBjdXJyZW50UGl4ZWxzIC8gdGFyZ2V0UGl4ZWxzO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKGJpdHJhdGUgKiByZWR1Y3Rpb25GYWN0b3IpO1xuICB9XG4gIHJldHVybiBiaXRyYXRlO1xufTtcblxuLyoqXG4gKiBCcm93c2VycyBoYXZlIGRpZmZlcmVudCBzaW11bGNhc3QgY29uc3RyYWludHMgZm9yIGRpZmZlcmVudCB2aWRlbyByZXNvbHV0aW9ucy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIG1vZGlmaWVzIHRoZSBwcm92aWRlZCBsaXN0IG9mIHZpZGVvIGxheWVycyBhY2NvcmRpbmcgdG8gdGhlXG4gKiBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHNpbXVsY2FzdCBjb25zdHJhaW50cyBpbiB0aGUgQ2hyb21pdW0gYmFzZWQgYnJvd3NlcnMuXG4gKlxuICogaHR0cHM6Ly9jaHJvbWl1bS5nb29nbGVzb3VyY2UuY29tL2V4dGVybmFsL3dlYnJ0Yy8rL3JlZnMvaGVhZHMvbWFpbi9tZWRpYS9lbmdpbmUvc2ltdWxjYXN0LmNjIzkwXG4gKi9cbmNvbnN0IHdpdGhTaW11bGNhc3RDb25zdHJhaW50cyA9IChcbiAgc2V0dGluZ3M6IE1lZGlhVHJhY2tTZXR0aW5ncyxcbiAgb3B0aW1hbFZpZGVvTGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdLFxuKSA9PiB7XG4gIGxldCBsYXllcnM6IE9wdGltYWxWaWRlb0xheWVyW107XG5cbiAgY29uc3Qgc2l6ZSA9IE1hdGgubWF4KHNldHRpbmdzLndpZHRoIHx8IDAsIHNldHRpbmdzLmhlaWdodCB8fCAwKTtcbiAgaWYgKHNpemUgPD0gMzIwKSB7XG4gICAgLy8gcHJvdmlkZSBvbmx5IG9uZSBsYXllciAzMjB4MjQwIChxKSwgdGhlIG9uZSB3aXRoIHRoZSBoaWdoZXN0IHF1YWxpdHlcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkID09PSAnZicpO1xuICB9IGVsc2UgaWYgKHNpemUgPD0gNjQwKSB7XG4gICAgLy8gcHJvdmlkZSB0d28gbGF5ZXJzLCAxNjB4MTIwIChxKSBhbmQgNjQweDQ4MCAoaClcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnMuZmlsdGVyKChsYXllcikgPT4gbGF5ZXIucmlkICE9PSAnaCcpO1xuICB9IGVsc2Uge1xuICAgIC8vIHByb3ZpZGUgdGhyZWUgbGF5ZXJzIGZvciBzaXplcyA+IDY0MHg0ODBcbiAgICBsYXllcnMgPSBvcHRpbWFsVmlkZW9MYXllcnM7XG4gIH1cblxuICBjb25zdCByaWRNYXBwaW5nID0gWydxJywgJ2gnLCAnZiddO1xuICByZXR1cm4gbGF5ZXJzLm1hcDxPcHRpbWFsVmlkZW9MYXllcj4oKGxheWVyLCBpbmRleCkgPT4gKHtcbiAgICAuLi5sYXllcixcbiAgICByaWQ6IHJpZE1hcHBpbmdbaW5kZXhdLCAvLyByZWFzc2lnbiByaWRcbiAgfSkpO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyA9IChcbiAgdmlkZW9UcmFjazogTWVkaWFTdHJlYW1UcmFjayxcbiAgcHVibGlzaE9wdGlvbnM/OiBQdWJsaXNoT3B0aW9ucyxcbiAgZGVmYXVsdE1heEJpdHJhdGUgPSAzMDAwMDAwLFxuKTogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9PiB7XG4gIGNvbnN0IHsgc2NyZWVuU2hhcmVTZXR0aW5nczogcHJlZmVyZW5jZXMgfSA9IHB1Ymxpc2hPcHRpb25zIHx8IHt9O1xuICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgcmV0dXJuIFtcbiAgICB7XG4gICAgICBhY3RpdmU6IHRydWUsXG4gICAgICByaWQ6ICdxJywgLy8gc2luZ2xlIHRyYWNrLCBzdGFydCBmcm9tICdxJ1xuICAgICAgd2lkdGg6IHNldHRpbmdzLndpZHRoIHx8IDAsXG4gICAgICBoZWlnaHQ6IHNldHRpbmdzLmhlaWdodCB8fCAwLFxuICAgICAgc2NhbGVSZXNvbHV0aW9uRG93bkJ5OiAxLFxuICAgICAgbWF4Qml0cmF0ZTogcHJlZmVyZW5jZXM/Lm1heEJpdHJhdGUgPz8gZGVmYXVsdE1heEJpdHJhdGUsXG4gICAgICBtYXhGcmFtZXJhdGU6IHByZWZlcmVuY2VzPy5tYXhGcmFtZXJhdGUgPz8gMzAsXG4gICAgfSxcbiAgXTtcbn07XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgZW5zdXJlRXhoYXVzdGVkID0gKHg6IG5ldmVyLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgZ2V0TG9nZ2VyKFsnaGVscGVycyddKSgnd2FybicsIG1lc3NhZ2UsIHgpO1xufTtcbiIsImltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uLy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja011dGVUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZW5zdXJlRXhoYXVzdGVkIH0gZnJvbSAnLi4vLi4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuXG5leHBvcnQgY29uc3QgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSA9IChcbiAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4pOlxuICB8ICdhdWRpb1N0cmVhbSdcbiAgfCAndmlkZW9TdHJlYW0nXG4gIHwgJ3NjcmVlblNoYXJlU3RyZWFtJ1xuICB8ICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJ1xuICB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZVN0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgIHJldHVybiAndmlkZW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgcmV0dXJuICdhdWRpb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYWNrIHR5cGUgaXMgdW5zcGVjaWZpZWQnKTtcbiAgICBkZWZhdWx0OlxuICAgICAgZW5zdXJlRXhoYXVzdGVkKHRyYWNrVHlwZSwgJ1Vua25vd24gdHJhY2sgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbXV0ZVR5cGVUb1RyYWNrVHlwZSA9IChcbiAgbXV0ZVR5cGU6IFRyYWNrTXV0ZVR5cGUsXG4pOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKG11dGVUeXBlKSB7XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlZJREVPO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlX2F1ZGlvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbnN1cmVFeGhhdXN0ZWQobXV0ZVR5cGUsICdVbmtub3duIG11dGUgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdG9UcmFja1R5cGUgPSAodHJhY2tUeXBlOiBzdHJpbmcpOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgIGNhc2UgJ1RSQUNLX1RZUEVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICdUUkFDS19UWVBFX1ZJREVPJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG4iLCJpbnRlcmZhY2UgUGVuZGluZ1Byb21pc2Uge1xuICBwcm9taXNlOiBQcm9taXNlPHVua25vd24+O1xuICBvbkNvbnRpbnVlZDogKCkgPT4gdm9pZDtcbn1cblxudHlwZSBBc3luY1dyYXBwZXI8UCBleHRlbmRzIHVua25vd25bXSwgVD4gPSAoXG4gIHRhZzogc3RyaW5nIHwgc3ltYm9sLFxuICBjYjogKC4uLmFyZ3M6IFApID0+IFByb21pc2U8VD4sXG4pID0+IHtcbiAgY2I6ICgpID0+IFByb21pc2U8VD47XG4gIG9uQ29udGludWVkOiAoKSA9PiB2b2lkO1xufTtcblxuLyoqXG4gKiBSdW5zIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseS4gVXNlZnVsIGZvciB3cmFwcGluZyBhc3luYyBhY3Rpb25zIHRoYXRcbiAqIHNob3VsZCBuZXZlciBydW4gc2ltdWx0YW5lb3VzbHk6IGlmIG1hcmtlZCB3aXRoIHRoZSBzYW1lIHRhZywgZnVuY3Rpb25zXG4gKiB3aWxsIHJ1biBvbmUgYWZ0ZXIgYW5vdGhlci5cbiAqXG4gKiBAcGFyYW0gdGFnIEFzeW5jIGZ1bmN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZyB3aWxsIHJ1biBzZXJpYWxseS4gQXN5bmMgZnVuY3Rpb25zXG4gKiB3aXRoIGRpZmZlcmVudCB0YWdzIGNhbiBydW4gaW4gcGFyYWxsZWwuXG4gKiBAcGFyYW0gY2IgQXN5bmMgZnVuY3Rpb24gdG8gcnVuLlxuICogQHJldHVybnMgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYXN5bmMgZnVuY3Rpb25zIHJldHVybnMuXG4gKi9cbmV4cG9ydCBjb25zdCB3aXRob3V0Q29uY3VycmVuY3kgPSBjcmVhdGVSdW5uZXIod3JhcFdpdGhDb250aW51YXRpb25UcmFja2luZyk7XG5cbi8qKlxuICogUnVucyBhc3luYyBmdW5jdGlvbnMgc2VyaWFsbHksIGFuZCBjYW5jZWxzIGFsbCBvdGhlciBhY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnXG4gKiB3aGVuIGEgbmV3IGFjdGlvbiBpcyBzY2hlZHVsZWQuIFVzZWZ1bCBmb3Igd3JhcHBpbmcgYXN5bmMgYWN0aW9ucyB0aGF0IG92ZXJyaWRlXG4gKiBlYWNoIG90aGVyIChlLmcuIGVuYWJsaW5nIGFuZCBkaXNhYmxpbmcgY2FtZXJhKS5cbiAqXG4gKiBJZiBhbiBhc3luYyBmdW5jdGlvbiBoYXNuJ3Qgc3RhcnRlZCB5ZXQgYW5kIHdhcyBjYW5jZWxlZCwgaXQgd2lsbCBuZXZlciBydW4uXG4gKiBJZiBhbiBhc3luYyBmdW5jdGlvbiBpcyBhbHJlYWR5IHJ1bm5pbmcgYW5kIHdhcyBjYW5jZWxlZCwgaXQgd2lsbCBiZSBub3RpZmllZFxuICogdmlhIGFuIGFib3J0IHNpZ25hbCBwYXNzZWQgYXMgYW4gYXJndW1lbnQuXG4gKlxuICogQHBhcmFtIHRhZyBBc3luYyBmdW5jdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWcgd2lsbCBydW4gc2VyaWFsbHkgYW5kIGFyZSBjYW5jZWxlZFxuICogd2hlbiBhIG5ldyBhY3Rpb24gd2l0aCB0aGUgc2FtZSB0YWcgaXMgc2NoZWR1bGVkLlxuICogQHBhcmFtIGNiIEFzeW5jIGZ1bmN0aW9uIHRvIHJ1bi4gUmVjZWl2ZXMgQWJvcnRTaWduYWwgYXMgdGhlIG9ubHkgYXJndW1lbnQuXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhc3luYyBmdW5jdGlvbnMgcmV0dXJucy4gSWYgdGhlIGZ1bmN0aW9uIGRpZG4ndFxuICogc3RhcnQgYW5kIHdhcyBjYW5jZWxlZCwgd2lsbCByZXNvbHZlIHdpdGggJ2NhbmNlbGVkJy4gSWYgdGhlIGZ1bmN0aW9uIHN0YXJ0ZWQgdG8gcnVuLFxuICogaXQncyB1cCB0byB0aGUgZnVuY3Rpb24gdG8gZGVjaWRlIGhvdyB0byByZWFjdCB0byBjYW5jZWxhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhDYW5jZWxsYXRpb24gPSBjcmVhdGVSdW5uZXIod3JhcFdpdGhDYW5jZWxsYXRpb24pO1xuXG5jb25zdCBwZW5kaW5nUHJvbWlzZXMgPSBuZXcgTWFwPHN0cmluZyB8IHN5bWJvbCwgUGVuZGluZ1Byb21pc2U+KCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNQZW5kaW5nKHRhZzogc3RyaW5nIHwgc3ltYm9sKSB7XG4gIHJldHVybiBwZW5kaW5nUHJvbWlzZXMuaGFzKHRhZyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXR0bGVkKHRhZzogc3RyaW5nIHwgc3ltYm9sKSB7XG4gIGF3YWl0IHBlbmRpbmdQcm9taXNlcy5nZXQodGFnKT8ucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGNvbW1vbiBmdW5jdGlvbmFsaXR5IG9mIHJ1bm5pbmcgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LCBieSBjaGFpbmluZ1xuICogdGhlaXIgcHJvbWlzZXMgb25lIGFmdGVyIGFub3RoZXIuXG4gKlxuICogQmVmb3JlIHJ1bm5pbmcsIGFzeW5jIGZ1bmN0aW9uIGlzIFwid3JhcHBlZFwiIHVzaW5nIHRoZSBwcm92aWRlZCB3cmFwcGVyLiBUaGlzIHdyYXBwZXJcbiAqIGNhbiBhZGQgYWRkaXRpb25hbCBzdGVwcyB0byBydW4gYmVmb3JlIG9yIGFmdGVyIHRoZSBmdW5jdGlvbi5cbiAqXG4gKiBXaGVuIGFzeW5jIGZ1bmN0aW9uIGlzIHNjaGVkdWxlZCB0byBydW4sIHRoZSBwcmV2aW91cyBmdW5jdGlvbiBpcyBub3RpZmllZFxuICogYnkgY2FsbGluZyB0aGUgYXNzb2NpYXRlZCBvbkNvbnRpbnVlZCBjYWxsYmFjay4gVGhpcyBiZWhhdmlvciBvZiB0aGlzIGNhbGxiYWNrXG4gKiBpcyBkZWZpbmVkIGJ5IHRoZSB3cmFwcGVyLlxuICovXG5mdW5jdGlvbiBjcmVhdGVSdW5uZXI8UCBleHRlbmRzIHVua25vd25bXSwgVD4od3JhcHBlcjogQXN5bmNXcmFwcGVyPFAsIFQ+KSB7XG4gIHJldHVybiBmdW5jdGlvbiBydW4odGFnOiBzdHJpbmcgfCBzeW1ib2wsIGNiOiAoLi4uYXJnczogUCkgPT4gUHJvbWlzZTxUPikge1xuICAgIGNvbnN0IHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH0gPSB3cmFwcGVyKHRhZywgY2IpO1xuICAgIGNvbnN0IHBlbmRpbmcgPSBwZW5kaW5nUHJvbWlzZXMuZ2V0KHRhZyk7XG4gICAgcGVuZGluZz8ub25Db250aW51ZWQoKTtcbiAgICBjb25zdCBwcm9taXNlID0gcGVuZGluZ1xuICAgICAgPyBwZW5kaW5nLnByb21pc2UudGhlbih3cmFwcGVkLCB3cmFwcGVkKVxuICAgICAgOiB3cmFwcGVkKCk7XG4gICAgcGVuZGluZ1Byb21pc2VzLnNldCh0YWcsIHsgcHJvbWlzZSwgb25Db250aW51ZWQgfSk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH07XG59XG5cbi8qKlxuICogV3JhcHMgYW4gYXN5bmMgZnVuY3Rpb24gd2l0aCBhbiBhZGRpdGlvbmFsIHN0ZXAgcnVuIGFmdGVyIHRoZSBmdW5jdGlvbjpcbiAqIGlmIHRoZSBmdW5jdGlvbiBpcyB0aGUgbGFzdCBpbiB0aGUgcXVldWUsIGl0IGNsZWFucyB1cCB0aGUgd2hvbGUgY2hhaW5cbiAqIG9mIHByb21pc2VzIGFmdGVyIGZpbmlzaGluZy5cbiAqL1xuZnVuY3Rpb24gd3JhcFdpdGhDb250aW51YXRpb25UcmFja2luZzxUPihcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoKSA9PiBQcm9taXNlPFQ+LFxuKSB7XG4gIGxldCBoYXNDb250aW51YXRpb24gPSBmYWxzZTtcbiAgY29uc3Qgd3JhcHBlZCA9ICgpID0+XG4gICAgY2IoKS5maW5hbGx5KCgpID0+IHtcbiAgICAgIGlmICghaGFzQ29udGludWF0aW9uKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlcy5kZWxldGUodGFnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgY29uc3Qgb25Db250aW51ZWQgPSAoKSA9PiAoaGFzQ29udGludWF0aW9uID0gdHJ1ZSk7XG4gIHJldHVybiB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGFzeW5jIGZ1bmN0aW9uIHdpdGggYWRkaXRpb25hbCBmdW5jdGlvbmFsaWx0eTpcbiAqIDEuIEFzc29jaWF0ZXMgYW4gYWJvcnQgc2lnbmFsIHdpdGggZXZlcnkgZnVuY3Rpb24sIHRoYXQgaXMgcGFzc2VkIHRvIGl0XG4gKiAgICBhcyBhbiBhcmd1bWVudC4gV2hlbiBhIG5ldyBmdW5jdGlvbiBpcyBzY2hlZHVsZWQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50XG4gKiAgICBvbmUsIGN1cnJlbnQgc2lnbmFsIGlzIGFib3J0ZWQuXG4gKiAyLiBJZiBjdXJyZW50IGZ1bmN0aW9uIGRpZG4ndCBzdGFydCBhbmQgd2FzIGFib3J0ZWQsIGluIHdpbGwgbmV2ZXIgc3RhcnQuXG4gKiAzLiBJZiB0aGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgaW4gdGhlIHF1ZXVlLCBpdCBjbGVhbnMgdXAgdGhlIHdob2xlIGNoYWluXG4gKiAgICBvZiBwcm9taXNlcyBhZnRlciBmaW5pc2hpbmcuXG4gKi9cbmZ1bmN0aW9uIHdyYXBXaXRoQ2FuY2VsbGF0aW9uPFQ+KFxuICB0YWc6IHN0cmluZyB8IHN5bWJvbCxcbiAgY2I6IChzaWduYWw6IEFib3J0U2lnbmFsKSA9PiBQcm9taXNlPFQgfCAnY2FuY2VsZWQnPixcbikge1xuICBjb25zdCBhYyA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgY29uc3Qgd3JhcHBlZCA9ICgpID0+IHtcbiAgICBpZiAoYWMuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoJ2NhbmNlbGVkJyBhcyBjb25zdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNiKGFjLnNpZ25hbCkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIWFjLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHBlbmRpbmdQcm9taXNlcy5kZWxldGUodGFnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgY29uc3Qgb25Db250aW51ZWQgPSAoKSA9PiBhYy5hYm9ydCgpO1xuICByZXR1cm4geyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfTtcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG50eXBlIEZ1bmN0aW9uUGF0Y2g8VD4gPSAoY3VycmVudFZhbHVlOiBUKSA9PiBUO1xuXG4vKipcbiAqIEEgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqL1xuZXhwb3J0IHR5cGUgUGF0Y2g8VD4gPSBUIHwgRnVuY3Rpb25QYXRjaDxUPjtcblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIHByb3ZpZGVkIHVwZGF0ZSBpcyBhIGZ1bmN0aW9uIHBhdGNoLlxuICpcbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHZhbHVlIHRvIGNoZWNrLlxuICovXG5jb25zdCBpc0Z1bmN0aW9uUGF0Y2ggPSA8VD4odXBkYXRlOiBQYXRjaDxUPik6IHVwZGF0ZSBpcyBGdW5jdGlvblBhdGNoPFQ+ID0+XG4gIHR5cGVvZiB1cGRhdGUgPT09ICdmdW5jdGlvbic7XG5cbi8qKlxuICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gKiBub3QgZW1pdHRlZCBhIHZhbHVlIHlldC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICovXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFZhbHVlID0gPFQ+KG9ic2VydmFibGUkOiBPYnNlcnZhYmxlPFQ+KSA9PiB7XG4gIGxldCB2YWx1ZSE6IFQ7XG4gIGxldCBlcnI6IEVycm9yIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBjb21iaW5lTGF0ZXN0KFtvYnNlcnZhYmxlJF0pXG4gICAgLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAoW3ZdKSA9PiB7XG4gICAgICAgIHZhbHVlID0gdjtcbiAgICAgIH0sXG4gICAgICBlcnJvcjogKGUpID0+IHtcbiAgICAgICAgZXJyID0gZTtcbiAgICAgIH0sXG4gICAgfSlcbiAgICAudW5zdWJzY3JpYmUoKTtcblxuICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAqIHRoZSBjdXJyZW50IHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IHZhbHVlLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAqIEByZXR1cm4gdGhlIHVwZGF0ZWQgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBzZXRDdXJyZW50VmFsdWUgPSA8VD4oc3ViamVjdDogU3ViamVjdDxUPiwgdXBkYXRlOiBQYXRjaDxUPikgPT4ge1xuICBjb25zdCBuZXh0ID0gaXNGdW5jdGlvblBhdGNoKHVwZGF0ZSlcbiAgICA/IHVwZGF0ZShnZXRDdXJyZW50VmFsdWUoc3ViamVjdCkpXG4gICAgOiB1cGRhdGU7XG5cbiAgc3ViamVjdC5uZXh0KG5leHQpO1xuICByZXR1cm4gbmV4dDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIHN1YnNjcmliZSB0by5cbiAqIEBwYXJhbSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIGNhbGwgd2hlbiB0aGUgb2JzZXJ2YWJsZSBlbWl0cyBhIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU3Vic2NyaXB0aW9uID0gPFQ+KFxuICBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPFQ+LFxuICBoYW5kbGVyOiAodmFsdWU6IFQpID0+IHZvaWQsXG4pID0+IHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoaGFuZGxlcik7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdWJzY3JpcHRpb24gYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnN1YnNjcmliZS4gTWFrZXMgc3VyZSB0aGF0XG4gKiBvbmx5IG9uZSBhc3luYyBoYW5kbGVyIHJ1bnMgYXQgdGhlIHNhbWUgdGltZS4gSWYgdXBkYXRlcyBjb21lIGluIHF1aWNrZXIgdGhhblxuICogaXQgdGFrZXMgZm9yIHRoZSBjdXJyZW50IGhhbmRsZXIgdG8gZmluaXNoLCBvdGhlciBoYW5kbGVycyB3aWxsIHdhaXQuXG4gKlxuICogQHBhcmFtIG9ic2VydmFibGUgdGhlIG9ic2VydmFibGUgdG8gc3Vic2NyaWJlIHRvLlxuICogQHBhcmFtIGhhbmRsZXIgdGhlIGFzeW5jIGhhbmRsZXIgdG8gY2FsbCB3aGVuIHRoZSBvYnNlcnZhYmxlIGVtaXRzIGEgdmFsdWUuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24gPSA8VD4oXG4gIG9ic2VydmFibGU6IE9ic2VydmFibGU8VD4sXG4gIGhhbmRsZXI6ICh2YWx1ZTogVCkgPT4gUHJvbWlzZTx2b2lkPixcbikgPT4ge1xuICBjb25zdCB0YWcgPSBTeW1ib2woKTtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgd2l0aG91dENvbmN1cnJlbmN5KHRhZywgKCkgPT4gaGFuZGxlcih2YWx1ZSkpO1xuICB9KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfTtcbn07XG4iLCIvKipcbiAqIFJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmV4cG9ydCBlbnVtIENhbGxpbmdTdGF0ZSB7XG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBhbiB1bmtub3duIHN0YXRlLlxuICAgKi9cbiAgVU5LTk9XTiA9ICd1bmtub3duJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gYW4gaWRsZSBzdGF0ZS5cbiAgICovXG4gIElETEUgPSAnaWRsZScsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIHJpbmdpbmcuXG4gICAqIChVc2VyIGhhc24ndCBhY2NlcHRlZCBub3IgcmVqZWN0ZWQgdGhlIGNhbGwgeWV0LilcbiAgICovXG4gIFJJTkdJTkcgPSAncmluZ2luZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIGpvaW5pbmcuXG4gICAqL1xuICBKT0lOSU5HID0gJ2pvaW5pbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgSk9JTkVEID0gJ2pvaW5lZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGhhcyBiZWVuIGxlZnQuXG4gICAqL1xuICBMRUZUID0gJ2xlZnQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByZWNvbm5lY3RpbmcuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkcgPSAncmVjb25uZWN0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgbWlncmF0aW5nIGZyb20gb25lIG5vZGUgdG8gYW5vdGhlci5cbiAgICovXG4gIE1JR1JBVElORyA9ICdtaWdyYXRpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgZmFpbGVkIHRvIHJlY29ubmVjdC5cbiAgICovXG4gIFJFQ09OTkVDVElOR19GQUlMRUQgPSAncmVjb25uZWN0aW5nLWZhaWxlZCcsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIG9mZmxpbmUgbW9kZS5cbiAgICovXG4gIE9GRkxJTkUgPSAnb2ZmbGluZScsXG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB0eXBlIHsgUGF0Y2ggfSBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0ICogYXMgUnhVdGlscyBmcm9tICcuL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbGluZ1N0YXRlIH0gZnJvbSAnLi9DYWxsaW5nU3RhdGUnO1xuaW1wb3J0IHR5cGUgeyBPd25Vc2VyUmVzcG9uc2UgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB7XG4gIC8qKlxuICAgKiBBIHN0b3JlIGtlZXBpbmcgZGF0YSBvZiBhIHN1Y2Nlc3NmdWxseSBjb25uZWN0ZWQgdXNlciBvdmVyIFdTIHRvIHRoZSBjb29yZGluYXRvciBzZXJ2ZXIuXG4gICAqL1xuICBjb25uZWN0ZWRVc2VyU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxsc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxbXT4oW10pO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3Quc3Vic2NyaWJlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgICAvLyBsZWF2ZSBhbGwgY2FsbHMgd2hlbiB0aGUgdXNlciBkaXNjb25uZWN0cy5cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQtc3RhdGUnXSk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNhbGxzKSB7XG4gICAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgY29udGludWU7XG5cbiAgICAgICAgICBsb2dnZXIoJ2luZm8nLCBgVXNlciBkaXNjb25uZWN0ZWQsIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gKTtcbiAgICAgICAgICBhd2FpdCBjYWxsXG4gICAgICAgICAgICAubGVhdmUoeyByZWFzb246ICdjbGllbnQuZGlzY29ubmVjdFVzZXIoKSBjYWxsZWQnIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgYEVycm9yIGxlYXZpbmcgY2FsbDogJHtjYWxsLmNpZH1gLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyLlxuICAgKi9cbiAgZ2V0IGNvbm5lY3RlZFVzZXIoKTogT3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5jb25uZWN0ZWRVc2VyU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gc2V0IGFzIGNvbm5lY3RlZC5cbiAgICovXG4gIHNldENvbm5lY3RlZFVzZXIgPSAodXNlcjogUGF0Y2g8T3duVXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0LCB1c2VyKTtcbiAgfTtcblxuICAvKipcbiAgICogQSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICovXG4gIGdldCBjYWxscygpOiBDYWxsW10ge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxzU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqIEBwYXJhbSBjYWxsc1xuICAgKi9cbiAgc2V0Q2FsbHMgPSAoY2FsbHM6IFBhdGNoPENhbGxbXT4pID0+IHtcbiAgICByZXR1cm4gUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsc1N1YmplY3QsIGNhbGxzKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhIHtAbGluayBDYWxsfSBvYmplY3QgdG8gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byBhZGQuXG4gICAqL1xuICByZWdpc3RlckNhbGwgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICAgIGlmICghdGhpcy5jYWxscy5maW5kKChjKSA9PiBjLmNpZCA9PT0gY2FsbC5jaWQpKSB7XG4gICAgICB0aGlzLnNldENhbGxzKChjYWxscykgPT4gWy4uLmNhbGxzLCBjYWxsXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGEge0BsaW5rIENhbGx9IG9iamVjdCBmcm9tIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVtb3ZlXG4gICAqL1xuICB1bnJlZ2lzdGVyQ2FsbCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q2FsbHMoKGNhbGxzKSA9PiBjYWxscy5maWx0ZXIoKGMpID0+IGMgIT09IGNhbGwpKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IGluIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgY2FsbCB0byBmaW5kLlxuICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBjYWxsIHRvIGZpbmQuXG4gICAqL1xuICBmaW5kQ2FsbCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxscy5maW5kKChjKSA9PiBjLnR5cGUgPT09IHR5cGUgJiYgYy5pZCA9PT0gaWQpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIHN0YXRlIHZhcmlhYmxlcyBpbiBhIHJlYWN0aXZlIG1hbm5lci5cbiAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgb2YgdGhlIGRpZmZlcmVudCBzdGF0ZSB2YXJpYWJsZXMuXG4gKiBUaGlzIGNlbnRyYWwgc3RvcmUgY29udGFpbnMgYWxsIHRoZSBzdGF0ZSB2YXJpYWJsZXMgcmVsYXRlZCB0byBbYFN0cmVhbVZpZGVvQ2xpZW50YF0oLi9TdHJlYW1WaWRlQ2xpZW50Lm1kKSBhbmQgW2BDYWxsYF0oLi9DYWxsLm1kKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlIHtcbiAgLyoqXG4gICAqIERhdGEgZGVzY3JpYmluZyBhIHVzZXIgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCBvdmVyIFdTIHRvIGNvb3JkaW5hdG9yIHNlcnZlci5cbiAgICovXG4gIGNvbm5lY3RlZFVzZXIkOiBPYnNlcnZhYmxlPE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxscyQ6IE9ic2VydmFibGU8Q2FsbFtdPjtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgYWxsb3dzIHlvdSB0aGUgZ2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgc3RhdGUgdmFyaWFibGUuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgY3VycmVudCB2YWx1ZSBvZi5cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIG9ic2VydmFibGUuXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICBjb25zdHJ1Y3RvcihzdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlKSB7XG4gICAgLy8gY29udmVydCBhbmQgZXhwb3NlIHN1YmplY3RzIGFzIG9ic2VydmFibGVzXG4gICAgdGhpcy5jb25uZWN0ZWRVc2VyJCA9IHN0b3JlLmNvbm5lY3RlZFVzZXJTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY2FsbHMkID0gc3RvcmUuY2FsbHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHVzZXIgY29ubmVjdGVkIG92ZXIgV1MgdG8gdGhlIGJhY2tlbmQuXG4gICAqL1xuICBnZXQgY29ubmVjdGVkVXNlcigpOiBPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXIkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGNhbGxzKCk6IENhbGxbXSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHMkKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBEZWZpbmVzIGEgY29tcGFyYXRvciBmdW5jdGlvbiB3aGljaCBjYW4gYmUgdXNlZCBmb3Igc29ydGluZyBpdGVtcy5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGFyYXRvcjxUPiA9IChhOiBULCBiOiBUKSA9PiAtMSB8IDAgfCAxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tYmluZWQge0BsaW5rIENvbXBhcmF0b3I8VD59IHdoaWNoIHNvcnRzIGl0ZW1zIGJ5IHRoZSBnaXZlbiBjb21wYXJhdG9ycy5cbiAqIFRoZSBjb21wYXJhdG9ycyBhcmUgYXBwbGllZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgZ2l2ZW4gKGxlZnQgLT4gcmlnaHQpLlxuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9ycyB0aGUgY29tcGFyYXRvcnMgdG8gdXNlIGZvciBzb3J0aW5nLlxuICogQHJldHVybnMgYSBjb21iaW5lZCB7QGxpbmsgQ29tcGFyYXRvcjxUPn0uXG4gKi9cbmV4cG9ydCBjb25zdCBjb21iaW5lQ29tcGFyYXRvcnMgPSA8VD4oXG4gIC4uLmNvbXBhcmF0b3JzOiBDb21wYXJhdG9yPFQ+W11cbik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvbXBhcmF0b3Igb2YgY29tcGFyYXRvcnMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmF0b3IoYSwgYik7XG4gICAgICBpZiAocmVzdWx0ICE9PSAwKSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIGl0ZW1zIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJ5VmFsdWUgPSAoYSwgYikgPT4gYSA8IGIgPyAtIDEgOiBhID4gYiA/IDEgOiAwO1xuICogY29uc3QgYnlWYWx1ZURlc2MgPSBkZXNjZW5kaW5nKGJ5VmFsdWUpO1xuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9yIHRoZSBjb21wYXJhdG9yIHRvIHdyYXAuXG4gKi9cbmV4cG9ydCBjb25zdCBkZXNjZW5kaW5nID0gPFQ+KGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8VD4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuIChhLCBiKSA9PiBjb21wYXJhdG9yKGIsIGEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbXBhcmF0b3Igd2hpY2ggY29uZGl0aW9uYWxseSBhcHBsaWVzIHRoZSBnaXZlbiBjb21wYXJhdG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzaG91bGRTb3J0QnlWYWx1ZSA9IChhLCBiKSA9PiBhICUgMiA9PT0gMDsgLy8gcmV0dXJuIGZhbHNlIHRvIHR1cm4gaXQgb2ZmXG4gKiBjb25zdCBieVZhbHVlID0gKGEsIGIpID0+IGEgPCBiID8gLSAxIDogYSA+IGIgPyAxIDogMDtcbiAqIGNvbnN0IGNvbXBhcmF0b3IgPSBjb25kaXRpb25hbChzaG91bGRTb3J0QnlWYWx1ZSkoYnlWYWx1ZSk7XG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIHVzZSBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0byBhcHBseSB0aGUgY29tcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbmFsID0gPFQ+KHByZWRpY2F0ZTogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4pID0+IHtcbiAgcmV0dXJuIChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFQ+KTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhLCBiKSkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhLCBiKTtcbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKiBBIG5vLW9wIGNvbXBhcmF0b3Igd2hpY2ggYWx3YXlzIHJldHVybnMgMC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vb3BDb21wYXJhdG9yID0gPFQ+KCk6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKCkgPT4gMDtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGhhcyBhIHZpZGVvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1ZpZGVvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5WSURFTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLkFVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaXMgc2NyZWVuIHNoYXJpbmcgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGlubmVkID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gICEhcC5waW4gJiYgKHAucGluLmlzTG9jYWxQaW4gfHwgcC5waW4ucGlubmVkQXQgPiAwKTtcbiIsImltcG9ydCB7IENvbXBhcmF0b3IgfSBmcm9tICcuLyc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgaGFzQXVkaW8sXG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi4vaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzJztcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgdGhlIGRvbWluYW50IHNwZWFrZXIgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBkb21pbmFudFNwZWFrZXI6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc0RvbWluYW50U3BlYWtlciAmJiAhYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNEb21pbmFudFNwZWFrZXIgJiYgYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgc3BlYWtpbmcgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGVha2luZzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLmlzU3BlYWtpbmcgJiYgIWIuaXNTcGVha2luZykgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNTcGVha2luZyAmJiBiLmlzU3BlYWtpbmcpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBzY3JlZW4gc2hhcmluZyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcmVlblNoYXJpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzU2NyZWVuU2hhcmUoYSkgJiYgIWhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzU2NyZWVuU2hhcmUoYSkgJiYgaGFzU2NyZWVuU2hhcmUoYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB2aWRlbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdWaWRlbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNWaWRlbyhhKSAmJiAhaGFzVmlkZW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNWaWRlbyhhKSAmJiBoYXNWaWRlbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IGF1ZGlvIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgcHVibGlzaGluZ0F1ZGlvOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc0F1ZGlvKGEpICYmICFoYXNBdWRpbyhiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc0F1ZGlvKGEpICYmIGhhc0F1ZGlvKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplcyBwYXJ0aWNpcGFudHMgd2hvIGFyZSBwaW5uZWQuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBpbm5lZDogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLnBpbiAmJiBiLnBpbikge1xuICAgIGlmICghYS5waW4uaXNMb2NhbFBpbiAmJiBiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLmlzTG9jYWxQaW4gJiYgIWIucGluLmlzTG9jYWxQaW4pIHJldHVybiAxO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA+IGIucGluLnBpbm5lZEF0KSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLnBpbm5lZEF0IDwgYi5waW4ucGlubmVkQXQpIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGEucGluICYmICFiLnBpbikgcmV0dXJuIC0xO1xuICBpZiAoIWEucGluICYmIGIucGluKSByZXR1cm4gMTtcblxuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByZWFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0aGUgcmVhY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWN0aW9uVHlwZSA9IChcbiAgdHlwZTogc3RyaW5nLFxuKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGlmIChhLnJlYWN0aW9uPy50eXBlID09PSB0eXBlICYmIGIucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUpIHJldHVybiAtMTtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSAhPT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlID09PSB0eXBlKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByb2xlLlxuICpcbiAqIEBwYXJhbSByb2xlcyB0aGUgcm9sZXMgdG8gcHJpb3JpdGl6ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJvbGUgPVxuICAoLi4ucm9sZXM6IHN0cmluZ1tdKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PlxuICAoYSwgYikgPT4ge1xuICAgIGlmIChoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiAhaGFzQW55Um9sZShiLCByb2xlcykpIHJldHVybiAtMTtcbiAgICBpZiAoIWhhc0FueVJvbGUoYSwgcm9sZXMpICYmIGhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hbWU6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTE7XG4gIGlmIChhLm5hbWUgPiBiLm5hbWUpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IGhhc0FueVJvbGUgPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgcm9sZXM6IHN0cmluZ1tdKSA9PlxuICAocC5yb2xlcyB8fCBbXSkuc29tZSgocikgPT4gcm9sZXMuaW5jbHVkZXMocikpO1xuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgVmlzaWJpbGl0eVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29tYmluZUNvbXBhcmF0b3JzLCBjb25kaXRpb25hbCB9IGZyb20gJy4vY29tcGFyYXRvcic7XG5pbXBvcnQge1xuICBkb21pbmFudFNwZWFrZXIsXG4gIHBpbm5lZCxcbiAgcHVibGlzaGluZ0F1ZGlvLFxuICBwdWJsaXNoaW5nVmlkZW8sXG4gIHJlYWN0aW9uVHlwZSxcbiAgcm9sZSxcbiAgc2NyZWVuU2hhcmluZyxcbiAgc3BlYWtpbmcsXG59IGZyb20gJy4vcGFydGljaXBhbnRzJztcblxuLy8gYSBjb21wYXJhdG9yIGRlY29yYXRvciB3aGljaCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciBvbmx5IGlmIHRoZVxuLy8gcGFydGljaXBhbnQgaXMgaW52aXNpYmxlLlxuLy8gVGhpcyBlbnN1cmVzIHN0YWJsZSBzb3J0aW5nIHdoZW4gYWxsIHBhcnRpY2lwYW50cyBhcmUgdmlzaWJsZS5cbmNvbnN0IGlmSW52aXNpYmxlQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUsXG4pO1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB0aGF0IGFwcGxpZXMgdGhlIGRlY29yYXRlZCBjb21wYXJhdG9yIHdoZW4gYSBwYXJ0aWNpcGFudCBpc1xuICogZWl0aGVyIGludmlzaWJsZSBvciBpdHMgdmlzaWJpbGl0eSBzdGF0ZSBpc24ndCBrbm93bi5cbiAqIEZvciB2aXNpYmxlIHBhcnRpY2lwYW50cywgaXQgZW5zdXJlcyBzdGFibGUgc29ydGluZy5cbiAqL1xuY29uc3QgaWZJbnZpc2libGVPclVua25vd25CeSA9IGNvbmRpdGlvbmFsKFxuICAoYTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgYjogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT5cbiAgICBhLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04gfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4pO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHNvcnRpbmcgcHJlc2V0LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIHNwZWFrZXIgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgZG9taW5hbnRTcGVha2VyLFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGF5b3V0cyB0aGF0IGRvbid0IHJlbmRlciBhbGwgcGFydGljaXBhbnRzIGJ1dFxuICogaW5zdGVhZCwgcmVuZGVyIHRoZW0gaW4gcGFnZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIGlmSW52aXNpYmxlT3JVbmtub3duQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVPclVua25vd25CeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBsaXZlc3RyZWFtcyBhbmQgYXVkaW8gcm9vbXMuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIHJvbGUoJ2FkbWluJywgJ2hvc3QnLCAnc3BlYWtlcicpLFxuICAvLyBuYW1lLFxuKTtcbiIsImltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIG1hcCxcbiAgT2JzZXJ2YWJsZSxcbiAgc2hhcmVSZXBsYXksXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBQYXRjaCB9IGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgKiBhcyBSeFV0aWxzIGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuL0NhbGxpbmdTdGF0ZSc7XG5pbXBvcnQge1xuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICB0eXBlIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzLFxuICB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0c1JlcG9ydCB9IGZyb20gJy4uL3N0YXRzJztcbmltcG9ydCB7XG4gIEJsb2NrZWRVc2VyRXZlbnQsXG4gIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQsXG4gIENhbGxJbmdyZXNzUmVzcG9uc2UsXG4gIENhbGxNZW1iZXJBZGRlZEV2ZW50LFxuICBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCxcbiAgQ2FsbFJlYWN0aW9uRXZlbnQsXG4gIENhbGxSZXNwb25zZSxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudCxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50LFxuICBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICBDYWxsU2Vzc2lvblJlc3BvbnNlLFxuICBDYWxsU2V0dGluZ3NSZXNwb25zZSxcbiAgRWdyZXNzUmVzcG9uc2UsXG4gIE1lbWJlclJlc3BvbnNlLFxuICBPd25DYXBhYmlsaXR5LFxuICBUaHVtYm5haWxSZXNwb25zZSxcbiAgVW5ibG9ja2VkVXNlckV2ZW50LFxuICBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQsXG4gIFVzZXJSZXNwb25zZSxcbiAgV1NFdmVudCxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRpbWVzdGFtcCB9IGZyb20gJy4uL2dlbi9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBDYWxsU3RhdGUgYXMgU2Z1Q2FsbFN0YXRlLFxuICBQaW4sXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IENvbXBhcmF0b3IsIGRlZmF1bHRTb3J0UHJlc2V0IH0gZnJvbSAnLi4vc29ydGluZyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaGFzU2NyZWVuU2hhcmUgfSBmcm9tICcuLi9oZWxwZXJzL3BhcnRpY2lwYW50VXRpbHMnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgZWdyZXNzIG9iamVjdCAtIHdoZW4gbm8gZWdyZXNzIGRhdGEgaXMgYXZhaWxhYmxlLlxuICovXG5jb25zdCBkZWZhdWx0RWdyZXNzOiBFZ3Jlc3NSZXNwb25zZSA9IHtcbiAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgaGxzOiB7IHBsYXlsaXN0X3VybDogJycgfSxcbiAgcnRtcHM6IFtdLFxufTtcblxudHlwZSBPcnBoYW5lZFRyYWNrID0ge1xuICBpZDogc3RyaW5nO1xuICB0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nO1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgdHJhY2s6IE1lZGlhU3RyZWFtO1xufTtcblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqIEByZWFjdCBZb3UgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBjbGFzcyBkaXJlY3RseSwgYXMgd2UgYXJlIGV4cG9zaW5nIHRoZSBzdGF0ZSB0aHJvdWdoIEhvb2tzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbFN0YXRlIHtcbiAgcHJpdmF0ZSBiYWNrc3RhZ2VTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBibG9ja2VkVXNlcklkc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZ1tdPihbXSk7XG4gIHByaXZhdGUgY3JlYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgZW5kZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgc3RhcnRzQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHVwZGF0ZWRBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGU+KG5ldyBEYXRlKCkpO1xuICBwcml2YXRlIGNyZWF0ZWRCeVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGN1c3RvbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlY29yZDxzdHJpbmcsIGFueT4+KHt9KTtcbiAgcHJpdmF0ZSBlZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcml2YXRlIGluZ3Jlc3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsSW5ncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgcmVjb3JkaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIHNlc3Npb25TdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgc2V0dGluZ3NTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxcbiAgICBDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdHJhbnNjcmliaW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oZmFsc2UpO1xuICBwcml2YXRlIGVuZGVkQnlTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJpdmF0ZSB0aHVtYm5haWxzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgVGh1bWJuYWlsUmVzcG9uc2UgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuICBwcml2YXRlIG1lbWJlcnNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxNZW1iZXJSZXNwb25zZVtdPihbXSk7XG4gIHByaXZhdGUgb3duQ2FwYWJpbGl0aWVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8T3duQ2FwYWJpbGl0eVtdPihbXSk7XG4gIHByaXZhdGUgY2FsbGluZ1N0YXRlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FsbGluZ1N0YXRlPihcbiAgICBDYWxsaW5nU3RhdGUuVU5LTk9XTixcbiAgKTtcbiAgcHJpdmF0ZSBzdGFydGVkQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuICBwcml2YXRlIHBhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIGFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDApO1xuICBwcml2YXRlIHBhcnRpY2lwYW50c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT4oXG4gICAgW10sXG4gICk7XG4gIHByaXZhdGUgY2FsbFN0YXRzUmVwb3J0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgQ2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcblxuICAvLyBUaGVzZSBhcmUgdHJhY2tzIHRoYXQgd2VyZSBkZWxpdmVyZWQgdG8gdGhlIFN1YnNjcmliZXIncyBvblRyYWNrIGV2ZW50XG4gIC8vIHRoYXQgd2UgY291bGRuJ3QgYXNzb2NpYXRlIHdpdGggYSBwYXJ0aWNpcGFudCB5ZXQuXG4gIC8vIFRoaXMgaGFwcGVucyB3aGVuIHRoZSBwYXJ0aWNpcGFudEpvaW5lZCBldmVudCBoYXNuJ3QgYmVlbiByZWNlaXZlZCB5ZXQuXG4gIC8vIFdlIGtlZXAgdGhlc2UgdHJhY2tzIGFyb3VuZCB1bnRpbCB3ZSBjYW4gYXNzb2NpYXRlIHRoZW0gd2l0aCBhIHBhcnRpY2lwYW50LlxuICBwcml2YXRlIG9ycGhhbmVkVHJhY2tzOiBPcnBoYW5lZFRyYWNrW10gPSBbXTtcblxuICAvLyBEZXJpdmVkIHN0YXRlXG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgc3RhcnRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogVGhlIHNlcnZlci1zaWRlIGNvdW50ZWQgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIHBhcnRpY2lwYW50Q291bnQkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBUaGlzIG51bWJlciBleGNsdWRlcyB0aGUgcmVndWxhciBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBBbGwgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgdGhlIGN1cnJlbnQgdXNlciBhbmQgb3RoZXIgcGFydGljaXBhbnRzIGFzIHdlbGwpLlxuICAgKi9cbiAgcGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBSZW1vdGUgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwgKHRoaXMgaW5jbHVkZXMgZXZlcnkgcGFydGljaXBhbnQgZXhjZXB0IHRoZSBsb2dnZWQtaW4gdXNlcikuXG4gICAqL1xuICByZW1vdGVQYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBvZiB0aGUgY3VycmVudCBjYWxsICh0aGUgbG9nZ2VkLWluIHVzZXIpLlxuICAgKi9cbiAgbG9jYWxQYXJ0aWNpcGFudCQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFBpbm5lZCBwYXJ0aWNpcGFudHMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIHBpbm5lZFBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBlbGVjdGVkIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGRvbWluYW50U3BlYWtlciQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEVtaXRzIHRydWUgd2hlbmV2ZXIgdGhlcmUgaXMgYW4gYWN0aXZlIHNjcmVlbiBzaGFyaW5nIHNlc3Npb24gd2l0aGluXG4gICAqIHRoZSBjdXJyZW50IGNhbGwuIFVzZWZ1bCBmb3IgZGlzcGxheWluZyBhIFwic2NyZWVuIHNoYXJpbmdcIiBpbmRpY2F0b3IgYW5kXG4gICAqIHN3aXRjaGluZyB0aGUgbGF5b3V0IHRvIGEgc2NyZWVuIHNoYXJpbmcgbGF5b3V0LlxuICAgKlxuICAgKiBUaGUgYWN0dWFsIHNjcmVlbiBzaGFyaW5nIHRyYWNrIGlzbid0IGV4cG9zZWQgaGVyZSwgYnV0IGNhbiBiZSByZXRyaWV2ZWRcbiAgICogZnJvbSB0aGUgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cy4gV2UgYWxzbyBkb24ndCB3YW50IHRvIGJlIGxpbWl0aW5nXG4gICAqIHRvIHRoZSBudW1iZXIgb2Ygc2hhcmUgc2NyZWVuIHRyYWNrcyBhcmUgZGlzcGxheWVkIGluIGEgY2FsbC5cbiAgICovXG4gIGhhc09uZ29pbmdTY3JlZW5TaGFyZSQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFdoZW4gc3RhdHMgZ2F0aGVyaW5nIGlzIGVuYWJsZWQsIHRoaXMgb2JzZXJ2YWJsZSB3aWxsIGVtaXQgYSBuZXcgdmFsdWVcbiAgICogYXQgYSByZWd1bGFyIChjb25maWd1cmFibGUpIGludGVydmFsLlxuICAgKlxuICAgKiBDb25zdW1lcnMgb2YgdGhpcyBvYnNlcnZhYmxlIGNhbiBpbXBsZW1lbnQgdGhlaXIgb3duIGJhdGNoaW5nIGxvZ2ljXG4gICAqIGluIGNhc2UgdGhleSB3YW50IHRvIHNob3cgaGlzdG9yaWNhbCBzdGF0cyBkYXRhLlxuICAgKi9cbiAgY2FsbFN0YXRzUmVwb3J0JDogT2JzZXJ2YWJsZTxDYWxsU3RhdHNSZXBvcnQgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBtZW1iZXJzJDogT2JzZXJ2YWJsZTxNZW1iZXJSZXNwb25zZVtdPjtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXMkOiBPYnNlcnZhYmxlPE93bkNhcGFiaWxpdHlbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgY2FsbGluZ1N0YXRlJDogT2JzZXJ2YWJsZTxDYWxsaW5nU3RhdGU+O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgYmFja3N0YWdlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBsaXN0IG9mIGJsb2NrZWQgdXNlciBJRHMuXG4gICAqL1xuICBibG9ja2VkVXNlcklkcyQ6IE9ic2VydmFibGU8c3RyaW5nW10+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gY3JlYXRlZC5cbiAgICovXG4gIGNyZWF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICovXG4gIGVuZGVkQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgc3RhcnRzQXQkOiBPYnNlcnZhYmxlPERhdGUgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gdXBkYXRlZC5cbiAgICovXG4gIHVwZGF0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZT47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBjcmVhdGVkQnkkOiBPYnNlcnZhYmxlPFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgY3VzdG9tJDogT2JzZXJ2YWJsZTxSZWNvcmQ8c3RyaW5nLCBhbnk+PjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBlZ3Jlc3MgZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBlZ3Jlc3MkOiBPYnNlcnZhYmxlPEVncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgaW5ncmVzcyQ6IE9ic2VydmFibGU8Q2FsbEluZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlY29yZGluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2Vzc2lvbiBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNlc3Npb24kOiBPYnNlcnZhYmxlPENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNldHRpbmdzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHNldHRpbmdzJDogT2JzZXJ2YWJsZTxDYWxsU2V0dGluZ3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdHJhbnNjcmliaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRyYW5zY3JpYmluZyQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gZW5kZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgZW5kZWRCeSQ6IE9ic2VydmFibGU8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aHVtYm5haWxzIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHRodW1ibmFpbHMkOiBPYnNlcnZhYmxlPFRodW1ibmFpbFJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydDYWxsU3RhdGUnXSk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiBjb21wYXJhdG9ycyB0aGF0IGFyZSB1c2VkIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgc29ydFBhcnRpY2lwYW50c0J5ID0gZGVmYXVsdFNvcnRQcmVzZXQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBldmVudEhhbmRsZXJzOiB7XG4gICAgW0V2ZW50VHlwZSBpbiBXU0V2ZW50Wyd0eXBlJ11dOlxuICAgICAgfCAoKGV2ZW50OiBFeHRyYWN0PFdTRXZlbnQsIHsgdHlwZTogRXZlbnRUeXBlIH0+KSA9PiB2b2lkKVxuICAgICAgfCB1bmRlZmluZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIENhbGxTdGF0ZSBjbGFzcy5cbiAgICpcbiAgICovXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gbWFpbnRhaW4gc3RhYmxlLXNvcnQgYnkgbXV0YXRpbmcgdGhlIHBhcnRpY2lwYW50cyBzdG9yZWRcbiAgICAgIC8vIGluIHRoZSBvcmlnaW5hbCBzdWJqZWN0XG4gICAgICBtYXAoKHBzKSA9PiBwcy5zb3J0KHRoaXMuc29ydFBhcnRpY2lwYW50c0J5KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxvY2FsUGFydGljaXBhbnQkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNMb2NhbFBhcnRpY2lwYW50KSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLnJlbW90ZVBhcnRpY2lwYW50cyQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiAhcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucGlubmVkUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICEhcC5waW4pKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZG9taW5hbnRTcGVha2VyJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLmlzRG9taW5hbnRTcGVha2VyKSksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmhhc09uZ29pbmdTY3JlZW5TaGFyZSQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuc29tZSgocCkgPT4gaGFzU2NyZWVuU2hhcmUocCkpKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvLyBkYXRlc1xuICAgIHRoaXMuY3JlYXRlZEF0JCA9IHRoaXMuY3JlYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQXQkID0gdGhpcy5lbmRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnN0YXJ0c0F0JCA9IHRoaXMuc3RhcnRzQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRlZEF0JCA9IHRoaXMuc3RhcnRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnVwZGF0ZWRBdCQgPSB0aGlzLnVwZGF0ZWRBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICB0aGlzLmNhbGxTdGF0c1JlcG9ydCQgPSB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5tZW1iZXJzJCA9IHRoaXMubWVtYmVyc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvLyBjb21wbGV4IG9iamVjdHMgc2hvdWxkIHdvcmsgYXMgc3RyZWFtcyBvZiBkYXRhXG4gICAgdGhpcy5jcmVhdGVkQnkkID0gdGhpcy5jcmVhdGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY3VzdG9tJCA9IHRoaXMuY3VzdG9tU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVncmVzcyQgPSB0aGlzLmVncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5pbmdyZXNzJCA9IHRoaXMuaW5ncmVzc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXNzaW9uJCA9IHRoaXMuc2Vzc2lvblN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zZXR0aW5ncyQgPSB0aGlzLnNldHRpbmdzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmVuZGVkQnkkID0gdGhpcy5lbmRlZEJ5U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnRodW1ibmFpbHMkID0gdGhpcy50aHVtYm5haWxzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0d28gYXJyYXlzLlxuICAgICAqIEV4cGVjdHMgcHJpbWl0aXZlIHZhbHVlczogWzEsIDIsIDNdIGlzIGVxdWFsIHRvIFsyLCAxLCAzXS5cbiAgICAgKi9cbiAgICBjb25zdCBpc1NoYWxsb3dFcXVhbCA9IDxUPihhOiBBcnJheTxUPiwgYjogQXJyYXk8VD4pOiBib29sZWFuID0+IHtcbiAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhKSBpZiAoIWIuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBiKSBpZiAoIWEuaW5jbHVkZXMoaXRlbSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIE9ic2VydmFibGUgZnJvbSB0aGUgZ2l2ZW4gc3ViamVjdCBieSBwaXBpbmcgdG8gdGhlXG4gICAgICogYGRpc3RpbmN0VW50aWxDaGFuZ2VkKClgIG9wZXJhdG9yLlxuICAgICAqL1xuICAgIGNvbnN0IGR1YyA9IDxUPihcbiAgICAgIHN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxUPixcbiAgICAgIGNvbXBhcmF0b3I/OiAoYTogVCwgYjogVCkgPT4gYm9vbGVhbixcbiAgICApOiBPYnNlcnZhYmxlPFQ+ID0+XG4gICAgICBzdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoY29tcGFyYXRvcikpO1xuXG4gICAgLy8gcHJpbWl0aXZlIHZhbHVlcyBzaG91bGQgb25seSBlbWl0IG9uY2UgdGhlIHZhbHVlIHRoZXkgaG9sZCBjaGFuZ2VzXG4gICAgdGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCA9IGR1YyhcbiAgICAgIHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudFN1YmplY3QsXG4gICAgKTtcbiAgICB0aGlzLmJsb2NrZWRVc2VySWRzJCA9IGR1Yyh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgaXNTaGFsbG93RXF1YWwpO1xuICAgIHRoaXMuYmFja3N0YWdlJCA9IGR1Yyh0aGlzLmJhY2tzdGFnZVN1YmplY3QpO1xuICAgIHRoaXMuY2FsbGluZ1N0YXRlJCA9IGR1Yyh0aGlzLmNhbGxpbmdTdGF0ZVN1YmplY3QpO1xuICAgIHRoaXMub3duQ2FwYWJpbGl0aWVzJCA9IGR1Yyh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGlzU2hhbGxvd0VxdWFsKTtcbiAgICB0aGlzLnBhcnRpY2lwYW50Q291bnQkID0gZHVjKHRoaXMucGFydGljaXBhbnRDb3VudFN1YmplY3QpO1xuICAgIHRoaXMucmVjb3JkaW5nJCA9IGR1Yyh0aGlzLnJlY29yZGluZ1N1YmplY3QpO1xuICAgIHRoaXMudHJhbnNjcmliaW5nJCA9IGR1Yyh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QpO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge1xuICAgICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBub3QgdXBkYXRpbmcgdGhlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbic6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLmRlbGV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3QnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3JlYWR5JzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwudXNlcl9tdXRlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjb25uZWN0aW9uLmVycm9yJzogdW5kZWZpbmVkLFxuICAgICAgJ2Nvbm5lY3Rpb24ub2snOiB1bmRlZmluZWQsXG4gICAgICAnaGVhbHRoLmNoZWNrJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuYmFubmVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIuZGVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5kZWxldGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIubXV0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci5wcmVzZW5jZS5jaGFuZ2VkJzogdW5kZWZpbmVkLFxuICAgICAgJ3VzZXIucmVhY3RpdmF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICAndXNlci51bmJhbm5lZCc6IHVuZGVmaW5lZCxcbiAgICAgICd1c2VyLnVwZGF0ZWQnOiB1bmRlZmluZWQsXG4gICAgICBjdXN0b206IHVuZGVmaW5lZCxcblxuICAgICAgLy8gZXZlbnRzIHRoYXQgdXBkYXRlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5hY2NlcHRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmJsb2NrZWRfdXNlcic6IHRoaXMuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwuY3JlYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmVuZGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRCeVN1YmplY3QsIGUudXNlcik7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RpbmdGYWlsZWQsXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkLFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdG9wcGVkJzogdGhpcy51cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCxcbiAgICAgICdjYWxsLmxpdmVfc3RhcnRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLm1lbWJlcl9hZGRlZCc6IHRoaXMudXBkYXRlRnJvbU1lbWJlckFkZGVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3JlbW92ZWQnOiB0aGlzLnVwZGF0ZUZyb21NZW1iZXJSZW1vdmVkLFxuICAgICAgJ2NhbGwubWVtYmVyX3VwZGF0ZWRfcGVybWlzc2lvbic6IHRoaXMudXBkYXRlTWVtYmVycyxcbiAgICAgICdjYWxsLm1lbWJlcl91cGRhdGVkJzogdGhpcy51cGRhdGVNZW1iZXJzLFxuICAgICAgJ2NhbGwubm90aWZpY2F0aW9uJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICAgIHRoaXMuc2V0TWVtYmVycyhlLm1lbWJlcnMpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnBlcm1pc3Npb25zX3VwZGF0ZWQnOiB0aGlzLnVwZGF0ZU93bkNhcGFiaWxpdGllcyxcbiAgICAgICdjYWxsLnJlYWN0aW9uX25ldyc6IHRoaXMudXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbixcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdGFydGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCB0cnVlKSxcbiAgICAgICdjYWxsLnJlY29yZGluZ19zdG9wcGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJzogKCkgPT5cbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5yZWNvcmRpbmdTdWJqZWN0LCBmYWxzZSksXG4gICAgICAnY2FsbC5yZWplY3RlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnJpbmcnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5taXNzZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5zZXNzaW9uX2VuZGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkJzpcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUsXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2pvaW5lZCc6XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdCc6IHRoaXMudXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQsXG4gICAgICAnY2FsbC5zZXNzaW9uX3N0YXJ0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwudW5ibG9ja2VkX3VzZXInOiB0aGlzLnVuYmxvY2tVc2VyLFxuICAgICAgJ2NhbGwudXBkYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdGhhdCBhcmUgdXNlZCB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIFRvIGRpc2FibGUgc29ydGluZywgeW91IGNhbiBwYXNzIGBub29wQ29tcGFyYXRvcigpYC5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBhcmF0b3IgdGhlIGNvbXBhcmF0b3IgdG8gdXNlIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeSA9IChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KSA9PiB7XG4gICAgdGhpcy5zb3J0UGFydGljaXBhbnRzQnkgPSBjb21wYXJhdG9yO1xuICAgIC8vIHRyaWdnZXIgcmUtc29ydGluZyBvZiBwYXJ0aWNpcGFudHNcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIChwcykgPT4gcHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gICAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICAgKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgKi9cbiAgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGFzIHdlbGwuXG4gICAqL1xuICBnZXQgcGFydGljaXBhbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudENvdW50JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXJ0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGFydGVkQXQgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKi9cbiAgc2V0U3RhcnRlZEF0ID0gKHN0YXJ0ZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXRTdWJqZWN0LCBzdGFydGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoY291bnQ6IFBhdGNoPG51bWJlcj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCwgY291bnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXJ0aWNpcGFudHMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRzID0gKHBhcnRpY2lwYW50czogUGF0Y2g8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIHBhcnRpY2lwYW50cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGxvY2FsUGFydGljaXBhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubG9jYWxQYXJ0aWNpcGFudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHJlbW90ZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCByZW1vdGVQYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVtb3RlUGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBkb21pbmFudFNwZWFrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZG9taW5hbnRTcGVha2VyJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcGlubmVkIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBpbm5lZFBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5waW5uZWRQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxsIGlmIHRoZXJlIGlzIGFuIG9uZ29pbmcgc2NyZWVuIHNoYXJlIGluIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaGFzT25nb2luZ1NjcmVlblNoYXJlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBnZXQgY2FsbGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxpbmdTdGF0ZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdGUgdGhlIG5ldyBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FsbGluZ1N0YXRlID0gKHN0YXRlOiBQYXRjaDxDYWxsaW5nU3RhdGU+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqL1xuICBnZXQgY2FsbFN0YXRzUmVwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGwgc3RhdHMgcmVwb3J0LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHJlcG9ydCB0aGUgcmVwb3J0IHRvIHNldC5cbiAgICovXG4gIHNldENhbGxTdGF0c1JlcG9ydCA9IChyZXBvcnQ6IFBhdGNoPENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYWxsU3RhdHNSZXBvcnRTdWJqZWN0LCByZXBvcnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbWVtYmVycyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG1lbWJlcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVycyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1lbWJlcnMgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBtZW1iZXJzIHRoZSBtZW1iZXJzIHRvIHNldC5cbiAgICovXG4gIHNldE1lbWJlcnMgPSAobWVtYmVyczogUGF0Y2g8TWVtYmVyUmVzcG9uc2VbXT4pID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCBtZW1iZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IG93bkNhcGFiaWxpdGllcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvd24gY2FwYWJpbGl0aWVzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNhcGFiaWxpdGllcyB0aGUgY2FwYWJpbGl0aWVzIHRvIHNldC5cbiAgICovXG4gIHNldE93bkNhcGFiaWxpdGllcyA9IChjYXBhYmlsaXRpZXM6IFBhdGNoPE93bkNhcGFiaWxpdHlbXT4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBjYXBhYmlsaXRpZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgZ2V0IGJhY2tzdGFnZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5iYWNrc3RhZ2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGdldCBibG9ja2VkVXNlcklkcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5ibG9ja2VkVXNlcklkcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgZ2V0IGNyZWF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBnZXQgZW5kZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICogQHBhcmFtIGVuZGVkQXQgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBzZXRFbmRlZEF0ID0gKGVuZGVkQXQ6IFBhdGNoPERhdGUgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRBdFN1YmplY3QsIGVuZGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgZ2V0IHN0YXJ0c0F0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0c0F0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAqL1xuICBnZXQgdXBkYXRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnVwZGF0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgY3JlYXRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGN1c3RvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b20kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGVncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGluZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaW5ncmVzcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCByZWNvcmRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXNzaW9uIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNlc3Npb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvbiQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2V0dGluZ3Mgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0cmFuc2NyaWJpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHRyYW5zY3JpYmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGVuZGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlbmRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQnkkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRodW1ibmFpbHMgb2YgdGhpcyBjYWxsLCBpZiBlbmFibGVkIGluIHRoZSBjYWxsIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHRodW1ibmFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudGh1bWJuYWlscyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgdHJ5IHRvIGZpbmQgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIGdpdmVuIHNlc3Npb25JZCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHRoZSBwYXJ0aWNpcGFudCB3aXRoIHRoZSBnaXZlbiBzZXNzaW9uSWQgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cbiAgICovXG4gIGZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICApOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWNpcGFudHMuZmluZCgocCkgPT4gcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBuZXcgbG9va3VwIHRhYmxlIG9mIHBhcnRpY2lwYW50cyBpbmRleGVkIGJ5IHRoZWlyIHNlc3Npb24gSUQuXG4gICAqL1xuICBnZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5yZWR1Y2U8e1xuICAgICAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZDtcbiAgICB9PigobG9va3VwVGFibGUsIHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICBsb29rdXBUYWJsZVtwYXJ0aWNpcGFudC5zZXNzaW9uSWRdID0gcGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4gbG9va3VwVGFibGU7XG4gICAgfSwge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcGFydGljaXBhbnQgaW4gdGhlIGN1cnJlbnQgY2FsbCBpZGVudGlmaWVkIGJ5IHRoZSBnaXZlbiBgc2Vzc2lvbklkYC5cbiAgICogSWYgdGhlIHBhcnRpY2lwYW50IGNhbid0IGJlIGZvdW5kLCB0aGlzIG9wZXJhdGlvbiBpcyBuby1vcC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHBhdGNoIHRoZSBwYXRjaCB0byBhcHBseSB0byB0aGUgcGFydGljaXBhbnQuXG4gICAqIEByZXR1cm5zIHRoZSB1cGRhdGVkIHBhcnRpY2lwYW50IG9yIGB1bmRlZmluZWRgIGlmIHRoZSBwYXJ0aWNpcGFudCBjb3VsZG4ndCBiZSBmb3VuZC5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhdGNoOlxuICAgICAgfCBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hcbiAgICAgIHwgKChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KSA9PiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2gpLFxuICApID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQoc2Vzc2lvbklkKTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBQYXJ0aWNpcGFudCB3aXRoIHNlc3Npb25JZCAke3Nlc3Npb25JZH0gbm90IGZvdW5kYCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdGhlUGF0Y2ggPSB0eXBlb2YgcGF0Y2ggPT09ICdmdW5jdGlvbicgPyBwYXRjaChwYXJ0aWNpcGFudCkgOiBwYXRjaDtcbiAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnQ6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgPSB7XG4gICAgICAvLyBGSVhNRSBPTDogdGhpcyBpcyBub3QgYSBkZWVwIG1lcmdlLCB3ZSBtaWdodCB3YW50IHRvIHJldmlzaXQgdGhpc1xuICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAuLi50aGVQYXRjaCxcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT5cbiAgICAgICAgcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCA/IHVwZGF0ZWRQYXJ0aWNpcGFudCA6IHAsXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLlxuICAgKiBJZiBhIHBhcnRpY2lwYW50IHdpdGggbWF0Y2hpbmcgYHNlc3Npb25JZGAgY2FuJ3QgYmUgZm91bmQsIHRoZSBwcm92aWRlZFxuICAgKiBgcGFydGljaXBhbnRgIGlzIGFkZGVkIHRvIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgcGFydGljaXBhbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gcGFydGljaXBhbnQgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZSBvciBhZGQuXG4gICAqL1xuICB1cGRhdGVPckFkZFBhcnRpY2lwYW50ID0gKFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHBhcnRpY2lwYW50OiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgbGV0IGFkZCA9IHRydWU7XG4gICAgICBjb25zdCBuZXh0UGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIGFkZCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pO1xuICAgICAgaWYgKGFkZCkgbmV4dFBhcnRpY2lwYW50cy5wdXNoKHBhcnRpY2lwYW50KTtcbiAgICAgIHJldHVybiBuZXh0UGFydGljaXBhbnRzO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGFsbCBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbCB3aG9zZSBzZXNzaW9uIElEIGlzIGluIHRoZSBnaXZlbiBgc2Vzc2lvbklkc2AuXG4gICAqIElmIG5vIHBhdGNoZXMgYXJlIHByb3ZpZGVkLCB0aGlzIG9wZXJhdGlvbiBpcyBuby1vcC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXRjaCB0aGUgcGF0Y2ggdG8gYXBwbHkgdG8gdGhlIHBhcnRpY2lwYW50cy5cbiAgICogQHJldHVybnMgYWxsIHBhcnRpY2lwYW50cywgd2l0aCBhbGwgcGF0Y2ggYXBwbGllZC5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50cyA9IChwYXRjaDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMpID0+IHtcbiAgICBpZiAoT2JqZWN0LmtleXMocGF0Y2gpLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzO1xuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBjb25zdCB0aGVQYXRjaCA9IHBhdGNoW3Auc2Vzc2lvbklkXTtcbiAgICAgICAgaWYgKHRoZVBhdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgICAuLi50aGVQYXRjaCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRyYWNrIHN1YnNjcmlwdGlvbiBjb25maWd1cmF0aW9uIGZvciBvbmUgb3IgbW9yZSBwYXJ0aWNpcGFudHMuXG4gICAqIFlvdSBoYXZlIHRvIGNyZWF0ZSBhIHN1YnNjcmlwdGlvbiBmb3IgZWFjaCBwYXJ0aWNpcGFudCBmb3IgYWxsIHRoZSBkaWZmZXJlbnQga2luZHMgb2YgdHJhY2tzIHlvdSB3YW50IHRvIHJlY2VpdmUuXG4gICAqIFlvdSBjYW4gb25seSBzdWJzY3JpYmUgZm9yIHRyYWNrcyBhZnRlciB0aGUgcGFydGljaXBhbnQgc3RhcnRlZCBwdWJsaXNoaW5nIHRoZSBnaXZlbiBraW5kIG9mIHRyYWNrLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHN1YnNjcmlwdGlvbiB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSBjaGFuZ2VzIHRoZSBsaXN0IG9mIHN1YnNjcmlwdGlvbiBjaGFuZ2VzIHRvIGRvLlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgZGVib3VuY2UgdHlwZSB0byB1c2UgZm9yIHRoZSB1cGRhdGUuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudFRyYWNrcyA9IChcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICAgIGNoYW5nZXM6IFN1YnNjcmlwdGlvbkNoYW5nZXMsXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50cyhcbiAgICAgIE9iamVjdC5lbnRyaWVzKGNoYW5nZXMpLnJlZHVjZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcz4oXG4gICAgICAgIChhY2MsIFtzZXNzaW9uSWQsIGNoYW5nZV0pID0+IHtcbiAgICAgICAgICBpZiAoY2hhbmdlLmRpbWVuc2lvbikge1xuICAgICAgICAgICAgY2hhbmdlLmRpbWVuc2lvbi5oZWlnaHQgPSBNYXRoLmNlaWwoY2hhbmdlLmRpbWVuc2lvbi5oZWlnaHQpO1xuICAgICAgICAgICAgY2hhbmdlLmRpbWVuc2lvbi53aWR0aCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLndpZHRoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcHJvcDoga2V5b2YgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB8IHVuZGVmaW5lZCA9XG4gICAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICAgICAgICA/ICd2aWRlb0RpbWVuc2lvbidcbiAgICAgICAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgICAgID8gJ3NjcmVlblNoYXJlRGltZW5zaW9uJ1xuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgICBhY2Nbc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICAgICAgW3Byb3BdOiBjaGFuZ2UuZGltZW5zaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSxcbiAgICAgICAge30sXG4gICAgICApLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnQgdGhlIHZpZGVvIGV2ZW50IHRoYXQgb3VyIGJhY2tlbmQgc2VudCB1cy5cbiAgICovXG4gIHVwZGF0ZUZyb21FdmVudCA9IChldmVudDogV1NFdmVudCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICBpZiAodXBkYXRlKSB7XG4gICAgICB1cGRhdGUoZXZlbnQgYXMgYW55KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHBhcnRpY2lwYW50IHBpbm5lZCBzdGF0ZSB3aXRoIHNlcnZlciBzaWRlIHBpbm5pbmcgZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHBpbnMgdGhlIGxhdGVzdCBwaW5zIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHNldFNlcnZlclNpZGVQaW5zID0gKHBpbnM6IFBpbltdKSA9PiB7XG4gICAgY29uc3QgcGluc0xvb2t1cCA9IHBpbnMucmVkdWNlPHsgW3Nlc3Npb25JZDogc3RyaW5nXTogbnVtYmVyIHwgdW5kZWZpbmVkIH0+KFxuICAgICAgKGxvb2t1cCwgcGluKSA9PiB7XG4gICAgICAgIGxvb2t1cFtwaW4uc2Vzc2lvbklkXSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBsb29rdXA7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3Qgc2VydmVyU2lkZVBpbm5lZEF0ID0gcGluc0xvb2t1cFtwYXJ0aWNpcGFudC5zZXNzaW9uSWRdO1xuICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQgaXMgbmV3bHkgcGlubmVkXG4gICAgICAgIGlmIChzZXJ2ZXJTaWRlUGlubmVkQXQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBwaW46IHtcbiAgICAgICAgICAgICAgaXNMb2NhbFBpbjogZmFsc2UsXG4gICAgICAgICAgICAgIHBpbm5lZEF0OiBzZXJ2ZXJTaWRlUGlubmVkQXQsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGlzIG5vIGxvbmdlciBwaW5uZWQgc2VydmVyIHNpZGVcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXNldCB0aGUgcGluXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5waW4gJiYgIXBhcnRpY2lwYW50LnBpbi5pc0xvY2FsUGluKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgcGluOiB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBubyBjaGFuZ2VzIHRvIGJlIGFwcGxpZWRcbiAgICAgICAgcmV0dXJuIHBhcnRpY2lwYW50O1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQWRkcyBhbiBvcnBoYW5lZCB0cmFjayB0byB0aGUgY2FsbCBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBvcnBoYW5lZFRyYWNrIHRoZSBvcnBoYW5lZCB0cmFjayB0byBhZGQuXG4gICAqL1xuICByZWdpc3Rlck9ycGhhbmVkVHJhY2sgPSAob3JwaGFuZWRUcmFjazogT3JwaGFuZWRUcmFjaykgPT4ge1xuICAgIHRoaXMub3JwaGFuZWRUcmFja3MucHVzaChvcnBoYW5lZFRyYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBvcnBoYW5lZCB0cmFjayBmcm9tIHRoZSBjYWxsIHN0YXRlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGlkIHRoZSBJRCBvZiB0aGUgb3JwaGFuZWQgdHJhY2sgdG8gcmVtb3ZlLlxuICAgKi9cbiAgcmVtb3ZlT3JwaGFuZWRUcmFjayA9IChpZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5vcnBoYW5lZFRyYWNrcyA9IHRoaXMub3JwaGFuZWRUcmFja3MuZmlsdGVyKChvKSA9PiBvLmlkICE9PSBpZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRha2VzIGFsbCBvcnBoYW5lZCB0cmFja3Mgd2l0aCB0aGUgZ2l2ZW4gdHJhY2sgbG9va3VwIHByZWZpeC5cbiAgICogQWxsIG9ycGhhbmVkIHRyYWNrcyB3aXRoIHRoZSBnaXZlbiB0cmFjayBsb29rdXAgcHJlZml4IGFyZSByZW1vdmVkIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tMb29rdXBQcmVmaXggdGhlIHRyYWNrIGxvb2t1cCBwcmVmaXggdG8gbWF0Y2ggdGhlIG9ycGhhbmVkIHRyYWNrcyBieS5cbiAgICovXG4gIHRha2VPcnBoYW5lZFRyYWNrcyA9ICh0cmFja0xvb2t1cFByZWZpeDogc3RyaW5nKTogT3JwaGFuZWRUcmFja1tdID0+IHtcbiAgICBjb25zdCBvcnBoYW5zID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoXG4gICAgICAob3JwaGFuKSA9PiBvcnBoYW4udHJhY2tMb29rdXBQcmVmaXggPT09IHRyYWNrTG9va3VwUHJlZml4LFxuICAgICk7XG4gICAgaWYgKG9ycGhhbnMubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy5vcnBoYW5lZFRyYWNrcyA9IHRoaXMub3JwaGFuZWRUcmFja3MuZmlsdGVyKFxuICAgICAgICAob3JwaGFuKSA9PiBvcnBoYW4udHJhY2tMb29rdXBQcmVmaXggIT09IHRyYWNrTG9va3VwUHJlZml4LFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG9ycGhhbnM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAqL1xuICB1cGRhdGVGcm9tQ2FsbFJlc3BvbnNlID0gKGNhbGw6IENhbGxSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmFja3N0YWdlU3ViamVjdCwgY2FsbC5iYWNrc3RhZ2UpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBjYWxsLmJsb2NrZWRfdXNlcl9pZHMpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEF0U3ViamVjdCwgbmV3IERhdGUoY2FsbC5jcmVhdGVkX2F0KSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy51cGRhdGVkQXRTdWJqZWN0LCBuZXcgRGF0ZShjYWxsLnVwZGF0ZWRfYXQpKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMuc3RhcnRzQXRTdWJqZWN0LFxuICAgICAgY2FsbC5zdGFydHNfYXQgPyBuZXcgRGF0ZShjYWxsLnN0YXJ0c19hdCkgOiB1bmRlZmluZWQsXG4gICAgKTtcbiAgICB0aGlzLnNldEVuZGVkQXQoY2FsbC5lbmRlZF9hdCA/IG5ldyBEYXRlKGNhbGwuZW5kZWRfYXQpIDogdW5kZWZpbmVkKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeVN1YmplY3QsIGNhbGwuY3JlYXRlZF9ieSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b21TdWJqZWN0LCBjYWxsLmN1c3RvbSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3NTdWJqZWN0LCBjYWxsLmVncmVzcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzU3ViamVjdCwgY2FsbC5pbmdyZXNzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGNhbGwucmVjb3JkaW5nKTtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgY2FsbC5zZXNzaW9uKTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgY2FsbC5zZXR0aW5ncyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBjYWxsLnRyYW5zY3JpYmluZyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50aHVtYm5haWxzU3ViamVjdCwgY2FsbC50aHVtYm5haWxzKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFN0YXRlIHRoZSBjYWxsIHN0YXRlIGZyb20gdGhlIFNGVSBzZXJ2ZXIuXG4gICAqIEBwYXJhbSBjdXJyZW50U2Vzc2lvbklkIHRoZSBzZXNzaW9uIElEIG9mIHRoZSBjdXJyZW50IHVzZXIuXG4gICAqIEBwYXJhbSByZWNvbm5lY3REZXRhaWxzIG9wdGlvbmFsIHJlY29ubmVjdCBkZXRhaWxzLlxuICAgKi9cbiAgdXBkYXRlRnJvbVNmdUNhbGxTdGF0ZSA9IChcbiAgICBjYWxsU3RhdGU6IFNmdUNhbGxTdGF0ZSxcbiAgICBjdXJyZW50U2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgcmVjb25uZWN0RGV0YWlscz86IFJlY29ubmVjdERldGFpbHMsXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudENvdW50LCBzdGFydGVkQXQsIHBpbnMgfSA9IGNhbGxTdGF0ZTtcbiAgICBjb25zdCBsb2NhbFB1Ymxpc2hlZFRyYWNrcyA9XG4gICAgICByZWNvbm5lY3REZXRhaWxzPy5hbm5vdW5jZWRUcmFja3MubWFwKCh0KSA9PiB0LnRyYWNrVHlwZSkgPz8gW107XG4gICAgdGhpcy5zZXRQYXJ0aWNpcGFudHMoKCkgPT4ge1xuICAgICAgY29uc3QgcGFydGljaXBhbnRMb29rdXAgPSB0aGlzLmdldFBhcnRpY2lwYW50TG9va3VwQnlTZXNzaW9uSWQoKTtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KChwKSA9PiB7XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcHJlc2VydmUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAvLyAoZS5nLiB2aWRlb0RpbWVuc2lvbiwgdmlzaWJpbGl0eVN0YXRlLCBwaW5uZWRBdCwgZXRjLilcbiAgICAgICAgLy8gYXMgaXQgZG9lc24ndCBleGlzdCBvbiB0aGUgc2VydmVyLlxuICAgICAgICBjb25zdCBleGlzdGluZ1BhcnRpY2lwYW50ID0gcGFydGljaXBhbnRMb29rdXBbcC5zZXNzaW9uSWRdO1xuICAgICAgICBjb25zdCBpc0xvY2FsUGFydGljaXBhbnQgPSBwLnNlc3Npb25JZCA9PT0gY3VycmVudFNlc3Npb25JZDtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGV4aXN0aW5nUGFydGljaXBhbnQsIHAsIHtcbiAgICAgICAgICBpc0xvY2FsUGFydGljaXBhbnQsXG4gICAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBpc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gbG9jYWxQdWJsaXNoZWRUcmFja3NcbiAgICAgICAgICAgIDogcC5wdWJsaXNoZWRUcmFja3MsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6XG4gICAgICAgICAgICBleGlzdGluZ1BhcnRpY2lwYW50Py52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/PyB7XG4gICAgICAgICAgICAgIHZpZGVvVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0gc2F0aXNmaWVzIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudD8udG90YWwgfHwgMCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQ/LmFub255bW91cyB8fCAwKTtcbiAgICB0aGlzLnNldFN0YXJ0ZWRBdChzdGFydGVkQXQgPyBUaW1lc3RhbXAudG9EYXRlKHN0YXJ0ZWRBdCkgOiBuZXcgRGF0ZSgpKTtcbiAgICB0aGlzLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlclJlbW92ZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJSZW1vdmVkRXZlbnQpID0+IHtcbiAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZXZlbnQuY2FsbCk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzU3ViamVjdCwgKG1lbWJlcnMpID0+XG4gICAgICBtZW1iZXJzLmZpbHRlcigobSkgPT4gZXZlbnQubWVtYmVycy5pbmRleE9mKG0udXNlcl9pZCkgPT09IC0xKSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbU1lbWJlckFkZGVkID0gKGV2ZW50OiBDYWxsTWVtYmVyQWRkZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT4gW1xuICAgICAgLi4ubWVtYmVycyxcbiAgICAgIC4uLmV2ZW50Lm1lbWJlcnMsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiBmYWxzZSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgIH0pKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdGFydGVkID0gKFxuICAgIGV2ZW50OiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50LFxuICApID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVncmVzc1N1YmplY3QsIChlZ3Jlc3MgPSBkZWZhdWx0RWdyZXNzKSA9PiAoe1xuICAgICAgLi4uZWdyZXNzLFxuICAgICAgYnJvYWRjYXN0aW5nOiB0cnVlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMsXG4gICAgICAgIHBsYXlsaXN0X3VybDogZXZlbnQuaGxzX3BsYXlsaXN0X3VybCxcbiAgICAgIH0sXG4gICAgfSkpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uID0gKFxuICAgIHNlc3Npb246IENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQsXG4gICkgPT4ge1xuICAgIC8vIHdoZW4gaW4gSk9JTkVEIHN0YXRlLCB3ZSBzaG91bGQgdXNlIHRoZSBwYXJ0aWNpcGFudCBjb3VudCBjb21pbmcgdGhyb3VnaFxuICAgIC8vIHRoZSBTRlUgaGVhbHRoY2hlY2sgZXZlbnQsIGFzIGl0J3MgbW9yZSBhY2N1cmF0ZS5cbiAgICBpZiAoIXNlc3Npb24gfHwgdGhpcy5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHJldHVybjtcbiAgICBjb25zdCBieVJvbGVDb3VudCA9IE9iamVjdC52YWx1ZXMoXG4gICAgICBzZXNzaW9uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICkucmVkdWNlKCh0b3RhbCwgY291bnRCeVJvbGUpID0+IHRvdGFsICsgY291bnRCeVJvbGUsIDApO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSBNYXRoLm1heChieVJvbGVDb3VudCwgc2Vzc2lvbi5wYXJ0aWNpcGFudHMubGVuZ3RoKTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudCk7XG4gICAgdGhpcy5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHNlc3Npb24uYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50IHx8IDApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudENvdW50VXBkYXRlID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQ6IGV2ZW50LmFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IGV2ZW50LnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0ID0gKFxuICAgIGV2ZW50OiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50cy5maWx0ZXIoXG4gICAgICAgICAgKHApID0+IHAudXNlcl9zZXNzaW9uX2lkICE9PSB1c2VyX3Nlc3Npb25faWQsXG4gICAgICAgICksXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IE1hdGgubWF4KFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApIC0gMSxcbiAgICAgICAgICApLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudCxcbiAgKSA9PiB7XG4gICAgY29uc3QgcyA9IHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvblN1YmplY3QsIChzZXNzaW9uKSA9PiB7XG4gICAgICBpZiAoIXNlc3Npb24pIHJldHVybiBzZXNzaW9uO1xuICAgICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlIH0gPSBzZXNzaW9uO1xuICAgICAgY29uc3QgeyB1c2VyLCB1c2VyX3Nlc3Npb25faWQgfSA9IGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgLy8gSXQgY291bGQgaGFwcGVuIHRoYXQgdGhlIGJhY2tlbmQgZGVsaXZlcnMgdGhlIHNhbWUgcGFydGljaXBhbnQgbW9yZSB0aGFuIG9uY2UuXG4gICAgICAvLyBPbmNlIHdpdGggdGhlIGNhbGwuc2Vzc2lvbl9zdGFydGVkIGV2ZW50IGFuZCBvbmNlIGFnYWluIHdpdGggdGhlXG4gICAgICAvLyBjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkIGV2ZW50LiBJbiB0aGlzIGNhc2UsXG4gICAgICAvLyB3ZSBzaG91bGQgdXBkYXRlIHRoZSBleGlzdGluZyBwYXJ0aWNpcGFudCBhbmQgcHJldmVudCBkdXBsaWNhdGluZyBpdC5cbiAgICAgIGxldCBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA9IHRydWU7XG4gICAgICBjb25zdCB1cGRhdGVkUGFydGljaXBhbnRzID0gcGFydGljaXBhbnRzLm1hcCgocCkgPT4ge1xuICAgICAgICBpZiAocC51c2VyX3Nlc3Npb25faWQgPT09IHVzZXJfc2Vzc2lvbl9pZCkge1xuICAgICAgICAgIHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnBhcnRpY2lwYW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSk7XG4gICAgICBpZiAoc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQpIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIG5ldyBhcnJheSwgd2UgY2FuIHNhZmVseSBwdXNoIHRoZSBuZXcgcGFydGljaXBhbnRcbiAgICAgICAgdXBkYXRlZFBhcnRpY2lwYW50cy5wdXNoKGV2ZW50LnBhcnRpY2lwYW50KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgYXJlIHVwZGF0aW5nIGFuIGV4aXN0aW5nIHBhcnRpY2lwYW50LCB3ZSBkb24ndCB3YW50IHRvIGluY3JlbWVudFxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50X2J5X3JvbGUgY291bnQuXG4gICAgICBjb25zdCBpbmNyZW1lbnQgPSBzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2Vzc2lvbixcbiAgICAgICAgcGFydGljaXBhbnRzOiB1cGRhdGVkUGFydGljaXBhbnRzLFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZToge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlLFxuICAgICAgICAgIFt1c2VyLnJvbGVdOiAocGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGVbdXNlci5yb2xlXSB8fCAwKSArIGluY3JlbWVudCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24ocyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVNZW1iZXJzID0gKFxuICAgIGV2ZW50OiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHwgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnQsXG4gICkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMubWFwKChtZW1iZXIpID0+IHtcbiAgICAgICAgY29uc3QgbWVtYmVyVXBkYXRlID0gZXZlbnQubWVtYmVycy5maW5kKFxuICAgICAgICAgIChtKSA9PiBtLnVzZXJfaWQgPT09IG1lbWJlci51c2VyX2lkLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbWVtYmVyVXBkYXRlID8gbWVtYmVyVXBkYXRlIDogbWVtYmVyO1xuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZVBhcnRpY2lwYW50UmVhY3Rpb24gPSAoZXZlbnQ6IENhbGxSZWFjdGlvbkV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyB1c2VyLCBjdXN0b20sIHR5cGUsIGVtb2ppX2NvZGUgfSA9IGV2ZW50LnJlYWN0aW9uO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIHJldHVybiBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIC8vIHNraXAgaWYgdGhlIHJlYWN0aW9uIGlzIG5vdCBmb3IgdGhpcyBwYXJ0aWNpcGFudFxuICAgICAgICBpZiAocC51c2VySWQgIT09IHVzZXIuaWQpIHJldHVybiBwO1xuICAgICAgICAvLyB1cGRhdGUgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIG5ldyByZWFjdGlvblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnAsXG4gICAgICAgICAgcmVhY3Rpb246IHtcbiAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICBlbW9qaV9jb2RlLFxuICAgICAgICAgICAgY3VzdG9tLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIHVuYmxvY2tVc2VyID0gKGV2ZW50OiBVbmJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IHtcbiAgICAgIGlmICghY3VycmVudCkgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICByZXR1cm4gY3VycmVudC5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gZXZlbnQudXNlci5pZCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBibG9ja1VzZXIgPSAoZXZlbnQ6IEJsb2NrZWRVc2VyRXZlbnQpID0+IHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmJsb2NrZWRVc2VySWRzU3ViamVjdCwgKGN1cnJlbnQpID0+IFtcbiAgICAgIC4uLihjdXJyZW50IHx8IFtdKSxcbiAgICAgIGV2ZW50LnVzZXIuaWQsXG4gICAgXSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVPd25DYXBhYmlsaXRpZXMgPSAoZXZlbnQ6IFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC51c2VyLmlkID09PSB0aGlzLmxvY2FsUGFydGljaXBhbnQ/LnVzZXJJZCkge1xuICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBldmVudC5vd25fY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgKiBhcyBTRFAgZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5cbnR5cGUgTWVkaWEgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIG1lZGlhV2l0aFBvcnRzOiBzdHJpbmc7XG4gIGNvZGVjT3JkZXI6IHN0cmluZztcbn07XG5cbnR5cGUgUnRwTWFwID0ge1xuICBvcmlnaW5hbDogc3RyaW5nO1xuICBwYXlsb2FkOiBzdHJpbmc7XG4gIGNvZGVjOiBzdHJpbmc7XG59O1xuXG50eXBlIEZtdHAgPSB7XG4gIG9yaWdpbmFsOiBzdHJpbmc7XG4gIHBheWxvYWQ6IHN0cmluZztcbiAgY29uZmlnOiBzdHJpbmc7XG59O1xuXG5jb25zdCBnZXRSdHBNYXAgPSAobGluZTogc3RyaW5nKTogUnRwTWFwIHwgdW5kZWZpbmVkID0+IHtcbiAgLy8gRXhhbXBsZTogYT1ydHBtYXA6MTEwIG9wdXMvNDgwMDAvMlxuICBjb25zdCBydHBSZWdleCA9IC9eYT1ydHBtYXA6KFxcZCopIChbXFx3XFwtLl0qKSg/OlxccypcXC8oXFxkKikoPzpcXHMqXFwvKFxcUyopKT8pPy87XG4gIC8vIFRoZSBmaXJzdCBjYXB0dXJlZCBncm91cCBpcyB0aGUgcGF5bG9hZCB0eXBlIG51bWJlciwgdGhlIHNlY29uZCBjYXB0dXJlZCBncm91cCBpcyB0aGUgZW5jb2RpbmcgbmFtZSwgdGhlIHRoaXJkIGNhcHR1cmVkIGdyb3VwIGlzIHRoZSBjbG9jayByYXRlLCBhbmQgdGhlIGZvdXJ0aCBjYXB0dXJlZCBncm91cCBpcyBhbnkgYWRkaXRpb25hbCBwYXJhbWV0ZXJzLlxuICBjb25zdCBydHBNYXRjaCA9IHJ0cFJlZ2V4LmV4ZWMobGluZSk7XG4gIGlmIChydHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogcnRwTWF0Y2hbMF0sXG4gICAgICBwYXlsb2FkOiBydHBNYXRjaFsxXSxcbiAgICAgIGNvZGVjOiBydHBNYXRjaFsyXSxcbiAgICB9O1xuICB9XG59O1xuXG5jb25zdCBnZXRGbXRwID0gKGxpbmU6IHN0cmluZyk6IEZtdHAgfCB1bmRlZmluZWQgPT4ge1xuICAvLyBFeGFtcGxlOiBhPWZtdHA6MTExIG1pbnB0aW1lPTEwOyB1c2VpbmJhbmRmZWM9MVxuICBjb25zdCBmbXRwUmVnZXggPSAvXmE9Zm10cDooXFxkKikgKC4qKS87XG4gIGNvbnN0IGZtdHBNYXRjaCA9IGZtdHBSZWdleC5leGVjKGxpbmUpO1xuICAvLyBUaGUgZmlyc3QgY2FwdHVyZWQgZ3JvdXAgaXMgdGhlIHBheWxvYWQgdHlwZSBudW1iZXIsIHRoZSBzZWNvbmQgY2FwdHVyZWQgZ3JvdXAgaXMgYW55IGFkZGl0aW9uYWwgcGFyYW1ldGVycy5cbiAgaWYgKGZtdHBNYXRjaCkge1xuICAgIHJldHVybiB7XG4gICAgICBvcmlnaW5hbDogZm10cE1hdGNoWzBdLFxuICAgICAgcGF5bG9hZDogZm10cE1hdGNoWzFdLFxuICAgICAgY29uZmlnOiBmbXRwTWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXRzIHRoZSBtZWRpYSBzZWN0aW9uIGZvciB0aGUgc3BlY2lmaWVkIG1lZGlhIHR5cGUuXG4gKiBUaGUgbWVkaWEgc2VjdGlvbiBjb250YWlucyB0aGUgbWVkaWEgdHlwZSwgcG9ydCwgY29kZWMsIGFuZCBwYXlsb2FkIHR5cGUuXG4gKiBFeGFtcGxlOiBtPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMTAwIDEwMSA5NiA5NyAzNSAzNiAxMDIgMTI1IDEyN1xuICovXG5jb25zdCBnZXRNZWRpYSA9IChsaW5lOiBzdHJpbmcsIG1lZGlhVHlwZTogc3RyaW5nKTogTWVkaWEgfCB1bmRlZmluZWQgPT4ge1xuICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYChtPSR7bWVkaWFUeXBlfSBcXFxcZCsgW1xcXFx3L10rKSAoW1xcXFxkXFxcXHNdKylgKTtcbiAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKGxpbmUpO1xuICBpZiAobWF0Y2gpIHtcbiAgICByZXR1cm4ge1xuICAgICAgb3JpZ2luYWw6IG1hdGNoWzBdLFxuICAgICAgbWVkaWFXaXRoUG9ydHM6IG1hdGNoWzFdLFxuICAgICAgY29kZWNPcmRlcjogbWF0Y2hbMl0sXG4gICAgfTtcbiAgfVxufTtcblxuY29uc3QgZ2V0TWVkaWFTZWN0aW9uID0gKHNkcDogc3RyaW5nLCBtZWRpYVR5cGU6ICd2aWRlbycgfCAnYXVkaW8nKSA9PiB7XG4gIGxldCBtZWRpYTogTWVkaWEgfCB1bmRlZmluZWQ7XG4gIGNvbnN0IHJ0cE1hcDogUnRwTWFwW10gPSBbXTtcbiAgY29uc3QgZm10cDogRm10cFtdID0gW107XG4gIGxldCBpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uID0gZmFsc2U7XG4gIHNkcC5zcGxpdCgvKFxcclxcbnxcXHJ8XFxuKS8pLmZvckVhY2goKGxpbmUpID0+IHtcbiAgICBjb25zdCBpc1ZhbGlkTGluZSA9IC9eKFthLXpdKT0oLiopLy50ZXN0KGxpbmUpO1xuICAgIGlmICghaXNWYWxpZExpbmUpIHJldHVybjtcbiAgICAvKlxuICAgICAgTk9URTogYWNjb3JkaW5nIHRvIGh0dHBzOi8vd3d3LnJmYy1lZGl0b3Iub3JnL3JmYy9yZmM4ODY2LnBkZlxuICAgICAgRWFjaCBtZWRpYSBkZXNjcmlwdGlvbiBzdGFydHMgd2l0aCBhbiBcIm09XCIgbGluZSBhbmQgY29udGludWVzIHRvIHRoZSBuZXh0IG1lZGlhIGRlc2NyaXB0aW9uIG9yIHRoZSBlbmQgb2YgdGhlIHdob2xlIHNlc3Npb24gZGVzY3JpcHRpb24sIHdoaWNoZXZlciBjb21lcyBmaXJzdFxuICAgICovXG4gICAgY29uc3QgdHlwZSA9IGxpbmVbMF07XG4gICAgaWYgKHR5cGUgPT09ICdtJykge1xuICAgICAgY29uc3QgX21lZGlhID0gZ2V0TWVkaWEobGluZSwgbWVkaWFUeXBlKTtcbiAgICAgIGlzVGhlUmVxdWlyZWRNZWRpYVNlY3Rpb24gPSAhIV9tZWRpYTtcbiAgICAgIGlmIChfbWVkaWEpIHtcbiAgICAgICAgbWVkaWEgPSBfbWVkaWE7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1RoZVJlcXVpcmVkTWVkaWFTZWN0aW9uICYmIHR5cGUgPT09ICdhJykge1xuICAgICAgY29uc3QgcnRwTWFwTGluZSA9IGdldFJ0cE1hcChsaW5lKTtcbiAgICAgIGNvbnN0IGZtdHBMaW5lID0gZ2V0Rm10cChsaW5lKTtcbiAgICAgIGlmIChydHBNYXBMaW5lKSB7XG4gICAgICAgIHJ0cE1hcC5wdXNoKHJ0cE1hcExpbmUpO1xuICAgICAgfSBlbHNlIGlmIChmbXRwTGluZSkge1xuICAgICAgICBmbXRwLnB1c2goZm10cExpbmUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIGlmIChtZWRpYSkge1xuICAgIHJldHVybiB7XG4gICAgICBtZWRpYSxcbiAgICAgIHJ0cE1hcCxcbiAgICAgIGZtdHAsXG4gICAgfTtcbiAgfVxufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBmbXRwIGxpbmUgY29ycmVzcG9uZGluZyB0byBvcHVzXG4gKi9cbmNvbnN0IGdldE9wdXNGbXRwID0gKHNkcDogc3RyaW5nKTogRm10cCB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IHNlY3Rpb24gPSBnZXRNZWRpYVNlY3Rpb24oc2RwLCAnYXVkaW8nKTtcbiAgY29uc3QgcnRwTWFwID0gc2VjdGlvbj8ucnRwTWFwLmZpbmQoKHIpID0+IHIuY29kZWMudG9Mb3dlckNhc2UoKSA9PT0gJ29wdXMnKTtcbiAgY29uc3QgY29kZWNJZCA9IHJ0cE1hcD8ucGF5bG9hZDtcbiAgaWYgKGNvZGVjSWQpIHtcbiAgICByZXR1cm4gc2VjdGlvbj8uZm10cC5maW5kKChmKSA9PiBmLnBheWxvYWQgPT09IGNvZGVjSWQpO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gU0RQIHdpdGggRFRYIGVuYWJsZWQgb3IgZGlzYWJsZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB0b2dnbGVEdHggPSAoc2RwOiBzdHJpbmcsIGVuYWJsZTogYm9vbGVhbik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IG9wdXNGbXRwID0gZ2V0T3B1c0ZtdHAoc2RwKTtcbiAgaWYgKG9wdXNGbXRwKSB7XG4gICAgY29uc3QgbWF0Y2hEdHggPSAvdXNlZHR4PShcXGQpLy5leGVjKG9wdXNGbXRwLmNvbmZpZyk7XG4gICAgY29uc3QgcmVxdWlyZWREdHhDb25maWcgPSBgdXNlZHR4PSR7ZW5hYmxlID8gJzEnIDogJzAnfWA7XG4gICAgaWYgKG1hdGNoRHR4KSB7XG4gICAgICBjb25zdCBuZXdGbXRwID0gb3B1c0ZtdHAub3JpZ2luYWwucmVwbGFjZShcbiAgICAgICAgL3VzZWR0eD0oXFxkKS8sXG4gICAgICAgIHJlcXVpcmVkRHR4Q29uZmlnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiBzZHAucmVwbGFjZShvcHVzRm10cC5vcmlnaW5hbCwgbmV3Rm10cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IG5ld0ZtdHAgPSBgJHtvcHVzRm10cC5vcmlnaW5hbH07JHtyZXF1aXJlZER0eENvbmZpZ31gO1xuICAgICAgcmV0dXJuIHNkcC5yZXBsYWNlKG9wdXNGbXRwLm9yaWdpbmFsLCBuZXdGbXRwKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8qKlxuICogRW5hYmxlcyBoaWdoLXF1YWxpdHkgYXVkaW8gdGhyb3VnaCBTRFAgbXVuZ2luZyBmb3IgdGhlIGdpdmVuIHRyYWNrTWlkLlxuICpcbiAqIEBwYXJhbSBzZHAgdGhlIFNEUCB0byBtdW5nZS5cbiAqIEBwYXJhbSB0cmFja01pZCB0aGUgdHJhY2tNaWQuXG4gKiBAcGFyYW0gbWF4Qml0cmF0ZSB0aGUgbWF4IGJpdHJhdGUgdG8gc2V0LlxuICovXG5leHBvcnQgY29uc3QgZW5hYmxlSGlnaFF1YWxpdHlBdWRpbyA9IChcbiAgc2RwOiBzdHJpbmcsXG4gIHRyYWNrTWlkOiBzdHJpbmcsXG4gIG1heEJpdHJhdGU6IG51bWJlciA9IDUxMDAwMCxcbik6IHN0cmluZyA9PiB7XG4gIG1heEJpdHJhdGUgPSBNYXRoLm1heChNYXRoLm1pbihtYXhCaXRyYXRlLCA1MTAwMDApLCA5NjAwMCk7XG5cbiAgY29uc3QgcGFyc2VkU2RwID0gU0RQLnBhcnNlKHNkcCk7XG4gIGNvbnN0IGF1ZGlvTWVkaWEgPSBwYXJzZWRTZHAubWVkaWEuZmluZChcbiAgICAobSkgPT4gbS50eXBlID09PSAnYXVkaW8nICYmIFN0cmluZyhtLm1pZCkgPT09IHRyYWNrTWlkLFxuICApO1xuXG4gIGlmICghYXVkaW9NZWRpYSkgcmV0dXJuIHNkcDtcblxuICBjb25zdCBvcHVzUnRwID0gYXVkaW9NZWRpYS5ydHAuZmluZCgocikgPT4gci5jb2RlYyA9PT0gJ29wdXMnKTtcbiAgaWYgKCFvcHVzUnRwKSByZXR1cm4gc2RwO1xuXG4gIGNvbnN0IG9wdXNGbXRwID0gYXVkaW9NZWRpYS5mbXRwLmZpbmQoKGYpID0+IGYucGF5bG9hZCA9PT0gb3B1c1J0cC5wYXlsb2FkKTtcbiAgaWYgKCFvcHVzRm10cCkgcmV0dXJuIHNkcDtcblxuICAvLyBlbmFibGUgc3RlcmVvLCBpZiBub3QgYWxyZWFkeSBlbmFibGVkXG4gIGlmIChvcHVzRm10cC5jb25maWcubWF0Y2goL3N0ZXJlbz0oXFxkKS8pKSB7XG4gICAgb3B1c0ZtdHAuY29uZmlnID0gb3B1c0ZtdHAuY29uZmlnLnJlcGxhY2UoL3N0ZXJlbz0oXFxkKS8sICdzdGVyZW89MScpO1xuICB9IGVsc2Uge1xuICAgIG9wdXNGbXRwLmNvbmZpZyA9IGAke29wdXNGbXRwLmNvbmZpZ307c3RlcmVvPTFgO1xuICB9XG5cbiAgLy8gc2V0IG1heGF2ZXJhZ2ViaXRyYXRlLCB0byB0aGUgZ2l2ZW4gdmFsdWVcbiAgaWYgKG9wdXNGbXRwLmNvbmZpZy5tYXRjaCgvbWF4YXZlcmFnZWJpdHJhdGU9KFxcZCopLykpIHtcbiAgICBvcHVzRm10cC5jb25maWcgPSBvcHVzRm10cC5jb25maWcucmVwbGFjZShcbiAgICAgIC9tYXhhdmVyYWdlYml0cmF0ZT0oXFxkKikvLFxuICAgICAgYG1heGF2ZXJhZ2ViaXRyYXRlPSR7bWF4Qml0cmF0ZX1gLFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgb3B1c0ZtdHAuY29uZmlnID0gYCR7b3B1c0ZtdHAuY29uZmlnfTttYXhhdmVyYWdlYml0cmF0ZT0ke21heEJpdHJhdGV9YDtcbiAgfVxuXG4gIHJldHVybiBTRFAud3JpdGUocGFyc2VkU2RwKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBTRFAgZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5pbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHtcbiAgUGVlclR5cGUsXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBWaWRlb0xheWVyLFxuICBWaWRlb1F1YWxpdHksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRJY2VDYW5kaWRhdGUgfSBmcm9tICcuL2hlbHBlcnMvaWNlQ2FuZGlkYXRlJztcbmltcG9ydCB7XG4gIGZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyxcbiAgZmluZE9wdGltYWxWaWRlb0xheWVycyxcbiAgT3B0aW1hbFZpZGVvTGF5ZXIsXG59IGZyb20gJy4vdmlkZW9MYXllcnMnO1xuaW1wb3J0IHsgZ2V0UHJlZmVycmVkQ29kZWNzLCBnZXRSTk9wdGltYWxDb2RlYyB9IGZyb20gJy4vY29kZWNzJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSwgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgZW5hYmxlSGlnaFF1YWxpdHlBdWRpbywgdG9nZ2xlRHR4IH0gZnJvbSAnLi4vaGVscGVycy9zZHAtbXVuZ2luZyc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcbmltcG9ydCB7IFZpZGVvTGF5ZXJTZXR0aW5nIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL3NoaW1zJztcblxuZXhwb3J0IHR5cGUgUHVibGlzaGVyQ29uc3RydWN0b3JPcHRzID0ge1xuICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb247XG4gIGlzRHR4RW5hYmxlZDogYm9vbGVhbjtcbiAgaXNSZWRFbmFibGVkOiBib29sZWFuO1xuICBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG4gIGxvZ1RhZzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgYFB1Ymxpc2hlcmAgaXMgcmVzcG9uc2libGUgZm9yIHB1Ymxpc2hpbmcvdW5wdWJsaXNoaW5nIG1lZGlhIHN0cmVhbXMgdG8vZnJvbSB0aGUgU0ZVXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQdWJsaXNoZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcml2YXRlIHBjOiBSVENQZWVyQ29ubmVjdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBzdGF0ZTogQ2FsbFN0YXRlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhbnNjZWl2ZXJSZWdpc3RyeToge1xuICAgIFtrZXkgaW4gVHJhY2tUeXBlXTogUlRDUnRwVHJhbnNjZWl2ZXIgfCB1bmRlZmluZWQ7XG4gIH0gPSB7XG4gICAgW1RyYWNrVHlwZS5BVURJT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlZJREVPXTogdW5kZWZpbmVkLFxuICAgIFtUcmFja1R5cGUuU0NSRUVOX1NIQVJFXTogdW5kZWZpbmVkLFxuICAgIFtUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPXTogdW5kZWZpbmVkLFxuICAgIFtUcmFja1R5cGUuVU5TUEVDSUZJRURdOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoT3B0aW9uc1BlclRyYWNrVHlwZSA9IG5ldyBNYXA8XG4gICAgVHJhY2tUeXBlLFxuICAgIFB1Ymxpc2hPcHRpb25zXG4gID4oKTtcblxuICAvKipcbiAgICogQW4gYXJyYXkgbWFpbnRhaW5pbmcgdGhlIG9yZGVyIGhvdyB0cmFuc2NlaXZlcnMgd2VyZSBhZGRlZCB0byB0aGUgcGVlciBjb25uZWN0aW9uLlxuICAgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgKEZpcmVmb3gpIGRvbid0IHJlbGlhYmx5IHJlcG9ydFxuICAgKiB0cmFja0lkIGFuZCBgbWlkYCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhbnNjZWl2ZXJJbml0T3JkZXI6IFRyYWNrVHlwZVtdID0gW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja0tpbmRNYXBwaW5nOiB7XG4gICAgW2tleSBpbiBUcmFja1R5cGVdOiAndmlkZW8nIHwgJ2F1ZGlvJyB8IHVuZGVmaW5lZDtcbiAgfSA9IHtcbiAgICBbVHJhY2tUeXBlLkFVRElPXTogJ2F1ZGlvJyxcbiAgICBbVHJhY2tUeXBlLlZJREVPXTogJ3ZpZGVvJyxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV06ICd2aWRlbycsXG4gICAgW1RyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU9dOiAnYXVkaW8nLFxuICAgIFtUcmFja1R5cGUuVU5TUEVDSUZJRURdOiB1bmRlZmluZWQsXG4gIH07XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0cmFja0xheWVyc0NhY2hlOiB7XG4gICAgW2tleSBpbiBUcmFja1R5cGVdOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkO1xuICB9ID0ge1xuICAgIFtUcmFja1R5cGUuQVVESU9dOiB1bmRlZmluZWQsXG4gICAgW1RyYWNrVHlwZS5WSURFT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV06IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJT106IHVuZGVmaW5lZCxcbiAgICBbVHJhY2tUeXBlLlVOU1BFQ0lGSUVEXTogdW5kZWZpbmVkLFxuICB9O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgaXNEdHhFbmFibGVkOiBib29sZWFuO1xuICBwcml2YXRlIHJlYWRvbmx5IGlzUmVkRW5hYmxlZDogYm9vbGVhbjtcblxuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0OiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uVW5yZWNvdmVyYWJsZUVycm9yPzogKCkgPT4gdm9pZDtcblxuICBwcml2YXRlIGlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBUaGUgU0ZVIGNsaWVudCBpbnN0YW5jZSB0byB1c2UgZm9yIHB1Ymxpc2hpbmcgYW5kIHNpZ25hbGluZy5cbiAgICovXG4gIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBQdWJsaXNoZXJgIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gY29ubmVjdGlvbkNvbmZpZyB0aGUgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIHRvIHVzZS5cbiAgICogQHBhcmFtIHNmdUNsaWVudCB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byB1c2UuXG4gICAqIEBwYXJhbSBkaXNwYXRjaGVyIHRoZSBkaXNwYXRjaGVyIHRvIHVzZS5cbiAgICogQHBhcmFtIGlzRHR4RW5hYmxlZCB3aGV0aGVyIERUWCBpcyBlbmFibGVkLlxuICAgKiBAcGFyYW0gaXNSZWRFbmFibGVkIHdoZXRoZXIgUkVEIGlzIGVuYWJsZWQuXG4gICAqIEBwYXJhbSBpY2VSZXN0YXJ0RGVsYXkgdGhlIGRlbGF5IGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSByZXN0YXJ0aW5nIElDRSBvbmNlIGNvbm5lY3Rpb24gZ29lcyB0byBgZGlzY29ubmVjdGVkYCBzdGF0ZS5cbiAgICogQHBhcmFtIG9uVW5yZWNvdmVyYWJsZUVycm9yIGEgY2FsbGJhY2sgdG8gY2FsbCB3aGVuIGFuIHVucmVjb3ZlcmFibGUgZXJyb3Igb2NjdXJzLlxuICAgKiBAcGFyYW0gbG9nVGFnIHRoZSBsb2cgdGFnIHRvIHVzZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgIHNmdUNsaWVudCxcbiAgICBkaXNwYXRjaGVyLFxuICAgIHN0YXRlLFxuICAgIGlzRHR4RW5hYmxlZCxcbiAgICBpc1JlZEVuYWJsZWQsXG4gICAgb25VbnJlY292ZXJhYmxlRXJyb3IsXG4gICAgbG9nVGFnLFxuICB9OiBQdWJsaXNoZXJDb25zdHJ1Y3Rvck9wdHMpIHtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ1B1Ymxpc2hlcicsIGxvZ1RhZ10pO1xuICAgIHRoaXMucGMgPSB0aGlzLmNyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuICAgIHRoaXMuc2Z1Q2xpZW50ID0gc2Z1Q2xpZW50O1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmlzRHR4RW5hYmxlZCA9IGlzRHR4RW5hYmxlZDtcbiAgICB0aGlzLmlzUmVkRW5hYmxlZCA9IGlzUmVkRW5hYmxlZDtcbiAgICB0aGlzLm9uVW5yZWNvdmVyYWJsZUVycm9yID0gb25VbnJlY292ZXJhYmxlRXJyb3I7XG5cbiAgICB0aGlzLnVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0ID0gZGlzcGF0Y2hlci5vbignaWNlUmVzdGFydCcsIChpY2VSZXN0YXJ0KSA9PiB7XG4gICAgICBpZiAoaWNlUmVzdGFydC5wZWVyVHlwZSAhPT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYElDRVJlc3RhcnQgZmFpbGVkYCwgZXJyKTtcbiAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlUGVlckNvbm5lY3Rpb24gPSAoY29ubmVjdGlvbkNvbmZpZz86IFJUQ0NvbmZpZ3VyYXRpb24pID0+IHtcbiAgICBjb25zdCBwYyA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25uZWN0aW9uQ29uZmlnKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCB0aGlzLm9uSWNlQ2FuZGlkYXRlKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCduZWdvdGlhdGlvbm5lZWRlZCcsIHRoaXMub25OZWdvdGlhdGlvbk5lZWRlZCk7XG5cbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGVlcnJvcicsIHRoaXMub25JY2VDYW5kaWRhdGVFcnJvcik7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCB0aGlzLm9uU2lnbmFsaW5nU3RhdGVDaGFuZ2UpO1xuICAgIHJldHVybiBwYztcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBwdWJsaXNoZXIgUGVlckNvbm5lY3Rpb24gYW5kIGNsZWFucyB1cCB0aGUgcmVzb3VyY2VzLlxuICAgKi9cbiAgY2xvc2UgPSAoeyBzdG9wVHJhY2tzIH06IHsgc3RvcFRyYWNrczogYm9vbGVhbiB9KSA9PiB7XG4gICAgaWYgKHN0b3BUcmFja3MpIHtcbiAgICAgIHRoaXMuc3RvcFB1Ymxpc2hpbmcoKTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeSkuZm9yRWFjaCgodHJhY2tUeXBlKSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5W3RyYWNrVHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5rZXlzKHRoaXMudHJhY2tMYXllcnNDYWNoZSkuZm9yRWFjaCgodHJhY2tUeXBlKSA9PiB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdGhpcy50cmFja0xheWVyc0NhY2hlW3RyYWNrVHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLnBjLmNsb3NlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gcmVwbGFjZSB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYFxuICAgKiBpbnN0YW5jZSB3aXRoIGEgbmV3IG9uZSAoaW4gY2FzZSBvZiBtaWdyYXRpb24pLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycyA9ICgpID0+IHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlT25JY2VSZXN0YXJ0KCk7XG5cbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIHRoaXMub25JY2VDYW5kaWRhdGUpO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbmVnb3RpYXRpb25uZWVkZWQnLCB0aGlzLm9uTmVnb3RpYXRpb25OZWVkZWQpO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlZXJyb3InLCB0aGlzLm9uSWNlQ2FuZGlkYXRlRXJyb3IpO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlR2F0aGVyaW5nU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vblNpZ25hbGluZ1N0YXRlQ2hhbmdlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB0cmFjayBvZiB0aGUgZ2l2ZW4gbWVkaWEgc3RyZWFtLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIHN0cmVhbS5cbiAgICogVGhlIHByZXZpb3VzIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSBtZWRpYVN0cmVhbSB0aGUgbWVkaWEgc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSB0cmFjayB0aGUgdHJhY2sgdG8gcHVibGlzaC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdHJhY2sgdHlwZSB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gb3B0cyB0aGUgb3B0aW9uYWwgcHVibGlzaCBvcHRpb25zIHRvIHVzZS5cbiAgICovXG4gIHB1Ymxpc2hTdHJlYW0gPSBhc3luYyAoXG4gICAgbWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLFxuICAgIHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICAgIG9wdHM6IFB1Ymxpc2hPcHRpb25zID0ge30sXG4gICkgPT4ge1xuICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09PSAnZW5kZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHB1Ymxpc2ggYSB0cmFjayB0aGF0IGhhcyBlbmRlZCBhbHJlYWR5LmApO1xuICAgIH1cblxuICAgIGxldCB0cmFuc2NlaXZlciA9IHRoaXMucGNcbiAgICAgIC5nZXRUcmFuc2NlaXZlcnMoKVxuICAgICAgLmZpbmQoXG4gICAgICAgICh0KSA9PlxuICAgICAgICAgIHQgPT09IHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVt0cmFja1R5cGVdICYmXG4gICAgICAgICAgdC5zZW5kZXIudHJhY2sgJiZcbiAgICAgICAgICB0LnNlbmRlci50cmFjaz8ua2luZCA9PT0gdGhpcy50cmFja0tpbmRNYXBwaW5nW3RyYWNrVHlwZV0sXG4gICAgICApO1xuXG4gICAgLyoqXG4gICAgICogQW4gZXZlbnQgaGFuZGxlciB3aGljaCBsaXN0ZW5zIGZvciB0aGUgJ2VuZGVkJyBldmVudCBvbiB0aGUgdHJhY2suXG4gICAgICogT25jZSB0aGUgdHJhY2sgaGFzIGVuZGVkLCBpdCB3aWxsIG5vdGlmeSB0aGUgU0ZVIGFuZCB1cGRhdGUgdGhlIHN0YXRlLlxuICAgICAqL1xuICAgIGNvbnN0IGhhbmRsZVRyYWNrRW5kZWQgPSAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgVHJhY2sgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gaGFzIGVuZGVkIGFicnVwdGx5LCBub3RpZnlpbmcgdGhlIFNGVWAsXG4gICAgICApO1xuICAgICAgLy8gY2xlYW51cCwgdGhpcyBldmVudCBsaXN0ZW5lciBuZWVkcyB0byBydW4gb25seSBvbmNlLlxuICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgIHRoaXMubm90aWZ5VHJhY2tNdXRlU3RhdGVDaGFuZ2VkKG1lZGlhU3RyZWFtLCB0cmFja1R5cGUsIHRydWUpLmNhdGNoKFxuICAgICAgICAoZXJyKSA9PiB0aGlzLmxvZ2dlcignd2FybicsIGBDb3VsZG4ndCBub3RpZnkgdHJhY2sgbXV0ZSBzdGF0ZWAsIGVyciksXG4gICAgICApO1xuICAgIH07XG5cbiAgICBpZiAoIXRyYW5zY2VpdmVyKSB7XG4gICAgICBjb25zdCB7IHNldHRpbmdzIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgY29uc3QgdGFyZ2V0UmVzb2x1dGlvbiA9IHNldHRpbmdzPy52aWRlb1xuICAgICAgICAudGFyZ2V0X3Jlc29sdXRpb24gYXMgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlO1xuICAgICAgY29uc3Qgc2NyZWVuU2hhcmVCaXRyYXRlID1cbiAgICAgICAgc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb24/LmJpdHJhdGU7XG5cbiAgICAgIGNvbnN0IHZpZGVvRW5jb2RpbmdzID1cbiAgICAgICAgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU9cbiAgICAgICAgICA/IGZpbmRPcHRpbWFsVmlkZW9MYXllcnModHJhY2ssIHRhcmdldFJlc29sdXRpb24sIG9wdHMpXG4gICAgICAgICAgOiB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVcbiAgICAgICAgICAgID8gZmluZE9wdGltYWxTY3JlZW5TaGFyaW5nTGF5ZXJzKHRyYWNrLCBvcHRzLCBzY3JlZW5TaGFyZUJpdHJhdGUpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgLy8gbGlzdGVuIGZvciAnZW5kZWQnIGV2ZW50IG9uIHRoZSB0cmFjayBhcyBpdCBtaWdodCBiZSBlbmRlZCBhYnJ1cHRseVxuICAgICAgLy8gYnkgYW4gZXh0ZXJuYWwgZmFjdG9yIGFzIHBlcm1pc3Npb24gcmV2b2tlcywgZGV2aWNlIGRpc2Nvbm5lY3RlZCwgZXRjLlxuICAgICAgLy8ga2VlcCBpbiBtaW5kIHRoYXQgYHRyYWNrLnN0b3AoKWAgZG9lc24ndCB0cmlnZ2VyIHRoaXMgZXZlbnQuXG4gICAgICB0cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpO1xuICAgICAgaWYgKCF0cmFjay5lbmFibGVkKSB7XG4gICAgICAgIHRyYWNrLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0cmFuc2NlaXZlciA9IHRoaXMucGMuYWRkVHJhbnNjZWl2ZXIodHJhY2ssIHtcbiAgICAgICAgZGlyZWN0aW9uOiAnc2VuZG9ubHknLFxuICAgICAgICBzdHJlYW1zOlxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPIHx8IHRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRVxuICAgICAgICAgICAgPyBbbWVkaWFTdHJlYW1dXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VuZEVuY29kaW5nczogdmlkZW9FbmNvZGluZ3MsXG4gICAgICB9KTtcblxuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEFkZGVkICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IHRyYW5zY2VpdmVyYCk7XG4gICAgICB0aGlzLnRyYW5zY2VpdmVySW5pdE9yZGVyLnB1c2godHJhY2tUeXBlKTtcbiAgICAgIHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVt0cmFja1R5cGVdID0gdHJhbnNjZWl2ZXI7XG4gICAgICB0aGlzLnB1Ymxpc2hPcHRpb25zUGVyVHJhY2tUeXBlLnNldCh0cmFja1R5cGUsIG9wdHMpO1xuXG4gICAgICBjb25zdCB7IHByZWZlcnJlZENvZGVjIH0gPSBvcHRzO1xuICAgICAgY29uc3QgY29kZWMgPVxuICAgICAgICBpc1JlYWN0TmF0aXZlKCkgJiYgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8gJiYgIXByZWZlcnJlZENvZGVjXG4gICAgICAgICAgPyBnZXRSTk9wdGltYWxDb2RlYygpXG4gICAgICAgICAgOiBwcmVmZXJyZWRDb2RlYztcblxuICAgICAgY29uc3QgY29kZWNQcmVmZXJlbmNlcyA9XG4gICAgICAgICdzZXRDb2RlY1ByZWZlcmVuY2VzJyBpbiB0cmFuc2NlaXZlclxuICAgICAgICAgID8gdGhpcy5nZXRDb2RlY1ByZWZlcmVuY2VzKHRyYWNrVHlwZSwgY29kZWMpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAoY29kZWNQcmVmZXJlbmNlcykge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgYFNldHRpbmcgJHtUcmFja1R5cGVbdHJhY2tUeXBlXX0gY29kZWMgcHJlZmVyZW5jZXNgLFxuICAgICAgICAgIGNvZGVjUHJlZmVyZW5jZXMsXG4gICAgICAgICk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdHJhbnNjZWl2ZXIuc2V0Q29kZWNQcmVmZXJlbmNlcyhjb2RlY1ByZWZlcmVuY2VzKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ291bGRuJ3Qgc2V0IGNvZGVjIHByZWZlcmVuY2VzYCwgZXJyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmV2aW91c1RyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgLy8gZG9uJ3Qgc3RvcCB0aGUgdHJhY2sgaWYgd2UgYXJlIHJlLXB1Ymxpc2hpbmcgdGhlIHNhbWUgdHJhY2tcbiAgICAgIGlmIChwcmV2aW91c1RyYWNrICYmIHByZXZpb3VzVHJhY2sgIT09IHRyYWNrKSB7XG4gICAgICAgIHByZXZpb3VzVHJhY2suc3RvcCgpO1xuICAgICAgICBwcmV2aW91c1RyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlVHJhY2tFbmRlZCk7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlVHJhY2tFbmRlZCk7XG4gICAgICB9XG4gICAgICBpZiAoIXRyYWNrLmVuYWJsZWQpIHtcbiAgICAgICAgdHJhY2suZW5hYmxlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBhd2FpdCB0cmFuc2NlaXZlci5zZW5kZXIucmVwbGFjZVRyYWNrKHRyYWNrKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZChtZWRpYVN0cmVhbSwgdHJhY2tUeXBlLCBmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIHR5cGUgdG8gdGhlIFNGVSwgaWYgaXQgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZC5cbiAgICogVW5kZXJseWluZyB0cmFjayB3aWxsIGJlIHN0b3BwZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgcHVibGlzaGVyLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIHVucHVibGlzaC5cbiAgICogQHBhcmFtIHN0b3BUcmFjayBzcGVjaWZpZXMgd2hldGhlciB0cmFjayBzaG91bGQgYmUgc3RvcHBlZCBvciBqdXN0IGRpc2FibGVkXG4gICAqL1xuICB1bnB1Ymxpc2hTdHJlYW0gPSBhc3luYyAodHJhY2tUeXBlOiBUcmFja1R5cGUsIHN0b3BUcmFjazogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IHRyYW5zY2VpdmVyID0gdGhpcy5wY1xuICAgICAgLmdldFRyYW5zY2VpdmVycygpXG4gICAgICAuZmluZCgodCkgPT4gdCA9PT0gdGhpcy50cmFuc2NlaXZlclJlZ2lzdHJ5W3RyYWNrVHlwZV0gJiYgdC5zZW5kZXIudHJhY2spO1xuICAgIGlmIChcbiAgICAgIHRyYW5zY2VpdmVyICYmXG4gICAgICB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2sgJiZcbiAgICAgIChzdG9wVHJhY2tcbiAgICAgICAgPyB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnXG4gICAgICAgIDogdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrLmVuYWJsZWQpXG4gICAgKSB7XG4gICAgICBzdG9wVHJhY2tcbiAgICAgICAgPyB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2suc3RvcCgpXG4gICAgICAgIDogKHRyYW5zY2VpdmVyLnNlbmRlci50cmFjay5lbmFibGVkID0gZmFsc2UpO1xuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBub3RpZnkgU0ZVIGlmIHVucHVibGlzaGluZyBpbiByZXNwb25zZSB0byByZW1vdGUgc29mdCBtdXRlXG4gICAgICBpZiAodGhpcy5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKSkge1xuICAgICAgICBhd2FpdCB0aGlzLm5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZCh1bmRlZmluZWQsIHRyYWNrVHlwZSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHRyYWNrIHR5cGUgaXMgY3VycmVudGx5IGJlaW5nIHB1Ymxpc2hlZCB0byB0aGUgU0ZVLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIGNoZWNrLlxuICAgKi9cbiAgaXNQdWJsaXNoaW5nID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlbdHJhY2tUeXBlXTtcbiAgICBpZiAoIXRyYW5zY2VpdmVyIHx8ICF0cmFuc2NlaXZlci5zZW5kZXIpIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICByZXR1cm4gISF0cmFjayAmJiB0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZScgJiYgdHJhY2suZW5hYmxlZDtcbiAgfTtcblxuICBwcml2YXRlIG5vdGlmeVRyYWNrTXV0ZVN0YXRlQ2hhbmdlZCA9IGFzeW5jIChcbiAgICBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4gICAgaXNNdXRlZDogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQudXBkYXRlTXV0ZVN0YXRlKHRyYWNrVHlwZSwgaXNNdXRlZCk7XG5cbiAgICBjb25zdCBhdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtID1cbiAgICAgIHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkodHJhY2tUeXBlKTtcbiAgICBpZiAoIWF1ZGlvT3JWaWRlb09yU2NyZWVuU2hhcmVTdHJlYW0pIHJldHVybjtcbiAgICBpZiAoaXNNdXRlZCkge1xuICAgICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudCh0aGlzLnNmdUNsaWVudC5zZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IHAucHVibGlzaGVkVHJhY2tzLmZpbHRlcigodCkgPT4gdCAhPT0gdHJhY2tUeXBlKSxcbiAgICAgICAgW2F1ZGlvT3JWaWRlb09yU2NyZWVuU2hhcmVTdHJlYW1dOiB1bmRlZmluZWQsXG4gICAgICB9KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQodGhpcy5zZnVDbGllbnQuc2Vzc2lvbklkLCAocCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHB1Ymxpc2hlZFRyYWNrczogcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXModHJhY2tUeXBlKVxuICAgICAgICAgICAgPyBwLnB1Ymxpc2hlZFRyYWNrc1xuICAgICAgICAgICAgOiBbLi4ucC5wdWJsaXNoZWRUcmFja3MsIHRyYWNrVHlwZV0sXG4gICAgICAgICAgW2F1ZGlvT3JWaWRlb09yU2NyZWVuU2hhcmVTdHJlYW1dOiBtZWRpYVN0cmVhbSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgcHVibGlzaGluZyBhbGwgdHJhY2tzIGFuZCBzdG9wIGFsbCB0cmFja3MuXG4gICAqL1xuICBwcml2YXRlIHN0b3BQdWJsaXNoaW5nID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdTdG9wcGluZyBwdWJsaXNoaW5nIGFsbCB0cmFja3MnKTtcbiAgICB0aGlzLnBjLmdldFNlbmRlcnMoKS5mb3JFYWNoKChzKSA9PiB7XG4gICAgICBzLnRyYWNrPy5zdG9wKCk7XG4gICAgICBpZiAodGhpcy5wYy5zaWduYWxpbmdTdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgICAgdGhpcy5wYy5yZW1vdmVUcmFjayhzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICB1cGRhdGVWaWRlb1B1Ymxpc2hRdWFsaXR5ID0gYXN5bmMgKGVuYWJsZWRMYXllcnM6IFZpZGVvTGF5ZXJTZXR0aW5nW10pID0+IHtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICdpbmZvJyxcbiAgICAgICdVcGRhdGUgcHVibGlzaCBxdWFsaXR5LCByZXF1ZXN0ZWQgbGF5ZXJzIGJ5IFNGVTonLFxuICAgICAgZW5hYmxlZExheWVycyxcbiAgICApO1xuXG4gICAgY29uc3QgdmlkZW9TZW5kZXIgPSB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlbVHJhY2tUeXBlLlZJREVPXT8uc2VuZGVyO1xuICAgIGlmICghdmlkZW9TZW5kZXIpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1VwZGF0ZSBwdWJsaXNoIHF1YWxpdHksIG5vIHZpZGVvIHNlbmRlciBmb3VuZC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXMgPSB2aWRlb1NlbmRlci5nZXRQYXJhbWV0ZXJzKCk7XG4gICAgaWYgKHBhcmFtcy5lbmNvZGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgTm8gc3VpdGFibGUgdmlkZW8gZW5jb2RpbmcgcXVhbGl0eSBmb3VuZCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgbGV0IGVuYWJsZWRSaWRzID0gZW5hYmxlZExheWVyc1xuICAgICAgLmZpbHRlcigobHkpID0+IGx5LmFjdGl2ZSlcbiAgICAgIC5tYXAoKGx5KSA9PiBseS5uYW1lKTtcbiAgICBwYXJhbXMuZW5jb2RpbmdzLmZvckVhY2goKGVuYykgPT4ge1xuICAgICAgLy8gZmxpcCAnYWN0aXZlJyBmbGFnIG9ubHkgd2hlbiBuZWNlc3NhcnlcbiAgICAgIGNvbnN0IHNob3VsZEVuYWJsZSA9IGVuYWJsZWRSaWRzLmluY2x1ZGVzKGVuYy5yaWQhKTtcbiAgICAgIGlmIChzaG91bGRFbmFibGUgIT09IGVuYy5hY3RpdmUpIHtcbiAgICAgICAgZW5jLmFjdGl2ZSA9IHNob3VsZEVuYWJsZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc2hvdWxkRW5hYmxlKSB7XG4gICAgICAgIGxldCBsYXllciA9IGVuYWJsZWRMYXllcnMuZmluZCgodmxzKSA9PiB2bHMubmFtZSA9PT0gZW5jLnJpZCk7XG4gICAgICAgIGlmIChsYXllciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGF5ZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5ID49IDEgJiZcbiAgICAgICAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSAhPT0gZW5jLnNjYWxlUmVzb2x1dGlvbkRvd25CeVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgICdbZHluYXNjYWxlXTogc2V0dGluZyBzY2FsZVJlc29sdXRpb25Eb3duQnkgZnJvbSBzZXJ2ZXInLFxuICAgICAgICAgICAgICAnbGF5ZXInLFxuICAgICAgICAgICAgICBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAnc2NhbGUtcmVzb2x1dGlvbi1kb3duLWJ5JyxcbiAgICAgICAgICAgICAgbGF5ZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5LFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVuYy5zY2FsZVJlc29sdXRpb25Eb3duQnkgPSBsYXllci5zY2FsZVJlc29sdXRpb25Eb3duQnk7XG4gICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAobGF5ZXIubWF4Qml0cmF0ZSA+IDAgJiYgbGF5ZXIubWF4Qml0cmF0ZSAhPT0gZW5jLm1heEJpdHJhdGUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICAgICAnW2R5bmFzY2FsZV0gc2V0dGluZyBtYXgtYml0cmF0ZSBmcm9tIHRoZSBzZXJ2ZXInLFxuICAgICAgICAgICAgICAnbGF5ZXInLFxuICAgICAgICAgICAgICBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAnbWF4LWJpdHJhdGUnLFxuICAgICAgICAgICAgICBsYXllci5tYXhCaXRyYXRlLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVuYy5tYXhCaXRyYXRlID0gbGF5ZXIubWF4Qml0cmF0ZTtcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGxheWVyLm1heEZyYW1lcmF0ZSA+IDAgJiZcbiAgICAgICAgICAgIGxheWVyLm1heEZyYW1lcmF0ZSAhPT0gZW5jLm1heEZyYW1lcmF0ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgICdbZHluYXNjYWxlXTogc2V0dGluZyBtYXhGcmFtZXJhdGUgZnJvbSBzZXJ2ZXInLFxuICAgICAgICAgICAgICAnbGF5ZXInLFxuICAgICAgICAgICAgICBsYXllci5uYW1lLFxuICAgICAgICAgICAgICAnbWF4LWZyYW1lcmF0ZScsXG4gICAgICAgICAgICAgIGxheWVyLm1heEZyYW1lcmF0ZSxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbmMubWF4RnJhbWVyYXRlID0gbGF5ZXIubWF4RnJhbWVyYXRlO1xuICAgICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY3RpdmVMYXllcnMgPSBwYXJhbXMuZW5jb2RpbmdzLmZpbHRlcigoZSkgPT4gZS5hY3RpdmUpO1xuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICBhd2FpdCB2aWRlb1NlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICBgVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eSwgZW5hYmxlZCByaWRzOiBgLFxuICAgICAgICBhY3RpdmVMYXllcnMsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBVcGRhdGUgcHVibGlzaCBxdWFsaXR5LCBubyBjaGFuZ2U6IGAsIGFjdGl2ZUxheWVycyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSByZXN1bHQgb2YgdGhlIGBSVENQZWVyQ29ubmVjdGlvbi5nZXRTdGF0cygpYCBtZXRob2RcbiAgICogQHBhcmFtIHNlbGVjdG9yXG4gICAqIEByZXR1cm5zXG4gICAqL1xuICBnZXRTdGF0cyA9IChzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2sgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGMuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICB9O1xuXG4gIHByaXZhdGUgZ2V0Q29kZWNQcmVmZXJlbmNlcyA9IChcbiAgICB0cmFja1R5cGU6IFRyYWNrVHlwZSxcbiAgICBwcmVmZXJyZWRDb2RlYz86IHN0cmluZyB8IG51bGwsXG4gICkgPT4ge1xuICAgIGlmICh0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgcmV0dXJuIGdldFByZWZlcnJlZENvZGVjcygndmlkZW8nLCBwcmVmZXJyZWRDb2RlYyB8fCAndnA4Jyk7XG4gICAgfVxuICAgIGlmICh0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTykge1xuICAgICAgY29uc3QgZGVmYXVsdEF1ZGlvQ29kZWMgPSB0aGlzLmlzUmVkRW5hYmxlZCA/ICdyZWQnIDogJ29wdXMnO1xuICAgICAgY29uc3QgY29kZWNUb1JlbW92ZSA9ICF0aGlzLmlzUmVkRW5hYmxlZCA/ICdyZWQnIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGdldFByZWZlcnJlZENvZGVjcyhcbiAgICAgICAgJ2F1ZGlvJyxcbiAgICAgICAgcHJlZmVycmVkQ29kZWMgPz8gZGVmYXVsdEF1ZGlvQ29kZWMsXG4gICAgICAgIGNvZGVjVG9SZW1vdmUsXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ2FuZGlkYXRlID0gKGU6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhbmRpZGF0ZSB9ID0gZTtcbiAgICBpZiAoIWNhbmRpZGF0ZSkge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ251bGwgaWNlIGNhbmRpZGF0ZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNmdUNsaWVudFxuICAgICAgLmljZVRyaWNrbGUoe1xuICAgICAgICBpY2VDYW5kaWRhdGU6IGdldEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpLFxuICAgICAgICBwZWVyVHlwZTogUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVELFxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYElDRVRyaWNrbGUgZmFpbGVkYCwgZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICpcbiAgICogQHBhcmFtIHNmdUNsaWVudCB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqL1xuICBzZXRTZnVDbGllbnQgPSAoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQpID0+IHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgfTtcblxuICAvKipcbiAgICogUmVzdGFydHMgdGhlIElDRSBjb25uZWN0aW9uIGFuZCByZW5lZ290aWF0ZXMgd2l0aCB0aGUgU0ZVLlxuICAgKi9cbiAgcmVzdGFydEljZSA9IGFzeW5jICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnUmVzdGFydGluZyBJQ0UgY29ubmVjdGlvbicpO1xuICAgIGNvbnN0IHNpZ25hbGluZ1N0YXRlID0gdGhpcy5wYy5zaWduYWxpbmdTdGF0ZTtcbiAgICBpZiAodGhpcy5pc0ljZVJlc3RhcnRpbmcgfHwgc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLWxvY2FsLW9mZmVyJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0lDRSByZXN0YXJ0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5uZWdvdGlhdGUoeyBpY2VSZXN0YXJ0OiB0cnVlIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgb25OZWdvdGlhdGlvbk5lZWRlZCA9ICgpID0+IHtcbiAgICB0aGlzLm5lZ290aWF0ZSgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgYSBuZXcgb2ZmZXIvYW5zd2VyIGV4Y2hhbmdlIHdpdGggdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgU0ZVLlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9uYWwgb2ZmZXIgb3B0aW9ucyB0byB1c2UuXG4gICAqL1xuICBwcml2YXRlIG5lZ290aWF0ZSA9IGFzeW5jIChvcHRpb25zPzogUlRDT2ZmZXJPcHRpb25zKSA9PiB7XG4gICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZU9mZmVyKG9wdGlvbnMpO1xuICAgIGxldCBzZHAgPSB0aGlzLm11bmdlQ29kZWNzKG9mZmVyLnNkcCk7XG4gICAgaWYgKHNkcCAmJiB0aGlzLmlzUHVibGlzaGluZyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKSkge1xuICAgICAgc2RwID0gdGhpcy5lbmFibGVIaWdoUXVhbGl0eUF1ZGlvKHNkcCk7XG4gICAgfVxuXG4gICAgLy8gc2V0IHRoZSBtdW5nZWQgU0RQIGJhY2sgdG8gdGhlIG9mZmVyXG4gICAgb2ZmZXIuc2RwID0gc2RwO1xuXG4gICAgY29uc3QgdHJhY2tJbmZvcyA9IHRoaXMuZ2V0QW5ub3VuY2VkVHJhY2tzKG9mZmVyLnNkcCk7XG4gICAgaWYgKHRyYWNrSW5mb3MubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IG5lZ290aWF0ZSB3aXRob3V0IGFubm91bmNpbmcgYW55IHRyYWNrc2ApO1xuICAgIH1cblxuICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gb3B0aW9ucz8uaWNlUmVzdGFydCA/PyBmYWxzZTtcbiAgICBhd2FpdCB0aGlzLnBjLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNldFB1Ymxpc2hlcih7XG4gICAgICAgIHNkcDogb2ZmZXIuc2RwIHx8ICcnLFxuICAgICAgICB0cmFja3M6IHRyYWNrSW5mb3MsXG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IubWVzc2FnZSk7XG4gICAgICBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKHsgdHlwZTogJ2Fuc3dlcicsIHNkcDogcmVzcG9uc2Uuc2RwIH0pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHRoaXMuc2Z1Q2xpZW50LmljZVRyaWNrbGVCdWZmZXIucHVibGlzaGVyQ2FuZGlkYXRlcy5zdWJzY3JpYmUoXG4gICAgICBhc3luYyAoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaWNlQ2FuZGlkYXRlID0gSlNPTi5wYXJzZShjYW5kaWRhdGUuaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShpY2VDYW5kaWRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFIGNhbmRpZGF0ZSBlcnJvcmAsIGUsIGNhbmRpZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIGVuYWJsZUhpZ2hRdWFsaXR5QXVkaW8gPSAoc2RwOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB0cmFuc2NlaXZlciA9IHRoaXMudHJhbnNjZWl2ZXJSZWdpc3RyeVtUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPXTtcbiAgICBpZiAoIXRyYW5zY2VpdmVyKSByZXR1cm4gc2RwO1xuXG4gICAgY29uc3QgbWlkID0gdGhpcy5leHRyYWN0TWlkKHRyYW5zY2VpdmVyLCBzZHAsIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pO1xuICAgIHJldHVybiBlbmFibGVIaWdoUXVhbGl0eUF1ZGlvKHNkcCwgbWlkKTtcbiAgfTtcblxuICBwcml2YXRlIG11bmdlQ29kZWNzID0gKHNkcD86IHN0cmluZykgPT4ge1xuICAgIGlmIChzZHApIHtcbiAgICAgIHNkcCA9IHRvZ2dsZUR0eChzZHAsIHRoaXMuaXNEdHhFbmFibGVkKTtcbiAgICB9XG4gICAgcmV0dXJuIHNkcDtcbiAgfTtcblxuICBwcml2YXRlIGV4dHJhY3RNaWQgPSAoXG4gICAgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyLFxuICAgIHNkcDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICApOiBzdHJpbmcgPT4ge1xuICAgIGlmICh0cmFuc2NlaXZlci5taWQpIHJldHVybiB0cmFuc2NlaXZlci5taWQ7XG5cbiAgICBpZiAoIXNkcCkge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnTm8gU0RQIGZvdW5kLiBSZXR1cm5pbmcgZW1wdHkgbWlkJyk7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnZGVidWcnLFxuICAgICAgYE5vICdtaWQnIGZvdW5kIGZvciB0cmFjay4gVHJ5aW5nIHRvIGZpbmQgaXQgZnJvbSB0aGUgT2ZmZXIgU0RQYCxcbiAgICApO1xuXG4gICAgY29uc3QgdHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2shO1xuICAgIGNvbnN0IHBhcnNlZFNkcCA9IFNEUC5wYXJzZShzZHApO1xuICAgIGNvbnN0IG1lZGlhID0gcGFyc2VkU2RwLm1lZGlhLmZpbmQoKG0pID0+IHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG0udHlwZSA9PT0gdHJhY2sua2luZCAmJlxuICAgICAgICAvLyBpZiBgbXNpZGAgaXMgbm90IHByZXNlbnQsIHdlIGFzc3VtZSB0aGF0IHRoZSB0cmFjayBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAgIChtLm1zaWQ/LmluY2x1ZGVzKHRyYWNrLmlkKSA/PyB0cnVlKVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIG1lZGlhPy5taWQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2RlYnVnJyxcbiAgICAgICAgYE5vIG1pZCBmb3VuZCBpbiBTRFAgZm9yIHRyYWNrIHR5cGUgJHt0cmFjay5raW5kfSBhbmQgaWQgJHt0cmFjay5pZH0uIEF0dGVtcHRpbmcgdG8gZmluZCBpdCBoZXVyaXN0aWNhbGx5YCxcbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGhldXJpc3RpY01pZCA9IHRoaXMudHJhbnNjZWl2ZXJJbml0T3JkZXIuaW5kZXhPZih0cmFja1R5cGUpO1xuICAgICAgaWYgKGhldXJpc3RpY01pZCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhoZXVyaXN0aWNNaWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnTm8gaGV1cmlzdGljIG1pZCBmb3VuZC4gUmV0dXJuaW5nIGVtcHR5IG1pZCcpO1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKG1lZGlhLm1pZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHRyYWNrcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHNkcCBhbiBvcHRpb25hbCBTRFAgdG8gZXh0cmFjdCB0aGUgYG1pZGAgZnJvbS5cbiAgICovXG4gIGdldEFubm91bmNlZFRyYWNrcyA9IChzZHA/OiBzdHJpbmcpOiBUcmFja0luZm9bXSA9PiB7XG4gICAgc2RwID0gc2RwIHx8IHRoaXMucGMubG9jYWxEZXNjcmlwdGlvbj8uc2RwO1xuXG4gICAgY29uc3QgeyBzZXR0aW5ncyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB0YXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnZpZGVvXG4gICAgICAudGFyZ2V0X3Jlc29sdXRpb24gYXMgVGFyZ2V0UmVzb2x1dGlvblJlc3BvbnNlO1xuICAgIHJldHVybiB0aGlzLnBjXG4gICAgICAuZ2V0VHJhbnNjZWl2ZXJzKClcbiAgICAgIC5maWx0ZXIoKHQpID0+IHQuZGlyZWN0aW9uID09PSAnc2VuZG9ubHknICYmIHQuc2VuZGVyLnRyYWNrKVxuICAgICAgLm1hcDxUcmFja0luZm8+KCh0cmFuc2NlaXZlcikgPT4ge1xuICAgICAgICBjb25zdCB0cmFja1R5cGU6IFRyYWNrVHlwZSA9IE51bWJlcihcbiAgICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnkpLmZpbmQoXG4gICAgICAgICAgICAoa2V5KSA9PlxuICAgICAgICAgICAgICB0aGlzLnRyYW5zY2VpdmVyUmVnaXN0cnlba2V5IGFzIGFueSBhcyBUcmFja1R5cGVdID09PSB0cmFuc2NlaXZlcixcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gICAgICAgIGxldCBvcHRpbWFsTGF5ZXJzOiBPcHRpbWFsVmlkZW9MYXllcltdO1xuICAgICAgICBjb25zdCBpc1RyYWNrTGl2ZSA9IHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJztcbiAgICAgICAgaWYgKGlzVHJhY2tMaXZlKSB7XG4gICAgICAgICAgY29uc3QgcHVibGlzaE9wdHMgPSB0aGlzLnB1Ymxpc2hPcHRpb25zUGVyVHJhY2tUeXBlLmdldCh0cmFja1R5cGUpO1xuICAgICAgICAgIG9wdGltYWxMYXllcnMgPVxuICAgICAgICAgICAgdHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU9cbiAgICAgICAgICAgICAgPyBmaW5kT3B0aW1hbFZpZGVvTGF5ZXJzKHRyYWNrLCB0YXJnZXRSZXNvbHV0aW9uLCBwdWJsaXNoT3B0cylcbiAgICAgICAgICAgICAgOiB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVcbiAgICAgICAgICAgICAgICA/IGZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyh0cmFjaywgcHVibGlzaE9wdHMpXG4gICAgICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICB0aGlzLnRyYWNrTGF5ZXJzQ2FjaGVbdHJhY2tUeXBlXSA9IG9wdGltYWxMYXllcnM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gd2UgcmVwb3J0IHRoZSBsYXN0IGtub3duIG9wdGltYWwgbGF5ZXJzIGZvciBlbmRlZCB0cmFja3NcbiAgICAgICAgICBvcHRpbWFsTGF5ZXJzID0gdGhpcy50cmFja0xheWVyc0NhY2hlW3RyYWNrVHlwZV0gfHwgW107XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICAgYFRyYWNrICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IGlzIGVuZGVkLiBBbm5vdW5jaW5nIGxhc3Qga25vd24gb3B0aW1hbCBsYXllcnNgLFxuICAgICAgICAgICAgb3B0aW1hbExheWVycyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF5ZXJzID0gb3B0aW1hbExheWVycy5tYXA8VmlkZW9MYXllcj4oKG9wdGltYWxMYXllcikgPT4gKHtcbiAgICAgICAgICByaWQ6IG9wdGltYWxMYXllci5yaWQgfHwgJycsXG4gICAgICAgICAgYml0cmF0ZTogb3B0aW1hbExheWVyLm1heEJpdHJhdGUgfHwgMCxcbiAgICAgICAgICBmcHM6IG9wdGltYWxMYXllci5tYXhGcmFtZXJhdGUgfHwgMCxcbiAgICAgICAgICBxdWFsaXR5OiB0aGlzLnJpZFRvVmlkZW9RdWFsaXR5KG9wdGltYWxMYXllci5yaWQgfHwgJycpLFxuICAgICAgICAgIHZpZGVvRGltZW5zaW9uOiB7XG4gICAgICAgICAgICB3aWR0aDogb3B0aW1hbExheWVyLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiBvcHRpbWFsTGF5ZXIuaGVpZ2h0LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pKTtcblxuICAgICAgICBjb25zdCBpc0F1ZGlvVHJhY2sgPSBbXG4gICAgICAgICAgVHJhY2tUeXBlLkFVRElPLFxuICAgICAgICAgIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8sXG4gICAgICAgIF0uaW5jbHVkZXModHJhY2tUeXBlKTtcblxuICAgICAgICBjb25zdCB0cmFja1NldHRpbmdzID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgaXNTdGVyZW8gPSBpc0F1ZGlvVHJhY2sgJiYgdHJhY2tTZXR0aW5ncy5jaGFubmVsQ291bnQgPT09IDI7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0cmFja0lkOiB0cmFjay5pZCxcbiAgICAgICAgICBsYXllcnM6IGxheWVycyxcbiAgICAgICAgICB0cmFja1R5cGUsXG4gICAgICAgICAgbWlkOiB0aGlzLmV4dHJhY3RNaWQodHJhbnNjZWl2ZXIsIHNkcCwgdHJhY2tUeXBlKSxcblxuICAgICAgICAgIHN0ZXJlbzogaXNTdGVyZW8sXG4gICAgICAgICAgZHR4OiBpc0F1ZGlvVHJhY2sgJiYgdGhpcy5pc0R0eEVuYWJsZWQsXG4gICAgICAgICAgcmVkOiBpc0F1ZGlvVHJhY2sgJiYgdGhpcy5pc1JlZEVuYWJsZWQsXG4gICAgICAgICAgbXV0ZWQ6ICFpc1RyYWNrTGl2ZSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDYW5kaWRhdGVFcnJvciA9IChlOiBFdmVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICBlIGluc3RhbmNlb2YgUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50ICYmXG4gICAgICBgJHtlLmVycm9yQ29kZX06ICR7ZS5lcnJvclRleHR9YDtcbiAgICBjb25zdCBpY2VTdGF0ZSA9IHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIGNvbnN0IGxvZ0xldmVsID1cbiAgICAgIGljZVN0YXRlID09PSAnY29ubmVjdGVkJyB8fCBpY2VTdGF0ZSA9PT0gJ2NoZWNraW5nJyA/ICdkZWJ1ZycgOiAnd2Fybic7XG4gICAgdGhpcy5sb2dnZXIobG9nTGV2ZWwsIGBJQ0UgQ2FuZGlkYXRlIGVycm9yYCwgZXJyb3JNZXNzYWdlKTtcbiAgfTtcblxuICBwcml2YXRlIG9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElDRSBDb25uZWN0aW9uIHN0YXRlIGNoYW5nZWQgdG9gLCBzdGF0ZSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpIHJldHVybjtcblxuICAgIGlmIChzdGF0ZSA9PT0gJ2ZhaWxlZCcgfHwgc3RhdGUgPT09ICdkaXNjb25uZWN0ZWQnKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQXR0ZW1wdGluZyB0byByZXN0YXJ0IElDRWApO1xuICAgICAgdGhpcy5yZXN0YXJ0SWNlKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYElDRSByZXN0YXJ0IGVycm9yYCwgZSk7XG4gICAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgb25JY2VHYXRoZXJpbmdTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgSUNFIEdhdGhlcmluZyBTdGF0ZWAsIHRoaXMucGMuaWNlR2F0aGVyaW5nU3RhdGUpO1xuICB9O1xuXG4gIHByaXZhdGUgb25TaWduYWxpbmdTdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgU2lnbmFsaW5nIHN0YXRlIGNoYW5nZWRgLCB0aGlzLnBjLnNpZ25hbGluZ1N0YXRlKTtcbiAgfTtcblxuICBwcml2YXRlIHJpZFRvVmlkZW9RdWFsaXR5ID0gKHJpZDogc3RyaW5nKTogVmlkZW9RdWFsaXR5ID0+IHtcbiAgICByZXR1cm4gcmlkID09PSAncSdcbiAgICAgID8gVmlkZW9RdWFsaXR5LkxPV19VTlNQRUNJRklFRFxuICAgICAgOiByaWQgPT09ICdoJ1xuICAgICAgICA/IFZpZGVvUXVhbGl0eS5NSURcbiAgICAgICAgOiBWaWRlb1F1YWxpdHkuSElHSDsgLy8gZGVmYXVsdCB0byBISUdIXG4gIH07XG59XG4iLCJpbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgZ2V0SWNlQ2FuZGlkYXRlIH0gZnJvbSAnLi9oZWxwZXJzL2ljZUNhbmRpZGF0ZSc7XG5pbXBvcnQgeyBQZWVyVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyT2ZmZXIgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi9EaXNwYXRjaGVyJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUsIENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHsgdG9UcmFja1R5cGUsIHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBTdWJzY3JpYmVyT3B0cyA9IHtcbiAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG4gIGNvbm5lY3Rpb25Db25maWc/OiBSVENDb25maWd1cmF0aW9uO1xuICBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG4gIGxvZ1RhZzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIHRoYXQgaGFuZGxlcyB0aGUgaW5jb21pbmdcbiAqIG1lZGlhIHN0cmVhbXMgZnJvbSB0aGUgU0ZVLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHByaXZhdGUgcGM6IFJUQ1BlZXJDb25uZWN0aW9uO1xuICBwcml2YXRlIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHN0YXRlOiBDYWxsU3RhdGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB1bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXI6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5yZWdpc3Rlck9uSWNlUmVzdGFydDogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSBvblVucmVjb3ZlcmFibGVFcnJvcj86ICgpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBpc0ljZVJlc3RhcnRpbmcgPSBmYWxzZTtcblxuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBgU3Vic2NyaWJlcmAgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBzZnVDbGllbnQgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKiBAcGFyYW0gZGlzcGF0Y2hlciB0aGUgZGlzcGF0Y2hlciB0byB1c2UuXG4gICAqIEBwYXJhbSBzdGF0ZSB0aGUgc3RhdGUgb2YgdGhlIGNhbGwuXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uQ29uZmlnIHRoZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gdG8gdXNlLlxuICAgKiBAcGFyYW0gaWNlUmVzdGFydERlbGF5IHRoZSBkZWxheSBpbiBtaWxsaXNlY29uZHMgdG8gd2FpdCBiZWZvcmUgcmVzdGFydGluZyBJQ0Ugd2hlbiBjb25uZWN0aW9uIGdvZXMgdG8gYGRpc2Nvbm5lY3RlZGAgc3RhdGUuXG4gICAqIEBwYXJhbSBvblVucmVjb3ZlcmFibGVFcnJvciBhIGNhbGxiYWNrIHRvIGNhbGwgd2hlbiBhbiB1bnJlY292ZXJhYmxlIGVycm9yIG9jY3Vycy5cbiAgICogQHBhcmFtIGxvZ1RhZyBhIHRhZyB0byB1c2UgZm9yIGxvZ2dpbmcuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgc2Z1Q2xpZW50LFxuICAgIGRpc3BhdGNoZXIsXG4gICAgc3RhdGUsXG4gICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICBvblVucmVjb3ZlcmFibGVFcnJvcixcbiAgICBsb2dUYWcsXG4gIH06IFN1YnNjcmliZXJPcHRzKSB7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydTdWJzY3JpYmVyJywgbG9nVGFnXSk7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3IgPSBvblVucmVjb3ZlcmFibGVFcnJvcjtcblxuICAgIHRoaXMucGMgPSB0aGlzLmNyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlck9mZmVyQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3N1YnNjcmliZXJPZmZlcicpO1xuICAgIHRoaXMudW5yZWdpc3Rlck9uU3Vic2NyaWJlck9mZmVyID0gZGlzcGF0Y2hlci5vbihcbiAgICAgICdzdWJzY3JpYmVyT2ZmZXInLFxuICAgICAgKHN1YnNjcmliZXJPZmZlcikgPT4ge1xuICAgICAgICB3aXRob3V0Q29uY3VycmVuY3koc3Vic2NyaWJlck9mZmVyQ29uY3VycmVuY3lUYWcsICgpID0+IHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5uZWdvdGlhdGUoc3Vic2NyaWJlck9mZmVyKTtcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBOZWdvdGlhdGlvbiBmYWlsZWQuYCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICBjb25zdCBpY2VSZXN0YXJ0Q29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ2ljZVJlc3RhcnQnKTtcbiAgICB0aGlzLnVucmVnaXN0ZXJPbkljZVJlc3RhcnQgPSBkaXNwYXRjaGVyLm9uKCdpY2VSZXN0YXJ0JywgKGljZVJlc3RhcnQpID0+IHtcbiAgICAgIHdpdGhvdXRDb25jdXJyZW5jeShpY2VSZXN0YXJ0Q29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGljZVJlc3RhcnQucGVlclR5cGUgIT09IFBlZXJUeXBlLlNVQlNDUklCRVIpIHJldHVybjtcbiAgICAgICAgYXdhaXQgdGhpcy5yZXN0YXJ0SWNlKCk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBJQ0VSZXN0YXJ0IGZhaWxlZGAsIGVycik7XG4gICAgICAgIHRoaXMub25VbnJlY292ZXJhYmxlRXJyb3I/LigpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBgUlRDUGVlckNvbm5lY3Rpb25gIGluc3RhbmNlIHdpdGggdGhlIGdpdmVuIGNvbmZpZ3VyYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSBjb25uZWN0aW9uQ29uZmlnIHRoZSBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gdG8gdXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBjcmVhdGVQZWVyQ29ubmVjdGlvbiA9IChjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbikgPT4ge1xuICAgIGNvbnN0IHBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKGNvbm5lY3Rpb25Db25maWcpO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIHRoaXMub25JY2VDYW5kaWRhdGUpO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5oYW5kbGVPblRyYWNrKTtcblxuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZWVycm9yJywgdGhpcy5vbkljZUNhbmRpZGF0ZUVycm9yKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ2ljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLFxuICAgICk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlR2F0aGVyaW5nU3RhdGVDaGFuZ2UsXG4gICAgKTtcblxuICAgIHJldHVybiBwYztcbiAgfTtcblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIGFuZCB1bnN1YnNjcmliZXMgZnJvbSB0aGUgZGlzcGF0Y2hlci5cbiAgICovXG4gIGNsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuZGV0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMucGMuY2xvc2UoKTtcbiAgfTtcblxuICAvKipcbiAgICogRGV0YWNoZXMgdGhlIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIGBSVENQZWVyQ29ubmVjdGlvbmAuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gd2Ugd2FudCB0byByZXBsYWNlIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gXG4gICAqIGluc3RhbmNlIHdpdGggYSBuZXcgb25lIChpbiBjYXNlIG9mIG1pZ3JhdGlvbikuXG4gICAqL1xuICBkZXRhY2hFdmVudEhhbmRsZXJzID0gKCkgPT4ge1xuICAgIHRoaXMudW5yZWdpc3Rlck9uU3Vic2NyaWJlck9mZmVyKCk7XG4gICAgdGhpcy51bnJlZ2lzdGVyT25JY2VSZXN0YXJ0KCk7XG5cbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIHRoaXMub25JY2VDYW5kaWRhdGUpO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhY2snLCB0aGlzLmhhbmRsZU9uVHJhY2spO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlZXJyb3InLCB0aGlzLm9uSWNlQ2FuZGlkYXRlRXJyb3IpO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHRoaXMucGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZScsXG4gICAgICB0aGlzLm9uSWNlR2F0aGVyaW5nU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBgUlRDUGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKWAgbWV0aG9kXG4gICAqIEBwYXJhbSBzZWxlY3RvclxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgZ2V0U3RhdHMgPSAoc2VsZWN0b3I/OiBNZWRpYVN0cmVhbVRyYWNrIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnBjLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqXG4gICAqIEBwYXJhbSBzZnVDbGllbnQgdGhlIFNGVSBjbGllbnQgdG8gdXNlLlxuICAgKi9cbiAgc2V0U2Z1Q2xpZW50ID0gKHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50KSA9PiB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc3RhcnRzIHRoZSBJQ0UgY29ubmVjdGlvbiBhbmQgcmVuZWdvdGlhdGVzIHdpdGggdGhlIFNGVS5cbiAgICovXG4gIHJlc3RhcnRJY2UgPSBhc3luYyAoKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1Jlc3RhcnRpbmcgSUNFIGNvbm5lY3Rpb24nKTtcbiAgICBpZiAodGhpcy5wYy5zaWduYWxpbmdTdGF0ZSA9PT0gJ2hhdmUtcmVtb3RlLW9mZmVyJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0lDRSByZXN0YXJ0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMucGMuY29ubmVjdGlvblN0YXRlID09PSAnbmV3Jykge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdkZWJ1ZycsXG4gICAgICAgIGBJQ0UgY29ubmVjdGlvbiBpcyBub3QgeWV0IGVzdGFibGlzaGVkLCBza2lwcGluZyByZXN0YXJ0LmAsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBwcmV2aW91c0lzSWNlUmVzdGFydGluZyA9IHRoaXMuaXNJY2VSZXN0YXJ0aW5nO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5pY2VSZXN0YXJ0KHtcbiAgICAgICAgcGVlclR5cGU6IFBlZXJUeXBlLlNVQlNDUklCRVIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyByZXN0b3JlIHRoZSBwcmV2aW91cyBzdGF0ZSwgYXMgb3VyIGludGVudCBmb3IgcmVzdGFydGluZyBJQ0UgZmFpbGVkXG4gICAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IHByZXZpb3VzSXNJY2VSZXN0YXJ0aW5nO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVPblRyYWNrID0gKGU6IFJUQ1RyYWNrRXZlbnQpID0+IHtcbiAgICBjb25zdCBbcHJpbWFyeVN0cmVhbV0gPSBlLnN0cmVhbXM7XG4gICAgLy8gZXhhbXBsZTogYGUzZjZhYWY4LWIwM2QtNDkxMS1iZTM2LTgzZjQ3ZDM3YTc2YTpUUkFDS19UWVBFX1ZJREVPYFxuICAgIGNvbnN0IFt0cmFja0lkLCByYXdUcmFja1R5cGVdID0gcHJpbWFyeVN0cmVhbS5pZC5zcGxpdCgnOicpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50VG9VcGRhdGUgPSB0aGlzLnN0YXRlLnBhcnRpY2lwYW50cy5maW5kKFxuICAgICAgKHApID0+IHAudHJhY2tMb29rdXBQcmVmaXggPT09IHRyYWNrSWQsXG4gICAgKTtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICdkZWJ1ZycsXG4gICAgICBgW29uVHJhY2tdOiBHb3QgcmVtb3RlICR7cmF3VHJhY2tUeXBlfSB0cmFjayBmb3IgdXNlcklkOiAke3BhcnRpY2lwYW50VG9VcGRhdGU/LnVzZXJJZH1gLFxuICAgICAgZS50cmFjay5pZCxcbiAgICAgIGUudHJhY2ssXG4gICAgKTtcblxuICAgIGNvbnN0IHRyYWNrRGVidWdJbmZvID0gYCR7cGFydGljaXBhbnRUb1VwZGF0ZT8udXNlcklkfSAke3Jhd1RyYWNrVHlwZX06JHt0cmFja0lkfWA7XG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCdtdXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgW29uVHJhY2tdOiBUcmFjayBtdXRlZDogJHt0cmFja0RlYnVnSW5mb31gKTtcbiAgICB9KTtcblxuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgW29uVHJhY2tdOiBUcmFjayB1bm11dGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgIH0pO1xuXG4gICAgZS50cmFjay5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFtvblRyYWNrXTogVHJhY2sgZW5kZWQ6ICR7dHJhY2tEZWJ1Z0luZm99YCk7XG4gICAgICB0aGlzLnN0YXRlLnJlbW92ZU9ycGhhbmVkVHJhY2socHJpbWFyeVN0cmVhbS5pZCk7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0cmFja1R5cGUgPSB0b1RyYWNrVHlwZShyYXdUcmFja1R5cGUpO1xuICAgIGlmICghdHJhY2tUeXBlKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIoJ2Vycm9yJywgYFVua25vd24gdHJhY2sgdHlwZTogJHtyYXdUcmFja1R5cGV9YCk7XG4gICAgfVxuXG4gICAgaWYgKCFwYXJ0aWNpcGFudFRvVXBkYXRlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICBgW29uVHJhY2tdOiBSZWNlaXZlZCB0cmFjayBmb3IgdW5rbm93biBwYXJ0aWNpcGFudDogJHt0cmFja0lkfWAsXG4gICAgICAgIGUsXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0ZS5yZWdpc3Rlck9ycGhhbmVkVHJhY2soe1xuICAgICAgICBpZDogcHJpbWFyeVN0cmVhbS5pZCxcbiAgICAgICAgdHJhY2tMb29rdXBQcmVmaXg6IHRyYWNrSWQsXG4gICAgICAgIHRyYWNrOiBwcmltYXJ5U3RyZWFtLFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYW1LaW5kUHJvcCA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkodHJhY2tUeXBlKTtcbiAgICBpZiAoIXN0cmVhbUtpbmRQcm9wKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgVW5rbm93biB0cmFjayB0eXBlOiAke3Jhd1RyYWNrVHlwZX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNTdHJlYW0gPSBwYXJ0aWNpcGFudFRvVXBkYXRlW3N0cmVhbUtpbmRQcm9wXTtcbiAgICBpZiAocHJldmlvdXNTdHJlYW0pIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBbb25UcmFja106IENsZWFuaW5nIHVwIHByZXZpb3VzIHJlbW90ZSAke2UudHJhY2sua2luZH0gdHJhY2tzIGZvciB1c2VySWQ6ICR7cGFydGljaXBhbnRUb1VwZGF0ZS51c2VySWR9YCxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIHQuc3RvcCgpO1xuICAgICAgICBwcmV2aW91c1N0cmVhbS5yZW1vdmVUcmFjayh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHBhcnRpY2lwYW50VG9VcGRhdGUuc2Vzc2lvbklkLCB7XG4gICAgICBbc3RyZWFtS2luZFByb3BdOiBwcmltYXJ5U3RyZWFtLFxuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDYW5kaWRhdGUgPSAoZTogUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCkgPT4ge1xuICAgIGNvbnN0IHsgY2FuZGlkYXRlIH0gPSBlO1xuICAgIGlmICghY2FuZGlkYXRlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnbnVsbCBpY2UgY2FuZGlkYXRlJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zZnVDbGllbnRcbiAgICAgIC5pY2VUcmlja2xlKHtcbiAgICAgICAgaWNlQ2FuZGlkYXRlOiBnZXRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKSxcbiAgICAgICAgcGVlclR5cGU6IFBlZXJUeXBlLlNVQlNDUklCRVIsXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSBmYWlsZWRgLCBlcnIpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBuZWdvdGlhdGUgPSBhc3luYyAoc3Vic2NyaWJlck9mZmVyOiBTdWJzY3JpYmVyT2ZmZXIpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBSZWNlaXZlZCBzdWJzY3JpYmVyT2ZmZXJgLCBzdWJzY3JpYmVyT2ZmZXIpO1xuXG4gICAgYXdhaXQgdGhpcy5wYy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7XG4gICAgICB0eXBlOiAnb2ZmZXInLFxuICAgICAgc2RwOiBzdWJzY3JpYmVyT2ZmZXIuc2RwLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZnVDbGllbnQuaWNlVHJpY2tsZUJ1ZmZlci5zdWJzY3JpYmVyQ2FuZGlkYXRlcy5zdWJzY3JpYmUoXG4gICAgICBhc3luYyAoY2FuZGlkYXRlKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgaWNlQ2FuZGlkYXRlID0gSlNPTi5wYXJzZShjYW5kaWRhdGUuaWNlQ2FuZGlkYXRlKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBjLmFkZEljZUNhbmRpZGF0ZShpY2VDYW5kaWRhdGUpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFIGNhbmRpZGF0ZSBlcnJvcmAsIFtlLCBjYW5kaWRhdGVdKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYy5jcmVhdGVBbnN3ZXIoKTtcbiAgICBhd2FpdCB0aGlzLnBjLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKTtcblxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNlbmRBbnN3ZXIoe1xuICAgICAgcGVlclR5cGU6IFBlZXJUeXBlLlNVQlNDUklCRVIsXG4gICAgICBzZHA6IGFuc3dlci5zZHAgfHwgJycsXG4gICAgfSk7XG5cbiAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgSUNFIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlZGAsIHN0YXRlKTtcblxuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORykgcmV0dXJuO1xuXG4gICAgLy8gZG8gbm90aGluZyB3aGVuIElDRSBpcyByZXN0YXJ0aW5nXG4gICAgaWYgKHRoaXMuaXNJY2VSZXN0YXJ0aW5nKSByZXR1cm47XG5cbiAgICBpZiAoc3RhdGUgPT09ICdmYWlsZWQnIHx8IHN0YXRlID09PSAnZGlzY29ubmVjdGVkJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEF0dGVtcHRpbmcgdG8gcmVzdGFydCBJQ0VgKTtcbiAgICAgIHRoaXMucmVzdGFydEljZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBJQ0UgcmVzdGFydCBmYWlsZWRgLCBlKTtcbiAgICAgICAgdGhpcy5vblVucmVjb3ZlcmFibGVFcnJvcj8uKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBvbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ2RlYnVnJyxcbiAgICAgIGBJQ0UgZ2F0aGVyaW5nIHN0YXRlIGNoYW5nZWRgLFxuICAgICAgdGhpcy5wYy5pY2VHYXRoZXJpbmdTdGF0ZSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgb25JY2VDYW5kaWRhdGVFcnJvciA9IChlOiBFdmVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICBlIGluc3RhbmNlb2YgUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50ICYmXG4gICAgICBgJHtlLmVycm9yQ29kZX06ICR7ZS5lcnJvclRleHR9YDtcbiAgICBjb25zdCBpY2VTdGF0ZSA9IHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIGNvbnN0IGxvZ0xldmVsID1cbiAgICAgIGljZVN0YXRlID09PSAnY29ubmVjdGVkJyB8fCBpY2VTdGF0ZSA9PT0gJ2NoZWNraW5nJyA/ICdkZWJ1ZycgOiAnd2Fybic7XG4gICAgdGhpcy5sb2dnZXIobG9nTGV2ZWwsIGBJQ0UgQ2FuZGlkYXRlIGVycm9yYCwgZXJyb3JNZXNzYWdlKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IFNmdUV2ZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IERpc3BhdGNoYWJsZU1lc3NhZ2UsIFNmdUV2ZW50S2luZHMgfSBmcm9tICcuL0Rpc3BhdGNoZXInO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCA9IChvcHRzOiB7XG4gIGVuZHBvaW50OiBzdHJpbmc7XG4gIG9uTWVzc2FnZTogPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPihtZXNzYWdlOiBEaXNwYXRjaGFibGVNZXNzYWdlPEs+KSA9PiB2b2lkO1xuICBsb2dUYWc6IHN0cmluZztcbn0pID0+IHtcbiAgY29uc3QgeyBlbmRwb2ludCwgb25NZXNzYWdlLCBsb2dUYWcgfSA9IG9wdHM7XG4gIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdUNsaWVudFdTJywgbG9nVGFnXSk7XG4gIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldChlbmRwb2ludCk7XG4gIHdzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInOyAvLyBkbyB3ZSBuZWVkIHRoaXM/XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignZXJyb3InLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgZXJyb3InLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBjbG9zZWQnLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIChlKSA9PiB7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGlzIG9wZW4nLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICBlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICAgICAgICAgID8gU2Z1RXZlbnQuZnJvbUJpbmFyeShuZXcgVWludDhBcnJheShlLmRhdGEpKVxuICAgICAgICAgIDogU2Z1RXZlbnQuZnJvbUpzb25TdHJpbmcoZS5kYXRhLnRvU3RyaW5nKCkpO1xuXG4gICAgICBvbk1lc3NhZ2UobWVzc2FnZSBhcyBEaXNwYXRjaGFibGVNZXNzYWdlPFNmdUV2ZW50S2luZHM+KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBkZWNvZGUgYSBtZXNzYWdlLiBDaGVjayB3aGV0aGVyIHRoZSBQcm90byBtb2RlbHMgbWF0Y2guJyxcbiAgICAgICAgeyBldmVudDogZSwgZXJyb3I6IGVyciB9LFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gd3M7XG59O1xuIiwiZXhwb3J0IHR5cGUgUHJvbWlzZVdpdGhSZXNvbHZlcnM8VD4gPSB7XG4gIHByb21pc2U6IFByb21pc2U8VD47XG4gIHJlc29sdmU6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkO1xuICByZWplY3Q6IChyZWFzb246IGFueSkgPT4gdm9pZDtcbiAgaXNSZXNvbHZlZDogYm9vbGVhbjtcbiAgaXNSZWplY3RlZDogYm9vbGVhbjtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBwcm9taXNlIHdpdGggcmVzb2x2ZXJzLlxuICpcbiAqIEJhc2VkIG9uOlxuICogLSBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1wcm9taXNlLXdpdGgtcmVzb2x2ZXJzL2Jsb2IvbWFpbi9wb2x5ZmlsbHMuanNcbiAqL1xuZXhwb3J0IGNvbnN0IHByb21pc2VXaXRoUmVzb2x2ZXJzID0gPFQgPSB2b2lkPigpOiBQcm9taXNlV2l0aFJlc29sdmVyczxUPiA9PiB7XG4gIGxldCByZXNvbHZlOiAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4gdm9pZDtcbiAgbGV0IHJlamVjdDogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2U8VD4oKF9yZXNvbHZlLCBfcmVqZWN0KSA9PiB7XG4gICAgcmVzb2x2ZSA9IF9yZXNvbHZlO1xuICAgIHJlamVjdCA9IF9yZWplY3Q7XG4gIH0pO1xuXG4gIGxldCBpc1Jlc29sdmVkID0gZmFsc2U7XG4gIGxldCBpc1JlamVjdGVkID0gZmFsc2U7XG5cbiAgY29uc3QgcmVzb2x2ZXIgPSAodmFsdWU6IFQgfCBQcm9taXNlTGlrZTxUPikgPT4ge1xuICAgIGlzUmVzb2x2ZWQgPSB0cnVlO1xuICAgIHJlc29sdmUodmFsdWUpO1xuICB9O1xuXG4gIGNvbnN0IHJlamVjdGVyID0gKHJlYXNvbjogYW55KSA9PiB7XG4gICAgaXNSZWplY3RlZCA9IHRydWU7XG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIHJlc29sdmU6IHJlc29sdmVyLFxuICAgIHJlamVjdDogcmVqZWN0ZXIsXG4gICAgaXNSZXNvbHZlZCxcbiAgICBpc1JlamVjdGVkLFxuICB9O1xufTtcbiIsImltcG9ydCB7IFNpZ25hbFNlcnZlckNsaWVudCB9IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2lnbmFsQ2xpZW50LFxuICByZXRyeWFibGUsXG4gIHdpdGhIZWFkZXJzLFxuICB3aXRoUmVxdWVzdExvZ2dlcixcbn0gZnJvbSAnLi9ycGMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCxcbiAgRGlzcGF0Y2hlcixcbiAgSWNlVHJpY2tsZUJ1ZmZlcixcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHtcbiAgSm9pblJlcXVlc3QsXG4gIEpvaW5SZXNwb25zZSxcbiAgU2Z1UmVxdWVzdCxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRTdGF0c1JlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyxcbiAgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlLCBUcmFja1R5cGUgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB7IGdlbmVyYXRlVVVJRHY0LCBzbGVlcCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGdldExvZ0xldmVsIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7XG4gIHByb21pc2VXaXRoUmVzb2x2ZXJzLFxuICBQcm9taXNlV2l0aFJlc29sdmVycyxcbn0gZnJvbSAnLi9oZWxwZXJzL3dpdGhSZXNvbHZlcnMnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1TZnVDbGllbnRDb25zdHJ1Y3RvciA9IHtcbiAgLyoqXG4gICAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGluc3RhbmNlIHRvIHVzZS5cbiAgICovXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBjcmVkZW50aWFscyB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzO1xuXG4gIC8qKlxuICAgKiBgc2Vzc2lvbklkYCB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgc2Vzc2lvbklkPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBIGxvZyB0YWcgdG8gdXNlIGZvciBsb2dnaW5nLiBVc2VmdWwgZm9yIGRlYnVnZ2luZyBtdWx0aXBsZSBpbnN0YW5jZXMuXG4gICAqL1xuICBsb2dUYWc6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIGZvciB3YWl0aW5nIGZvciB0aGUgYGpvaW5SZXNwb25zZWAuXG4gICAqIERlZmF1bHRzIHRvIDUwMDBtcy5cbiAgICovXG4gIGpvaW5SZXNwb25zZVRpbWVvdXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyBjbG9zZWQuXG4gICAqL1xuICBvblNpZ25hbENsb3NlPzogKCkgPT4gdm9pZDtcblxuICAvKipcbiAgICogVGhlIFN0cmVhbUNsaWVudCBpbnN0YW5jZSB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG59O1xuXG4vKipcbiAqIFRoZSBjbGllbnQgdXNlZCBmb3IgZXhjaGFuZ2luZyBpbmZvcm1hdGlvbiB3aXRoIHRoZSBTRlUuXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW1TZnVDbGllbnQge1xuICAvKipcbiAgICogQSBidWZmZXIgZm9yIElDRSBDYW5kaWRhdGVzIHRoYXQgYXJlIHJlY2VpdmVkIGJlZm9yZVxuICAgKiB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMgYXJlIHJlYWR5IHRvIGhhbmRsZSB0aGVtLlxuICAgKi9cbiAgcmVhZG9ubHkgaWNlVHJpY2tsZUJ1ZmZlciA9IG5ldyBJY2VUcmlja2xlQnVmZmVyKCk7XG5cbiAgLyoqXG4gICAqIFRoZSBgc2Vzc2lvbklkYCBvZiB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHJlYWRvbmx5IHNlc3Npb25JZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgYGVkZ2VOYW1lYCByZXByZXNlbnRpbmcgdGhlIGVkZ2UgdGhlIGNsaWVudCBpcyBjb25uZWN0ZWQgdG8uXG4gICAqL1xuICByZWFkb25seSBlZGdlTmFtZTogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBIb2xkcyB0aGUgY3VycmVudCBXZWJTb2NrZXQgY29ubmVjdGlvbiB0byB0aGUgU0ZVLlxuICAgKi9cbiAgcHJpdmF0ZSBzaWduYWxXcyE6IFdlYlNvY2tldDtcblxuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uIGlzIHJlYWR5IChvcGVuKS5cbiAgICovXG4gIHByaXZhdGUgc2lnbmFsUmVhZHkhOiBQcm9taXNlPFdlYlNvY2tldD47XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gaW5kaWNhdGUgaWYgdGhlIGNsaWVudCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBsZWF2aW5nIHRoZSBjYWxsLlxuICAgKiBUaGlzIGlzIHNldCB0byBgdHJ1ZWAgd2hlbiB0aGUgdXNlciBpbml0aWF0ZXMgdGhlIGxlYXZlIHByb2Nlc3MuXG4gICAqL1xuICBpc0xlYXZpbmcgPSBmYWxzZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHJwYzogU2lnbmFsU2VydmVyQ2xpZW50O1xuICBwcml2YXRlIGtlZXBBbGl2ZUludGVydmFsPzogTm9kZUpTLlRpbWVvdXQ7XG4gIHByaXZhdGUgY29ubmVjdGlvbkNoZWNrVGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIG1pZ3JhdGVBd2F5VGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIHBpbmdJbnRlcnZhbEluTXMgPSAxMCAqIDEwMDA7XG4gIHByaXZhdGUgdW5oZWFsdGh5VGltZW91dEluTXMgPSB0aGlzLnBpbmdJbnRlcnZhbEluTXMgKyA1ICogMTAwMDtcbiAgcHJpdmF0ZSBsYXN0TWVzc2FnZVRpbWVzdGFtcD86IERhdGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgcmVzdG9yZVdlYlNvY2tldENvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdyZWNvdmVyV2ViU29ja2V0Jyk7XG4gIHByaXZhdGUgcmVhZG9ubHkgdW5zdWJzY3JpYmVJY2VUcmlja2xlOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQ6ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgb25TaWduYWxDbG9zZTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ1RhZzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5SZXNwb25zZVRpbWVvdXQ/OiBudW1iZXI7XG4gIHByaXZhdGUgbmV0d29ya0F2YWlsYWJsZVRhc2s6IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+IHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIEpvaW5SZXNwb25zZSBpcyByZWNlaXZlZC5cbiAgICogUmVqZWN0cyBhZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkIGlmIHRoZSByZXNwb25zZSBpcyBub3QgcmVjZWl2ZWQuXG4gICAqL1xuICBwcml2YXRlIGpvaW5SZXNwb25zZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVyczxKb2luUmVzcG9uc2U+KCk7XG5cbiAgLyoqXG4gICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUuXG4gICAqIFJlamVjdHMgYWZ0ZXIgYSBjZXJ0YWluIHRocmVzaG9sZCBpZiB0aGUgbWlncmF0aW9uIGlzIG5vdCBjb21wbGV0ZS5cbiAgICovXG4gIHByaXZhdGUgbWlncmF0aW9uVGFzaz86IFByb21pc2VXaXRoUmVzb2x2ZXJzPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBBIGNvbnRyb2xsZXIgdG8gYWJvcnQgdGhlIGN1cnJlbnQgcmVxdWVzdHMuXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAvKipcbiAgICogVGhlIG5vcm1hbCBjbG9zdXJlIGNvZGUuIFVzZWQgZm9yIGNvbnRyb2xsZWQgc2h1dGRvd25zLlxuICAgKi9cbiAgc3RhdGljIE5PUk1BTF9DTE9TVVJFID0gMTAwMDtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIHVzZWQgd2hlbiB0aGUgU0ZVIGNvbm5lY3Rpb24gaXMgdW5oZWFsdGh5LlxuICAgKiBVc3VhbGx5LCB0aGlzIG1lYW5zIHRoYXQgbm8gbWVzc2FnZSBoYXMgYmVlbiByZWNlaXZlZCBmcm9tIHRoZSBTRlUgZm9yXG4gICAqIGEgY2VydGFpbiBhbW91bnQgb2YgdGltZSAoYGNvbm5lY3Rpb25DaGVja1RpbWVvdXRgKS5cbiAgICovXG4gIHN0YXRpYyBFUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSA9IDQwMDE7XG4gIC8qKlxuICAgKiBUaGUgZXJyb3IgY29kZSB1c2VkIHdoZW4gdGhlIFNGVSBjb25uZWN0aW9uIGlzIGRpc3Bvc2VkIGJlY2F1c2UgYSBuZXdcbiAgICogY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBvciBpcyBhYm91dCB0byBiZSBlc3RhYmxpc2hlZC5cbiAgICogSGVyZSwgd2UgZG9uJ3QgdXNlIDEwMDAgKG5vcm1hbCBjbG9zdXJlKSBiZWNhdXNlIHdlIGRvbid0IHdhbnQgdGhlXG4gICAqIFNGVSB0byBjbGVhbiB1cCB0aGUgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY3VycmVudCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIHN0YXRpYyBESVNQT1NFX09MRF9TT0NLRVQgPSA0MDAyO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFNGVSBjbGllbnQuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGF0Y2hlcixcbiAgICBjcmVkZW50aWFscyxcbiAgICBzZXNzaW9uSWQsXG4gICAgbG9nVGFnLFxuICAgIGpvaW5SZXNwb25zZVRpbWVvdXQgPSA1MDAwLFxuICAgIG9uU2lnbmFsQ2xvc2UsXG4gICAgc3RyZWFtQ2xpZW50LFxuICB9OiBTdHJlYW1TZnVDbGllbnRDb25zdHJ1Y3Rvcikge1xuICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQgfHwgZ2VuZXJhdGVVVUlEdjQoKTtcbiAgICB0aGlzLm9uU2lnbmFsQ2xvc2UgPSBvblNpZ25hbENsb3NlO1xuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICBjb25zdCB7IHNlcnZlciwgdG9rZW4gfSA9IGNyZWRlbnRpYWxzO1xuICAgIHRoaXMuZWRnZU5hbWUgPSBzZXJ2ZXIuZWRnZV9uYW1lO1xuICAgIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCA9IGpvaW5SZXNwb25zZVRpbWVvdXQ7XG4gICAgdGhpcy5sb2dUYWcgPSBsb2dUYWc7XG4gICAgdGhpcy5sb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVDbGllbnQnLCBsb2dUYWddKTtcbiAgICB0aGlzLnJwYyA9IGNyZWF0ZVNpZ25hbENsaWVudCh7XG4gICAgICBiYXNlVXJsOiBzZXJ2ZXIudXJsLFxuICAgICAgaW50ZXJjZXB0b3JzOiBbXG4gICAgICAgIHdpdGhIZWFkZXJzKHtcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcbiAgICAgICAgfSksXG4gICAgICAgIGdldExvZ0xldmVsKCkgPT09ICd0cmFjZScgJiYgd2l0aFJlcXVlc3RMb2dnZXIodGhpcy5sb2dnZXIsICd0cmFjZScpLFxuICAgICAgXS5maWx0ZXIoKHYpID0+ICEhdiksXG4gICAgfSk7XG5cbiAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgSUNFVHJpY2tsZSBraW5kIG9mIGV2ZW50cy5cbiAgICAvLyBUaGUgU0ZVIG1pZ2h0IHRyaWdnZXIgdGhlc2UgZXZlbnRzIGJlZm9yZSB0aGUgaW5pdGlhbCBSVENcbiAgICAvLyBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIG9yIFwiSm9pblJlc3BvbnNlXCIgcmVjZWl2ZWQuXG4gICAgLy8gSW4gdGhhdCBjYXNlLCB0aG9zZSBldmVudHMgKElDRSBjYW5kaWRhdGVzKSBuZWVkIHRvIGJlIGJ1ZmZlcmVkXG4gICAgLy8gYW5kIGxhdGVyIGFkZGVkIHRvIHRoZSBhcHByb3ByaWF0ZSBQZWVyQ29ubmVjdGlvblxuICAgIC8vIG9uY2UgdGhlIHJlbW90ZURlc2NyaXB0aW9uIGlzIGtub3duIGFuZCBzZXQuXG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGUgPSBkaXNwYXRjaGVyLm9uKCdpY2VUcmlja2xlJywgKGljZVRyaWNrbGUpID0+IHtcbiAgICAgIHRoaXMuaWNlVHJpY2tsZUJ1ZmZlci5wdXNoKGljZVRyaWNrbGUpO1xuICAgIH0pO1xuXG4gICAgLy8gbGlzdGVuIHRvIG5ldHdvcmsgY2hhbmdlcyB0byBoYW5kbGUgb2ZmbGluZSBzdGF0ZVxuICAgIC8vIHdlIHNob3VsZG4ndCBhdHRlbXB0IHRvIHJlY292ZXIgd2Vic29ja2V0IGNvbm5lY3Rpb24gd2hlbiBvZmZsaW5lXG4gICAgdGhpcy51bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkID0gc3RyZWFtQ2xpZW50Lm9uKCduZXR3b3JrLmNoYW5nZWQnLCAoZSkgPT4ge1xuICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuY3JlYXRlV2ViU29ja2V0KCk7XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVdlYlNvY2tldCA9ICgpID0+IHtcbiAgICB0aGlzLnNpZ25hbFdzID0gY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCh7XG4gICAgICBsb2dUYWc6IHRoaXMubG9nVGFnLFxuICAgICAgZW5kcG9pbnQ6IGAke3RoaXMuY3JlZGVudGlhbHMuc2VydmVyLndzX2VuZHBvaW50fT90YWc9JHt0aGlzLmxvZ1RhZ31gLFxuICAgICAgb25NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoZXIuZGlzcGF0Y2gobWVzc2FnZSwgdGhpcy5sb2dUYWcpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcbiAgICB0aGlzLnNpZ25hbFdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5yZXN0b3JlV2ViU29ja2V0KTtcblxuICAgIHRoaXMuc2lnbmFsUmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNpZ25hbFdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29wZW4nLCBvbk9wZW4pO1xuICAgICAgICByZXNvbHZlKHRoaXMuc2lnbmFsV3MpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3Blbik7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBjbGVhblVwV2ViU29ja2V0ID0gKCkgPT4ge1xuICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLnJlc3RvcmVXZWJTb2NrZXQpO1xuICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcbiAgfTtcblxuICBwcml2YXRlIHJlc3RvcmVXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMucmVzdG9yZVdlYlNvY2tldENvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5wcm9taXNlO1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1Jlc3RvcmluZyBTRlUgV1MgY29ubmVjdGlvbicpO1xuICAgICAgdGhpcy5jbGVhblVwV2ViU29ja2V0KCk7XG4gICAgICBhd2FpdCBzbGVlcCg1MDApO1xuICAgICAgdGhpcy5jcmVhdGVXZWJTb2NrZXQoKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB0aGlzLmxvZ2dlcignZGVidWcnLCBgQ2FuJ3QgcmVzdG9yZSBXUyBjb25uZWN0aW9uYCwgZXJyKSk7XG4gIH07XG5cbiAgZ2V0IGlzSGVhbHRoeSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTjtcbiAgfVxuXG4gIGdldCBqb2luVGFzaygpIHtcbiAgICByZXR1cm4gdGhpcy5qb2luUmVzcG9uc2VUYXNrLnByb21pc2U7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVdlYlNvY2tldENsb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuc2lnbmFsV3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xvc2UnLCB0aGlzLmhhbmRsZVdlYlNvY2tldENsb3NlKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMua2VlcEFsaXZlSW50ZXJ2YWwpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICAgIHRoaXMub25TaWduYWxDbG9zZT8uKCk7XG4gIH07XG5cbiAgY2xvc2UgPSAoY29kZTogbnVtYmVyID0gU3RyZWFtU2Z1Q2xpZW50Lk5PUk1BTF9DTE9TVVJFLCByZWFzb24/OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYENsb3NpbmcgU0ZVIFdTIGNvbm5lY3Rpb246ICR7Y29kZX0gLSAke3JlYXNvbn1gKTtcbiAgICAgIHRoaXMuc2lnbmFsV3MuY2xvc2UoY29kZSwgYGpzLWNsaWVudDogJHtyZWFzb259YCk7XG4gICAgICB0aGlzLmNsZWFuVXBXZWJTb2NrZXQoKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gIH07XG5cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnRGlzcG9zaW5nIFNGVSBjbGllbnQnKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlSWNlVHJpY2tsZSgpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVOZXR3b3JrQ2hhbmdlZCgpO1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgIHRoaXMubWlncmF0aW9uVGFzaz8ucmVzb2x2ZSgpO1xuICB9O1xuXG4gIGxlYXZlQW5kQ2xvc2UgPSBhc3luYyAocmVhc29uOiBzdHJpbmcpID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgICBhd2FpdCB0aGlzLm5vdGlmeUxlYXZlKHJlYXNvbik7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnRXJyb3Igbm90aWZ5aW5nIFNGVSBhYm91dCBsZWF2aW5nIGNhbGwnLCBlcnIpO1xuICAgIH1cblxuICAgIHRoaXMuY2xvc2UoU3RyZWFtU2Z1Q2xpZW50Lk5PUk1BTF9DTE9TVVJFLCByZWFzb24uc3Vic3RyaW5nKDAsIDExNSkpO1xuICB9O1xuXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMgPSBhc3luYyAodHJhY2tzOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXSkgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnVwZGF0ZVN1YnNjcmlwdGlvbnMoeyBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLCB0cmFja3MgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZXRQdWJsaXNoZXIgPSBhc3luYyAoZGF0YTogT21pdDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZXRQdWJsaXNoZXIoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgc2VuZEFuc3dlciA9IGFzeW5jIChkYXRhOiBPbWl0PFNlbmRBbnN3ZXJSZXF1ZXN0LCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5zZW5kQW5zd2VyKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGljZVRyaWNrbGUgPSBhc3luYyAoZGF0YTogT21pdDxJQ0VUcmlja2xlLCAnc2Vzc2lvbklkJz4pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy5pY2VUcmlja2xlKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGljZVJlc3RhcnQgPSBhc3luYyAoZGF0YTogT21pdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuaWNlUmVzdGFydCh7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICB1cGRhdGVNdXRlU3RhdGUgPSBhc3luYyAodHJhY2tUeXBlOiBUcmFja1R5cGUsIG11dGVkOiBib29sZWFuKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gdGhpcy51cGRhdGVNdXRlU3RhdGVzKHsgbXV0ZVN0YXRlczogW3sgdHJhY2tUeXBlLCBtdXRlZCB9XSB9KTtcbiAgfTtcblxuICB1cGRhdGVNdXRlU3RhdGVzID0gYXN5bmMgKFxuICAgIGRhdGE6IE9taXQ8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsICdzZXNzaW9uSWQnPixcbiAgKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMudXBkYXRlTXV0ZVN0YXRlcyh7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kU3RhdHMgPSBhc3luYyAoc3RhdHM6IE9taXQ8U2VuZFN0YXRzUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc2VuZFN0YXRzKHsgLi4uc3RhdHMsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oeyBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgc3RvcE5vaXNlQ2FuY2VsbGF0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLnN0b3BOb2lzZUNhbmNlbGxhdGlvbih7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBlbnRlck1pZ3JhdGlvbiA9IGFzeW5jIChvcHRzOiB7IHRpbWVvdXQ/OiBudW1iZXIgfSA9IHt9KSA9PiB7XG4gICAgdGhpcy5pc0xlYXZpbmcgPSB0cnVlO1xuICAgIGNvbnN0IHsgdGltZW91dCA9IDcgKiAxMDAwIH0gPSBvcHRzO1xuXG4gICAgdGhpcy5taWdyYXRpb25UYXNrPy5yZWplY3QobmV3IEVycm9yKCdDYW5jZWxsZWQgcHJldmlvdXMgbWlncmF0aW9uJykpO1xuICAgIGNvbnN0IHRhc2sgPSAodGhpcy5taWdyYXRpb25UYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKSk7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLmRpc3BhdGNoZXIub24oXG4gICAgICAncGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZScsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLm1pZ3JhdGVBd2F5VGltZW91dCk7XG4gICAgICAgIHRhc2sucmVzb2x2ZSgpO1xuICAgICAgfSxcbiAgICApO1xuICAgIHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgdGFzay5yZWplY3QoXG4gICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICBgTWlncmF0aW9uICgke3RoaXMubG9nVGFnfSkgZmFpbGVkIHRvIGNvbXBsZXRlIGluICR7dGltZW91dH1tc2AsXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH0sIHRpbWVvdXQpO1xuXG4gICAgcmV0dXJuIHRhc2sucHJvbWlzZTtcbiAgfTtcblxuICBqb2luID0gYXN5bmMgKFxuICAgIGRhdGE6IE9taXQ8Sm9pblJlcXVlc3QsICdzZXNzaW9uSWQnIHwgJ3Rva2VuJz4sXG4gICk6IFByb21pc2U8Sm9pblJlc3BvbnNlPiA9PiB7XG4gICAgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3ZWIgc29ja2V0IHRvIGJlIHJlYWR5IGJlZm9yZSBzZW5kaW5nIFwiam9pblJlcXVlc3RcIlxuICAgIGF3YWl0IHRoaXMuc2lnbmFsUmVhZHk7XG4gICAgaWYgKHRoaXMuam9pblJlc3BvbnNlVGFzay5pc1Jlc29sdmVkIHx8IHRoaXMuam9pblJlc3BvbnNlVGFzay5pc1JlamVjdGVkKSB7XG4gICAgICAvLyB3ZSBuZWVkIHRvIGxvY2sgdGhlIFJQQyByZXF1ZXN0cyB1bnRpbCB3ZSByZWNlaXZlIGEgSm9pblJlc3BvbnNlLlxuICAgICAgLy8gdGhhdCdzIHdoeSB3ZSBoYXZlIHRoaXMgcHJpbWl0aXZlIGxvY2sgbWVjaGFuaXNtLlxuICAgICAgLy8gdGhlIGNsaWVudCBzdGFydHMgd2l0aCBhbHJlYWR5IGluaXRpYWxpemVkIGpvaW5SZXNwb25zZVRhc2ssXG4gICAgICAvLyBhbmQgdGhpcyBjb2RlIGNyZWF0ZXMgYSBuZXcgb25lIGZvciB0aGUgbmV4dCBqb2luIHJlcXVlc3QuXG4gICAgICB0aGlzLmpvaW5SZXNwb25zZVRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVyczxKb2luUmVzcG9uc2U+KCk7XG4gICAgfVxuXG4gICAgLy8gY2FwdHVyZSBhIHJlZmVyZW5jZSB0byB0aGUgY3VycmVudCBqb2luUmVzcG9uc2VUYXNrIGFzIGl0IG1pZ2h0XG4gICAgLy8gYmUgcmVwbGFjZWQgd2l0aCBhIG5ldyBvbmUgaW4gY2FzZSBhIHNlY29uZCBqb2luIHJlcXVlc3QgaXMgbWFkZVxuICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLmpvaW5SZXNwb25zZVRhc2s7XG5cbiAgICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dDtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbignam9pblJlc3BvbnNlJywgKGpvaW5SZXNwb25zZSkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1JlY2VpdmVkIGpvaW5SZXNwb25zZScsIGpvaW5SZXNwb25zZSk7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB0aGlzLmtlZXBBbGl2ZSgpO1xuICAgICAgY3VycmVudC5yZXNvbHZlKGpvaW5SZXNwb25zZSk7XG4gICAgfSk7XG5cbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBjdXJyZW50LnJlamVjdChuZXcgRXJyb3IoJ1dhaXRpbmcgZm9yIFwiam9pblJlc3BvbnNlXCIgaGFzIHRpbWVkIG91dCcpKTtcbiAgICB9LCB0aGlzLmpvaW5SZXNwb25zZVRpbWVvdXQpO1xuXG4gICAgYXdhaXQgdGhpcy5zZW5kKFxuICAgICAgU2Z1UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICByZXF1ZXN0UGF5bG9hZDoge1xuICAgICAgICAgIG9uZW9mS2luZDogJ2pvaW5SZXF1ZXN0JyxcbiAgICAgICAgICBqb2luUmVxdWVzdDogSm9pblJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgdG9rZW46IHRoaXMuY3JlZGVudGlhbHMudG9rZW4sXG4gICAgICAgICAgfSksXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGN1cnJlbnQucHJvbWlzZTtcbiAgfTtcblxuICBwaW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXF1ZXN0JyxcbiAgICAgICAgICBoZWFsdGhDaGVja1JlcXVlc3Q6IHt9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIG5vdGlmeUxlYXZlID0gYXN5bmMgKHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZChcbiAgICAgIFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgICAgcmVxdWVzdFBheWxvYWQ6IHtcbiAgICAgICAgICBvbmVvZktpbmQ6ICdsZWF2ZUNhbGxSZXF1ZXN0JyxcbiAgICAgICAgICBsZWF2ZUNhbGxSZXF1ZXN0OiB7XG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgcmVhc29uLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgc2VuZCA9IGFzeW5jIChtZXNzYWdlOiBTZnVSZXF1ZXN0KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zaWduYWxSZWFkeTsgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3cyB0byBiZSBvcGVuXG4gICAgY29uc3QgbXNnSnNvbiA9IFNmdVJlcXVlc3QudG9Kc29uKG1lc3NhZ2UpO1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU2lnbmFsIFdTIGlzIG5vdCBvcGVuLiBTa2lwcGluZyBtZXNzYWdlJywgbXNnSnNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTZW5kaW5nIG1lc3NhZ2UgdG86ICR7dGhpcy5lZGdlTmFtZX1gLCBtc2dKc29uKTtcbiAgICB0aGlzLnNpZ25hbFdzLnNlbmQoU2Z1UmVxdWVzdC50b0JpbmFyeShtZXNzYWdlKSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBrZWVwQWxpdmUgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICB0aGlzLmtlZXBBbGl2ZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5waW5nKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0Vycm9yIHNlbmRpbmcgaGVhbHRoQ2hlY2tSZXF1ZXN0IHRvIFNGVScsIGUpO1xuICAgICAgfSk7XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWxJbk1zKTtcbiAgfTtcblxuICBwcml2YXRlIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQpO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMubGFzdE1lc3NhZ2VUaW1lc3RhbXApIHtcbiAgICAgICAgY29uc3QgdGltZVNpbmNlTGFzdE1lc3NhZ2UgPVxuICAgICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcC5nZXRUaW1lKCk7XG5cbiAgICAgICAgaWYgKHRpbWVTaW5jZUxhc3RNZXNzYWdlID4gdGhpcy51bmhlYWx0aHlUaW1lb3V0SW5Ncykge1xuICAgICAgICAgIHRoaXMuY2xvc2UoXG4gICAgICAgICAgICBTdHJlYW1TZnVDbGllbnQuRVJST1JfQ09OTkVDVElPTl9VTkhFQUxUSFksXG4gICAgICAgICAgICBgU0ZVIGNvbm5lY3Rpb24gdW5oZWFsdGh5LiBEaWRuJ3QgcmVjZWl2ZSBhbnkgbWVzc2FnZSBmb3IgJHt0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zfW1zYCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgdGhpcy51bmhlYWx0aHlUaW1lb3V0SW5Ncyk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBJQ0VTZXJ2ZXIgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuXG5leHBvcnQgY29uc3QgdG9SdGNDb25maWd1cmF0aW9uID0gKGNvbmZpZzogSUNFU2VydmVyW10pOiBSVENDb25maWd1cmF0aW9uID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpY2VTZXJ2ZXJzOiBjb25maWcubWFwKChpY2UpID0+ICh7XG4gICAgICB1cmxzOiBpY2UudXJscyxcbiAgICAgIHVzZXJuYW1lOiBpY2UudXNlcm5hbWUsXG4gICAgICBjcmVkZW50aWFsOiBpY2UucGFzc3dvcmQsXG4gICAgfSkpLFxuICB9O1xufTtcbiIsImltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB0eXBlIHsgQ2FsbEFjY2VwdGVkRXZlbnQsIENhbGxSZWplY3RlZEV2ZW50IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IENhbGxFbmRlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IENhbGxFbmRlZFJlYXNvbiB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZWQgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmFjY2VwdGVkYC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBqb2luZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxBY2NlcHRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxBY2NlcHRlZChldmVudDogQ2FsbEFjY2VwdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbGw7XG4gICAgaWYgKFxuICAgICAgZXZlbnQuY2FsbC5jcmVhdGVkX2J5LmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQgJiZcbiAgICAgIHN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkdcbiAgICApIHtcbiAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZGVsaXZlcnkgb2YgYGNhbGwucmVqZWN0ZWRgIFdlYnNvY2tldCBldmVudC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBsZWZ0LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsUmVqZWN0ZWQgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gb25DYWxsUmVqZWN0ZWQoZXZlbnQ6IENhbGxSZWplY3RlZEV2ZW50KSB7XG4gICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIHRoZSBldmVudCBpZiBpdCdzIGZyb20gdGhlIGN1cnJlbnQgdXNlclxuICAgIGlmIChldmVudC51c2VyLmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQpIHJldHVybjtcbiAgICBjb25zdCB7IGNhbGw6IGV2ZW50Q2FsbCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBzZXNzaW9uOiBjYWxsU2Vzc2lvbiB9ID0gZXZlbnRDYWxsO1xuXG4gICAgaWYgKCFjYWxsU2Vzc2lvbikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ05vIGNhbGwgc2Vzc2lvbiBwcm92aWRlZC4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVqZWN0ZWRCeSA9IGNhbGxTZXNzaW9uLnJlamVjdGVkX2J5O1xuICAgIGNvbnN0IHsgbWVtYmVycywgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnQ2FsbCBpcyBub3QgaW4gcmluZ2luZyBtb2RlIChpdCBpcyBlaXRoZXIgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgYWxyZWFkeSkuIElnbm9yaW5nIGNhbGwucmVqZWN0ZWQgZXZlbnQuJyxcbiAgICAgICAgZXZlbnQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FsbC5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICBjb25zdCBldmVyeW9uZUVsc2VSZWplY3RlZCA9IG1lbWJlcnNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gbS51c2VyX2lkICE9PSBjYWxsLmN1cnJlbnRVc2VySWQpXG4gICAgICAgIC5ldmVyeSgobSkgPT4gcmVqZWN0ZWRCeVttLnVzZXJfaWRdKTtcbiAgICAgIGlmIChldmVyeW9uZUVsc2VSZWplY3RlZCkge1xuICAgICAgICBjYWxsLmxvZ2dlcignaW5mbycsICdldmVyeW9uZSByZWplY3RlZCwgbGVhdmluZyB0aGUgY2FsbCcpO1xuICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiAncmluZzogZXZlcnlvbmUgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocmVqZWN0ZWRCeVtldmVudENhbGwuY3JlYXRlZF9ieS5pZF0pIHtcbiAgICAgICAgY2FsbC5sb2dnZXIoJ2luZm8nLCAnY2FsbCBjcmVhdG9yIHJlamVjdGVkLCBsZWF2aW5nIGNhbGwnKTtcbiAgICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IHJlYXNvbjogJ3Jpbmc6IGNyZWF0b3IgcmVqZWN0ZWQnIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmVuZGVkYCBXZWJzb2NrZXQgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxFbmRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvbkNhbGxFbmRlZCgpIHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSB9ID0gY2FsbC5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HIHx8XG4gICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQgfHxcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5JTkdcbiAgICApIHtcbiAgICAgIGNhbGwubGVhdmUoeyByZWFzb246ICdjYWxsLmVuZGVkIGV2ZW50IHJlY2VpdmVkJyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNhbGwubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gbGVhdmUgY2FsbCBhZnRlciBjYWxsLmVuZGVkICcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBjYWxsRW5kZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoU2Z1Q2FsbEVuZGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGNhbGwub24oJ2NhbGxFbmRlZCcsIGFzeW5jIChlOiBDYWxsRW5kZWQpID0+IHtcbiAgICBpZiAoY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIC8vIGBjYWxsLmVuZGVkYCBldmVudCBhcnJpdmVkIGFmdGVyIHRoZSBjYWxsIGlzIGFscmVhZHkgbGVmdFxuICAgICAgLy8gYW5kIGFsbCBldmVudCBoYW5kbGVycyBhcmUgZGV0YWNoZWQuIFdlIG5lZWQgdG8gbWFudWFsbHlcbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB0byByZWZsZWN0IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgIGNhbGwuc3RhdGUuc2V0RW5kZWRBdChuZXcgRGF0ZSgpKTtcbiAgICAgIGNvbnN0IHJlYXNvbiA9IENhbGxFbmRlZFJlYXNvbltlLnJlYXNvbl07XG4gICAgICBhd2FpdCBjYWxsLmxlYXZlKHsgcmVhc29uOiBgY2FsbEVuZGVkIHJlY2VpdmVkOiAke3JlYXNvbn1gIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICdlcnJvcicsXG4gICAgICAgICdGYWlsZWQgdG8gbGVhdmUgY2FsbCBhZnRlciBiZWluZyBlbmRlZCBieSB0aGUgU0ZVJyxcbiAgICAgICAgZXJyLFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufTtcbiIsImltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB0eXBlIHsgQ2FsbEdyYW50c1VwZGF0ZWQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyBmb3IgYGNhbGxHcmFudHNVcGRhdGVkYCBldmVudHMuXG4gKlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlIHRvIHVwZGF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEdyYW50c1VwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25DYWxsR3JhbnRzVXBkYXRlZChldmVudDogQ2FsbEdyYW50c1VwZGF0ZWQpIHtcbiAgICBjb25zdCB7IGN1cnJlbnRHcmFudHMgfSA9IGV2ZW50O1xuICAgIGlmIChjdXJyZW50R3JhbnRzKSB7XG4gICAgICBjb25zdCB7IGNhblB1Ymxpc2hBdWRpbywgY2FuUHVibGlzaFZpZGVvLCBjYW5TY3JlZW5zaGFyZSB9ID1cbiAgICAgICAgY3VycmVudEdyYW50cztcblxuICAgICAgY29uc3QgdXBkYXRlOiBQYXJ0aWFsPFJlY29yZDxPd25DYXBhYmlsaXR5LCBib29sZWFuPj4gPSB7XG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dOiBjYW5QdWJsaXNoQXVkaW8sXG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dOiBjYW5QdWJsaXNoVmlkZW8sXG4gICAgICAgIFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXTogY2FuU2NyZWVuc2hhcmUsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBuZXh0Q2FwYWJpbGl0aWVzID0gc3RhdGUub3duQ2FwYWJpbGl0aWVzLmZpbHRlcihcbiAgICAgICAgKGNhcGFiaWxpdHkpID0+IHVwZGF0ZVtjYXBhYmlsaXR5XSAhPT0gZmFsc2UsXG4gICAgICApO1xuICAgICAgT2JqZWN0LmVudHJpZXModXBkYXRlKS5mb3JFYWNoKChbY2FwYWJpbGl0eSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAmJiAhbmV4dENhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5IGFzIE93bkNhcGFiaWxpdHkpKSB7XG4gICAgICAgICAgbmV4dENhcGFiaWxpdGllcy5wdXNoKGNhcGFiaWxpdHkgYXMgT3duQ2FwYWJpbGl0eSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMobmV4dENhcGFiaWxpdGllcyk7XG4gICAgfVxuICB9O1xufTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHR5cGUgeyBQaW5zQ2hhbmdlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIEVycm9yQ29kZSxcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYGNoYW5nZVB1Ymxpc2hRdWFsaXR5YCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2hhbmdlUHVibGlzaFF1YWxpdHkgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIGNhbGw6IENhbGwsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JywgKGUpID0+IHtcbiAgICBjb25zdCB7IHZpZGVvU2VuZGVycyB9ID0gZTtcbiAgICB2aWRlb1NlbmRlcnMuZm9yRWFjaCgodmlkZW9TZW5kZXIpID0+IHtcbiAgICAgIGNvbnN0IHsgbGF5ZXJzIH0gPSB2aWRlb1NlbmRlcjtcbiAgICAgIGNhbGwudXBkYXRlUHVibGlzaFF1YWxpdHkobGF5ZXJzLmZpbHRlcigobCkgPT4gbC5hY3RpdmUpKTtcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Nvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMgfSA9IGU7XG4gICAgaWYgKCFjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMpIHJldHVybjtcbiAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudHMoXG4gICAgICBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPihcbiAgICAgICAgKHBhdGNoZXMsIHVwZGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2Vzc2lvbklkLCBjb25uZWN0aW9uUXVhbGl0eSB9ID0gdXBkYXRlO1xuICAgICAgICAgIHBhdGNoZXNbc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHt9LFxuICAgICAgKSxcbiAgICApO1xuICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgYXBwcm94aW1hdGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbCBieSBwZWVraW5nIGF0IHRoZVxuICogaGVhbHRoIGNoZWNrIGV2ZW50cyB0aGF0IG91ciBTRlUgc2VuZHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50Q291bnRDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdoZWFsdGhDaGVja1Jlc3BvbnNlJywgKGUpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Q291bnQgfSA9IGU7XG4gICAgaWYgKHBhcnRpY2lwYW50Q291bnQpIHtcbiAgICAgIHN0YXRlLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudC50b3RhbCk7XG4gICAgICBzdGF0ZS5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQuYW5vbnltb3VzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHdhdGNoTGl2ZUVuZGVkID0gKGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBpZiAoZS5lcnJvciAmJiBlLmVycm9yLmNvZGUgIT09IEVycm9yQ29kZS5MSVZFX0VOREVEKSByZXR1cm47XG5cbiAgICBpZiAoIWNhbGwucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5KT0lOX0JBQ0tTVEFHRSkpIHtcbiAgICAgIGNhbGwubGVhdmUoeyByZWFzb246ICdsaXZlIGVuZGVkJyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNhbGwubG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gbGVhdmUgY2FsbCBhZnRlciBsaXZlIGVuZGVkJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgYW5kIGxvZ3MgdGhlIGVycm9ycyByZXBvcnRlZCBieSB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCBTRlUuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFNmdUVycm9yUmVwb3J0cyA9IChkaXNwYXRjaGVyOiBEaXNwYXRjaGVyKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgaWYgKCFlLmVycm9yKSByZXR1cm47XG4gICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU2Z1Q2xpZW50J10pO1xuICAgIGNvbnN0IHsgZXJyb3IsIHJlY29ubmVjdFN0cmF0ZWd5IH0gPSBlO1xuICAgIGxvZ2dlcignZXJyb3InLCAnU0ZVIHJlcG9ydGVkIGVycm9yJywge1xuICAgICAgY29kZTogRXJyb3JDb2RlW2Vycm9yLmNvZGVdLFxuICAgICAgcmVjb25uZWN0U3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W3JlY29ubmVjdFN0cmF0ZWd5XSxcbiAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICBzaG91bGRSZXRyeTogZXJyb3Iuc2hvdWxkUmV0cnksXG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgcGluc1VwZGF0ZWRgIGV2ZW50cyBhbmQgdXBkYXRlcyB0aGUgcGlubmVkIHN0YXRlIG9mIHBhcnRpY2lwYW50c1xuICogaW4gdGhlIGNhbGwuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBpbnNVcGRhdGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGluc1VwZGF0ZWQoZTogUGluc0NoYW5nZWQpIHtcbiAgICBjb25zdCB7IHBpbnMgfSA9IGU7XG4gICAgc3RhdGUuc2V0U2VydmVyU2lkZVBpbnMocGlucyk7XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHtcbiAgVHJhY2tUeXBlLFxuICBUcmFja1VucHVibGlzaFJlYXNvbixcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBBbiBldmVudCBoYW5kbGVyIHRoYXQgaGFuZGxlcyBzb2Z0IG11dGVzLlxuICpcbiAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsLlxuICovXG5leHBvcnQgY29uc3QgaGFuZGxlUmVtb3RlU29mdE11dGUgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gY2FsbC5vbigndHJhY2tVbnB1Ymxpc2hlZCcsIGFzeW5jIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHsgY2F1c2UsIHR5cGUsIHNlc3Npb25JZCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBsb2NhbFBhcnRpY2lwYW50IH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChcbiAgICAgIGNhdXNlID09PSBUcmFja1VucHVibGlzaFJlYXNvbi5NT0RFUkFUSU9OICYmXG4gICAgICBzZXNzaW9uSWQgPT09IGxvY2FsUGFydGljaXBhbnQ/LnNlc3Npb25JZFxuICAgICkge1xuICAgICAgY29uc3QgbG9nZ2VyID0gY2FsbC5sb2dnZXI7XG4gICAgICBsb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgYExvY2FsIHBhcnRpY2lwYW50J3MgJHtUcmFja1R5cGVbdHlwZV19IHRyYWNrIGlzIG11dGVkIHJlbW90ZWx5YCxcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAodHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFRyYWNrVHlwZS5BVURJTykge1xuICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgdHlwZSA9PT0gVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSB8fFxuICAgICAgICAgIHR5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU9cbiAgICAgICAgKSB7XG4gICAgICAgICAgYXdhaXQgY2FsbC5zY3JlZW5TaGFyZS5kaXNhYmxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1Vuc3VwcG9ydGVkIHRyYWNrIHR5cGUgdG8gc29mdCBtdXRlJyxcbiAgICAgICAgICAgIFRyYWNrVHlwZVt0eXBlXSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBzdG9wIHB1Ymxpc2hpbmcnLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIFBhcnRpY2lwYW50Sm9pbmVkLFxuICBQYXJ0aWNpcGFudExlZnQsXG4gIFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgVHJhY2tQdWJsaXNoZWQsXG4gIFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB0eXBlIHsgUGFydGljaXBhbnQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkgfSBmcm9tICcuLi9ydGMvaGVscGVycy90cmFja3MnO1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgcGFydGljaXBhbnRKb2luZWRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudEpvaW5lZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBhcnRpY2lwYW50Sm9pbmVkKGU6IFBhcnRpY2lwYW50Sm9pbmVkKSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG4gICAgLy8gYHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnRgIGFjdHMgYXMgYSBzYWZlZ3VhcmQgYWdhaW5zdFxuICAgIC8vIHBvdGVudGlhbCBkdXBsaWNhdGUgZXZlbnRzIGZyb20gdGhlIFNGVS5cbiAgICAvL1xuICAgIC8vIEFsdGhvdWdoIHRoZSBTRlUgc2hvdWxkIG5vdCBzZW5kIGR1cGxpY2F0ZSBldmVudHMsIHdlIGhhdmUgc2VlblxuICAgIC8vIHNvbWUgcmFjZSBjb25kaXRpb25zIGluIHRoZSBwYXN0IGR1cmluZyB0aGUgYGpvaW4tZmxvd2AuXG4gICAgLy8gVGhlIFNGVSB3b3VsZCBzZW5kIHBhcnRpY2lwYW50IGluZm8gYXMgcGFydCBvZiB0aGUgYGpvaW5gXG4gICAgLy8gcmVzcG9uc2UgYW5kIHRoZW4gZm9sbG93IHVwIHdpdGggYSBgcGFydGljaXBhbnRKb2luZWRgIGV2ZW50IGZvclxuICAgIC8vIGFscmVhZHkgYW5ub3VuY2VkIHBhcnRpY2lwYW50cy5cbiAgICBjb25zdCBvcnBoYW5lZFRyYWNrcyA9IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzKHN0YXRlLCBwYXJ0aWNpcGFudCk7XG4gICAgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudChcbiAgICAgIHBhcnRpY2lwYW50LnNlc3Npb25JZCxcbiAgICAgIE9iamVjdC5hc3NpZ248XG4gICAgICAgIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gICAgICAgIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCB8IHVuZGVmaW5lZCxcbiAgICAgICAgUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PlxuICAgICAgPihwYXJ0aWNpcGFudCwgb3JwaGFuZWRUcmFja3MsIHtcbiAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IHtcbiAgICAgICAgICB2aWRlb1RyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgICBzY3JlZW5TaGFyZVRyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgcGFydGljaXBhbnRMZWZ0YCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRMZWZ0ID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uUGFydGljaXBhbnRMZWZ0KGU6IFBhcnRpY2lwYW50TGVmdCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuXG4gICAgc3RhdGUuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+XG4gICAgICBwYXJ0aWNpcGFudHMuZmlsdGVyKChwKSA9PiBwLnNlc3Npb25JZCAhPT0gcGFydGljaXBhbnQuc2Vzc2lvbklkKSxcbiAgICApO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50VXBkYXRlZGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBhcnRpY2lwYW50VXBkYXRlZChlOiBQYXJ0aWNpcGFudFVwZGF0ZWQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcbiAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChwYXJ0aWNpcGFudC5zZXNzaW9uSWQsIHBhcnRpY2lwYW50KTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGB0cmFja1B1Ymxpc2hlZGAgZXZlbnQuXG4gKiBUaGUgU0ZVIHdpbGwgc2VuZCB0aGlzIGV2ZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBwdWJsaXNoZXMgYSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoVHJhY2tQdWJsaXNoZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25UcmFja1B1Ymxpc2hlZChlOiBUcmFja1B1Ymxpc2hlZCkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2Vzc2lvbklkIH0gPSBlO1xuICAgIC8vIEFuIG9wdGltaXphdGlvbiBmb3IgbGFyZ2UgY2FsbHMuXG4gICAgLy8gQWZ0ZXIgYSBjZXJ0YWluIHRocmVzaG9sZCwgdGhlIFNGVSB3b3VsZCBzdG9wIGVtaXR0aW5nIGBwYXJ0aWNpcGFudEpvaW5lZGBcbiAgICAvLyBldmVudHMsIGFuZCBpbnN0ZWFkLCBpdCB3b3VsZCBvbmx5IHByb3ZpZGUgdGhlIHBhcnRpY2lwYW50J3MgaW5mb3JtYXRpb25cbiAgICAvLyBvbmNlIHRoZXkgc3RhcnQgcHVibGlzaGluZyBhIHRyYWNrLlxuICAgIGlmIChlLnBhcnRpY2lwYW50KSB7XG4gICAgICBjb25zdCBvcnBoYW5lZFRyYWNrcyA9IHJlY29uY2lsZU9ycGhhbmVkVHJhY2tzKHN0YXRlLCBlLnBhcnRpY2lwYW50KTtcbiAgICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gT2JqZWN0LmFzc2lnbihlLnBhcnRpY2lwYW50LCBvcnBoYW5lZFRyYWNrcyk7XG4gICAgICBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50KHNlc3Npb25JZCwgcGFydGljaXBhbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IFsuLi5wLnB1Ymxpc2hlZFRyYWNrcywgdHlwZV0uZmlsdGVyKHVuaXF1ZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHRyYWNrVW5wdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgdW5wdWJsaXNoZXMgYSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblRyYWNrVW5wdWJsaXNoZWQoZTogVHJhY2tVbnB1Ymxpc2hlZCkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2Vzc2lvbklkIH0gPSBlO1xuICAgIC8vIEFuIG9wdGltaXphdGlvbiBmb3IgbGFyZ2UgY2FsbHMuIFNlZSBgd2F0Y2hUcmFja1B1Ymxpc2hlZGAuXG4gICAgaWYgKGUucGFydGljaXBhbnQpIHtcbiAgICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIGUucGFydGljaXBhbnQpO1xuICAgICAgY29uc3QgcGFydGljaXBhbnQgPSBPYmplY3QuYXNzaWduKGUucGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzKTtcbiAgICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHApID0+ICh7XG4gICAgICAgIHB1Ymxpc2hlZFRyYWNrczogcC5wdWJsaXNoZWRUcmFja3MuZmlsdGVyKCh0KSA9PiB0ICE9PSB0eXBlKSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59O1xuXG5jb25zdCB1bmlxdWUgPSA8VD4odjogVCwgaTogbnVtYmVyLCBhcnI6IFRbXSkgPT4gYXJyLmluZGV4T2YodikgPT09IGk7XG5cbi8qKlxuICogUmVjb25jaWxlcyBvcnBoYW5lZCB0cmFja3MgKGlmIGFueSkgZm9yIHRoZSBnaXZlbiBwYXJ0aWNpcGFudC5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgdGhlIGNhbGwgc3RhdGUuXG4gKiBAcGFyYW0gcGFydGljaXBhbnQgdGhlIHBhcnRpY2lwYW50LlxuICovXG5jb25zdCByZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyA9IChcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbiAgcGFydGljaXBhbnQ6IFBhcnRpY2lwYW50LFxuKTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoIHwgdW5kZWZpbmVkID0+IHtcbiAgY29uc3Qgb3JwaGFuVHJhY2tzID0gc3RhdGUudGFrZU9ycGhhbmVkVHJhY2tzKHBhcnRpY2lwYW50LnRyYWNrTG9va3VwUHJlZml4KTtcbiAgaWYgKCFvcnBoYW5UcmFja3MubGVuZ3RoKSByZXR1cm47XG4gIGNvbnN0IHJlY29uY2lsZWRUcmFja3M6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCA9IHt9O1xuICBmb3IgKGNvbnN0IG9ycGhhbiBvZiBvcnBoYW5UcmFja3MpIHtcbiAgICBjb25zdCBrZXkgPSB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5KG9ycGhhbi50cmFja1R5cGUpO1xuICAgIGlmICgha2V5KSBjb250aW51ZTtcbiAgICByZWNvbmNpbGVkVHJhY2tzW2tleV0gPSBvcnBoYW4udHJhY2s7XG4gIH1cbiAgcmV0dXJuIHJlY29uY2lsZWRUcmFja3M7XG59O1xuIiwiaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyB9IGZyb20gJy4uL3R5cGVzJztcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgZG9taW5hbnRTcGVha2VyQ2hhbmdlZGAgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdkb21pbmFudFNwZWFrZXJDaGFuZ2VkJywgKGUpID0+IHtcbiAgICBjb25zdCB7IHNlc3Npb25JZCB9ID0gZTtcbiAgICBpZiAoc2Vzc2lvbklkID09PSBzdGF0ZS5kb21pbmFudFNwZWFrZXI/LnNlc3Npb25JZCkgcmV0dXJuO1xuICAgIHN0YXRlLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgLy8gbWFyayB0aGUgbmV3IGRvbWluYW50IHNwZWFrZXJcbiAgICAgICAgaWYgKHBhcnRpY2lwYW50LnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgICAgaXNEb21pbmFudFNwZWFrZXI6IHRydWUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyB1bm1hcmsgdGhlIG9sZCBkb21pbmFudCBzcGVha2VyXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5pc0RvbWluYW50U3BlYWtlcikge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIGlzRG9taW5hbnRTcGVha2VyOiBmYWxzZSxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudDsgLy8gbm8gY2hhbmdlXG4gICAgICB9KSxcbiAgICApO1xuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYGF1ZGlvTGV2ZWxDaGFuZ2VkYCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdhdWRpb0xldmVsQ2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBhdWRpb0xldmVscyB9ID0gZTtcbiAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudHMoXG4gICAgICBhdWRpb0xldmVscy5yZWR1Y2U8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXM+KChwYXRjaGVzLCBjdXJyZW50KSA9PiB7XG4gICAgICAgIHBhdGNoZXNbY3VycmVudC5zZXNzaW9uSWRdID0ge1xuICAgICAgICAgIGF1ZGlvTGV2ZWw6IGN1cnJlbnQubGV2ZWwsXG4gICAgICAgICAgaXNTcGVha2luZzogY3VycmVudC5pc1NwZWFraW5nLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcGF0Y2hlcztcbiAgICAgIH0sIHt9KSxcbiAgICApO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBEaXNwYXRjaGVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7XG4gIGhhbmRsZVJlbW90ZVNvZnRNdXRlLFxuICB3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkLFxuICB3YXRjaENhbGxBY2NlcHRlZCxcbiAgd2F0Y2hDYWxsRW5kZWQsXG4gIHdhdGNoQ2FsbEdyYW50c1VwZGF0ZWQsXG4gIHdhdGNoQ2FsbFJlamVjdGVkLFxuICB3YXRjaENoYW5nZVB1Ymxpc2hRdWFsaXR5LFxuICB3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgd2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICB3YXRjaExpdmVFbmRlZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudEpvaW5lZCxcbiAgd2F0Y2hQYXJ0aWNpcGFudExlZnQsXG4gIHdhdGNoUGFydGljaXBhbnRVcGRhdGVkLFxuICB3YXRjaFBpbnNVcGRhdGVkLFxuICB3YXRjaFNmdUNhbGxFbmRlZCxcbiAgd2F0Y2hTZnVFcnJvclJlcG9ydHMsXG4gIHdhdGNoVHJhY2tQdWJsaXNoZWQsXG4gIHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCxcbn0gZnJvbSAnLi4vZXZlbnRzJztcbmltcG9ydCB7XG4gIEFsbENhbGxFdmVudHMsXG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gIENhbGxFdmVudExpc3RlbmVyLFxufSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcblxudHlwZSBSaW5nQ2FsbEV2ZW50cyA9IEV4dHJhY3Q8XG4gIEFsbENsaWVudENhbGxFdmVudHMsXG4gICdjYWxsLmFjY2VwdGVkJyB8ICdjYWxsLnJlamVjdGVkJyB8ICdjYWxsLm1pc3NlZCdcbj47XG5cbi8qKlxuICogUmVnaXN0ZXJzIHRoZSBkZWZhdWx0IGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgZHVyaW5nIGl0cyBsaWZlY3ljbGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICogQHBhcmFtIGRpc3BhdGNoZXIgdGhlIGRpc3BhdGNoZXIuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlckV2ZW50SGFuZGxlcnMgPSAoY2FsbDogQ2FsbCwgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcikgPT4ge1xuICBjb25zdCBzdGF0ZSA9IGNhbGwuc3RhdGU7XG4gIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBbXG4gICAgY2FsbC5vbignY2FsbC5lbmRlZCcsIHdhdGNoQ2FsbEVuZGVkKGNhbGwpKSxcbiAgICB3YXRjaFNmdUNhbGxFbmRlZChjYWxsKSxcblxuICAgIHdhdGNoTGl2ZUVuZGVkKGRpc3BhdGNoZXIsIGNhbGwpLFxuICAgIHdhdGNoU2Z1RXJyb3JSZXBvcnRzKGRpc3BhdGNoZXIpLFxuICAgIHdhdGNoQ2hhbmdlUHVibGlzaFF1YWxpdHkoZGlzcGF0Y2hlciwgY2FsbCksXG4gICAgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuICAgIHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuXG4gICAgY2FsbC5vbigncGFydGljaXBhbnRKb2luZWQnLCB3YXRjaFBhcnRpY2lwYW50Sm9pbmVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigncGFydGljaXBhbnRMZWZ0Jywgd2F0Y2hQYXJ0aWNpcGFudExlZnQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudFVwZGF0ZWQnLCB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZChzdGF0ZSkpLFxuXG4gICAgY2FsbC5vbigndHJhY2tQdWJsaXNoZWQnLCB3YXRjaFRyYWNrUHVibGlzaGVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigndHJhY2tVbnB1Ymxpc2hlZCcsIHdhdGNoVHJhY2tVbnB1Ymxpc2hlZChzdGF0ZSkpLFxuXG4gICAgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG4gICAgd2F0Y2hEb21pbmFudFNwZWFrZXJDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcblxuICAgIGNhbGwub24oJ2NhbGxHcmFudHNVcGRhdGVkJywgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BpbnNVcGRhdGVkJywgd2F0Y2hQaW5zVXBkYXRlZChzdGF0ZSkpLFxuXG4gICAgaGFuZGxlUmVtb3RlU29mdE11dGUoY2FsbCksXG4gIF07XG5cbiAgaWYgKGNhbGwucmluZ2luZykge1xuICAgIC8vIHRoZXNlIGV2ZW50cyBhcmUgb25seSByZWxldmFudCB3aGVuIHRoZSBjYWxsIGlzIHJpbmdpbmdcbiAgICBldmVudEhhbmRsZXJzLnB1c2gocmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMoY2FsbCkpO1xuICB9XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG5cbi8qKlxuICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzIGZvciBhIGNhbGwgdGhhdCBpcyBvZiByaW5naW5nIHR5cGUuXG4gKlxuICogQHBhcmFtIGNhbGwgdGhlIGNhbGwgdG8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnMgZm9yLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICBjb25zdCBjb29yZGluYXRvclJpbmdFdmVudHM6IHtcbiAgICBba2V5IGluIFJpbmdDYWxsRXZlbnRzXTogKFxuICAgICAgY2FsbDogQ2FsbCxcbiAgICApID0+IENhbGxFdmVudExpc3RlbmVyPEFsbENhbGxFdmVudHNba2V5XT47XG4gIH0gPSB7XG4gICAgJ2NhbGwuYWNjZXB0ZWQnOiB3YXRjaENhbGxBY2NlcHRlZChjYWxsKSxcbiAgICAnY2FsbC5yZWplY3RlZCc6IHdhdGNoQ2FsbFJlamVjdGVkKGNhbGwpLFxuICB9O1xuXG4gIGNvbnN0IGV2ZW50SGFuZGxlcnMgPSBPYmplY3Qua2V5cyhjb29yZGluYXRvclJpbmdFdmVudHMpLm1hcCgoZXZlbnQpID0+IHtcbiAgICBjb25zdCBldmVudE5hbWUgPSBldmVudCBhcyBSaW5nQ2FsbEV2ZW50cztcbiAgICByZXR1cm4gY2FsbC5vbihldmVudE5hbWUsIGNvb3JkaW5hdG9yUmluZ0V2ZW50c1tldmVudE5hbWVdKTtcbiAgfSk7XG5cbiAgcmV0dXJuICgpID0+IHtcbiAgICBldmVudEhhbmRsZXJzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBMb2NhbENsaWVudERldGFpbHNUeXBlIH0gZnJvbSAnLi4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgU2RrLCBTZGtUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBGbGF0dGVuIHRoZSBzdGF0cyByZXBvcnQgaW50byBhbiBhcnJheSBvZiBzdGF0cyBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byBmbGF0dGVuLlxuICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0KSA9PiB7XG4gIGNvbnN0IHN0YXRzOiBSVENTdGF0c1tdID0gW107XG4gIHJlcG9ydC5mb3JFYWNoKChzKSA9PiB7XG4gICAgc3RhdHMucHVzaChzKTtcbiAgfSk7XG4gIHJldHVybiBzdGF0cztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtTaWduYXR1cmUgPSAoY2xpZW50RGV0YWlsczogTG9jYWxDbGllbnREZXRhaWxzVHlwZSkgPT4ge1xuICBjb25zdCB7IHNkaywgLi4ucGxhdGZvcm0gfSA9IGNsaWVudERldGFpbHM7XG4gIGNvbnN0IHNka05hbWUgPSBnZXRTZGtOYW1lKHNkayk7XG4gIGNvbnN0IHNka1ZlcnNpb24gPSBnZXRTZGtWZXJzaW9uKHNkayk7XG5cbiAgcmV0dXJuIHtcbiAgICBzZGtOYW1lLFxuICAgIHNka1ZlcnNpb24sXG4gICAgLi4ucGxhdGZvcm0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2RrTmFtZSA9IChzZGs6IFNkayB8IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gc2RrICYmIHNkay50eXBlID09PSBTZGtUeXBlLlJFQUNUXG4gICAgPyAnc3RyZWFtLXJlYWN0J1xuICAgIDogc2RrICYmIHNkay50eXBlID09PSBTZGtUeXBlLlJFQUNUX05BVElWRVxuICAgICAgPyAnc3RyZWFtLXJlYWN0LW5hdGl2ZSdcbiAgICAgIDogJ3N0cmVhbS1qcyc7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U2RrVmVyc2lvbiA9IChzZGs6IFNkayB8IHVuZGVmaW5lZCkgPT4ge1xuICByZXR1cm4gc2RrID8gYCR7c2RrLm1ham9yfS4ke3Nkay5taW5vcn0uJHtzZGsucGF0Y2h9YCA6ICcwLjAuMC1kZXZlbG9wbWVudCc7XG59O1xuIiwiaW1wb3J0IHR5cGUge1xuICBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQsXG4gIEJhc2VTdGF0cyxcbiAgUGFydGljaXBhbnRzU3RhdHNSZXBvcnQsXG4gIFN0YXRzUmVwb3J0LFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IFB1Ymxpc2hlciwgU3Vic2NyaWJlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBTdGF0c1JlcG9ydGVyT3B0cyA9IHtcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICBkYXRhY2VudGVyOiBzdHJpbmc7XG4gIHBvbGxpbmdJbnRlcnZhbEluTXM/OiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBTdGF0c1JlcG9ydGVyID0ge1xuICAvKipcbiAgICogV2lsbCB0dXJuIG9uIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBnaXZlbiBzZXNzaW9uSWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICBzdGFydFJlcG9ydGluZ1N0YXRzRm9yOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIFdpbGwgdHVybiBvZmYgc3RhdHMgcmVwb3J0aW5nIGZvciBhIGdpdmVuIHNlc3Npb25JZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHN0b3BSZXBvcnRpbmdTdGF0c0ZvcjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciByZXRyaWV2aW5nIHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kXG4gICAqIGFuZCBtZWRpYSBzdHJlYW0gZmxvd2luZyB0aHJvdWdoIGl0LlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIG1lZGlhU3RyZWFtIHRoZSBtZWRpYSBzdHJlYW0uXG4gICAqL1xuICBnZXRTdGF0c0ZvclN0cmVhbTogKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKSA9PiBQcm9taXNlPFN0YXRzUmVwb3J0W10+O1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgbWV0aG9kIGZvciByZXRyaWV2aW5nIHJhdyBzdGF0cyBmb3IgYSBnaXZlbiBwZWVyIGNvbm5lY3Rpb24ga2luZC5cbiAgICpcbiAgICogQHBhcmFtIGtpbmQgdGhlIHBlZXIgY29ubmVjdGlvbiBraW5kIChzdWJzY3JpYmVyIG9yIHB1Ymxpc2hlcikuXG4gICAqIEBwYXJhbSBzZWxlY3RvciB0aGUgdHJhY2sgc2VsZWN0b3IuIElmIG5vdCBwcm92aWRlZCwgc3RhdHMgZm9yIGFsbCB0cmFja3Mgd2lsbCBiZSByZXR1cm5lZC5cbiAgICovXG4gIGdldFJhd1N0YXRzRm9yVHJhY2s6IChcbiAgICBraW5kOiAnc3Vic2NyaWJlcicgfCAncHVibGlzaGVyJyxcbiAgICBzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2ssXG4gICkgPT4gUHJvbWlzZTxSVENTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBzdGF0cyByZXBvcnRlciBhbmQgcmVsZWFzZXMgYWxsIHJlc291cmNlcy5cbiAgICovXG4gIHN0b3A6ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU3RhdHNSZXBvcnRlciBpbnN0YW5jZSB0aGF0IGNvbGxlY3RzIG1ldHJpY3MgYWJvdXQgdGhlIG9uZ29pbmcgY2FsbCBhbmQgcmVwb3J0cyB0aGVtIHRvIHRoZSBzdGF0ZSBzdG9yZVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU3RhdHNSZXBvcnRlciA9ICh7XG4gIHN1YnNjcmliZXIsXG4gIHB1Ymxpc2hlcixcbiAgc3RhdGUsXG4gIGRhdGFjZW50ZXIsXG4gIHBvbGxpbmdJbnRlcnZhbEluTXMgPSAyMDAwLFxufTogU3RhdHNSZXBvcnRlck9wdHMpOiBTdGF0c1JlcG9ydGVyID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc3RhdHMnXSk7XG4gIGNvbnN0IGdldFJhd1N0YXRzRm9yVHJhY2sgPSBhc3luYyAoXG4gICAga2luZDogJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcicsXG4gICAgc2VsZWN0b3I/OiBNZWRpYVN0cmVhbVRyYWNrLFxuICApID0+IHtcbiAgICBpZiAoa2luZCA9PT0gJ3N1YnNjcmliZXInICYmIHN1YnNjcmliZXIpIHtcbiAgICAgIHJldHVybiBzdWJzY3JpYmVyLmdldFN0YXRzKHNlbGVjdG9yKTtcbiAgICB9IGVsc2UgaWYgKGtpbmQgPT09ICdwdWJsaXNoZXInICYmIHB1Ymxpc2hlcikge1xuICAgICAgcmV0dXJuIHB1Ymxpc2hlci5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFN0YXRzRm9yU3RyZWFtID0gYXN5bmMgKFxuICAgIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInLFxuICAgIG1lZGlhU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGMgPSBraW5kID09PSAnc3Vic2NyaWJlcicgPyBzdWJzY3JpYmVyIDogcHVibGlzaGVyO1xuICAgIGlmICghcGMpIHJldHVybiBbXTtcbiAgICBjb25zdCBzdGF0c0ZvclN0cmVhbTogU3RhdHNSZXBvcnRbXSA9IFtdO1xuICAgIGZvciAobGV0IHRyYWNrIG9mIG1lZGlhU3RyZWFtLmdldFRyYWNrcygpKSB7XG4gICAgICBjb25zdCByZXBvcnQgPSBhd2FpdCBwYy5nZXRTdGF0cyh0cmFjayk7XG4gICAgICBjb25zdCBzdGF0cyA9IHRyYW5zZm9ybShyZXBvcnQsIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0cmFja0tpbmQ6IHRyYWNrLmtpbmQsXG4gICAgICAgIGtpbmQsXG4gICAgICB9KTtcbiAgICAgIHN0YXRzRm9yU3RyZWFtLnB1c2goc3RhdHMpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdHNGb3JTdHJlYW07XG4gIH07XG5cbiAgY29uc3Qgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNlc3Npb25JZHNUb1RyYWNrLmFkZChzZXNzaW9uSWQpO1xuICAgIHZvaWQgcnVuKCk7XG4gIH07XG5cbiAgY29uc3Qgc3RvcFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2Vzc2lvbklkc1RvVHJhY2suZGVsZXRlKHNlc3Npb25JZCk7XG4gICAgdm9pZCBydW4oKTtcbiAgfTtcblxuICBjb25zdCBzZXNzaW9uSWRzVG9UcmFjayA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIC8qKlxuICAgKiBUaGUgbWFpbiBzdGF0cyByZXBvcnRpbmcgbG9vcC5cbiAgICovXG4gIGNvbnN0IHJ1biA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFN0YXRzOiBQYXJ0aWNpcGFudHNTdGF0c1JlcG9ydCA9IHt9O1xuICAgIGNvbnN0IHNlc3Npb25JZHMgPSBuZXcgU2V0KHNlc3Npb25JZHNUb1RyYWNrKTtcbiAgICBpZiAoc2Vzc2lvbklkcy5zaXplID4gMCkge1xuICAgICAgZm9yIChsZXQgcGFydGljaXBhbnQgb2Ygc3RhdGUucGFydGljaXBhbnRzKSB7XG4gICAgICAgIGlmICghc2Vzc2lvbklkcy5oYXMocGFydGljaXBhbnQuc2Vzc2lvbklkKSkgY29udGludWU7XG4gICAgICAgIGNvbnN0IGtpbmQgPSBwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICA/ICdwdWJsaXNoZXInXG4gICAgICAgICAgOiAnc3Vic2NyaWJlcic7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbWVyZ2VkU3RyZWFtID0gbmV3IE1lZGlhU3RyZWFtKFtcbiAgICAgICAgICAgIC4uLihwYXJ0aWNpcGFudC52aWRlb1N0cmVhbT8uZ2V0VmlkZW9UcmFja3MoKSB8fCBbXSksXG4gICAgICAgICAgICAuLi4ocGFydGljaXBhbnQuYXVkaW9TdHJlYW0/LmdldEF1ZGlvVHJhY2tzKCkgfHwgW10pLFxuICAgICAgICAgIF0pO1xuICAgICAgICAgIHBhcnRpY2lwYW50U3RhdHNbcGFydGljaXBhbnQuc2Vzc2lvbklkXSA9IGF3YWl0IGdldFN0YXRzRm9yU3RyZWFtKFxuICAgICAgICAgICAga2luZCxcbiAgICAgICAgICAgIG1lcmdlZFN0cmVhbSxcbiAgICAgICAgICApO1xuICAgICAgICAgIG1lcmdlZFN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgICAgICBtZXJnZWRTdHJlYW0ucmVtb3ZlVHJhY2sodCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2dnZXIoXG4gICAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgICAgYEZhaWxlZCB0byBjb2xsZWN0IHN0YXRzIGZvciAke2tpbmR9IG9mICR7cGFydGljaXBhbnQudXNlcklkfWAsXG4gICAgICAgICAgICBlLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBbc3Vic2NyaWJlclN0YXRzLCBwdWJsaXNoZXJTdGF0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBzdWJzY3JpYmVyXG4gICAgICAgIC5nZXRTdGF0cygpXG4gICAgICAgIC50aGVuKChyZXBvcnQpID0+XG4gICAgICAgICAgdHJhbnNmb3JtKHJlcG9ydCwge1xuICAgICAgICAgICAga2luZDogJ3N1YnNjcmliZXInLFxuICAgICAgICAgICAgdHJhY2tLaW5kOiAndmlkZW8nLFxuICAgICAgICAgIH0pLFxuICAgICAgICApXG4gICAgICAgIC50aGVuKGFnZ3JlZ2F0ZSksXG4gICAgICBwdWJsaXNoZXJcbiAgICAgICAgPyBwdWJsaXNoZXJcbiAgICAgICAgICAgIC5nZXRTdGF0cygpXG4gICAgICAgICAgICAudGhlbigocmVwb3J0KSA9PlxuICAgICAgICAgICAgICB0cmFuc2Zvcm0ocmVwb3J0LCB7XG4gICAgICAgICAgICAgICAga2luZDogJ3B1Ymxpc2hlcicsXG4gICAgICAgICAgICAgICAgdHJhY2tLaW5kOiAndmlkZW8nLFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC50aGVuKGFnZ3JlZ2F0ZSlcbiAgICAgICAgOiBnZXRFbXB0eVN0YXRzKCksXG4gICAgXSk7XG5cbiAgICBjb25zdCBbc3Vic2NyaWJlclJhd1N0YXRzLCBwdWJsaXNoZXJSYXdTdGF0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBnZXRSYXdTdGF0c0ZvclRyYWNrKCdzdWJzY3JpYmVyJyksXG4gICAgICBwdWJsaXNoZXIgPyBnZXRSYXdTdGF0c0ZvclRyYWNrKCdwdWJsaXNoZXInKSA6IHVuZGVmaW5lZCxcbiAgICBdKTtcblxuICAgIHN0YXRlLnNldENhbGxTdGF0c1JlcG9ydCh7XG4gICAgICBkYXRhY2VudGVyLFxuICAgICAgcHVibGlzaGVyU3RhdHMsXG4gICAgICBzdWJzY3JpYmVyU3RhdHMsXG4gICAgICBzdWJzY3JpYmVyUmF3U3RhdHMsXG4gICAgICBwdWJsaXNoZXJSYXdTdGF0cyxcbiAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRTdGF0cyxcbiAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICB9KTtcbiAgfTtcblxuICBsZXQgdGltZW91dElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgaWYgKHBvbGxpbmdJbnRlcnZhbEluTXMgPiAwKSB7XG4gICAgY29uc3QgbG9vcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHJ1bigpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGxvZ2dlcignZGVidWcnLCAnRmFpbGVkIHRvIGNvbGxlY3Qgc3RhdHMnLCBlKTtcbiAgICAgIH0pO1xuICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChsb29wLCBwb2xsaW5nSW50ZXJ2YWxJbk1zKTtcbiAgICB9O1xuICAgIHZvaWQgbG9vcCgpO1xuICB9XG5cbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBpZiAodGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRSYXdTdGF0c0ZvclRyYWNrLFxuICAgIGdldFN0YXRzRm9yU3RyZWFtLFxuICAgIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yLFxuICAgIHN0b3AsXG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBTdGF0c1RyYW5zZm9ybU9wdHMgPSB7XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiB0cmFjayB3ZSBhcmUgdHJhbnNmb3JtaW5nIHN0YXRzIGZvci5cbiAgICovXG4gIHRyYWNrS2luZDogJ2F1ZGlvJyB8ICd2aWRlbyc7XG5cbiAgLyoqXG4gICAqIFRoZSBraW5kIG9mIHBlZXIgY29ubmVjdGlvbiB3ZSBhcmUgdHJhbnNmb3JtaW5nIHN0YXRzIGZvci5cbiAgICovXG4gIGtpbmQ6ICdzdWJzY3JpYmVyJyB8ICdwdWJsaXNoZXInO1xufTtcblxuLyoqXG4gKiBUcmFuc2Zvcm1zIHJhdyBSVEMgc3RhdHMgaW50byBhIHNsaW1tZXIgYW5kIHVuaWZvcm0gYWNyb3NzIGJyb3dzZXJzIGZvcm1hdC5cbiAqXG4gKiBAcGFyYW0gcmVwb3J0IHRoZSByZXBvcnQgdG8gdHJhbnNmb3JtLlxuICogQHBhcmFtIG9wdHMgdGhlIHRyYW5zZm9ybSBvcHRpb25zLlxuICovXG5jb25zdCB0cmFuc2Zvcm0gPSAoXG4gIHJlcG9ydDogUlRDU3RhdHNSZXBvcnQsXG4gIG9wdHM6IFN0YXRzVHJhbnNmb3JtT3B0cyxcbik6IFN0YXRzUmVwb3J0ID0+IHtcbiAgY29uc3QgeyB0cmFja0tpbmQsIGtpbmQgfSA9IG9wdHM7XG4gIGNvbnN0IGRpcmVjdGlvbiA9IGtpbmQgPT09ICdzdWJzY3JpYmVyJyA/ICdpbmJvdW5kLXJ0cCcgOiAnb3V0Ym91bmQtcnRwJztcbiAgY29uc3Qgc3RhdHMgPSBmbGF0dGVuKHJlcG9ydCk7XG4gIGNvbnN0IHN0cmVhbXMgPSBzdGF0c1xuICAgIC5maWx0ZXIoXG4gICAgICAoc3RhdCkgPT5cbiAgICAgICAgc3RhdC50eXBlID09PSBkaXJlY3Rpb24gJiZcbiAgICAgICAgKHN0YXQgYXMgUlRDUnRwU3RyZWFtU3RhdHMpLmtpbmQgPT09IHRyYWNrS2luZCxcbiAgICApXG4gICAgLm1hcCgoc3RhdCk6IEJhc2VTdGF0cyA9PiB7XG4gICAgICBjb25zdCBydGNTdHJlYW1TdGF0cyA9IHN0YXQgYXMgUlRDSW5ib3VuZFJ0cFN0cmVhbVN0YXRzICZcbiAgICAgICAgUlRDT3V0Ym91bmRSdHBTdHJlYW1TdGF0cztcblxuICAgICAgY29uc3QgY29kZWMgPSBzdGF0cy5maW5kKFxuICAgICAgICAocykgPT4gcy50eXBlID09PSAnY29kZWMnICYmIHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLmNvZGVjSWQsXG4gICAgICApIGFzIFJUQ1J0cENvZGVjIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSBzdGF0cy5maW5kKFxuICAgICAgICAocykgPT4gcy50eXBlID09PSAndHJhbnNwb3J0JyAmJiBzLmlkID09PSBydGNTdHJlYW1TdGF0cy50cmFuc3BvcnRJZCxcbiAgICAgICkgYXMgUlRDVHJhbnNwb3J0U3RhdHMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGxldCByb3VuZFRyaXBUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICBpZiAodHJhbnNwb3J0ICYmIHRyYW5zcG9ydC5kdGxzU3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZVBhaXIgPSBzdGF0cy5maW5kKFxuICAgICAgICAgIChzKSA9PlxuICAgICAgICAgICAgcy50eXBlID09PSAnY2FuZGlkYXRlLXBhaXInICYmXG4gICAgICAgICAgICBzLmlkID09PSB0cmFuc3BvcnQuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQsXG4gICAgICAgICkgYXMgUlRDSWNlQ2FuZGlkYXRlUGFpclN0YXRzIHwgdW5kZWZpbmVkO1xuICAgICAgICByb3VuZFRyaXBUaW1lID0gY2FuZGlkYXRlUGFpcj8uY3VycmVudFJvdW5kVHJpcFRpbWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJ5dGVzU2VudDogcnRjU3RyZWFtU3RhdHMuYnl0ZXNTZW50LFxuICAgICAgICBieXRlc1JlY2VpdmVkOiBydGNTdHJlYW1TdGF0cy5ieXRlc1JlY2VpdmVkLFxuICAgICAgICBjb2RlYzogY29kZWM/Lm1pbWVUeXBlLFxuICAgICAgICBjdXJyZW50Um91bmRUcmlwVGltZTogcm91bmRUcmlwVGltZSxcbiAgICAgICAgZnJhbWVIZWlnaHQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lSGVpZ2h0LFxuICAgICAgICBmcmFtZVdpZHRoOiBydGNTdHJlYW1TdGF0cy5mcmFtZVdpZHRoLFxuICAgICAgICBmcmFtZXNQZXJTZWNvbmQ6IHJ0Y1N0cmVhbVN0YXRzLmZyYW1lc1BlclNlY29uZCxcbiAgICAgICAgaml0dGVyOiBydGNTdHJlYW1TdGF0cy5qaXR0ZXIsXG4gICAgICAgIGtpbmQ6IHJ0Y1N0cmVhbVN0YXRzLmtpbmQsXG4gICAgICAgIC8vIEB0cy1pZ25vcmU6IGF2YWlsYWJsZSBpbiBDaHJvbWUgb25seSwgVFMgZG9lc24ndCByZWNvZ25pemUgdGhpc1xuICAgICAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbjogcnRjU3RyZWFtU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb24sXG4gICAgICAgIHJpZDogcnRjU3RyZWFtU3RhdHMucmlkLFxuICAgICAgICBzc3JjOiBydGNTdHJlYW1TdGF0cy5zc3JjLFxuICAgICAgfTtcbiAgICB9KTtcblxuICByZXR1cm4ge1xuICAgIHJhd1N0YXRzOiByZXBvcnQsXG4gICAgc3RyZWFtcyxcbiAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gIH07XG59O1xuXG5jb25zdCBnZXRFbXB0eVN0YXRzID0gKHN0YXRzPzogU3RhdHNSZXBvcnQpOiBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQgPT4ge1xuICByZXR1cm4ge1xuICAgIHJhd1JlcG9ydDogc3RhdHMgPz8geyBzdHJlYW1zOiBbXSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0sXG4gICAgdG90YWxCeXRlc1NlbnQ6IDAsXG4gICAgdG90YWxCeXRlc1JlY2VpdmVkOiAwLFxuICAgIGF2ZXJhZ2VKaXR0ZXJJbk1zOiAwLFxuICAgIGF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NczogMCxcbiAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnM6ICdub25lJyxcbiAgICBoaWdoZXN0RnJhbWVXaWR0aDogMCxcbiAgICBoaWdoZXN0RnJhbWVIZWlnaHQ6IDAsXG4gICAgaGlnaGVzdEZyYW1lc1BlclNlY29uZDogMCxcbiAgICBjb2RlYzogJycsXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuLyoqXG4gKiBBZ2dyZWdhdGVzIGdlbmVyaWMgc3RhdHMuXG4gKlxuICogQHBhcmFtIHN0YXRzIHRoZSBzdGF0cyB0byBhZ2dyZWdhdGUuXG4gKi9cbmNvbnN0IGFnZ3JlZ2F0ZSA9IChzdGF0czogU3RhdHNSZXBvcnQpOiBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCBhZ2dyZWdhdGVkU3RhdHMgPSBnZXRFbXB0eVN0YXRzKHN0YXRzKTtcblxuICBsZXQgbWF4QXJlYSA9IC0xO1xuICBjb25zdCBhcmVhID0gKHc6IG51bWJlciwgaDogbnVtYmVyKSA9PiB3ICogaDtcblxuICBjb25zdCBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzLnN0cmVhbXM7XG4gIGNvbnN0IHJlcG9ydCA9IHN0cmVhbXMucmVkdWNlKChhY2MsIHN0cmVhbSkgPT4ge1xuICAgIGFjYy50b3RhbEJ5dGVzU2VudCArPSBzdHJlYW0uYnl0ZXNTZW50IHx8IDA7XG4gICAgYWNjLnRvdGFsQnl0ZXNSZWNlaXZlZCArPSBzdHJlYW0uYnl0ZXNSZWNlaXZlZCB8fCAwO1xuICAgIGFjYy5hdmVyYWdlSml0dGVySW5NcyArPSBzdHJlYW0uaml0dGVyIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyArPSBzdHJlYW0uY3VycmVudFJvdW5kVHJpcFRpbWUgfHwgMDtcblxuICAgIC8vIG5haXZlIGNhbGN1bGF0aW9uIG9mIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICBjb25zdCBzdHJlYW1BcmVhID0gYXJlYShzdHJlYW0uZnJhbWVXaWR0aCB8fCAwLCBzdHJlYW0uZnJhbWVIZWlnaHQgfHwgMCk7XG4gICAgaWYgKHN0cmVhbUFyZWEgPiBtYXhBcmVhKSB7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lV2lkdGggPSBzdHJlYW0uZnJhbWVXaWR0aCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZUhlaWdodCA9IHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQgPSBzdHJlYW0uZnJhbWVzUGVyU2Vjb25kIHx8IDA7XG4gICAgICBtYXhBcmVhID0gc3RyZWFtQXJlYTtcbiAgICB9XG5cbiAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMuYWRkKHN0cmVhbS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbiB8fCAnJyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgYWdncmVnYXRlZFN0YXRzKTtcblxuICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgcmVwb3J0LmF2ZXJhZ2VKaXR0ZXJJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZUppdHRlckluTXMgLyBzdHJlYW1zLmxlbmd0aCkgKiAxMDAwLFxuICAgICk7XG4gICAgcmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyA9IE1hdGgucm91bmQoXG4gICAgICAocmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgICAvLyB3ZSB0YWtlIHRoZSBmaXJzdCBjb2RlYyB3ZSBmaW5kLCBhcyBpdCBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIGFsbCBzdHJlYW1zXG4gICAgcmVwb3J0LmNvZGVjID0gc3RyZWFtc1swXS5jb2RlYyB8fCAnJztcbiAgfVxuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uID0gW1xuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2NwdScpICYmICdjcHUnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2JhbmR3aWR0aCcpICYmICdiYW5kd2lkdGgnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ290aGVyJykgJiYgJ290aGVyJyxcbiAgXVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAuam9pbignLCAnKTtcbiAgaWYgKHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uKSB7XG4gICAgcmVwb3J0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uO1xuICB9XG5cbiAgcmV0dXJuIHJlcG9ydDtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgU3RhdHNPcHRpb25zIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgZmxhdHRlbiwgZ2V0U2RrTmFtZSwgZ2V0U2RrVmVyc2lvbiB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0V2ViUlRDSW5mbywgTG9jYWxDbGllbnREZXRhaWxzVHlwZSB9IGZyb20gJy4uL2NsaWVudC1kZXRhaWxzJztcblxuZXhwb3J0IHR5cGUgU2Z1U3RhdHNSZXBvcnRlck9wdGlvbnMgPSB7XG4gIG9wdGlvbnM6IFN0YXRzT3B0aW9ucztcbiAgY2xpZW50RGV0YWlsczogTG9jYWxDbGllbnREZXRhaWxzVHlwZTtcbiAgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xufTtcblxuZXhwb3J0IGNsYXNzIFNmdVN0YXRzUmVwb3J0ZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdVN0YXRzUmVwb3J0ZXInXSk7XG5cbiAgcmVhZG9ubHkgb3B0aW9uczogU3RhdHNPcHRpb25zO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaWJlcjogU3Vic2NyaWJlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG5cbiAgcHJpdmF0ZSBpbnRlcnZhbElkOiBOb2RlSlMuVGltZW91dCB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSByZWFkb25seSBzZGtOYW1lOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2RrVmVyc2lvbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHdlYlJUQ1ZlcnNpb246IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihcbiAgICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCxcbiAgICB7IG9wdGlvbnMsIGNsaWVudERldGFpbHMsIHN1YnNjcmliZXIsIHB1Ymxpc2hlciB9OiBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgIGNvbnN0IHdlYlJUQ0luZm8gPSBnZXRXZWJSVENJbmZvKCk7XG5cbiAgICBjb25zdCB7IHNkaywgYnJvd3NlciB9ID0gY2xpZW50RGV0YWlscztcblxuICAgIHRoaXMuc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgICB0aGlzLnNka1ZlcnNpb24gPSBnZXRTZGtWZXJzaW9uKHNkayk7XG5cbiAgICAvLyBUaGUgV2ViUlRDIHZlcnNpb24gaWYgcGFzc2VkIGZyb20gdGhlIFNESywgaXQgaXMgdGFrZW4gZWxzZSB0aGUgYnJvd3NlciBpbmZvIGlzIHNlbnQuXG4gICAgdGhpcy53ZWJSVENWZXJzaW9uID1cbiAgICAgIHdlYlJUQ0luZm8/LnZlcnNpb24gfHxcbiAgICAgIGAke2Jyb3dzZXI/Lm5hbWUgfHwgJyd9LSR7YnJvd3Nlcj8udmVyc2lvbiB8fCAnJ31gIHx8XG4gICAgICAnTi9BJztcbiAgfVxuXG4gIHByaXZhdGUgcnVuID0gYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IFtzdWJzY3JpYmVyU3RhdHMsIHB1Ymxpc2hlclN0YXRzXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMuc3Vic2NyaWJlci5nZXRTdGF0cygpLnRoZW4oZmxhdHRlbikudGhlbihKU09OLnN0cmluZ2lmeSksXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZ2V0U3RhdHMoKS50aGVuKGZsYXR0ZW4pLnRoZW4oSlNPTi5zdHJpbmdpZnkpID8/ICdbXScsXG4gICAgXSk7XG5cbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5zZW5kU3RhdHMoe1xuICAgICAgc2RrOiB0aGlzLnNka05hbWUsXG4gICAgICBzZGtWZXJzaW9uOiB0aGlzLnNka1ZlcnNpb24sXG4gICAgICB3ZWJydGNWZXJzaW9uOiB0aGlzLndlYlJUQ1ZlcnNpb24sXG4gICAgICBzdWJzY3JpYmVyU3RhdHMsXG4gICAgICBwdWJsaXNoZXJTdGF0cyxcbiAgICB9KTtcbiAgfTtcblxuICBzdGFydCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcG9ydGluZ19pbnRlcnZhbF9tcyA8PSAwKSByZXR1cm47XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMucnVuKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gcmVwb3J0IHN0YXRzJywgZXJyKTtcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMub3B0aW9ucy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMpO1xuICB9O1xuXG4gIHN0b3AgPSAoKSA9PiB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHVuZGVmaW5lZDtcbiAgfTtcbn1cbiIsImNvbnN0IERFRkFVTFRfVEhSRVNIT0xEID0gMC4zNTtcblxuZXhwb3J0IHR5cGUgRW50cnlIYW5kbGVyID0gKGVudHJ5OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBVbm9ic2VydmUgPSAoKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBPYnNlcnZlID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgZW50cnlIYW5kbGVyOiBFbnRyeUhhbmRsZXIsXG4pID0+IFVub2JzZXJ2ZTtcblxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0VHJhY2tlciB7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBlbGVtZW50SGFuZGxlck1hcDogTWFwPFxuICAgIEhUTUxFbGVtZW50LFxuICAgIChlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSkgPT4gdm9pZFxuICA+ID0gbmV3IE1hcCgpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG4gIC8vIGluIFJlYWN0IGNoaWxkcmVuIHJlbmRlciBiZWZvcmUgdmlld3BvcnQgaXMgc2V0LCBhZGRcbiAgLy8gdGhlbSB0byB0aGUgcXVldWUgYW5kIG9ic2VydmUgdGhlbSBvbmNlIHRoZSBvYnNlcnZlciBpcyByZWFkeVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcXVldWVTZXQ6IFNldDxyZWFkb25seSBbSFRNTEVsZW1lbnQsIEVudHJ5SGFuZGxlcl0+ID0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBNZXRob2QgdG8gc2V0IHNjcm9sbGFibGUgdmlld3BvcnQgYXMgcm9vdCBmb3IgdGhlIEludGVyc2VjdGlvbk9ic2VydmVyLCByZXR1cm5zXG4gICAqIGNsZWFudXAgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB1cG9uIGRpc3Bvc2luZyBvZiB0aGUgRE9NIGVsZW1lbnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICpcbiAgICogQHBhcmFtIHZpZXdwb3J0RWxlbWVudFxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBVbm9ic2VydmVcbiAgICovXG4gIHB1YmxpYyBzZXRWaWV3cG9ydCA9IChcbiAgICB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG9wdGlvbnM/OiBQaWNrPEludGVyc2VjdGlvbk9ic2VydmVySW5pdCwgJ3RocmVzaG9sZCcgfCAncm9vdE1hcmdpbic+LFxuICApID0+IHtcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuZ2V0KFxuICAgICAgICAgICAgZW50cnkudGFyZ2V0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaGFuZGxlcj8uKGVudHJ5KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiB2aWV3cG9ydEVsZW1lbnQsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHRocmVzaG9sZDogb3B0aW9ucz8udGhyZXNob2xkID8/IERFRkFVTFRfVEhSRVNIT0xELFxuICAgICAgfSxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucXVldWVTZXQuc2l6ZSkge1xuICAgICAgdGhpcy5xdWV1ZVNldC5mb3JFYWNoKChbcXVldWVFbGVtZW50LCBxdWV1ZUhhbmRsZXJdKSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGVsZW1lbnQgd2hpY2ggcmVxdWVzdGVkIG9ic2VydmF0aW9uIGlzXG4gICAgICAgIC8vIGEgY2hpbGQgb2YgYSB2aWV3cG9ydCBlbGVtZW50LCBza2lwIGlmIGlzbid0XG4gICAgICAgIGlmICghdmlld3BvcnRFbGVtZW50LmNvbnRhaW5zKHF1ZXVlRWxlbWVudCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9ic2VydmVyIS5vYnNlcnZlKHF1ZXVlRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuc2V0KHF1ZXVlRWxlbWVudCwgcXVldWVIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5xdWV1ZVNldC5jbGVhcigpO1xuICAgIH1cblxuICAgIHJldHVybiBjbGVhbnVwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2QgdG8gc2V0IGVsZW1lbnQgdG8gb2JzZXJ2ZSBhbmQgaGFuZGxlciB0byBiZSB0cmlnZ2VyZWQgd2hlbmV2ZXIgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICogZGV0ZWN0cyBhIHBvc3NpYmxlIGNoYW5nZSBpbiBlbGVtZW50J3MgdmlzaWJpbGl0eSB3aXRoaW4gc3BlY2lmaWVkIHZpZXdwb3J0LCByZXR1cm5zXG4gICAqIGNsZWFudXAgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB1cG9uIGRpc3Bvc2luZyBvZiB0aGUgRE9NIGVsZW1lbnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnRcbiAgICogQHBhcmFtIGhhbmRsZXJcbiAgICogQHJldHVybnMgVW5vYnNlcnZlXG4gICAqL1xuICBwdWJsaWMgb2JzZXJ2ZTogT2JzZXJ2ZSA9IChlbGVtZW50LCBoYW5kbGVyKSA9PiB7XG4gICAgY29uc3QgcXVldWVJdGVtID0gW2VsZW1lbnQsIGhhbmRsZXJdIGFzIGNvbnN0O1xuXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgdGhpcy5vYnNlcnZlcj8udW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgICAgdGhpcy5xdWV1ZVNldC5kZWxldGUocXVldWVJdGVtKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuaGFzKGVsZW1lbnQpKSByZXR1cm4gY2xlYW51cDtcblxuICAgIGlmICghdGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5xdWV1ZVNldC5hZGQocXVldWVJdGVtKTtcbiAgICAgIHJldHVybiBjbGVhbnVwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9ic2VydmVyLnJvb3QhLmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLnNldChlbGVtZW50LCBoYW5kbGVyKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfTtcbn1cbiIsIi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBTYWZhcmkuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1NhZmFyaSA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJycpO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgY3VycmVudCBicm93c2VyIGlzIEZpcmVmb3guXG4gKi9cbmV4cG9ydCBjb25zdCBpc0ZpcmVmb3ggPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudD8uaW5jbHVkZXMoJ0ZpcmVmb3gnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBHb29nbGUgQ2hyb21lLlxuICovXG5leHBvcnQgY29uc3QgaXNDaHJvbWUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudD8uaW5jbHVkZXMoJ0Nocm9tZScpO1xufTtcbiIsImltcG9ydCB7XG4gIEF1ZGlvVHJhY2tUeXBlLFxuICBEZWJvdW5jZVR5cGUsXG4gIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRyYWNrVHlwZSwgVmlkZW9EaW1lbnNpb24gfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgQmVoYXZpb3JTdWJqZWN0LFxuICBjb21iaW5lTGF0ZXN0LFxuICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQsXG4gIG1hcCxcbiAgc2hhcmVSZXBsYXksXG4gIHRha2VXaGlsZSxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBWaWV3cG9ydFRyYWNrZXIgfSBmcm9tICcuL1ZpZXdwb3J0VHJhY2tlcic7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaXNGaXJlZm94LCBpc1NhZmFyaSB9IGZyb20gJy4vYnJvd3NlcnMnO1xuaW1wb3J0IHtcbiAgaGFzU2NyZWVuU2hhcmUsXG4gIGhhc1NjcmVlblNoYXJlQXVkaW8sXG4gIGhhc1ZpZGVvLFxufSBmcm9tICcuL3BhcnRpY2lwYW50VXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgU3BlYWtlck1hbmFnZXIgfSBmcm9tICcuLi9kZXZpY2VzJztcbmltcG9ydCB7IGdldEN1cnJlbnRWYWx1ZSwgc2V0Q3VycmVudFZhbHVlIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5cbmNvbnN0IERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTogUmVjb3JkPFxuICBWaWRlb1RyYWNrVHlwZSxcbiAgVmlzaWJpbGl0eVN0YXRlXG4+ID0ge1xuICB2aWRlb1RyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgc2NyZWVuU2hhcmVUcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG59IGFzIGNvbnN0O1xuXG50eXBlIFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSA9XG4gIHwge1xuICAgICAgZW5hYmxlZDogdHJ1ZTtcbiAgICAgIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb247XG4gICAgfVxuICB8IHsgZW5hYmxlZDogZmFsc2UgfTtcblxuY29uc3QgZ2xvYmFsT3ZlcnJpZGVLZXkgPSBTeW1ib2woJ2dsb2JhbE92ZXJyaWRlS2V5Jyk7XG5cbmludGVyZmFjZSBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlIHwgdW5kZWZpbmVkO1xuICBbZ2xvYmFsT3ZlcnJpZGVLZXldPzogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlO1xufVxuXG4vKipcbiAqIEEgbWFuYWdlciBjbGFzcyB0aGF0IGhhbmRsZXMgZHluYXNjYWxlIHJlbGF0ZWQgdGFza3MgbGlrZTpcbiAqXG4gKiAtIGJpbmRpbmcgdmlkZW8gZWxlbWVudHMgdG8gc2Vzc2lvbiBpZHNcbiAqIC0gYmluZGluZyBhdWRpbyBlbGVtZW50cyB0byBzZXNzaW9uIGlkc1xuICogLSB0cmFja2luZyBlbGVtZW50IHZpc2liaWxpdHlcbiAqIC0gdXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBiYXNlZCBvbiB2aWV3cG9ydCB2aXNpYmlsaXR5XG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gcHVibGlzaGVkIHRyYWNrc1xuICovXG5leHBvcnQgY2xhc3MgRHluYXNjYWxlTWFuYWdlciB7XG4gIC8qKlxuICAgKiBUaGUgdmlld3BvcnQgdHJhY2tlciBpbnN0YW5jZS5cbiAgICovXG4gIHJlYWRvbmx5IHZpZXdwb3J0VHJhY2tlciA9IG5ldyBWaWV3cG9ydFRyYWNrZXIoKTtcblxuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ0R5bmFzY2FsZU1hbmFnZXInXSk7XG4gIHByaXZhdGUgY2FsbFN0YXRlOiBDYWxsU3RhdGU7XG4gIHByaXZhdGUgc3BlYWtlcjogU3BlYWtlck1hbmFnZXI7XG4gIHByaXZhdGUgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGU6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSB2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCA9XG4gICAgbmV3IEJlaGF2aW9yU3ViamVjdDxWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzPih7fSk7XG5cbiAgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQgPVxuICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgaW5jb21pbmdWaWRlb1NldHRpbmdzJCA9IHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQucGlwZShcbiAgICBtYXAoKG92ZXJyaWRlcykgPT4ge1xuICAgICAgY29uc3QgeyBbZ2xvYmFsT3ZlcnJpZGVLZXldOiBnbG9iYWxTZXR0aW5ncywgLi4ucGFydGljaXBhbnRzIH0gPVxuICAgICAgICBvdmVycmlkZXM7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbmFibGVkOiBnbG9iYWxTZXR0aW5ncz8uZW5hYmxlZCAhPT0gZmFsc2UsXG4gICAgICAgIHByZWZlcnJlZFJlc29sdXRpb246IGdsb2JhbFNldHRpbmdzPy5lbmFibGVkXG4gICAgICAgICAgPyBnbG9iYWxTZXR0aW5ncy5kaW1lbnNpb25cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFydGljaXBhbnRzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMocGFydGljaXBhbnRzKS5tYXAoXG4gICAgICAgICAgICAoW3Nlc3Npb25JZCwgcGFydGljaXBhbnRPdmVycmlkZV0pID0+IFtcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogcGFydGljaXBhbnRPdmVycmlkZT8uZW5hYmxlZCAhPT0gZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkUmVzb2x1dGlvbjogcGFydGljaXBhbnRPdmVycmlkZT8uZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgPyBwYXJ0aWNpcGFudE92ZXJyaWRlLmRpbWVuc2lvblxuICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgICAgIGlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQ6IChzZXNzaW9uSWQ6IHN0cmluZykgPT5cbiAgICAgICAgICBvdmVycmlkZXNbc2Vzc2lvbklkXT8uZW5hYmxlZCA/P1xuICAgICAgICAgIG92ZXJyaWRlc1tnbG9iYWxPdmVycmlkZUtleV0/LmVuYWJsZWQgPz9cbiAgICAgICAgICB0cnVlLFxuICAgICAgfTtcbiAgICB9KSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBEeW5hc2NhbGVNYW5hZ2VyIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byBtYW5hZ2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihjYWxsU3RhdGU6IENhbGxTdGF0ZSwgc3BlYWtlcjogU3BlYWtlck1hbmFnZXIpIHtcbiAgICB0aGlzLmNhbGxTdGF0ZSA9IGNhbGxTdGF0ZTtcbiAgICB0aGlzLnNwZWFrZXIgPSBzcGVha2VyO1xuICB9XG5cbiAgc2V0U2Z1Q2xpZW50KHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50IHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gIH1cblxuICBnZXQgdHJhY2tTdWJzY3JpcHRpb25zKCkge1xuICAgIGNvbnN0IHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdID0gW107XG4gICAgZm9yIChjb25zdCBwIG9mIHRoaXMuY2FsbFN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cykge1xuICAgICAgLy8gTk9URTogYXVkaW8gdHJhY2tzIGRvbid0IGhhdmUgdG8gYmUgcmVxdWVzdGVkIGV4cGxpY2l0bHlcbiAgICAgIC8vIGFzIHRoZSBTRlUgd2lsbCBpbXBsaWNpdGx5IHN1YnNjcmliZSB1cyB0byBhbGwgb2YgdGhlbSxcbiAgICAgIC8vIG9uY2UgdGhleSBiZWNvbWUgYXZhaWxhYmxlLlxuICAgICAgaWYgKHAudmlkZW9EaW1lbnNpb24gJiYgaGFzVmlkZW8ocCkpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGUgPVxuICAgICAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1twLnNlc3Npb25JZF0gPz9cbiAgICAgICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNbZ2xvYmFsT3ZlcnJpZGVLZXldO1xuXG4gICAgICAgIGlmIChvdmVycmlkZT8uZW5hYmxlZCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5WSURFTyxcbiAgICAgICAgICAgIGRpbWVuc2lvbjogb3ZlcnJpZGU/LmRpbWVuc2lvbiA/PyBwLnZpZGVvRGltZW5zaW9uLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocC5zY3JlZW5TaGFyZURpbWVuc2lvbiAmJiBoYXNTY3JlZW5TaGFyZShwKSkge1xuICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goe1xuICAgICAgICAgIHVzZXJJZDogcC51c2VySWQsXG4gICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICB0cmFja1R5cGU6IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgICAgICAgZGltZW5zaW9uOiBwLnNjcmVlblNoYXJlRGltZW5zaW9uLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNTY3JlZW5TaGFyZUF1ZGlvKHApKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHAuc2Vzc2lvbklkLFxuICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdWJzY3JpcHRpb25zO1xuICB9XG5cbiAgZ2V0IHZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoKSB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnRWYWx1ZSh0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkKTtcbiAgfVxuXG4gIHNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMgPSAoXG4gICAgb3ZlcnJpZGU6IFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSB8IHVuZGVmaW5lZCxcbiAgICBzZXNzaW9uSWRzPzogc3RyaW5nW10sXG4gICkgPT4ge1xuICAgIGlmICghc2Vzc2lvbklkcykge1xuICAgICAgcmV0dXJuIHNldEN1cnJlbnRWYWx1ZShcbiAgICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCxcbiAgICAgICAgb3ZlcnJpZGUgPyB7IFtnbG9iYWxPdmVycmlkZUtleV06IG92ZXJyaWRlIH0gOiB7fSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QsXG4gICAgICAob3ZlcnJpZGVzKSA9PiAoe1xuICAgICAgICAuLi5vdmVycmlkZXMsXG4gICAgICAgIC4uLk9iamVjdC5mcm9tRW50cmllcyhzZXNzaW9uSWRzLm1hcCgoaWQpID0+IFtpZCwgb3ZlcnJpZGVdKSksXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGFwcGx5VHJhY2tTdWJzY3JpcHRpb25zID0gKFxuICAgIGRlYm91bmNlVHlwZTogRGVib3VuY2VUeXBlID0gRGVib3VuY2VUeXBlLlNMT1csXG4gICkgPT4ge1xuICAgIGlmICh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlU3Vic2NyaXB0aW9ucyA9ICgpID0+IHtcbiAgICAgIHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUgPSBudWxsO1xuICAgICAgdGhpcy5zZnVDbGllbnRcbiAgICAgICAgPy51cGRhdGVTdWJzY3JpcHRpb25zKHRoaXMudHJhY2tTdWJzY3JpcHRpb25zKVxuICAgICAgICAuY2F0Y2goKGVycjogdW5rbm93bikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBGYWlsZWQgdG8gdXBkYXRlIHRyYWNrIHN1YnNjcmlwdGlvbnNgLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgaWYgKGRlYm91bmNlVHlwZSkge1xuICAgICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSA9IHNldFRpbWVvdXQoXG4gICAgICAgIHVwZGF0ZVN1YnNjcmlwdGlvbnMsXG4gICAgICAgIGRlYm91bmNlVHlwZSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVN1YnNjcmlwdGlvbnMoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgYmVnaW4gdHJhY2tpbmcgdGhlIGdpdmVuIGVsZW1lbnQgZm9yIHZpc2liaWxpdHkgY2hhbmdlcyB3aXRoaW4gdGhlXG4gICAqIGNvbmZpZ3VyZWQgdmlld3BvcnQgZWxlbWVudCAoYGNhbGwuc2V0Vmlld3BvcnRgKS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gdHJhY2suXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqIEByZXR1cm5zIFVudHJhY2suXG4gICAqL1xuICB0cmFja0VsZW1lbnRWaXNpYmlsaXR5ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgZWxlbWVudDogVCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBjbGVhbnVwID0gdGhpcy52aWV3cG9ydFRyYWNrZXIub2JzZXJ2ZShlbGVtZW50LCAoZW50cnkpID0+IHtcbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICBwYXJ0aWNpcGFudC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/P1xuICAgICAgICAgIERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTtcblxuICAgICAgICAvLyBvYnNlcnZlciB0cmlnZ2VycyB3aGVuIHRoZSBlbGVtZW50IGlzIFwibW92ZWRcIiB0byBiZSBhIGZ1bGxzY3JlZW4gZWxlbWVudFxuICAgICAgICAvLyBrZWVwIGl0IFZJU0lCTEUgaWYgdGhhdCBoYXBwZW5zIHRvIHByZXZlbnQgZnVsbHNjcmVlbiB3aXRoIHBsYWNlaG9sZGVyXG4gICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9XG4gICAgICAgICAgZW50cnkuaXNJbnRlcnNlY3RpbmcgfHwgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgPT09IGVsZW1lbnRcbiAgICAgICAgICAgID8gVmlzaWJpbGl0eVN0YXRlLlZJU0lCTEVcbiAgICAgICAgICAgIDogVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgICAgLi4ucHJldmlvdXNWaXNpYmlsaXR5U3RhdGUsXG4gICAgICAgICAgICBbdHJhY2tUeXBlXTogaXNWaXNpYmxlLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhbnVwKCk7XG4gICAgICAvLyByZXNldCB2aXNpYmlsaXR5IHN0YXRlIHRvIFVOS05PV04gdXBvbiBjbGVhbnVwXG4gICAgICAvLyBzbyB0aGF0IHRoZSBsYXlvdXRzIHRoYXQgYXJlIG5vdCBhY3RpdmVseSBvYnNlcnZlZFxuICAgICAgLy8gY2FuIHN0aWxsIGZ1bmN0aW9uIG5vcm1hbGx5IChydW50aW1lIGxheW91dCBzd2l0Y2hpbmcpXG4gICAgICB0aGlzLmNhbGxTdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgcGFydGljaXBhbnQudmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz9cbiAgICAgICAgICBERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IHtcbiAgICAgICAgICAgIC4uLnByZXZpb3VzVmlzaWJpbGl0eVN0YXRlLFxuICAgICAgICAgICAgW3RyYWNrVHlwZV06IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWV3cG9ydCBlbGVtZW50IHRvIHRyYWNrIGJvdW5kIHZpZGVvIGVsZW1lbnRzIGZvciB2aXNpYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgdmlld3BvcnQgZWxlbWVudC5cbiAgICovXG4gIHNldFZpZXdwb3J0ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oZWxlbWVudDogVCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnZpZXdwb3J0VHJhY2tlci5zZXRWaWV3cG9ydChlbGVtZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPHZpZGVvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgcGxheVxuICAgKiB0aGUgY29ycmVjdCB2aWRlbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBVbmRlciB0aGUgaG9vZCwgaXQgd291bGQgYWxzbyBrZWVwIHRyYWNrIG9mIHRoZSB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnNcbiAgICogYW5kIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIGFjY29yZGluZ2x5IGluIG9yZGVyIHRvIG9wdGltaXplIHRoZSBiYW5kd2lkdGguXG4gICAqXG4gICAqIElmIGEgXCJ2aWV3cG9ydFwiIGlzIGNvbmZpZ3VyZWQsIHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgKiB0cmFja2VkIGZvciB2aXNpYmlsaXR5IGFuZCB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHZpZGVvRWxlbWVudCB0aGUgdmlkZW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKi9cbiAgYmluZFZpZGVvRWxlbWVudCA9IChcbiAgICB2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgYm91bmRQYXJ0aWNpcGFudCA9XG4gICAgICB0aGlzLmNhbGxTdGF0ZS5maW5kUGFydGljaXBhbnRCeVNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgIGlmICghYm91bmRQYXJ0aWNpcGFudCkgcmV0dXJuO1xuXG4gICAgY29uc3QgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMgPSAoXG4gICAgICBkZWJvdW5jZVR5cGU6IERlYm91bmNlVHlwZSxcbiAgICAgIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoZGltZW5zaW9uICYmIChkaW1lbnNpb24ud2lkdGggPT09IDAgfHwgZGltZW5zaW9uLmhlaWdodCA9PT0gMCkpIHtcbiAgICAgICAgLy8gaWdub3JlIDB4MCBkaW1lbnNpb25zLiB0aGlzIGNhbiBoYXBwZW4gd2hlbiB0aGUgdmlkZW8gZWxlbWVudFxuICAgICAgICAvLyBpcyBub3QgdmlzaWJsZSAoZS5nLiwgaGFzIGRpc3BsYXk6IG5vbmUpLlxuICAgICAgICAvLyB3ZSB0cmVhdCB0aGlzIGFzIFwidW5zdWJzY3JpcHRpb25cIiBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXBcbiAgICAgICAgLy8gY29uc3VtaW5nIGJhbmR3aWR0aCBmb3IgYSB2aWRlbyB0aGF0IGlzIG5vdCB2aXNpYmxlIG9uIHRoZSBzY3JlZW4uXG4gICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBJZ25vcmluZyAweDAgZGltZW5zaW9uYCwgYm91bmRQYXJ0aWNpcGFudCk7XG4gICAgICAgIGRpbWVuc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzKHRyYWNrVHlwZSwge1xuICAgICAgICBbc2Vzc2lvbklkXTogeyBkaW1lbnNpb24gfSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucyhkZWJvdW5jZVR5cGUpO1xuICAgIH07XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCQgPSB0aGlzLmNhbGxTdGF0ZS5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoXG4gICAgICAgIChwYXJ0aWNpcGFudHMpID0+XG4gICAgICAgICAgcGFydGljaXBhbnRzLmZpbmQoXG4gICAgICAgICAgICAocGFydGljaXBhbnQpID0+IHBhcnRpY2lwYW50LnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkLFxuICAgICAgICAgICkgYXMgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgICAgICksXG4gICAgICB0YWtlV2hpbGUoKHBhcnRpY2lwYW50KSA9PiAhIXBhcnRpY2lwYW50KSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICAvKipcbiAgICAgKiBTaW5jZSB0aGUgdmlkZW8gZWxlbWVudHMgYXJlIG5vdyBiZWluZyByZW1vdmVkIGZyb20gdGhlIERPTSAoUmVhY3QgU0RLKSB1cG9uXG4gICAgICogdmlzaWJpbGl0eSBjaGFuZ2UsIHRoaXMgc3Vic2NyaXB0aW9uIGlzIG5vdCBpbiB1c2UgYW4gc3RheXMgaGVyZSBvbmx5IGZvciB0aGVcbiAgICAgKiBwbGFpbiBKUyBpbnRlZ3JhdGlvbnMgd2hlcmUgaW50ZWdyYXRvcnMgbWlnaHQgY2hvb3NlIG5vdCB0byByZW1vdmUgdGhlIHZpZGVvXG4gICAgICogZWxlbWVudHMgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIC8vIGtlZXAgY29weSBmb3IgcmVzaXplIG9ic2VydmVyIGhhbmRsZXJcbiAgICBsZXQgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGU6IFZpc2liaWxpdHlTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZVN1YnNjcmlwdGlvbiA9XG4gICAgICBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBwYXJ0aWNpcGFudCRcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICBtYXAoKHApID0+IHAudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/Llt0cmFja1R5cGVdKSxcbiAgICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICAvLyBza2lwIGluaXRpYWwgdHJpZ2dlclxuICAgICAgICAgICAgICBpZiAoIXZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgICAgICAgICAgbmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgICAgICAgbmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOO1xuXG4gICAgICAgICAgICAgIGlmIChuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoXG4gICAgICAgICAgICAgICAgICBEZWJvdW5jZVR5cGUuTUVESVVNLFxuICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuTUVESVVNLCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHZpZGVvRWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvRWxlbWVudC5jbGllbnRIZWlnaHQsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICBsZXQgbGFzdERpbWVuc2lvbnM6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICA/IG51bGxcbiAgICAgIDogbmV3IFJlc2l6ZU9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGltZW5zaW9ucyA9IGAke3ZpZGVvRWxlbWVudC5jbGllbnRXaWR0aH0sJHt2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0fWA7XG5cbiAgICAgICAgICAvLyBza2lwIGluaXRpYWwgdHJpZ2dlclxuICAgICAgICAgIGlmICghbGFzdERpbWVuc2lvbnMpIHtcbiAgICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbGFzdERpbWVuc2lvbnMgPT09IGN1cnJlbnREaW1lbnNpb25zIHx8XG4gICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5TTE9XLCB7XG4gICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgIH0pO1xuICAgIHJlc2l6ZU9ic2VydmVyPy5vYnNlcnZlKHZpZGVvRWxlbWVudCk7XG5cbiAgICAvLyBlbGVtZW50IHJlbmRlcnMgYW5kIGdldHMgYm91bmQgLSB0cmFjayBzdWJzY3JpcHRpb24gZ2V0c1xuICAgIC8vIHRyaWdnZXJlZCBmaXJzdCBvdGhlciBvbmVzIGdldCBza2lwcGVkIG9uIGluaXRpYWwgc3Vic2NyaXB0aW9uc1xuICAgIGNvbnN0IHB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbiA9IGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICA/IG51bGxcbiAgICAgIDogcGFydGljaXBhbnQkXG4gICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgncHVibGlzaGVkVHJhY2tzJyksXG4gICAgICAgICAgICBtYXAoKHApID0+XG4gICAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gaGFzVmlkZW8ocCkgOiBoYXNTY3JlZW5TaGFyZShwKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKChpc1B1Ymxpc2hpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1B1Ymxpc2hpbmcpIHtcbiAgICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGp1c3Qgc3RhcnRlZCB0byBwdWJsaXNoIGEgdHJhY2tcbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLkZBU1QsIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQganVzdCBzdG9wcGVkIHB1Ymxpc2hpbmcgYSB0cmFja1xuICAgICAgICAgICAgICByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhEZWJvdW5jZVR5cGUuRkFTVCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgIHZpZGVvRWxlbWVudC5hdXRvcGxheSA9IHRydWU7XG4gICAgdmlkZW9FbGVtZW50LnBsYXlzSW5saW5lID0gdHJ1ZTtcblxuICAgIC8vIGV4cGxpY2l0bHkgbWFya2luZyB0aGUgZWxlbWVudCBhcyBtdXRlZCB3aWxsIGFsbG93IGF1dG9wbGF5IHRvIHdvcmtcbiAgICAvLyB3aXRob3V0IHByaW9yIHVzZXIgaW50ZXJhY3Rpb246XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvTWVkaWEvQXV0b3BsYXlfZ3VpZGVcbiAgICB2aWRlb0VsZW1lbnQubXV0ZWQgPSB0cnVlO1xuXG4gICAgY29uc3Qgc3RyZWFtU3Vic2NyaXB0aW9uID0gcGFydGljaXBhbnQkXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoXG4gICAgICAgICAgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaycgPyAndmlkZW9TdHJlYW0nIDogJ3NjcmVlblNoYXJlU3RyZWFtJyxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKHApID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlID1cbiAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/IHAudmlkZW9TdHJlYW0gOiBwLnNjcmVlblNoYXJlU3RyZWFtO1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50LnNyY09iamVjdCA9PT0gc291cmNlKSByZXR1cm47XG4gICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzb3VyY2UgPz8gbnVsbDtcbiAgICAgICAgaWYgKGlzU2FmYXJpKCkgfHwgaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zcmNPYmplY3QgPSBzb3VyY2UgPz8gbnVsbDtcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHdlIGFkZCBleHRyYSBkZWxheSB1bnRpbCB3ZSBhdHRlbXB0IHRvIGZvcmNlLXBsYXlcbiAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCdzIG1lZGlhIHN0cmVhbSBpbiBGaXJlZm94IGFuZCBTYWZhcmksXG4gICAgICAgICAgICAvLyBhcyB0aGV5IHNlZW0gdG8gaGF2ZSBzb21lIHRpbWluZyBpc3N1ZXNcbiAgICAgICAgICB9LCAyNSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5GQVNULCB1bmRlZmluZWQpO1xuICAgICAgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGVTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBwdWJsaXNoZWRUcmFja3NTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICBzdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHJlc2l6ZU9ic2VydmVyPy5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGF1ZGlvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBlbGVtZW50IHdpbGxcbiAgICogcGxheSB0aGUgY29ycmVjdCBhdWRpbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9FbGVtZW50IHRoZSBhdWRpbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgYXVkaW8uXG4gICAqIEByZXR1cm5zIGEgY2xlYW51cCBmdW5jdGlvbiB0aGF0IHdpbGwgdW5iaW5kIHRoZSBhdWRpbyBlbGVtZW50LlxuICAgKi9cbiAgYmluZEF1ZGlvRWxlbWVudCA9IChcbiAgICBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBBdWRpb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgcGFydGljaXBhbnQgPSB0aGlzLmNhbGxTdGF0ZS5maW5kUGFydGljaXBhbnRCeVNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgIGlmICghcGFydGljaXBhbnQgfHwgcGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBjb25zdCBwYXJ0aWNpcGFudCQgPSB0aGlzLmNhbGxTdGF0ZS5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoXG4gICAgICAgIChwYXJ0aWNpcGFudHMpID0+XG4gICAgICAgICAgcGFydGljaXBhbnRzLmZpbmQoXG4gICAgICAgICAgICAocCkgPT4gcC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCxcbiAgICAgICAgICApIGFzIFN0cmVhbVZpZGVvUGFydGljaXBhbnQsXG4gICAgICApLFxuICAgICAgdGFrZVdoaWxlKChwKSA9PiAhIXApLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIGNvbnN0IHVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uID0gcGFydGljaXBhbnQkXG4gICAgICAucGlwZShcbiAgICAgICAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQoXG4gICAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVBdWRpb1RyYWNrJ1xuICAgICAgICAgICAgPyAnc2NyZWVuU2hhcmVBdWRpb1N0cmVhbSdcbiAgICAgICAgICAgIDogJ2F1ZGlvU3RyZWFtJyxcbiAgICAgICAgKSxcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKHApID0+IHtcbiAgICAgICAgY29uc3Qgc291cmNlID1cbiAgICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snXG4gICAgICAgICAgICA/IHAuc2NyZWVuU2hhcmVBdWRpb1N0cmVhbVxuICAgICAgICAgICAgOiBwLmF1ZGlvU3RyZWFtO1xuICAgICAgICBpZiAoYXVkaW9FbGVtZW50LnNyY09iamVjdCA9PT0gc291cmNlKSByZXR1cm47XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYXVkaW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICAgIGlmIChhdWRpb0VsZW1lbnQuc3JjT2JqZWN0KSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQucGxheSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBwbGF5IHN0cmVhbWAsIGUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGF1ZGlvIG91dHB1dCBkZXZpY2Ugc2hhbGwgYmUgc2V0IGFmdGVyIHRoZSBhdWRpbyBlbGVtZW50IGlzIHBsYXllZFxuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGUgYnJvd3NlciB3aWxsIG5vdCBwaWNrIGl0IHVwLCBhbmQgd2lsbCBhbHdheXNcbiAgICAgICAgICAgIC8vIHBsYXkgYXVkaW8gdGhyb3VnaCB0aGUgc3lzdGVtJ3MgZGVmYXVsdCBkZXZpY2VcbiAgICAgICAgICAgIGNvbnN0IHsgc2VsZWN0ZWREZXZpY2UgfSA9IHRoaXMuc3BlYWtlci5zdGF0ZTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZERldmljZSAmJiAnc2V0U2lua0lkJyBpbiBhdWRpb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgYXVkaW9FbGVtZW50LnNldFNpbmtJZChzZWxlY3RlZERldmljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3Qgc2lua0lkU3Vic2NyaXB0aW9uID0gISgnc2V0U2lua0lkJyBpbiBhdWRpb0VsZW1lbnQpXG4gICAgICA/IG51bGxcbiAgICAgIDogdGhpcy5zcGVha2VyLnN0YXRlLnNlbGVjdGVkRGV2aWNlJC5zdWJzY3JpYmUoKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgaWYgKGRldmljZUlkKSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQuc2V0U2lua0lkKGRldmljZUlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgY29uc3Qgdm9sdW1lU3Vic2NyaXB0aW9uID0gY29tYmluZUxhdGVzdChbXG4gICAgICB0aGlzLnNwZWFrZXIuc3RhdGUudm9sdW1lJCxcbiAgICAgIHBhcnRpY2lwYW50JC5waXBlKGRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkKCdhdWRpb1ZvbHVtZScpKSxcbiAgICBdKS5zdWJzY3JpYmUoKFt2b2x1bWUsIHBdKSA9PiB7XG4gICAgICBhdWRpb0VsZW1lbnQudm9sdW1lID0gcC5hdWRpb1ZvbHVtZSA/PyB2b2x1bWU7XG4gICAgfSk7XG5cbiAgICBhdWRpb0VsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNpbmtJZFN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHZvbHVtZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgdXBkYXRlTWVkaWFTdHJlYW1TdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICB9O1xufVxuIiwiaW1wb3J0IHsgQ2FsbFNldHRpbmdzUmVzcG9uc2UsIE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG4vKipcbiAqIFN0b3JlcyB0aGUgcGVybWlzc2lvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXIgYW5kIGV4cG9zZXNcbiAqIGEgZmV3IGhlbHBlciBtZXRob2RzIHdoaWNoIG1ha2UgaXQgZWFzaWVyIHRvIHdvcmsgd2l0aCBwZXJtaXNzaW9ucy5cbiAqXG4gKiBUaGlzIGlzIGFuIGludGVybmFsIGNsYXNzIG1lYW50IHRvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aFxuICogYSB7QGxpbmsgQ2FsbH0gaW5zdGFuY2UuXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJtaXNzaW9uc0NvbnRleHQge1xuICBwcml2YXRlIHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10gPSBbXTtcbiAgcHJpdmF0ZSBzZXR0aW5ncz86IENhbGxTZXR0aW5nc1Jlc3BvbnNlO1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBzZXQuXG4gICAqL1xuICBzZXRQZXJtaXNzaW9ucyA9IChwZXJtaXNzaW9uczogT3duQ2FwYWJpbGl0eVtdKSA9PiB7XG4gICAgdGhpcy5wZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zIHx8IFtdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZXR0aW5ncyBmb3IgdGhlIGJvdW5kIGNhbGwuXG4gICAqIEBwYXJhbSBzZXR0aW5nc1xuICAgKi9cbiAgc2V0Q2FsbFNldHRpbmdzID0gKHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZSkgPT4ge1xuICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHVzZXIgaGFzIGEgc3BlY2lmaWMgcGVybWlzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIHBlcm1pc3Npb24gdG8gY2hlY2sgZm9yLlxuICAgKi9cbiAgaGFzUGVybWlzc2lvbiA9IChwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGVybWlzc2lvbnMuaW5jbHVkZXMocGVybWlzc2lvbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgcGVybWlzc2lvblxuICAgKiB3aXRoaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBwZXJtaXNzaW9uIHRvIGNoZWNrIGZvci5cbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBjYWxsIHNldHRpbmdzIHRvIGNoZWNrIGFnYWluc3QgKG9wdGlvbmFsKS5cbiAgICovXG4gIGNhblJlcXVlc3QgPSAoXG4gICAgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eSxcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UgfCB1bmRlZmluZWQgPSB0aGlzLnNldHRpbmdzLFxuICApID0+IHtcbiAgICBpZiAoIXNldHRpbmdzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB7IGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmluZyB9ID0gc2V0dGluZ3M7XG4gICAgc3dpdGNoIChwZXJtaXNzaW9uKSB7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTzpcbiAgICAgICAgcmV0dXJuIGF1ZGlvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9WSURFTzpcbiAgICAgICAgcmV0dXJuIHZpZGVvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkU6XG4gICAgICAgIHJldHVybiBzY3JlZW5zaGFyaW5nLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ29tcGFyYXRvcixcbiAgZGVmYXVsdFNvcnRQcmVzZXQsXG4gIGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG59IGZyb20gJy4vc29ydGluZyc7XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgZm9yIGEge0BsaW5rIENhbGxUeXBlfS5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbFR5cGVPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIHtAbGluayBDb21wYXJhdG9yfSB0byB1c2UgdG8gc29ydGluZyB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pjtcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGwgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGxUeXBlIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIGZvciB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgb3B0aW9uczogQ2FsbFR5cGVPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbGxUeXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDYWxsVHlwZU9wdGlvbnMgPSB7XG4gICAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxufVxuXG4vKipcbiAqIEEgcmVnaXN0cnkgb2Yge0BsaW5rIENhbGxUeXBlfXMuXG4gKiBZb3UgY2FuIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIGNhbGwgdHlwZXMuXG4gKi9cbmNsYXNzIENhbGxUeXBlc1JlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIFRoZSBjYWxsIHR5cGVzIHJlZ2lzdGVyZWQgaW4gdGhpcyByZWdpc3RyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgY2FsbFR5cGVzOiB7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FsbFR5cGVzUmVnaXN0cnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsVHlwZXMgdGhlIGluaXRpYWwgY2FsbCB0eXBlcyB0byByZWdpc3Rlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxUeXBlczogQ2FsbFR5cGVbXSkge1xuICAgIHRoaXMuY2FsbFR5cGVzID0gY2FsbFR5cGVzLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH0+KFxuICAgICAgKGFjYywgY2FsbFR5cGUpID0+IHtcbiAgICAgICAgYWNjW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFR5cGUgdGhlIGNhbGwgdHlwZSB0byByZWdpc3Rlci5cbiAgICovXG4gIHJlZ2lzdGVyID0gKGNhbGxUeXBlOiBDYWxsVHlwZSkgPT4ge1xuICAgIHRoaXMuY2FsbFR5cGVzW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIGEgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIHVucmVnaXN0ZXIuXG4gICAqL1xuICB1bnJlZ2lzdGVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLmNhbGxUeXBlc1tuYW1lXTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhIGNhbGwgdHlwZSBieSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIGdldC5cbiAgICovXG4gIGdldCA9IChuYW1lOiBzdHJpbmcpOiBDYWxsVHlwZSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxUeXBlc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcihuZXcgQ2FsbFR5cGUobmFtZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWxsVHlwZXNbbmFtZV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY2FsbCB0eXBlcyByZWdpc3RyeS5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgaW5zdGFuY2UgdG8gZHluYW1pY2FsbHkgcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgY2FsbCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUeXBlcyA9IG5ldyBDYWxsVHlwZXNSZWdpc3RyeShbXG4gIG5ldyBDYWxsVHlwZSgnZGVmYXVsdCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdkZXZlbG9wbWVudCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdsaXZlc3RyZWFtJywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnYXVkaW9fcm9vbScsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG4gIH0pLFxuXSk7XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuLCBtYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZGlzcG9zZU9mTWVkaWFTdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmludGVyZmFjZSBCcm93c2VyUGVybWlzc2lvbkNvbmZpZyB7XG4gIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zO1xuICBxdWVyeU5hbWU6IFBlcm1pc3Npb25OYW1lO1xufVxuXG5leHBvcnQgY2xhc3MgQnJvd3NlclBlcm1pc3Npb24ge1xuICBwcml2YXRlIHJlYWR5OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIGRpc3Bvc2VDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBwcml2YXRlIHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgd2FzUHJvbXB0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnMgPSBuZXcgU2V0PChzdGF0ZTogUGVybWlzc2lvblN0YXRlKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ3Blcm1pc3Npb25zJ10pO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgcGVybWlzc2lvbjogQnJvd3NlclBlcm1pc3Npb25Db25maWcpIHtcbiAgICBjb25zdCBzaWduYWwgPSB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLnNpZ25hbDtcblxuICAgIHRoaXMucmVhZHkgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgYXNzdW1lR3JhbnRlZCA9IChlcnJvcj86IHVua25vd24pID0+IHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZ3JhbnRlZCcpO1xuICAgICAgfTtcblxuICAgICAgaWYgKCFjYW5RdWVyeVBlcm1pc3Npb25zKCkpIHtcbiAgICAgICAgcmV0dXJuIGFzc3VtZUdyYW50ZWQoKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gYXdhaXQgbmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtcbiAgICAgICAgICBuYW1lOiBwZXJtaXNzaW9uLnF1ZXJ5TmFtZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoc3RhdHVzLnN0YXRlKTtcbiAgICAgICAgICBzdGF0dXMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gdGhpcy5zZXRTdGF0ZShzdGF0dXMuc3RhdGUpLCB7XG4gICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBhc3N1bWVHcmFudGVkKGVycik7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxuXG4gIGRpc3Bvc2UoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmRpc3Bvc2VDb250cm9sbGVyLmFib3J0KCk7XG4gIH1cblxuICBhc3luYyBnZXRTdGF0ZSgpIHtcbiAgICBhd2FpdCB0aGlzLnJlYWR5O1xuICAgIGlmICghdGhpcy5zdGF0ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcm93c2VyUGVybWlzc2lvbiBpbnN0YW5jZSBwb3NzaWJseSBkaXNwb3NlZCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgfVxuXG4gIGFzeW5jIHByb21wdCh7XG4gICAgZm9yY2VQcm9tcHQgPSBmYWxzZSxcbiAgICB0aHJvd09uTm90QWxsb3dlZCA9IGZhbHNlLFxuICB9OiB7IGZvcmNlUHJvbXB0PzogYm9vbGVhbjsgdGhyb3dPbk5vdEFsbG93ZWQ/OiBib29sZWFuIH0gPSB7fSkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIGBwZXJtaXNzaW9uLXByb21wdC0ke3RoaXMucGVybWlzc2lvbi5xdWVyeU5hbWV9YCxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChhd2FpdCB0aGlzLmdldFN0YXRlKCkpICE9PSAncHJvbXB0JyB8fFxuICAgICAgICAgICh0aGlzLndhc1Byb21wdGVkICYmICFmb3JjZVByb21wdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXNHcmFudGVkID0gdGhpcy5zdGF0ZSA9PT0gJ2dyYW50ZWQnO1xuXG4gICAgICAgICAgaWYgKCFpc0dyYW50ZWQgJiYgdGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXG4gICAgICAgICAgICAgICdQZXJtaXNzaW9uIHdhcyBub3QgZ3JhbnRlZCBwcmV2aW91c2x5LCBhbmQgcHJvbXB0aW5nIGFnYWluIGlzIG5vdCBhbGxvd2VkJyxcbiAgICAgICAgICAgICAgJ05vdEFsbG93ZWRFcnJvcicsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBpc0dyYW50ZWQ7XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoaXMud2FzUHJvbXB0ZWQgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKFxuICAgICAgICAgICAgdGhpcy5wZXJtaXNzaW9uLmNvbnN0cmFpbnRzLFxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlzcG9zZU9mTWVkaWFTdHJlYW0oc3RyZWFtKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGUubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ0Jyb3dzZXIgcGVybWlzc2lvbiB3YXMgbm90IGdyYW50ZWQnLCB7XG4gICAgICAgICAgICAgIHBlcm1pc3Npb246IHRoaXMucGVybWlzc2lvbixcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gZ2V0VXNlck1lZGlhYCwge1xuICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgbGlzdGVuKGNiOiAoc3RhdGU6IFBlcm1pc3Npb25TdGF0ZSkgPT4gdm9pZCkge1xuICAgIHRoaXMubGlzdGVuZXJzLmFkZChjYik7XG4gICAgaWYgKHRoaXMuc3RhdGUpIGNiKHRoaXMuc3RhdGUpO1xuICAgIHJldHVybiAoKSA9PiB0aGlzLmxpc3RlbmVycy5kZWxldGUoY2IpO1xuICB9XG5cbiAgYXNPYnNlcnZhYmxlKCkge1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFBlcm1pc3Npb25TdGF0ZT4oXG4gICAgICAoaGFuZGxlcikgPT4gdGhpcy5saXN0ZW4oaGFuZGxlciksXG4gICAgICAoaGFuZGxlciwgdW5saXN0ZW4pID0+IHVubGlzdGVuKCksXG4gICAgKS5waXBlKFxuICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdGhlICdjaGFuZ2UnIGV2ZW50IGRvZXNuJ3QgcmVsaWFibHkgZW1pdCBhbmQgaGVuY2UsXG4gICAgICAvLyBwZXJtaXNzaW9uU3RhdGUgc3RheXMgaW4gJ3Byb21wdCcgc3RhdGUgZm9yZXZlci5cbiAgICAgIC8vIFR5cGljYWxseSwgdGhpcyBoYXBwZW5zIHdoZW4gYSB1c2VyIGdyYW50cyBvbmUtdGltZSBwZXJtaXNzaW9uLlxuICAgICAgLy8gSW5zdGVhZCBvZiBjaGVja2luZyBpZiBhIHBlcm1pc3Npb24gaXMgZ3JhbnRlZCwgd2UgY2hlY2sgaWYgaXQgaXNuJ3QgZGVuaWVkXG4gICAgICBtYXAoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gJ2RlbmllZCcpLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHNldFN0YXRlKHN0YXRlOiBQZXJtaXNzaW9uU3RhdGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5RdWVyeVBlcm1pc3Npb25zKCkge1xuICByZXR1cm4gKFxuICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhbmF2aWdhdG9yLnBlcm1pc3Npb25zPy5xdWVyeVxuICApO1xufVxuIiwiY29uc3QgdW5pbml0aWFsaXplZCA9IFN5bWJvbCgndW5pbml0aWFsaXplZCcpO1xuXG4vKipcbiAqIExhemlseSBjcmVhdGVzIGEgdmFsdWUgdXNpbmcgYSBwcm92aWRlZCBmYWN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXp5PFQ+KGZhY3Rvcnk6ICgpID0+IFQpOiAoKSA9PiBUIHtcbiAgbGV0IHZhbHVlOiBUIHwgdHlwZW9mIHVuaW5pdGlhbGl6ZWQgPSB1bmluaXRpYWxpemVkO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5pbml0aWFsaXplZCkge1xuICAgICAgdmFsdWUgPSBmYWN0b3J5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgY29uY2F0TWFwLFxuICBkZWJvdW5jZVRpbWUsXG4gIGZyb20sXG4gIGZyb21FdmVudCxcbiAgbWFwLFxuICBtZXJnZSxcbiAgc2hhcmVSZXBsYXksXG4gIHN0YXJ0V2l0aCxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcbmltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuXG4vKipcbiAqIFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBkZXZpY2VzXG4gKiB0aGF0IG1lZXQgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICpcbiAqIEBwYXJhbSBwZXJtaXNzaW9uIGEgQnJvd3NlclBlcm1pc3Npb24gaW5zdGFuY2UuXG4gKiBAcGFyYW0ga2luZCB0aGUga2luZCBvZiBkZXZpY2VzIHRvIGVudW1lcmF0ZS5cbiAqL1xuY29uc3QgZ2V0RGV2aWNlcyA9IChwZXJtaXNzaW9uOiBCcm93c2VyUGVybWlzc2lvbiwga2luZDogTWVkaWFEZXZpY2VLaW5kKSA9PiB7XG4gIHJldHVybiBmcm9tKFxuICAgIChhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgZGV2aWNlcyA9IGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpO1xuICAgICAgLy8gZm9yIHByaXZhY3kgcmVhc29ucywgbW9zdCBicm93c2VycyBkb24ndCBnaXZlIHlvdSBkZXZpY2UgbGFiZWxzXG4gICAgICAvLyB1bmxlc3MgeW91IGhhdmUgYSBjb3JyZXNwb25kaW5nIGNhbWVyYSBvciBtaWNyb3Bob25lIHBlcm1pc3Npb25cbiAgICAgIGNvbnN0IHNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uID0gZGV2aWNlcy5zb21lKFxuICAgICAgICAoZGV2aWNlKSA9PiBkZXZpY2Uua2luZCA9PT0ga2luZCAmJiBkZXZpY2UubGFiZWwgPT09ICcnLFxuICAgICAgKTtcbiAgICAgIGlmIChzaG91bGRQcm9tcHRGb3JCcm93c2VyUGVybWlzc2lvbikge1xuICAgICAgICBhd2FpdCBwZXJtaXNzaW9uLnByb21wdCh7IHRocm93T25Ob3RBbGxvd2VkOiB0cnVlIH0pO1xuICAgICAgICBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGV2aWNlcy5maWx0ZXIoKGQpID0+IGQua2luZCA9PT0ga2luZCk7XG4gICAgfSkoKSxcbiAgKTtcbn07XG5cbi8qKlxuICogVGVsbHMgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgYXVkaW8gb3V0cHV0IGNoYW5nZSBvbiAnYXVkaW8nIGVsZW1lbnRzLFxuICogc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MTWVkaWFFbGVtZW50L3NldFNpbmtJZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGNoZWNrSWZBdWRpb091dHB1dENoYW5nZVN1cHBvcnRlZCA9ICgpID0+IHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gIHJldHVybiAnc2V0U2lua0lkJyBpbiBlbGVtZW50O1xufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyB1c2VkIHRvIHJlcXVlc3QgYXVkaW8gZGV2aWNlcy5cbiAqL1xuY29uc3QgYXVkaW9EZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgYXVkaW86IHtcbiAgICBhdXRvR2FpbkNvbnRyb2w6IHRydWUsXG4gICAgbm9pc2VTdXBwcmVzc2lvbjogdHJ1ZSxcbiAgICBlY2hvQ2FuY2VsbGF0aW9uOiB0cnVlLFxuICB9LFxufSBzYXRpc2ZpZXMgTWVkaWFTdHJlYW1Db25zdHJhaW50cztcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyB1c2VkIHRvIHJlcXVlc3QgdmlkZW8gZGV2aWNlcy5cbiAqL1xuY29uc3QgdmlkZW9EZXZpY2VDb25zdHJhaW50cyA9IHtcbiAgdmlkZW86IHtcbiAgICB3aWR0aDogMTI4MCxcbiAgICBoZWlnaHQ6IDcyMCxcbiAgfSxcbn0gc2F0aXNmaWVzIE1lZGlhU3RyZWFtQ29uc3RyYWludHM7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGJyb3dzZXIgcGVybWlzc2lvbiB0byB1c2UgbWljcm9waG9uZS4gVGhpcyBwZXJtaXNzaW9uIGFsc29cbiAqIGFmZmVjdHMgYW4gYWJpbGl0eSB0byBlbnVtZXJhdGUgYXVkaW8gZGV2aWNlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24gPSBsYXp5KFxuICAoKSA9PlxuICAgIG5ldyBCcm93c2VyUGVybWlzc2lvbih7XG4gICAgICBjb25zdHJhaW50czogYXVkaW9EZXZpY2VDb25zdHJhaW50cyxcbiAgICAgIHF1ZXJ5TmFtZTogJ21pY3JvcGhvbmUnIGFzIFBlcm1pc3Npb25OYW1lLFxuICAgIH0pLFxuKTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgYnJvd3NlciBwZXJtaXNzaW9uIHRvIHVzZSBjYW1lcmEuIFRoaXMgcGVybWlzc2lvbiBhbHNvXG4gKiBhZmZlY3RzIGFuIGFiaWxpdHkgdG8gZW51bWVyYXRlIHZpZGVvIGRldmljZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uID0gbGF6eShcbiAgKCkgPT5cbiAgICBuZXcgQnJvd3NlclBlcm1pc3Npb24oe1xuICAgICAgY29uc3RyYWludHM6IHZpZGVvRGV2aWNlQ29uc3RyYWludHMsXG4gICAgICBxdWVyeU5hbWU6ICdjYW1lcmEnIGFzIFBlcm1pc3Npb25OYW1lLFxuICAgIH0pLFxuKTtcblxuY29uc3QgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIgPSBsYXp5KCgpID0+IHtcbiAgLy8gJ2FkZEV2ZW50TGlzdGVuZXInIGlzIG5vdCBhdmFpbGFibGUgaW4gUmVhY3QgTmF0aXZlLCByZXR1cm5pbmdcbiAgLy8gYW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgbmV2ZXIgZmlyZVxuICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lcikgcmV0dXJuIGZyb20oW10pO1xuICByZXR1cm4gZnJvbUV2ZW50KG5hdmlnYXRvci5tZWRpYURldmljZXMsICdkZXZpY2VjaGFuZ2UnKS5waXBlKFxuICAgIG1hcCgoKSA9PiB1bmRlZmluZWQpLFxuICAgIGRlYm91bmNlVGltZSg1MDApLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSBhdWRpbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICdhdWRpb2lucHV0JyBkZXZpY2VzLFxuICogaWYgZGV2aWNlcyBhcmUgYWRkZWQvcmVtb3ZlZCB0aGUgbGlzdCBpcyB1cGRhdGVkLCBhbmQgaWYgdGhlIHBlcm1pc3Npb24gaXMgcmV2b2tlZCxcbiAqIHRoZSBvYnNlcnZhYmxlIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEF1ZGlvRGV2aWNlcyA9IGxhenkoKCkgPT4ge1xuICByZXR1cm4gbWVyZ2UoXG4gICAgZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKSxcbiAgICBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCkuYXNPYnNlcnZhYmxlKCksXG4gICkucGlwZShcbiAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICBjb25jYXRNYXAoKCkgPT4gZ2V0RGV2aWNlcyhnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uKCksICdhdWRpb2lucHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSB2aWRlbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICd2aWRlb2lucHV0JyBkZXZpY2VzLFxuICogaWYgZGV2aWNlcyBhcmUgYWRkZWQvcmVtb3ZlZCB0aGUgbGlzdCBpcyB1cGRhdGVkLCBhbmQgaWYgdGhlIHBlcm1pc3Npb24gaXMgcmV2b2tlZCxcbiAqIHRoZSBvYnNlcnZhYmxlIGVycm9ycy5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFZpZGVvRGV2aWNlcyA9ICgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLCAndmlkZW9pbnB1dCcpKSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcbn07XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSB2aWRlbyBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkXG4gKiBhbmQgd2FzIG5vdCBwcm9tcHRlZCBiZWZvcmUpIGFuZCBsaXN0cyB0aGUgYXZhaWxhYmxlICdhdWRpb291dHB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb091dHB1dERldmljZXMgPSAoKSA9PiB7XG4gIHJldHVybiBtZXJnZShcbiAgICBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcigpLFxuICAgIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5hc09ic2VydmFibGUoKSxcbiAgKS5waXBlKFxuICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgIGNvbmNhdE1hcCgoKSA9PiBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvb3V0cHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufTtcblxuY29uc3QgZ2V0U3RyZWFtID0gYXN5bmMgKGNvbnN0cmFpbnRzOiBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzKSA9PiB7XG4gIHJldHVybiBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gYXVkaW8gbWVkaWEgc3RyZWFtIHRoYXQgZnVsZmlsbHMgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICogSWYgbm8gY29uc3RyYWludHMgYXJlIHByb3ZpZGVkLCBpdCB1c2VzIHRoZSBicm93c2VyJ3MgZGVmYXVsdCBvbmVzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB0cmFja0NvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHRoZSBzdHJlYW0uXG4gKiBAcmV0dXJucyB0aGUgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbikgPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICBhdWRpbzoge1xuICAgICAgLi4uYXVkaW9EZXZpY2VDb25zdHJhaW50cy5hdWRpbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGF3YWl0IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5wcm9tcHQoe1xuICAgICAgdGhyb3dPbk5vdEFsbG93ZWQ6IHRydWUsXG4gICAgICBmb3JjZVByb21wdDogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gZ2V0U3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgYXVkaW8gc3RyZWFtJywge1xuICAgICAgZXJyb3I6IGUsXG4gICAgICBjb25zdHJhaW50czogY29uc3RyYWludHMsXG4gICAgfSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgdmlkZW8gbWVkaWEgc3RyZWFtIHRoYXQgZnVsZmlsbHMgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICogSWYgbm8gY29uc3RyYWludHMgYXJlIHByb3ZpZGVkLCBpdCB1c2VzIHRoZSBicm93c2VyJ3MgZGVmYXVsdCBvbmVzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqIEBwYXJhbSB0cmFja0NvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byB1c2Ugd2hlbiByZXF1ZXN0aW5nIHRoZSBzdHJlYW0uXG4gKiBAcmV0dXJucyBhIG5ldyBgTWVkaWFTdHJlYW1gIGZ1bGZpbGxpbmcgdGhlIGdpdmVuIGNvbnN0cmFpbnRzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9TdHJlYW0gPSBhc3luYyAoXG4gIHRyYWNrQ29uc3RyYWludHM/OiBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4pID0+IHtcbiAgY29uc3QgY29uc3RyYWludHM6IE1lZGlhU3RyZWFtQ29uc3RyYWludHMgPSB7XG4gICAgdmlkZW86IHtcbiAgICAgIC4uLnZpZGVvRGV2aWNlQ29uc3RyYWludHMudmlkZW8sXG4gICAgICAuLi50cmFja0NvbnN0cmFpbnRzLFxuICAgIH0sXG4gIH07XG4gIHRyeSB7XG4gICAgYXdhaXQgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLnByb21wdCh7XG4gICAgICB0aHJvd09uTm90QWxsb3dlZDogdHJ1ZSxcbiAgICAgIGZvcmNlUHJvbXB0OiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBnZXRTdHJlYW0oY29uc3RyYWludHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCB2aWRlbyBzdHJlYW0nLCB7XG4gICAgICBlcnJvcjogZSxcbiAgICAgIGNvbnN0cmFpbnRzOiBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byBzaGFyZSBhIHNjcmVlbi5cbiAqIElmIHRoZSB1c2VyIGdyYW50cyB0aGUgcGVybWlzc2lvbiwgYSBzY3JlZW4gc2hhcmluZyBzdHJlYW0gaXMgcmV0dXJuZWQuIFRocm93cyBvdGhlcndpc2UuXG4gKlxuICogVGhlIGNhbGxlcnMgb2YgdGhpcyBBUEkgYXJlIHJlc3BvbnNpYmxlIHRvIGhhbmRsZSB0aGUgcG9zc2libGUgZXJyb3JzLlxuICpcbiAqIEBhbmd1bGFyIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBbYERldmljZU1hbmFnZXJTZXJ2aWNlYF0oLi9EZXZpY2VNYW5hZ2VyU2VydmljZS5tZCkgZm9yIGEgaGlnaGVyIGxldmVsIEFQSSwgdXNlIHRoaXMgbG93LWxldmVsIG1ldGhvZCBvbmx5IGlmIHRoZSBgRGV2aWNlTWFuYWdlclNlcnZpY2VgIGRvZXNuJ3Qgc3VpdCB5b3VyIHJlcXVpcmVtZW50cy5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyBhbnkgYWRkaXRpb25hbCBvcHRpb25zIHRvIHBhc3MgdG8gdGhlIFtgZ2V0RGlzcGxheU1lZGlhYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhRGV2aWNlcy9nZXREaXNwbGF5TWVkaWEpIEFQSS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKFxuICBvcHRpb25zPzogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbikgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSh7XG4gICAgICB2aWRlbzogdHJ1ZSxcbiAgICAgIGF1ZGlvOiB7XG4gICAgICAgIGNoYW5uZWxDb3VudDoge1xuICAgICAgICAgIGlkZWFsOiAyLFxuICAgICAgICB9LFxuICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgYXV0b0dhaW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogZmFsc2UsXG4gICAgICB9LFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIG5vdCBwcmVzZW50IGluIHR5cGVzIHlldFxuICAgICAgc3lzdGVtQXVkaW86ICdpbmNsdWRlJyxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IHNjcmVlbiBzaGFyZSBzdHJlYW0nLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGV2aWNlSWRzJCA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKS5waXBlKFxuICAgICAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICAgICAgY29uY2F0TWFwKCgpID0+IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKSxcbiAgICAgICAgc2hhcmVSZXBsYXkoMSksXG4gICAgICApXG4gICAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogRGVhY3RpdmF0ZXMgTWVkaWFTdHJlYW0gKHN0b3BzIGFuZCByZW1vdmVzIHRyYWNrcykgdG8gYmUgbGF0ZXIgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAqXG4gKiBAcGFyYW0gc3RyZWFtIE1lZGlhU3RyZWFtXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCBkaXNwb3NlT2ZNZWRpYVN0cmVhbSA9IChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gIGlmICghc3RyZWFtLmFjdGl2ZSkgcmV0dXJuO1xuICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICB0cmFjay5zdG9wKCk7XG4gICAgc3RyZWFtLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgfSk7XG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0YyBhbmQgbXVzdCBiZSBjYWxsZWQgdG8gZGlzcG9zZSB0aGUgc3RyZWFtXG4gIGlmICh0eXBlb2Ygc3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgc3RyZWFtLnJlbGVhc2UoKTtcbiAgfVxufTtcbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIHBhaXJ3aXNlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBkZXZpY2VJZHMkIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7XG4gIHNldHRsZWQsXG4gIHdpdGhDYW5jZWxsYXRpb24sXG4gIHdpdGhvdXRDb25jdXJyZW5jeSxcbn0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQge1xuICBNZWRpYVN0cmVhbUZpbHRlcixcbiAgTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeSxcbiAgTWVkaWFTdHJlYW1GaWx0ZXJSZWdpc3RyYXRpb25SZXN1bHQsXG59IGZyb20gJy4vZmlsdGVycyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxcbiAgVCBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8Qz4sXG4gIEMgPSBNZWRpYVRyYWNrQ29uc3RyYWludHMsXG4+IHtcbiAgLyoqXG4gICAqIGlmIHRydWUsIHN0b3BzIHRoZSBtZWRpYSBzdHJlYW0gd2hlbiBjYWxsIGlzIGxlZnRcbiAgICovXG4gIHN0b3BPbkxlYXZlID0gdHJ1ZTtcbiAgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJvdGVjdGVkIHN1YnNjcmlwdGlvbnM6IEZ1bmN0aW9uW10gPSBbXTtcbiAgcHJpdmF0ZSBpc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBmaWx0ZXJzOiBNZWRpYVN0cmVhbUZpbHRlckVudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBzdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgnc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSBmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZyA9IFN5bWJvbChcbiAgICAnZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWcnLFxuICApO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgcmVhZG9ubHkgY2FsbDogQ2FsbCxcbiAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdGU6IFQsXG4gICAgcHJvdGVjdGVkIHJlYWRvbmx5IHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICApIHtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbYCR7VHJhY2tUeXBlW3RyYWNrVHlwZV0udG9Mb3dlckNhc2UoKX0gbWFuYWdlcmBdKTtcbiAgICBpZiAoXG4gICAgICBkZXZpY2VJZHMkICYmXG4gICAgICAhaXNSZWFjdE5hdGl2ZSgpICYmXG4gICAgICAodGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTyB8fCB0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLlZJREVPKVxuICAgICkge1xuICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0ZWRPclJlcGxhY2VkRGV2aWNlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyB0aGUgYXZhaWxhYmxlIGF1ZGlvL3ZpZGVvIGRldmljZXNcbiAgICpcbiAgICogTm90ZTogSXQgcHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHVzZSBkZXZpY2VzIChpZiBub3QgYWxyZWFkeSBncmFudGVkKVxuICAgKlxuICAgKiBAcmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgd2lsbCBiZSB1cGRhdGVkIGlmIGEgZGV2aWNlIGlzIGNvbm5lY3RlZCBvciBkaXNjb25uZWN0ZWRcbiAgICovXG4gIGxpc3REZXZpY2VzKCkge1xuICAgIHJldHVybiB0aGlzLmdldERldmljZXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGB0cnVlYCB3aGVuIHRoaXMgZGV2aWNlIGlzIGluIGVuYWJsZWQgc3RhdGUuXG4gICAqL1xuICBnZXQgZW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdlbmFibGVkJztcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydHMgc3RyZWFtLlxuICAgKi9cbiAgYXN5bmMgZW5hYmxlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cygnZW5hYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnVubXV0ZVN0cmVhbSgpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZW5hYmxlZCcpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKCFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cyh0aGlzLnN0YXRlLnN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyBvciBwYXVzZXMgdGhlIHN0cmVhbSBiYXNlZCBvbiBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVN0b3A9ZmFsc2VdIHdoZW4gdHJ1ZSwgc3RvcHMgdGhlIHRyYWNrcyByZWdhcmRsZXNzIG9mIHRoZSBzdGF0ZS5kaXNhYmxlTW9kZVxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZShmb3JjZVN0b3A6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9IHRoaXMuc3RhdGUuc3RhdHVzO1xuICAgIGlmICghZm9yY2VTdG9wICYmIHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0UGVuZGluZ1N0YXR1cygnZGlzYWJsZWQnKTtcblxuICAgIGF3YWl0IHdpdGhDYW5jZWxsYXRpb24odGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZywgYXN5bmMgKHNpZ25hbCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcFRyYWNrcyA9XG4gICAgICAgICAgZm9yY2VTdG9wIHx8IHRoaXMuc3RhdGUuZGlzYWJsZU1vZGUgPT09ICdzdG9wLXRyYWNrcyc7XG4gICAgICAgIGF3YWl0IHRoaXMubXV0ZVN0cmVhbShzdG9wVHJhY2tzKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0dXMoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKHRoaXMuc3RhdGUuc3RhdHVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgcGVcbiAgICovXG4gIGFzeW5jIHN0YXR1c0NoYW5nZVNldHRsZWQoKSB7XG4gICAgYXdhaXQgc2V0dGxlZCh0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJZiBzdGF0dXMgd2FzIHByZXZpb3VzbHkgZW5hYmxlZCwgaXQgd2lsbCByZS1lbmFibGUgdGhlIGRldmljZS5cbiAgICovXG4gIGFzeW5jIHJlc3VtZSgpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnN0YXRlLnByZXZTdGF0dXMgPT09ICdlbmFibGVkJyAmJlxuICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCdcbiAgICApIHtcbiAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElmIHRoZSBjdXJyZW50IGRldmljZSBzdGF0dXMgaXMgZGlzYWJsZWQsIGl0IHdpbGwgZW5hYmxlIHRoZSBkZXZpY2UsXG4gICAqIGVsc2UgaXQgd2lsbCBkaXNhYmxlIGl0LlxuICAgKi9cbiAgYXN5bmMgdG9nZ2xlKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgZmlsdGVyIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzdHJlYW0uXG4gICAqXG4gICAqIFRoZSByZWdpc3RlcmVkIGZpbHRlciB3aWxsIGdldCB0aGUgZXhpc3Rpbmcgc3RyZWFtLCBhbmQgaXQgc2hvdWxkIHJldHVyblxuICAgKiBhIG5ldyBzdHJlYW0gd2l0aCB0aGUgYXBwbGllZCBmaWx0ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBmaWx0ZXIgdGhlIGZpbHRlciB0byByZWdpc3Rlci5cbiAgICogQHJldHVybnMgTWVkaWFTdHJlYW1GaWx0ZXJSZWdpc3RyYXRpb25SZXN1bHRcbiAgICovXG4gIHJlZ2lzdGVyRmlsdGVyKFxuICAgIGZpbHRlcjogTWVkaWFTdHJlYW1GaWx0ZXIsXG4gICk6IE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCBlbnRyeTogTWVkaWFTdHJlYW1GaWx0ZXJFbnRyeSA9IHtcbiAgICAgIHN0YXJ0OiBmaWx0ZXIsXG4gICAgICBzdG9wOiB1bmRlZmluZWQsXG4gICAgfTtcblxuICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSB3aXRob3V0Q29uY3VycmVuY3koXG4gICAgICB0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICB0aGlzLmZpbHRlcnMucHVzaChlbnRyeSk7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnaXN0ZXJlZCxcbiAgICAgIHVucmVnaXN0ZXI6ICgpID0+XG4gICAgICAgIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgZW50cnkuc3RvcD8uKCk7XG4gICAgICAgICAgdGhpcy5maWx0ZXJzID0gdGhpcy5maWx0ZXJzLmZpbHRlcigoZikgPT4gZiAhPT0gZW50cnkpO1xuICAgICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgIH0pLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBzZXQgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqXG4gICAqIEBwYXJhbSBjb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGVmYXVsdENvbnN0cmFpbnRzKGNvbnN0cmFpbnRzOiBDKSB7XG4gICAgdGhpcy5zdGF0ZS5zZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgYSBkZXZpY2UuXG4gICAqXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqIEBwYXJhbSBkZXZpY2VJZCB0aGUgZGV2aWNlIGlkIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdChkZXZpY2VJZDogc3RyaW5nIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIHJlZmVyZW5jZS4nLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRldmljZUlkID09PSB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0RGV2aWNlKGRldmljZUlkKTtcbiAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMoKSk7XG4gIH07XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpIHtcbiAgICBhd2FpdCB3aXRoQ2FuY2VsbGF0aW9uKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tdXRlU3RyZWFtKCk7XG4gICAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPjtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0U3RyZWFtKGNvbnN0cmFpbnRzOiBDKTogUHJvbWlzZTxNZWRpYVN0cmVhbT47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHB1Ymxpc2hTdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IFByb21pc2U8dm9pZD47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+O1xuXG4gIHByb3RlY3RlZCBnZXRUcmFja3MoKTogTWVkaWFTdHJlYW1UcmFja1tdIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbT8uZ2V0VHJhY2tzKCkgPz8gW107XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgbXV0ZVN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGlmICghdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkgcmV0dXJuO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGAke3N0b3BUcmFja3MgPyAnU3RvcHBpbmcnIDogJ0Rpc2FibGluZyd9IHN0cmVhbWApO1xuICAgIGlmICh0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3MpO1xuICAgIH1cbiAgICB0aGlzLm11dGVMb2NhbFN0cmVhbShzdG9wVHJhY2tzKTtcbiAgICBjb25zdCBhbGxFbmRlZCA9IHRoaXMuZ2V0VHJhY2tzKCkuZXZlcnkoKHQpID0+IHQucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJyk7XG4gICAgaWYgKGFsbEVuZGVkKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciByZWxlYXNlKCkgaXMgcHJlc2VudCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gICAgICAgIHR5cGVvZiB0aGlzLnN0YXRlLm1lZGlhU3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGNhbGxlZCB0byBkaXNwb3NlIHRoZSBzdHJlYW0gaW4gUk5cbiAgICAgICAgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbS5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLnNldE1lZGlhU3RyZWFtKHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKChlbnRyeSkgPT4gZW50cnkuc3RvcD8uKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgbXV0ZVRyYWNrcygpIHtcbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAodHJhY2suZW5hYmxlZCkgdHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSB1bm11dGVUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKCF0cmFjay5lbmFibGVkKSB0cmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RvcFRyYWNrcygpIHtcbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnKSB0cmFjay5zdG9wKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIG11dGVMb2NhbFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1lZGlhU3RyZWFtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdG9wVHJhY2tzKSB7XG4gICAgICB0aGlzLnN0b3BUcmFja3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tdXRlVHJhY2tzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHVubXV0ZVN0cmVhbSgpIHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU3RhcnRpbmcgc3RyZWFtJyk7XG4gICAgbGV0IHN0cmVhbTogTWVkaWFTdHJlYW07XG4gICAgbGV0IHJvb3RTdHJlYW06IFByb21pc2U8TWVkaWFTdHJlYW0+IHwgdW5kZWZpbmVkO1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgIHRoaXMuZ2V0VHJhY2tzKCkuZXZlcnkoKHQpID0+IHQucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnKVxuICAgICkge1xuICAgICAgc3RyZWFtID0gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgIHRoaXMudW5tdXRlVHJhY2tzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRDb25zdHJhaW50cyA9IHRoaXMuc3RhdGUuZGVmYXVsdENvbnN0cmFpbnRzO1xuICAgICAgY29uc3QgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdENvbnN0cmFpbnRzLFxuICAgICAgICBkZXZpY2VJZDogdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSxcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQ2hhaW5zIHR3byBtZWRpYSBzdHJlYW1zIHRvZ2V0aGVyLlxuICAgICAgICpcbiAgICAgICAqIEluIG91ciBjYXNlLCBmaWx0ZXJzIE1lZGlhU3RyZWFtcyBhcmUgZGVyaXZlZCBmcm9tIHRoZWlyIHBhcmVudCBNZWRpYVN0cmVhbS5cbiAgICAgICAqIEhvd2V2ZXIsIG9uY2UgYSBjaGlsZCBmaWx0ZXIncyB0cmFjayBpcyBzdG9wcGVkLFxuICAgICAgICogdGhlIHRyYWNrcyBvZiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtIGFyZW4ndCBhdXRvbWF0aWNhbGx5IHN0b3BwZWQuXG4gICAgICAgKiBUaGlzIGxlYWRzIHRvIGEgc2l0dWF0aW9uIHdoZXJlIHRoZSBjYW1lcmEgaW5kaWNhdG9yIGxpZ2h0IGlzIHN0aWxsIG9uXG4gICAgICAgKiBldmVuIHRob3VnaCB0aGUgdXNlciBzdG9wcGVkIHB1Ymxpc2hpbmcgdmlkZW8uXG4gICAgICAgKlxuICAgICAgICogVGhpcyBmdW5jdGlvbiB3b3JrcyBhcm91bmQgdGhpcyBpc3N1ZSBieSBzdG9wcGluZyB0aGUgcGFyZW50IE1lZGlhU3RyZWFtJ3MgdHJhY2tzXG4gICAgICAgKiBhcyB3ZWxsIG9uY2UgdGhlIGNoaWxkIGZpbHRlcidzIHRyYWNrcyBhcmUgc3RvcHBlZC5cbiAgICAgICAqXG4gICAgICAgKiBJdCB3b3JrcyBieSBwYXRjaGluZyB0aGUgc3RvcCgpIG1ldGhvZCBvZiB0aGUgY2hpbGQgZmlsdGVyJ3MgdHJhY2tzIHRvIGFsc28gc3RvcFxuICAgICAgICogdGhlIHBhcmVudCBNZWRpYVN0cmVhbSdzIHRyYWNrcyBvZiB0aGUgc2FtZSB0eXBlLiBIZXJlIHdlIGFzc3VtZSB0aGF0XG4gICAgICAgKiB0aGUgcGFyZW50IE1lZGlhU3RyZWFtIGhhcyBvbmx5IG9uZSB0cmFjayBvZiBlYWNoIHR5cGUuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHBhcmVudFN0cmVhbSB0aGUgcGFyZW50IE1lZGlhU3RyZWFtLiBPbWl0IGZvciB0aGUgcm9vdCBzdHJlYW0uXG4gICAgICAgKi9cbiAgICAgIGNvbnN0IGNoYWluV2l0aCA9XG4gICAgICAgIChwYXJlbnRTdHJlYW0/OiBQcm9taXNlPE1lZGlhU3RyZWFtPikgPT5cbiAgICAgICAgYXN5bmMgKGZpbHRlclN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPE1lZGlhU3RyZWFtPiA9PiB7XG4gICAgICAgICAgaWYgKCFwYXJlbnRTdHJlYW0pIHJldHVybiBmaWx0ZXJTdHJlYW07XG4gICAgICAgICAgLy8gVE9ETyBPTDogdGFrZSBjYXJlIG9mIHRyYWNrLmVuYWJsZWQgcHJvcGVydHkgYXMgd2VsbFxuICAgICAgICAgIGNvbnN0IHBhcmVudCA9IGF3YWl0IHBhcmVudFN0cmVhbTtcbiAgICAgICAgICBmaWx0ZXJTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IHRyYWNrLnN0b3A7XG4gICAgICAgICAgICB0cmFjay5zdG9wID0gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAgICAgb3JpZ2luYWxTdG9wLmNhbGwodHJhY2spO1xuICAgICAgICAgICAgICBwYXJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgocGFyZW50VHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhY2sua2luZCA9PT0gdHJhY2sua2luZCkge1xuICAgICAgICAgICAgICAgICAgcGFyZW50VHJhY2suc3RvcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcGFyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHBhcmVudFRyYWNrKSA9PiB7XG4gICAgICAgICAgICAvLyBXaGVuIHRoZSBwYXJlbnQgc3RyZWFtIGFicnVwdGx5IGVuZHMsIHdlIHByb3BhZ2F0ZSB0aGUgZXZlbnRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBmaWx0ZXIgc3RyZWFtLlxuICAgICAgICAgICAgLy8gVGhpcyB1c3VhbGx5IGhhcHBlbnMgd2hlbiB0aGUgY2FtZXJhL21pY3JvcGhvbmUgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIC8vIGFyZSByZXZva2VkIG9yIHdoZW4gdGhlIGRldmljZSBpcyBkaXNjb25uZWN0ZWQuXG4gICAgICAgICAgICBjb25zdCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkID0gKCkgPT4ge1xuICAgICAgICAgICAgICBmaWx0ZXJTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VHJhY2sua2luZCAhPT0gdHJhY2sua2luZCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB0cmFjay5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnZW5kZWQnKSk7IC8vIHByb3BhZ2F0ZSB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcGFyZW50VHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgcGFyZW50VHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVQYXJlbnRUcmFja0VuZGVkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIGZpbHRlclN0cmVhbTtcbiAgICAgICAgfTtcblxuICAgICAgLy8gdGhlIHJvb3RTdHJlYW0gcmVwcmVzZW50cyB0aGUgc3RyZWFtIGNvbWluZyBmcm9tIHRoZSBhY3R1YWwgZGV2aWNlXG4gICAgICAvLyBlLmcuIGNhbWVyYSBvciBtaWNyb3Bob25lIHN0cmVhbVxuICAgICAgcm9vdFN0cmVhbSA9IHRoaXMuZ2V0U3RyZWFtKGNvbnN0cmFpbnRzIGFzIEMpO1xuICAgICAgLy8gd2UgcHVibGlzaCB0aGUgbGFzdCBNZWRpYVN0cmVhbSBvZiB0aGUgY2hhaW5cbiAgICAgIHN0cmVhbSA9IGF3YWl0IHRoaXMuZmlsdGVycy5yZWR1Y2UoXG4gICAgICAgIChwYXJlbnQsIGVudHJ5KSA9PlxuICAgICAgICAgIHBhcmVudFxuICAgICAgICAgICAgLnRoZW4oKGlucHV0U3RyZWFtKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHsgc3RvcCwgb3V0cHV0IH0gPSBlbnRyeS5zdGFydChpbnB1dFN0cmVhbSk7XG4gICAgICAgICAgICAgIGVudHJ5LnN0b3AgPSBzdG9wO1xuICAgICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKGNoYWluV2l0aChwYXJlbnQpLCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICAgICdGaWx0ZXIgZmFpbGVkIHRvIHN0YXJ0IGFuZCB3aWxsIGJlIGlnbm9yZWQnLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIHJvb3RTdHJlYW0sXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoU3RyZWFtKHN0cmVhbSk7XG4gICAgfVxuICAgIGlmICh0aGlzLnN0YXRlLm1lZGlhU3RyZWFtICE9PSBzdHJlYW0pIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVkaWFTdHJlYW0oc3RyZWFtLCBhd2FpdCByb290U3RyZWFtKTtcbiAgICAgIGNvbnN0IGhhbmRsZVRyYWNrRW5kZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuICAgICAgICBpZiAodGhpcy5lbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSB0cnVlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBoYW5kbGVUcmFja0VuZGVkKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goKCkgPT5cbiAgICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdlbmRlZCcsIGhhbmRsZVRyYWNrRW5kZWQpLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXQgbWVkaWFEZXZpY2VLaW5kKCkge1xuICAgIGlmICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPKSB7XG4gICAgICByZXR1cm4gJ2F1ZGlvaW5wdXQnO1xuICAgIH1cbiAgICBpZiAodGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgcmV0dXJuICd2aWRlb2lucHV0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEaXNjb25uZWN0ZWRPclJlcGxhY2VkRGV2aWNlcygpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgZGV2aWNlSWRzJCEucGlwZShwYWlyd2lzZSgpKSxcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlJCxcbiAgICAgICAgXSksXG4gICAgICAgIGFzeW5jIChbW3ByZXZEZXZpY2VzLCBjdXJyZW50RGV2aWNlc10sIGRldmljZUlkXSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWRldmljZUlkKSByZXR1cm47XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgICAgICAgICAgbGV0IGlzRGV2aWNlRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaXNEZXZpY2VSZXBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERldmljZSA9IHRoaXMuZmluZERldmljZUluTGlzdChcbiAgICAgICAgICAgICAgY3VycmVudERldmljZXMsXG4gICAgICAgICAgICAgIGRldmljZUlkLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZEZXZpY2UgPSB0aGlzLmZpbmREZXZpY2VJbkxpc3QocHJldkRldmljZXMsIGRldmljZUlkKTtcbiAgICAgICAgICAgIGlmICghY3VycmVudERldmljZSAmJiBwcmV2RGV2aWNlKSB7XG4gICAgICAgICAgICAgIGlzRGV2aWNlRGlzY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UgJiZcbiAgICAgICAgICAgICAgcHJldkRldmljZSAmJlxuICAgICAgICAgICAgICBjdXJyZW50RGV2aWNlLmRldmljZUlkID09PSBwcmV2RGV2aWNlLmRldmljZUlkICYmXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UuZ3JvdXBJZCAhPT0gcHJldkRldmljZS5ncm91cElkXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaXNEZXZpY2VSZXBsYWNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RldmljZURpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZWxlY3QodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0RldmljZVJlcGxhY2VkKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc3RhdHVzID09PSAnZGlzYWJsZWQnXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc1RyYWNrU3RvcHBlZER1ZVRvVHJhY2tFbmQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgICAnVW5leHBlY3RlZCBlcnJvciB3aGlsZSBoYW5kbGluZyBkaXNjb25uZWN0ZWQgb3IgcmVwbGFjZWQgZGV2aWNlJyxcbiAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGZpbmREZXZpY2VJbkxpc3QoZGV2aWNlczogTWVkaWFEZXZpY2VJbmZvW10sIGRldmljZUlkOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gZGV2aWNlcy5maW5kKFxuICAgICAgKGQpID0+IGQuZGV2aWNlSWQgPT09IGRldmljZUlkICYmIGQua2luZCA9PT0gdGhpcy5tZWRpYURldmljZUtpbmQsXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQmVoYXZpb3JTdWJqZWN0LFxuICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgT2JzZXJ2YWJsZSxcbiAgb2YsXG4gIHNoYXJlUmVwbGF5LFxufSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBCcm93c2VyUGVybWlzc2lvbiB9IGZyb20gJy4vQnJvd3NlclBlcm1pc3Npb24nO1xuXG5leHBvcnQgdHlwZSBJbnB1dERldmljZVN0YXR1cyA9ICdlbmFibGVkJyB8ICdkaXNhYmxlZCcgfCB1bmRlZmluZWQ7XG5leHBvcnQgdHlwZSBUcmFja0Rpc2FibGVNb2RlID0gJ3N0b3AtdHJhY2tzJyB8ICdkaXNhYmxlLXRyYWNrcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPEMgPSBNZWRpYVRyYWNrQ29uc3RyYWludHM+IHtcbiAgcHJvdGVjdGVkIHN0YXR1c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PElucHV0RGV2aWNlU3RhdHVzPih1bmRlZmluZWQpO1xuICBwcm90ZWN0ZWQgb3B0aW1pc3RpY1N0YXR1c1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PElucHV0RGV2aWNlU3RhdHVzPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBtZWRpYVN0cmVhbVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBzZWxlY3RlZERldmljZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PHN0cmluZyB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuICBwcm90ZWN0ZWQgZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8QyB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByZXZTdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgbWVkaWEgc3RyZWFtLCBvciBgdW5kZWZpbmVkYCBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSBkaXNhYmxlZC5cbiAgICpcbiAgICovXG4gIG1lZGlhU3RyZWFtJCA9IHRoaXMubWVkaWFTdHJlYW1TdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJCA9IHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0XG4gICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgZGV2aWNlIHN0YXR1c1xuICAgKi9cbiAgc3RhdHVzJCA9IHRoaXMuc3RhdHVzU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoZSByZWZsZWN0cyB0aGUgcmVxdWVzdGVkIGRldmljZSBzdGF0dXMuIFVzZWZ1bCBmb3Igb3B0aW1pc3RpYyBVSXNcbiAgICovXG4gIG9wdGltaXN0aWNTdGF0dXMkID0gdGhpcy5vcHRpbWlzdGljU3RhdHVzU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICovXG4gIGRlZmF1bHRDb25zdHJhaW50cyQgPSB0aGlzLmRlZmF1bHRDb25zdHJhaW50c1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEFuIG9ic2VydmFibGUgdGhhdCB3aWxsIGVtaXQgYHRydWVgIGlmIGJyb3dzZXIvc3lzdGVtIHBlcm1pc3Npb25cbiAgICogaXMgZ3JhbnRlZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gICAqL1xuICBoYXNCcm93c2VyUGVybWlzc2lvbiQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgbmV3IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgaW5zdGFuY2UuXG4gICAqXG4gICAqIEBwYXJhbSBkaXNhYmxlTW9kZSB0aGUgZGlzYWJsZSBtb2RlIHRvIHVzZS5cbiAgICogQHBhcmFtIHBlcm1pc3Npb24gdGhlIEJyb3dzZXJQZXJtaXNzaW9uIHRvIHVzZSBmb3IgcXVlcnlpbmcuXG4gICAqIGB1bmRlZmluZWRgIG1lYW5zIG5vIHBlcm1pc3Npb24gaXMgcmVxdWlyZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgcmVhZG9ubHkgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnLFxuICAgIHBlcm1pc3Npb24/OiBCcm93c2VyUGVybWlzc2lvbixcbiAgKSB7XG4gICAgdGhpcy5oYXNCcm93c2VyUGVybWlzc2lvbiQgPSBwZXJtaXNzaW9uXG4gICAgICA/IHBlcm1pc3Npb24uYXNPYnNlcnZhYmxlKCkucGlwZShzaGFyZVJlcGxheSgxKSlcbiAgICAgIDogb2YodHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRldmljZSBzdGF0dXNcbiAgICovXG4gIGdldCBzdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlcXVlc3RlZCBkZXZpY2Ugc3RhdHVzLiBVc2VmdWwgZm9yIG9wdGltaXN0aWMgVUlzXG4gICAqL1xuICBnZXQgb3B0aW1pc3RpY1N0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5vcHRpbWlzdGljU3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICovXG4gIGdldCBzZWxlY3RlZERldmljZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IG1lZGlhIHN0cmVhbSwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGRldmljZSBpcyBjdXJyZW50bHkgZGlzYWJsZWQuXG4gICAqL1xuICBnZXQgbWVkaWFTdHJlYW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVkaWFTdHJlYW0kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGF0dXNcbiAgICovXG4gIHNldFN0YXR1cyhzdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGF0dXNTdWJqZWN0LCBzdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gcGVuZGluZ1N0YXR1c1xuICAgKi9cbiAgc2V0UGVuZGluZ1N0YXR1cyhwZW5kaW5nU3RhdHVzOiBJbnB1dERldmljZVN0YXR1cykge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMub3B0aW1pc3RpY1N0YXR1c1N1YmplY3QsIHBlbmRpbmdTdGF0dXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGBtZWRpYVN0cmVhbWAgc3RhdGUgdmFyaWFibGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RyZWFtIHRoZSBzdHJlYW0gdG8gc2V0LlxuICAgKiBAcGFyYW0gcm9vdFN0cmVhbSB0aGUgcm9vdCBzdHJlYW0sIGFwcGxpY2FibGUgd2hlbiBmaWx0ZXJzIGFyZSB1c2VkXG4gICAqIGFzIHRoaXMgaXMgdGhlIHN0cmVhbSB0aGF0IGhvbGRzIHRoZSBhY3R1YWwgZGV2aWNlSWQgaW5mb3JtYXRpb24uXG4gICAqL1xuICBzZXRNZWRpYVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHJvb3RTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICApIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lZGlhU3RyZWFtU3ViamVjdCwgc3RyZWFtKTtcbiAgICBpZiAocm9vdFN0cmVhbSkge1xuICAgICAgdGhpcy5zZXREZXZpY2UodGhpcy5nZXREZXZpY2VJZEZyb21TdHJlYW0ocm9vdFN0cmVhbSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGRldmljZUlkIHRoZSBkZXZpY2UgaWQgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGV2aWNlKGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdCwgZGV2aWNlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqL1xuICBnZXQgZGVmYXVsdENvbnN0cmFpbnRzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmRlZmF1bHRDb25zdHJhaW50cyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRlZmF1bHQgY29uc3RyYWludHMgZm9yIHRoZSBkZXZpY2UuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHNldC5cbiAgICovXG4gIHNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50czogQyB8IHVuZGVmaW5lZCkge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCwgY29uc3RyYWludHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICAgKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAgICogdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAgICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICovXG4gIHByb3RlY3RlZCBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgdHlwZSBDYW1lcmFEaXJlY3Rpb24gPSAnZnJvbnQnIHwgJ2JhY2snIHwgdW5kZWZpbmVkO1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhTWFuYWdlclN0YXRlIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB7XG4gIHByaXZhdGUgZGlyZWN0aW9uU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Q2FtZXJhRGlyZWN0aW9uPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIHByZWZlcnJlZCBjYW1lcmEgZGlyZWN0aW9uXG4gICAqIGZyb250IC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIHVzZXJcbiAgICogYmFjayAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSBlbnZpcm9ubWVudFxuICAgKi9cbiAgZGlyZWN0aW9uJDogT2JzZXJ2YWJsZTxDYW1lcmFEaXJlY3Rpb24+O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdG9wLXRyYWNrcycsIGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24oKSk7XG4gICAgdGhpcy5kaXJlY3Rpb24kID0gdGhpcy5kaXJlY3Rpb25TdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgY2FtZXJhIGRpcmVjdGlvblxuICAgKiBmcm9udCAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSB1c2VyXG4gICAqIGJhY2sgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgZW52aXJvbm1lbnRcbiAgICovXG4gIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZGlyZWN0aW9uJCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXREaXJlY3Rpb24oZGlyZWN0aW9uOiBDYW1lcmFEaXJlY3Rpb24pIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmRpcmVjdGlvblN1YmplY3QsIGRpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRNZWRpYVN0cmVhbShcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICAgIHJvb3RTdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkLFxuICApOiB2b2lkIHtcbiAgICBzdXBlci5zZXRNZWRpYVN0cmVhbShzdHJlYW0sIHJvb3RTdHJlYW0pO1xuICAgIGlmIChzdHJlYW0pIHtcbiAgICAgIC8vIFJOIGdldFNldHRpbmdzKCkgZG9lc24ndCByZXR1cm4gZmFjaW5nTW9kZSwgc28gd2UgZG9uJ3QgdmVyaWZ5IGNhbWVyYSBkaXJlY3Rpb25cbiAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGlzUmVhY3ROYXRpdmUoKVxuICAgICAgICA/IHRoaXMuZGlyZWN0aW9uXG4gICAgICAgIDogc3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0/LmdldFNldHRpbmdzKCkuZmFjaW5nTW9kZSA9PT0gJ2Vudmlyb25tZW50J1xuICAgICAgICAgID8gJ2JhY2snXG4gICAgICAgICAgOiAnZnJvbnQnO1xuICAgICAgdGhpcy5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcbiAgICByZXR1cm4gdHJhY2s/LmdldFNldHRpbmdzKCkuZGV2aWNlSWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbWVyYURpcmVjdGlvbiwgQ2FtZXJhTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9DYW1lcmFNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IGdldFZpZGVvRGV2aWNlcywgZ2V0VmlkZW9TdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFByZWZlcnJlZENvZGVjLCBQdWJsaXNoT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxDYW1lcmFNYW5hZ2VyU3RhdGU+IHtcbiAgcHJpdmF0ZSB0YXJnZXRSZXNvbHV0aW9uID0ge1xuICAgIHdpZHRoOiAxMjgwLFxuICAgIGhlaWdodDogNzIwLFxuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgb3B0aW9ucyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25zIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbWVyYU1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBDYW1lcmFNYW5hZ2VyU3RhdGUoKSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3QgdGhlIGNhbWVyYSBkaXJlY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgY2FtZXJhIHRvIHNlbGVjdC5cbiAgICovXG4gIGFzeW5jIHNlbGVjdERpcmVjdGlvbihkaXJlY3Rpb246IEV4Y2x1ZGU8Q2FtZXJhRGlyZWN0aW9uLCB1bmRlZmluZWQ+KSB7XG4gICAgdGhpcy5zdGF0ZS5zZXREaXJlY3Rpb24oZGlyZWN0aW9uKTtcbiAgICAvLyBQcm92aWRpbmcgYm90aCBkZXZpY2UgaWQgYW5kIGRpcmVjdGlvbiBkb2Vzbid0IHdvcmssIHNvIHdlIGRlc2VsZWN0IHRoZSBkZXZpY2VcbiAgICB0aGlzLnN0YXRlLnNldERldmljZSh1bmRlZmluZWQpO1xuICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgdGhlIGNhbWVyYSBkaXJlY3Rpb246IGlmIGl0J3MgZnJvbnQgaXQgd2lsbCBjaGFuZ2UgdG8gYmFjaywgaWYgaXQncyBiYWNrLCBpdCB3aWxsIGNoYW5nZSB0byBmcm9udC5cbiAgICpcbiAgICogTm90ZTogaWYgdGhlcmUgaXMgbm8gYXZhaWxhYmxlIGNhbWVyYSB3aXRoIHRoZSBkZXNpcmVkIGRpcmVjdGlvbiwgdGhpcyBtZXRob2Qgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgZmxpcCgpIHtcbiAgICBjb25zdCBuZXdEaXJlY3Rpb24gPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICdiYWNrJyA6ICdmcm9udCc7XG4gICAgYXdhaXQgdGhpcy5zZWxlY3REaXJlY3Rpb24obmV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIHNlbGVjdFRhcmdldFJlc29sdXRpb24ocmVzb2x1dGlvbjogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9KSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCA9IHJlc29sdXRpb24ud2lkdGg7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGNvdWxkbid0IGVuYWJsZSBkZXZpY2UsIHRhcmdldCByZXNvbHV0aW9uIHdpbGwgYmUgYXBwbGllZCB0aGUgbmV4dCB0aW1lIHVzZXIgYXR0ZW1wdHMgdG8gc3RhcnQgdGhlIGRldmljZVxuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdjb3VsZCBub3QgYXBwbHkgdGFyZ2V0IHJlc29sdXRpb24nLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zdGF0ZVxuICAgICAgICAubWVkaWFTdHJlYW0hLmdldFZpZGVvVHJhY2tzKClbMF1cbiAgICAgICAgPy5nZXRTZXR0aW5ncygpO1xuICAgICAgaWYgKFxuICAgICAgICB3aWR0aCAhPT0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoIHx8XG4gICAgICAgIGhlaWdodCAhPT0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodFxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgYCR7d2lkdGh9eCR7aGVpZ2h0fSB0YXJnZXQgcmVzb2x1dGlvbiBhcHBsaWVkIHRvIG1lZGlhIHN0cmVhbWAsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHByZWZlcnJlZCBjb2RlYyBmb3IgZW5jb2RpbmcgdGhlIHZpZGVvLlxuICAgKlxuICAgKiBAaW50ZXJuYWwgaW50ZXJuYWwgdXNlIG9ubHksIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAcGFyYW0gY29kZWMgdGhlIGNvZGVjIHRvIHVzZSBmb3IgZW5jb2RpbmcgdGhlIHZpZGVvLlxuICAgKi9cbiAgc2V0UHJlZmVycmVkQ29kZWMoY29kZWM6IFByZWZlcnJlZENvZGVjIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy51cGRhdGVQdWJsaXNoT3B0aW9ucyh7IHByZWZlcnJlZENvZGVjOiBjb2RlYyB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwcmVmZXJyZWQgcHVibGlzaCBvcHRpb25zIGZvciB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIG9wdGlvbnMgdGhlIG9wdGlvbnMgdG8gdXNlLlxuICAgKi9cbiAgdXBkYXRlUHVibGlzaE9wdGlvbnMob3B0aW9uczogUHVibGlzaE9wdGlvbnMpIHtcbiAgICB0aGlzLnB1Ymxpc2hPcHRpb25zID0geyAuLi50aGlzLnB1Ymxpc2hPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY2FwdHVyZSByZXNvbHV0aW9uIG9mIHRoZSBjYW1lcmEuXG4gICAqL1xuICBnZXRDYXB0dXJlUmVzb2x1dGlvbigpIHtcbiAgICBjb25zdCB7IG1lZGlhU3RyZWFtIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmICghbWVkaWFTdHJlYW0pIHJldHVybjtcblxuICAgIGNvbnN0IFt2aWRlb1RyYWNrXSA9IG1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgaWYgKCF2aWRlb1RyYWNrKSByZXR1cm47XG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IHNldHRpbmdzLndpZHRoLFxuICAgICAgaGVpZ2h0OiBzZXR0aW5ncy5oZWlnaHQsXG4gICAgICBmcmFtZVJhdGU6IHNldHRpbmdzLmZyYW1lUmF0ZSxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBnZXRWaWRlb0RldmljZXMoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdHJlYW0oXG4gICAgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGNvbnN0cmFpbnRzLndpZHRoID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoO1xuICAgIGNvbnN0cmFpbnRzLmhlaWdodCA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgLy8gV2UgY2FuJ3Qgc2V0IGJvdGggZGV2aWNlIGlkIGFuZCBmYWNpbmcgbW9kZVxuICAgIC8vIERldmljZSBpZCBoYXMgaGlnaGVyIHByaW9yaXR5XG4gICAgaWYgKCFjb25zdHJhaW50cy5kZXZpY2VJZCAmJiB0aGlzLnN0YXRlLmRpcmVjdGlvbikge1xuICAgICAgY29uc3RyYWludHMuZmFjaW5nTW9kZSA9XG4gICAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSAnZnJvbnQnID8gJ3VzZXInIDogJ2Vudmlyb25tZW50JztcbiAgICB9XG4gICAgcmV0dXJuIGdldFZpZGVvU3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2hWaWRlb1N0cmVhbShzdHJlYW0sIHRoaXMucHVibGlzaE9wdGlvbnMpO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnN0b3BQdWJsaXNoKFRyYWNrVHlwZS5WSURFTywgc3RvcFRyYWNrcyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUsXG4gIFRyYWNrRGlzYWJsZU1vZGUsXG59IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IGNsYXNzIE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIHtcbiAgcHJpdmF0ZSBzcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBgdHJ1ZWAgaWYgdGhlIHVzZXIncyBtaWNyb3Bob25lIGlzIG11dGVkIGJ1dCB0aGV5J2FyZSBzcGVha2luZy5cbiAgICpcbiAgICogVGhpcyBmZWF0dXJlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFJlYWN0IE5hdGl2ZSBTREsuXG4gICAqL1xuICBzcGVha2luZ1doaWxlTXV0ZWQkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKGRpc2FibGVNb2RlOiBUcmFja0Rpc2FibGVNb2RlKSB7XG4gICAgc3VwZXIoZGlzYWJsZU1vZGUsIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSk7XG5cbiAgICB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZCQgPSB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZFN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogYHRydWVgIGlmIHRoZSB1c2VyJ3MgbWljcm9waG9uZSBpcyBtdXRlZCBidXQgdGhleSdhcmUgc3BlYWtpbmcuXG4gICAqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBSZWFjdCBOYXRpdmUgU0RLLlxuICAgKi9cbiAgZ2V0IHNwZWFraW5nV2hpbGVNdXRlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zcGVha2luZ1doaWxlTXV0ZWQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldFNwZWFraW5nV2hpbGVNdXRlZChpc1NwZWFraW5nOiBib29sZWFuKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0LCBpc1NwZWFraW5nKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgW3RyYWNrXSA9IHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfVxufVxuIiwiZXhwb3J0IHR5cGUgU291bmREZXRlY3Rvck9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyBvZnRlbiB0aGUgZGV0ZWN0b3Igc2hvdWxkIGNoZWNrIHdoZXRoZXIgYSBzb3VuZCBpcyBwcmVzZW50LlxuICAgKiBEZWZhdWx0cyB0byA1MDBtcy5cbiAgICovXG4gIGRldGVjdGlvbkZyZXF1ZW5jeUluTXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGF1ZGlvIGxldmVsIHRocmVzaG9sZCBiZWZvcmUgYSBcImNoYW5nZVwiIGlzIGVtaXR0ZWQuXG4gICAqIERlZmF1bHRzIHRvIDE1MC4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlIG9mIDAtMjU1LlxuICAgKi9cbiAgYXVkaW9MZXZlbFRocmVzaG9sZD86IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3Mvd2ViL2FwaS9hbmFseXNlcm5vZGUvZmZ0c2l6ZVxuICAgKlxuICAgKiBEZWZhdWx0cyB0byAxMjguXG4gICAqL1xuICBmZnRTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIHByb3ZpZGVkIGF1ZGlvIHN0cmVhbSBzaG91bGQgYmUgc3RvcHBlZCAoZGVzdHJveWVkKVxuICAgKiB3aGVuIHRoZSBzb3VuZCBkZXRlY3RvciBpcyBzdG9wcGVkLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqL1xuICBkZXN0cm95U3RyZWFtT25TdG9wPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JTdGF0ZSA9IHtcbiAgaXNTb3VuZERldGVjdGVkOiBib29sZWFuO1xuICAvKipcbiAgICogUmVwcmVzZW50ZWQgYXMgcGVyY2VudGFnZSAoMC0xMDApIHdoZXJlIDEwMCUgaXMgZGVmaW5lZCBieSBgYXVkaW9MZXZlbFRocmVzaG9sZGAgcHJvcGVydHkuXG4gICAqIERlY3JlYXNlIHRpbWUgYmV0d2VlbiBzYW1wbGVzICh0byA1MC0xMDBtcykgd2l0aCBgZGV0ZWN0aW9uRnJlcXVlbmN5SW5Nc2AgcHJvcGVydHkuXG4gICAqL1xuICBhdWRpb0xldmVsOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlciA9IChzdGF0ZTogU291bmREZXRlY3RvclN0YXRlKSA9PiB2b2lkO1xuXG5jb25zdCBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TID0gNTAwO1xuY29uc3QgQVVESU9fTEVWRUxfVEhSRVNIT0xEID0gMTUwO1xuY29uc3QgRkZUX1NJWkUgPSAxMjg7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBzb3VuZCBkZXRlY3Rvci5cbiAqXG4gKiBAcGFyYW0gYXVkaW9TdHJlYW0gdGhlIGF1ZGlvIHN0cmVhbSB0byBvYnNlcnZlLiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24sIHRoaXMgc3RyZWFtIG1pZ2h0IGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBzb3VuZCBkZXRlY3RvciBpcyBzdG9wcGVkLlxuICogQHBhcmFtIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCBhIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHRoZSBzb3VuZCBzdGF0ZSBjaGFuZ2VzLlxuICogQHBhcmFtIG9wdGlvbnMgY3VzdG9tIG9wdGlvbnMgZm9yIHRoZSBzb3VuZCBkZXRlY3Rvci5cbiAqIEByZXR1cm5zIGEgY2xlYW4tdXAgZnVuY3Rpb24gd2hpY2ggb25jZSBpbnZva2VkIHN0b3BzIHRoZSBzb3VuZCBkZXRlY3Rvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNvdW5kRGV0ZWN0b3IgPSAoXG4gIGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkOiBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlcixcbiAgb3B0aW9uczogU291bmREZXRlY3Rvck9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCB7XG4gICAgZGV0ZWN0aW9uRnJlcXVlbmN5SW5NcyA9IERFVEVDVElPTl9GUkVRVUVOQ1lfSU5fTVMsXG4gICAgYXVkaW9MZXZlbFRocmVzaG9sZCA9IEFVRElPX0xFVkVMX1RIUkVTSE9MRCxcbiAgICBmZnRTaXplID0gRkZUX1NJWkUsXG4gICAgZGVzdHJveVN0cmVhbU9uU3RvcCA9IHRydWUsXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgY29uc3QgYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgYW5hbHlzZXIuZmZ0U2l6ZSA9IGZmdFNpemU7XG5cbiAgY29uc3QgbWljcm9waG9uZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShhdWRpb1N0cmVhbSk7XG4gIG1pY3JvcGhvbmUuY29ubmVjdChhbmFseXNlcik7XG5cbiAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGRhdGEpO1xuXG4gICAgY29uc3QgaXNTb3VuZERldGVjdGVkID0gZGF0YS5zb21lKCh2YWx1ZSkgPT4gdmFsdWUgPj0gYXVkaW9MZXZlbFRocmVzaG9sZCk7XG5cbiAgICBjb25zdCBhdmVyYWdlZERhdGFWYWx1ZSA9IGRhdGEucmVkdWNlKChwdiwgY3YpID0+IHB2ICsgY3YsIDApIC8gZGF0YS5sZW5ndGg7XG5cbiAgICBjb25zdCBwZXJjZW50YWdlID1cbiAgICAgIGF2ZXJhZ2VkRGF0YVZhbHVlID4gYXVkaW9MZXZlbFRocmVzaG9sZFxuICAgICAgICA/IDEwMFxuICAgICAgICA6IE1hdGgucm91bmQoKGF2ZXJhZ2VkRGF0YVZhbHVlIC8gYXVkaW9MZXZlbFRocmVzaG9sZCkgKiAxMDApO1xuXG4gICAgLy8gV2hlbiB0aGUgdHJhY2sgaXMgZGlzYWJsZWQsIGl0IHRha2VzIHRpbWUgZm9yIHRoZSBidWZmZXIgdG8gZW1wdHlcbiAgICAvLyBUaGlzIGNoZWNrIHdpbGwgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qgc2VuZCBhbnl0aGluZyBpZiB0aGUgdHJhY2sgaXMgZGlzYWJsZWRcbiAgICBpZiAoYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXT8uZW5hYmxlZCkge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkLCBhdWRpb0xldmVsOiBwZXJjZW50YWdlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoeyBpc1NvdW5kRGV0ZWN0ZWQ6IGZhbHNlLCBhdWRpb0xldmVsOiAwIH0pO1xuICAgIH1cbiAgfSwgZGV0ZWN0aW9uRnJlcXVlbmN5SW5Ncyk7XG5cbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblxuICAgIC8vIGNsZWFuLXVwIHRoZSBBdWRpb0NvbnRleHQgZWxlbWVudHNcbiAgICBtaWNyb3Bob25lLmRpc2Nvbm5lY3QoKTtcbiAgICBhbmFseXNlci5kaXNjb25uZWN0KCk7XG4gICAgaWYgKGF1ZGlvQ29udGV4dC5zdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgIGF3YWl0IGF1ZGlvQ29udGV4dC5jbG9zZSgpO1xuICAgIH1cblxuICAgIC8vIHN0b3AgdGhlIHN0cmVhbVxuICAgIGlmIChkZXN0cm95U3RyZWFtT25TdG9wKSB7XG4gICAgICBhdWRpb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIGF1ZGlvU3RyZWFtLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBCYXNlU3RhdHMgfSBmcm9tICcuLi9zdGF0cyc7XG5pbXBvcnQgeyBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlciB9IGZyb20gJy4vc291bmQtZGV0ZWN0b3InO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4uL3N0YXRzL3V0aWxzJztcblxuY29uc3QgQVVESU9fTEVWRUxfVEhSRVNIT0xEID0gMC4yO1xuXG5leHBvcnQgY2xhc3MgUk5TcGVlY2hEZXRlY3RvciB7XG4gIHByaXZhdGUgcGMxID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKHt9KTtcbiAgcHJpdmF0ZSBwYzIgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oe30pO1xuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHNwZWVjaCBkZXRlY3Rpb24uXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc3RhcnQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGF1ZGlvU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnBjMS5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBjMi5hZGRJY2VDYW5kaWRhdGUoXG4gICAgICAgICAgZS5jYW5kaWRhdGUgYXMgUlRDSWNlQ2FuZGlkYXRlSW5pdCB8IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYzIuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYzEuYWRkSWNlQ2FuZGlkYXRlKFxuICAgICAgICAgIGUuY2FuZGlkYXRlIGFzIFJUQ0ljZUNhbmRpZGF0ZUluaXQgfCB1bmRlZmluZWQsXG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgYXVkaW9TdHJlYW1cbiAgICAgICAgLmdldFRyYWNrcygpXG4gICAgICAgIC5mb3JFYWNoKCh0cmFjaykgPT4gdGhpcy5wYzEuYWRkVHJhY2sodHJhY2ssIGF1ZGlvU3RyZWFtKSk7XG4gICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMxLmNyZWF0ZU9mZmVyKHt9KTtcbiAgICAgIGF3YWl0IHRoaXMucGMyLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgIGF3YWl0IHRoaXMucGMxLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYzIuY3JlYXRlQW5zd2VyKCk7XG4gICAgICBhd2FpdCB0aGlzLnBjMS5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgYXdhaXQgdGhpcy5wYzIuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSBhdWRpb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgICAgLy8gV2UgbmVlZCB0byBtdXRlIHRoZSBhdWRpbyB0cmFjayBmb3IgdGhpcyB0ZW1wb3Jhcnkgc3RyZWFtLCBvciBlbHNlIHlvdSB3aWxsIGhlYXIgeW91cnNlbGYgdHdpY2Ugd2hpbGUgaW4gdGhlIGNhbGwuXG4gICAgICBhdWRpb1RyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4gKHRyYWNrLmVuYWJsZWQgPSBmYWxzZSkpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAnRXJyb3IgY29ubmVjdGluZyBhbmQgbmVnb3RpYXRpbmcgYmV0d2VlbiBQZWVyQ29ubmVjdGlvbnM6JyxcbiAgICAgICAgZXJyb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgc3BlZWNoIGRldGVjdGlvbiBhbmQgcmVsZWFzZXMgYWxsIGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAqL1xuICBwdWJsaWMgc3RvcCgpIHtcbiAgICB0aGlzLnBjMS5jbG9zZSgpO1xuICAgIHRoaXMucGMyLmNsb3NlKCk7XG4gICAgaWYgKHRoaXMuaW50ZXJ2YWxJZCkge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBQdWJsaWMgbWV0aG9kIHRoYXQgZGV0ZWN0cyB0aGUgYXVkaW8gbGV2ZWxzIGFuZCByZXR1cm5zIHRoZSBzdGF0dXMuXG4gICAqL1xuICBwdWJsaWMgb25TcGVha2luZ0RldGVjdGVkU3RhdGVDaGFuZ2UoXG4gICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkOiBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlcixcbiAgKSB7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhdHMgPSAoYXdhaXQgdGhpcy5wYzEuZ2V0U3RhdHMoKSkgYXMgUlRDU3RhdHNSZXBvcnQ7XG4gICAgICBjb25zdCByZXBvcnQgPSBmbGF0dGVuKHN0YXRzKTtcbiAgICAgIC8vIEF1ZGlvIGxldmVscyBhcmUgcHJlc2VudCBpbnNpZGUgc3RhdHMgb2YgdHlwZSBgbWVkaWEtc291cmNlYCBhbmQgb2Yga2luZCBgYXVkaW9gXG4gICAgICBjb25zdCBhdWRpb01lZGlhU291cmNlU3RhdHMgPSByZXBvcnQuZmluZChcbiAgICAgICAgKHN0YXQpID0+XG4gICAgICAgICAgc3RhdC50eXBlID09PSAnbWVkaWEtc291cmNlJyAmJlxuICAgICAgICAgIChzdGF0IGFzIFJUQ1J0cFN0cmVhbVN0YXRzKS5raW5kID09PSAnYXVkaW8nLFxuICAgICAgKSBhcyBCYXNlU3RhdHM7XG4gICAgICBpZiAoYXVkaW9NZWRpYVNvdXJjZVN0YXRzKSB7XG4gICAgICAgIGNvbnN0IHsgYXVkaW9MZXZlbCB9ID0gYXVkaW9NZWRpYVNvdXJjZVN0YXRzO1xuICAgICAgICBpZiAoYXVkaW9MZXZlbCkge1xuICAgICAgICAgIGlmIChhdWRpb0xldmVsID49IEFVRElPX0xFVkVMX1RIUkVTSE9MRCkge1xuICAgICAgICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgaXNTb3VuZERldGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgICBhdWRpb0xldmVsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7XG4gICAgICAgICAgICAgIGlzU291bmREZXRlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgIGF1ZGlvTGV2ZWw6IDAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCAxMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgfTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBJTm9pc2VDYW5jZWxsYXRpb24gfSBmcm9tICdAc3RyZWFtLWlvL2F1ZGlvLWZpbHRlcnMtd2ViJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBNaWNyb3Bob25lTWFuYWdlclN0YXRlIH0gZnJvbSAnLi9NaWNyb3Bob25lTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IFRyYWNrRGlzYWJsZU1vZGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgZ2V0QXVkaW9EZXZpY2VzLCBnZXRBdWRpb1N0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgY3JlYXRlU291bmREZXRlY3RvciB9IGZyb20gJy4uL2hlbHBlcnMvc291bmQtZGV0ZWN0b3InO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7XG4gIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSxcbiAgT3duQ2FwYWJpbGl0eSxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgUk5TcGVlY2hEZXRlY3RvciB9IGZyb20gJy4uL2hlbHBlcnMvUk5TcGVlY2hEZXRlY3Rvcic7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcblxuZXhwb3J0IGNsYXNzIE1pY3JvcGhvbmVNYW5hZ2VyIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXI8TWljcm9waG9uZU1hbmFnZXJTdGF0ZT4ge1xuICBwcml2YXRlIHNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQgPSB0cnVlO1xuICBwcml2YXRlIHNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZyA9IFN5bWJvbCgnc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgc291bmREZXRlY3RvckNsZWFudXA/OiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSByblNwZWVjaERldGVjdG9yOiBSTlNwZWVjaERldGVjdG9yIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG5vaXNlQ2FuY2VsbGF0aW9uOiBJTm9pc2VDYW5jZWxsYXRpb24gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIG5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uPzogUHJvbWlzZTx2b2lkPjtcbiAgcHJpdmF0ZSB1bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24/OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhbGw6IENhbGwsXG4gICAgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSBpc1JlYWN0TmF0aXZlKClcbiAgICAgID8gJ2Rpc2FibGUtdHJhY2tzJ1xuICAgICAgOiAnc3RvcC10cmFja3MnLFxuICApIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgTWljcm9waG9uZU1hbmFnZXJTdGF0ZShkaXNhYmxlTW9kZSksIFRyYWNrVHlwZS5BVURJTyk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSQsXG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLm93bkNhcGFiaWxpdGllcyQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSQsXG4gICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMkLFxuICAgICAgICBdKSxcbiAgICAgICAgYXN5bmMgKFtjYWxsaW5nU3RhdGUsIG93bkNhcGFiaWxpdGllcywgZGV2aWNlSWQsIHN0YXR1c10pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAob3duQ2FwYWJpbGl0aWVzLmluY2x1ZGVzKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTykpIHtcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oZGV2aWNlSWQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NvdWxkIG5vdCBlbmFibGUgc3BlYWtpbmcgd2hpbGUgbXV0ZWQnLCBlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgd2hlbiBub2lzZSBmaWx0ZXJpbmcgaXNuJ3QgdHVybmVkIG9uXG4gICAgICAgIGlmICghdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiB8fCAhdGhpcy5ub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgY29uc3QgYXV0b09uID1cbiAgICAgICAgICB0aGlzLmNhbGwuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbj8ubW9kZSA9PT1cbiAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uQVVUT19PTjtcblxuICAgICAgICBpZiAoYXV0b09uICYmIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmVuYWJsZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGVuYWJsZSBub2lzZSBjYW5jZWxsYXRpb25gLCBlcnIpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsLm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb25cbiAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIG5vaXNlIGNhbmNlbGxhdGlvbiBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqXG4gICAqIE5vdGU6IG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLlxuICAgKiBAcGFyYW0gbm9pc2VDYW5jZWxsYXRpb24gLSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBhc3luYyBlbmFibGVOb2lzZUNhbmNlbGxhdGlvbihub2lzZUNhbmNlbGxhdGlvbjogSU5vaXNlQ2FuY2VsbGF0aW9uKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUnKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcywgc2V0dGluZ3MgfSA9IHRoaXMuY2FsbC5zdGF0ZTtcbiAgICBjb25zdCBoYXNOb2lzZUNhbmNlbGxhdGlvbkNhcGFiaWxpdHkgPSBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoXG4gICAgICBPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04sXG4gICAgKTtcbiAgICBpZiAoIWhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IGF2YWlsYWJsZS4nKTtcbiAgICB9XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyA9IHNldHRpbmdzPy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb247XG4gICAgaWYgKFxuICAgICAgIW5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MgfHxcbiAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3MubW9kZSA9PT1cbiAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBjYWxsIHR5cGUuJyk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uID0gbm9pc2VDYW5jZWxsYXRpb247XG5cbiAgICAgIC8vIGxpc3RlbiBmb3IgY2hhbmdlIGV2ZW50cyBhbmQgbm90aWZ5IHRoZSBTRlVcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZSA9IHRoaXMubm9pc2VDYW5jZWxsYXRpb24ub24oXG4gICAgICAgICdjaGFuZ2UnLFxuICAgICAgICAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZygpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gdGhpcy5yZWdpc3RlckZpbHRlcihcbiAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24udG9GaWx0ZXIoKSxcbiAgICAgICk7XG4gICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uID0gcmVnaXN0cmF0aW9uUmVzdWx0LnJlZ2lzdGVyZWQ7XG4gICAgICB0aGlzLnVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbiA9IHJlZ2lzdHJhdGlvblJlc3VsdC51bnJlZ2lzdGVyO1xuICAgICAgYXdhaXQgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbjtcblxuICAgICAgLy8gaGFuZGxlcyBhbiBlZGdlIGNhc2Ugd2hlcmUgYSBub2lzZSBjYW5jZWxsYXRpb24gaXMgZW5hYmxlZCBhZnRlclxuICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGFzIGpvaW5lZCB0aGUgY2FsbCAtPiB3ZSBpbW1lZGlhdGVseSBlbmFibGUgTkNcbiAgICAgIGlmIChcbiAgICAgICAgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncy5tb2RlID09PVxuICAgICAgICAgIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bS5BVVRPX09OICYmXG4gICAgICAgIHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORURcbiAgICAgICkge1xuICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5lbmFibGUoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gZW5hYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGUpO1xuICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZXMgbm9pc2UgY2FuY2VsbGF0aW9uIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICpcbiAgICogTm90ZTogbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqL1xuICBhc3luYyBkaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb2lzZSBjYW5jZWxsYXRpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUnKTtcbiAgICB9XG4gICAgYXdhaXQgKHRoaXMudW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uPy4oKSA/PyBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZT8uKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gdW5yZWdpc3RlciBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBzcGVha2luZyB3aGlsZSBtdXRlZCBub3RpZmljYXRpb24uXG4gICAqL1xuICBhc3luYyBlbmFibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24odGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIHNwZWFraW5nIHdoaWxlIG11dGVkIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvRGV2aWNlcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvU3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2hBdWRpb1N0cmVhbShzdHJlYW0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIHN0b3BQdWJsaXNoU3RyZWFtKHN0b3BUcmFja3M6IGJvb2xlYW4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnN0b3BQdWJsaXNoKFRyYWNrVHlwZS5BVURJTywgc3RvcFRyYWNrcyk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKGRldmljZUlkPzogc3RyaW5nKSB7XG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgdGhpcy5yblNwZWVjaERldGVjdG9yID0gbmV3IFJOU3BlZWNoRGV0ZWN0b3IoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yblNwZWVjaERldGVjdG9yLnN0YXJ0KCk7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID1cbiAgICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3I/Lm9uU3BlYWtpbmdEZXRlY3RlZFN0YXRlQ2hhbmdlKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZXZlbnQuaXNTb3VuZERldGVjdGVkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3Rvcj8uc3RvcCgpO1xuICAgICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5lZWQgdG8gc3RhcnQgYSBuZXcgc3RyZWFtIHRoYXQncyBub3QgY29ubmVjdGVkIHRvIHB1Ymxpc2hlclxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmdldFN0cmVhbSh7XG4gICAgICAgICAgZGV2aWNlSWQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gY3JlYXRlU291bmREZXRlY3RvcihzdHJlYW0sIChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwKSByZXR1cm47XG4gICAgICBjb25zdCBzb3VuZERldGVjdG9yQ2xlYW51cCA9IHRoaXMuc291bmREZXRlY3RvckNsZWFudXA7XG4gICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZmFsc2UpO1xuICAgICAgYXdhaXQgc291bmREZXRlY3RvckNsZWFudXAoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgU2NyZWVuU2hhcmVTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8RGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucz4ge1xuICBwcml2YXRlIGF1ZGlvRW5hYmxlZFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KHRydWUpO1xuICBwcml2YXRlIHNldHRpbmdzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8XG4gICAgU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgYXVkaW9FbmFibGVkJCA9IHRoaXMuYXVkaW9FbmFibGVkU3ViamVjdFxuICAgIC5hc09ic2VydmFibGUoKVxuICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgc2V0dGluZ3MkID0gdGhpcy5zZXR0aW5nc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbSA9IChcbiAgICBzdHJlYW06IE1lZGlhU3RyZWFtLFxuICApOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xuICAgIGNvbnN0IFt0cmFja10gPSBzdHJlYW0uZ2V0VHJhY2tzKCk7XG4gICAgcmV0dXJuIHRyYWNrPy5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudCBzY3JlZW4gc2hhcmUgYXVkaW8gc3RhdHVzLlxuICAgKi9cbiAgZ2V0IGF1ZGlvRW5hYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIHNldEF1ZGlvRW5hYmxlZChpc0VuYWJsZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3QsIGlzRW5hYmxlZCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBzY3JlZW4gc2hhcmUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgc2V0dGluZ3MpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU3RhdGUgfSBmcm9tICcuL1NjcmVlblNoYXJlU3RhdGUnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldFNjcmVlblNoYXJlU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFNjcmVlblNoYXJlU2V0dGluZ3MgfSBmcm9tICcuLi90eXBlcyc7XG5pbXBvcnQgeyBjcmVhdGVTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9zdG9yZS9yeFV0aWxzJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlTWFuYWdlciBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBTY3JlZW5TaGFyZVN0YXRlLFxuICBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zXG4+IHtcbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBTY3JlZW5TaGFyZVN0YXRlKCksIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24oY2FsbC5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBjb25zdCBtYXliZVRhcmdldFJlc29sdXRpb24gPSBzZXR0aW5ncz8uc2NyZWVuc2hhcmluZy50YXJnZXRfcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAobWF5YmVUYXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICAgICAgdGhpcy5zZXREZWZhdWx0Q29uc3RyYWludHMoe1xuICAgICAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAgICAgd2lkdGg6IG1heWJlVGFyZ2V0UmVzb2x1dGlvbi53aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBtYXliZVRhcmdldFJlc29sdXRpb24uaGVpZ2h0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGVuYWJsZSBzY3JlZW4gc2hhcmUgYXVkaW8gb3B0aW9ucyBvbiBzdXBwb3J0ZWQgcGxhdGZvcm1zLlxuICAgKlxuICAgKiBOb3RlOiBmb3Igb25nb2luZyBzY3JlZW4gc2hhcmUsIGF1ZGlvIHdvbid0IGJlIGVuYWJsZWQgdW50aWwgeW91XG4gICAqIHJlLXB1Ymxpc2ggdGhlIHNjcmVlbiBzaGFyZSBzdHJlYW0uXG4gICAqL1xuICBlbmFibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgZGlzYWJsZSBzY3JlZW4gc2hhcmUgYXVkaW8gb3B0aW9ucyBvbiBzdXBwb3J0ZWQgcGxhdGZvcm1zLlxuICAgKi9cbiAgYXN5bmMgZGlzYWJsZVNjcmVlblNoYXJlQXVkaW8oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5zdGF0ZS5zZXRBdWRpb0VuYWJsZWQoZmFsc2UpO1xuICAgIGlmICh0aGlzLmNhbGwucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcoVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTykpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqL1xuICBnZXRTZXR0aW5ncygpOiBTY3JlZW5TaGFyZVNldHRpbmdzIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5zZXR0aW5ncztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICpcbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBzZXR0aW5ncyB0byBzZXQuXG4gICAqL1xuICBzZXRTZXR0aW5ncyhzZXR0aW5nczogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCk6IHZvaWQge1xuICAgIHRoaXMuc3RhdGUuc2V0U2V0dGluZ3Moc2V0dGluZ3MpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBvZihbXSk7IC8vIHRoZXJlIGFyZSBubyBkZXZpY2VzIHRvIGJlIGxpc3RlZCBmb3IgU2NyZWVuIFNoYXJlXG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0U3RyZWFtKFxuICAgIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLmF1ZGlvRW5hYmxlZCkge1xuICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFNjcmVlblNoYXJlU3RyZWFtKGNvbnN0cmFpbnRzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbShzdHJlYW0sIHtcbiAgICAgIHNjcmVlblNoYXJlU2V0dGluZ3M6IHRoaXMuc3RhdGUuc2V0dGluZ3MsXG4gICAgfSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYXN5bmMgc3RvcFB1Ymxpc2hTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuY2FsbC5zdG9wUHVibGlzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFLCBzdG9wVHJhY2tzKTtcbiAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTywgc3RvcFRyYWNrcyk7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBkZWZhdWx0IGBzZWxlY3RgIG1ldGhvZCB0byB0aHJvdyBhbiBlcnJvci5cbiAgICpcbiAgICogQHBhcmFtIGRldmljZUlkIGlnbm9yZWQuXG4gICAqL1xuICBhc3luYyBzZWxlY3QoZGV2aWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBmb3IgU2NyZWVuIFNoYXJlJyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgT2JzZXJ2YWJsZSwgZGlzdGluY3RVbnRpbENoYW5nZWQgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgfSBmcm9tICcuL2RldmljZXMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlclN0YXRlIHtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHByb3RlY3RlZCB2b2x1bWVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDEpO1xuICAvKipcbiAgICogW1RlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvc2V0U2lua0lkKS5cbiAgICovXG4gIHJlYWRvbmx5IGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkID0gY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICB2b2x1bWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZWxlY3RlZERldmljZSQgPSB0aGlzLnNlbGVjdGVkRGV2aWNlU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgICB0aGlzLnZvbHVtZSQgPSB0aGlzLnZvbHVtZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgc2VsZWN0ZWREZXZpY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2UkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgY3VycmVudGx5IHNlbGVjdGVkIHZvbHVtZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIGdldCB2b2x1bWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lJCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhbiBvYnNlcnZhYmxlLCBvciB1bmRlZmluZWQgaWYgdGhlIG9ic2VydmFibGUgaGFzXG4gICAqIG5vdCBlbWl0dGVkIGEgdmFsdWUgeWV0LlxuICAgKlxuICAgKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gZ2V0IHRoZSB2YWx1ZSBmcm9tLlxuICAgKi9cbiAgZ2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5nZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWRcbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHZvbHVtZVxuICAgKi9cbiAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy52b2x1bWVTdWJqZWN0LCB2b2x1bWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICAgKiBBbiBgdXBkYXRlYCBjYW4gZWl0aGVyIGJlIGEgbmV3IHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXNcbiAgICogdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gICAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAgICogQHJldHVybiB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICovXG4gIHByb3RlY3RlZCBzZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZTtcbn1cbiIsImltcG9ydCB7IGNvbWJpbmVMYXRlc3QsIFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IFNwZWFrZXJTdGF0ZSB9IGZyb20gJy4vU3BlYWtlclN0YXRlJztcbmltcG9ydCB7IGRldmljZUlkcyQsIGdldEF1ZGlvT3V0cHV0RGV2aWNlcyB9IGZyb20gJy4vZGV2aWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBTcGVha2VyTWFuYWdlciB7XG4gIHB1YmxpYyByZWFkb25seSBzdGF0ZSA9IG5ldyBTcGVha2VyU3RhdGUoKTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbGw6IENhbGw7XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgaWYgKGRldmljZUlkcyQgJiYgIWlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW2RldmljZUlkcyQhLCB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlJF0pLnN1YnNjcmliZShcbiAgICAgICAgICAoW2RldmljZXMsIGRldmljZUlkXSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFkZXZpY2VJZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkZXZpY2UgPSBkZXZpY2VzLmZpbmQoXG4gICAgICAgICAgICAgIChkKSA9PiBkLmRldmljZUlkID09PSBkZXZpY2VJZCAmJiBkLmtpbmQgPT09ICdhdWRpb291dHB1dCcsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCFkZXZpY2UpIHtcbiAgICAgICAgICAgICAgdGhpcy5zZWxlY3QoJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICksXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0cyB0aGUgYXZhaWxhYmxlIGF1ZGlvIG91dHB1dCBkZXZpY2VzXG4gICAqXG4gICAqIE5vdGU6IEl0IHByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZClcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICpcbiAgICogQHJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IHdpbGwgYmUgdXBkYXRlZCBpZiBhIGRldmljZSBpcyBjb25uZWN0ZWQgb3IgZGlzY29ubmVjdGVkXG4gICAqL1xuICBsaXN0RGV2aWNlcygpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0QXVkaW9PdXRwdXREZXZpY2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IGEgZGV2aWNlLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKlxuICAgKiBAcGFyYW0gZGV2aWNlSWQgZW1wdHkgc3RyaW5nIG1lYW5zIHRoZSBzeXN0ZW0gZGVmYXVsdFxuICAgKi9cbiAgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnNldERldmljZShkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogRGlzcG9zZXMgdGhlIG1hbmFnZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaCgocykgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgdGhlIGF1ZGlvIGVsZW1lbnRzXG4gICAqIEBwYXJhbSB2b2x1bWUgYSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgc2V0Vm9sdW1lKHZvbHVtZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEnKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXRWb2x1bWUodm9sdW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHZvbHVtZSBvZiBhIHBhcnRpY2lwYW50LlxuICAgKlxuICAgKiBOb3RlOiBUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgcGFydGljaXBhbnQncyBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gU2V0IGl0IHRvIGB1bmRlZmluZWRgIHRvIHVzZSB0aGUgZGVmYXVsdCB2b2x1bWUuXG4gICAqL1xuICBzZXRQYXJ0aWNpcGFudFZvbHVtZShzZXNzaW9uSWQ6IHN0cmluZywgdm9sdW1lOiBudW1iZXIgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuIFBsZWFzZSB2aXNpdCBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL3JlYWN0bmF0aXZlL2NvcmUvY2FtZXJhLWFuZC1taWNyb3Bob25lLyNzcGVha2VyLW1hbmFnZW1lbnQgZm9yIG1vcmUgZGV0YWlscycsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodm9sdW1lICYmICh2b2x1bWUgPCAwIHx8IHZvbHVtZSA+IDEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvbHVtZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMSwgb3IgdW5kZWZpbmVkJyk7XG4gICAgfVxuICAgIHRoaXMuY2FsbC5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHsgYXVkaW9Wb2x1bWU6IHZvbHVtZSB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHtcbiAgRGlzcGF0Y2hlcixcbiAgZ2V0R2VuZXJpY1NkcCxcbiAgaXNTZnVFdmVudCxcbiAgUHVibGlzaGVyLFxuICBTdWJzY3JpYmVyLFxufSBmcm9tICcuL3J0Yyc7XG5pbXBvcnQgeyBtdXRlVHlwZVRvVHJhY2tUeXBlIH0gZnJvbSAnLi9ydGMvaGVscGVycy90cmFja3MnO1xuaW1wb3J0IHsgdG9SdGNDb25maWd1cmF0aW9uIH0gZnJvbSAnLi9ydGMvaGVscGVycy9ydGNDb25maWd1cmF0aW9uJztcbmltcG9ydCB7XG4gIHJlZ2lzdGVyRXZlbnRIYW5kbGVycyxcbiAgcmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMsXG59IGZyb20gJy4vZXZlbnRzL2NhbGxFdmVudEhhbmRsZXJzJztcbmltcG9ydCB7XG4gIENhbGxpbmdTdGF0ZSxcbiAgQ2FsbFN0YXRlLFxuICBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUsXG59IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHtcbiAgY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uLFxuICBjcmVhdGVTdWJzY3JpcHRpb24sXG4gIGdldEN1cnJlbnRWYWx1ZSxcbn0gZnJvbSAnLi9zdG9yZS9yeFV0aWxzJztcbmltcG9ydCB0eXBlIHtcbiAgQWNjZXB0Q2FsbFJlc3BvbnNlLFxuICBCbG9ja1VzZXJSZXF1ZXN0LFxuICBCbG9ja1VzZXJSZXNwb25zZSxcbiAgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3QsXG4gIENvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSxcbiAgQ3JlZGVudGlhbHMsXG4gIEVuZENhbGxSZXNwb25zZSxcbiAgR2V0Q2FsbFJlc3BvbnNlLFxuICBHZXRDYWxsU3RhdHNSZXNwb25zZSxcbiAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCxcbiAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gIEdvTGl2ZVJlcXVlc3QsXG4gIEdvTGl2ZVJlc3BvbnNlLFxuICBKb2luQ2FsbFJlcXVlc3QsXG4gIEpvaW5DYWxsUmVzcG9uc2UsXG4gIExpc3RSZWNvcmRpbmdzUmVzcG9uc2UsXG4gIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlLFxuICBNdXRlVXNlcnNSZXF1ZXN0LFxuICBNdXRlVXNlcnNSZXNwb25zZSxcbiAgUGluUmVxdWVzdCxcbiAgUGluUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0LFxuICBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gIFJlamVjdENhbGxSZXF1ZXN0LFxuICBSZWplY3RDYWxsUmVzcG9uc2UsXG4gIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCxcbiAgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSxcbiAgU2VuZENhbGxFdmVudFJlcXVlc3QsXG4gIFNlbmRDYWxsRXZlbnRSZXNwb25zZSxcbiAgU2VuZFJlYWN0aW9uUmVxdWVzdCxcbiAgU2VuZFJlYWN0aW9uUmVzcG9uc2UsXG4gIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2UsXG4gIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdCxcbiAgU3RhcnRSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCxcbiAgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gIFN0YXRzT3B0aW9ucyxcbiAgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlLFxuICBTdG9wTGl2ZVJlc3BvbnNlLFxuICBTdG9wUmVjb3JkaW5nUmVzcG9uc2UsXG4gIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gIFVuYmxvY2tVc2VyUmVxdWVzdCxcbiAgVW5ibG9ja1VzZXJSZXNwb25zZSxcbiAgVW5waW5SZXF1ZXN0LFxuICBVbnBpblJlc3BvbnNlLFxuICBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3QsXG4gIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gIFVwZGF0ZUNhbGxSZXF1ZXN0LFxuICBVcGRhdGVDYWxsUmVzcG9uc2UsXG4gIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3QsXG4gIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlLFxuICBWaWRlb1Jlc29sdXRpb24sXG59IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQge1xuICBBdWRpb1RyYWNrVHlwZSxcbiAgQ2FsbENvbnN0cnVjdG9yLFxuICBDYWxsTGVhdmVPcHRpb25zLFxuICBKb2luQ2FsbERhdGEsXG4gIFB1Ymxpc2hPcHRpb25zLFxuICBUcmFja011dGVUeXBlLFxuICBWaWRlb1RyYWNrVHlwZSxcbn0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIFN1YmplY3QsIHRha2VXaGlsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtcbiAgUmVjb25uZWN0RGV0YWlscyxcbiAgVmlkZW9MYXllclNldHRpbmcsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHtcbiAgQ2xpZW50RGV0YWlscyxcbiAgVHJhY2tUeXBlLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgY3JlYXRlU3RhdHNSZXBvcnRlciwgU2Z1U3RhdHNSZXBvcnRlciwgU3RhdHNSZXBvcnRlciB9IGZyb20gJy4vc3RhdHMnO1xuaW1wb3J0IHsgRHluYXNjYWxlTWFuYWdlciB9IGZyb20gJy4vaGVscGVycy9EeW5hc2NhbGVNYW5hZ2VyJztcbmltcG9ydCB7IFBlcm1pc3Npb25zQ29udGV4dCB9IGZyb20gJy4vcGVybWlzc2lvbnMnO1xuaW1wb3J0IHsgQ2FsbFR5cGVzIH0gZnJvbSAnLi9DYWxsVHlwZSc7XG5pbXBvcnQgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7XG4gIEFsbENhbGxFdmVudHMsXG4gIENhbGxFdmVudExpc3RlbmVyLFxuICBFcnJvckZyb21SZXNwb25zZSxcbiAgTG9nZ2VyLFxuICBSZWplY3RSZWFzb24sXG4gIFN0cmVhbUNhbGxFdmVudCxcbn0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3R5cGVzJztcbmltcG9ydCB7IGdldENsaWVudERldGFpbHMgfSBmcm9tICcuL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7XG4gIENhbWVyYURpcmVjdGlvbixcbiAgQ2FtZXJhTWFuYWdlcixcbiAgTWljcm9waG9uZU1hbmFnZXIsXG4gIFNjcmVlblNoYXJlTWFuYWdlcixcbiAgU3BlYWtlck1hbmFnZXIsXG59IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBnZXRTZGtTaWduYXR1cmUgfSBmcm9tICcuL3N0YXRzL3V0aWxzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuL2hlbHBlcnMvZW5zdXJlRXhoYXVzdGVkJztcbmltcG9ydCB7XG4gIFByb21pc2VXaXRoUmVzb2x2ZXJzLFxuICBwcm9taXNlV2l0aFJlc29sdmVycyxcbn0gZnJvbSAnLi9oZWxwZXJzL3dpdGhSZXNvbHZlcnMnO1xuXG4vKipcbiAqIEFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIGBDYWxsYC5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGwge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIGNhbGwuXG4gICAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBJRCBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIENJRC5cbiAgICovXG4gIHJlYWRvbmx5IGNpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RhdGUgPSBuZXcgQ2FsbFN0YXRlKCk7XG5cbiAgLyoqXG4gICAqIEZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgY2FsbCBpcyBcIndhdGNoZWRcIiBhbmQgcmVjZWl2ZXNcbiAgICogdXBkYXRlcyBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKi9cbiAgd2F0Y2hpbmc6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgY2FtZXJhXG4gICAqL1xuICByZWFkb25seSBjYW1lcmE6IENhbWVyYU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICovXG4gIHJlYWRvbmx5IG1pY3JvcGhvbmU6IE1pY3JvcGhvbmVNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIHNwZWFrZXIuXG4gICAqL1xuICByZWFkb25seSBzcGVha2VyOiBTcGVha2VyTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBzY3JlZW4uXG4gICAqL1xuICByZWFkb25seSBzY3JlZW5TaGFyZTogU2NyZWVuU2hhcmVNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBUaGUgRHluYXNjYWxlTWFuYWdlciBpbnN0YW5jZS5cbiAgICovXG4gIHJlYWRvbmx5IGR5bmFzY2FsZU1hbmFnZXI6IER5bmFzY2FsZU1hbmFnZXI7XG5cbiAgc3Vic2NyaWJlcj86IFN1YnNjcmliZXI7XG4gIHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcblxuICAvKipcbiAgICogRmxhZyB0ZWxsaW5nIHdoZXRoZXIgdGhpcyBjYWxsIGlzIGEgXCJyaW5naW5nXCIgY2FsbC5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgcmluZ2luZ1N1YmplY3Q6IFN1YmplY3Q8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBjb250ZXh0IG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHBlcm1pc3Npb25zQ29udGV4dCA9IG5ldyBQZXJtaXNzaW9uc0NvbnRleHQoKTtcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBldmVudCBkaXNwYXRjaGVyIGluc3RhbmNlIGRlZGljYXRlZCB0byB0aGlzIENhbGwgaW5zdGFuY2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGRpc3BhdGNoZXIgPSBuZXcgRGlzcGF0Y2hlcigpO1xuXG4gIHByaXZhdGUgc3RhdHNSZXBvcnRlcj86IFN0YXRzUmVwb3J0ZXI7XG4gIHByaXZhdGUgc2Z1U3RhdHNSZXBvcnRlcj86IFNmdVN0YXRzUmVwb3J0ZXI7XG4gIHByaXZhdGUgZHJvcFRpbWVvdXQ6IFJldHVyblR5cGU8dHlwZW9mIHNldFRpbWVvdXQ+IHwgdW5kZWZpbmVkO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2xpZW50U3RvcmU6IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZTtcbiAgcHVibGljIHJlYWRvbmx5IHN0cmVhbUNsaWVudDogU3RyZWFtQ2xpZW50O1xuICBwcml2YXRlIHNmdUNsaWVudD86IFN0cmVhbVNmdUNsaWVudDtcbiAgcHJpdmF0ZSBzZnVDbGllbnRUYWcgPSAwO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcmVjb25uZWN0Q29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ3JlY29ubmVjdENvbmN1cnJlbmN5VGFnJyk7XG4gIHByaXZhdGUgcmVjb25uZWN0QXR0ZW1wdHMgPSAwO1xuICBwcml2YXRlIHJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG4gIHByaXZhdGUgZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kczogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBsYXN0T2ZmbGluZVRpbWVzdGFtcDogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBuZXR3b3JrQXZhaWxhYmxlVGFzazogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4gfCB1bmRlZmluZWQ7XG4gIC8vIG1haW50YWluIHRoZSBvcmRlciBvZiBwdWJsaXNoaW5nIHRyYWNrcyB0byByZXN0b3JlIHRoZW0gYWZ0ZXIgYSByZWNvbm5lY3Rpb25cbiAgLy8gaXQgc2hvdWxkbid0IGNvbnRhaW4gZHVwbGljYXRlc1xuICBwcml2YXRlIHRyYWNrUHVibGlzaE9yZGVyOiBUcmFja1R5cGVbXSA9IFtdO1xuICBwcml2YXRlIGpvaW5DYWxsRGF0YT86IEpvaW5DYWxsRGF0YTtcbiAgcHJpdmF0ZSBoYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gIHByaXZhdGUgZGV2aWNlU2V0dGluZ3NBcHBsaWVkT25jZSA9IGZhbHNlO1xuICBwcml2YXRlIGNyZWRlbnRpYWxzPzogQ3JlZGVudGlhbHM7XG5cbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdqb2luTGVhdmVDb25jdXJyZW5jeVRhZycpO1xuXG4gIC8qKlxuICAgKiBBIGxpc3QgaG9va3MvZnVuY3Rpb25zIHRvIGludm9rZSB3aGVuIHRoZSBjYWxsIGlzIGxlZnQuXG4gICAqIEEgdHlwaWNhbCB1c2UgY2FzZSBpcyB0byBjbGVhbiB1cCBzb21lIGdsb2JhbCBldmVudCBoYW5kbGVycy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgbGVhdmVDYWxsSG9va3M6IFNldDxGdW5jdGlvbj4gPSBuZXcgU2V0KCk7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdHJlYW1DbGllbnRCYXNlUGF0aDogc3RyaW5nO1xuICBwcml2YXRlIHN0cmVhbUNsaWVudEV2ZW50SGFuZGxlcnMgPSBuZXcgTWFwPEZ1bmN0aW9uLCAoKSA9PiB2b2lkPigpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBDYWxsYCBpbnN0YW5jZS5cbiAgICpcbiAgICogTk9URTogRG9uJ3QgY2FsbCB0aGUgY29uc3RydWN0b3IgZGlyZWN0bHksIGluc3RlYWRcbiAgICogVXNlIHRoZSBbYFN0cmVhbVZpZGVvQ2xpZW50LmNhbGxgXSguL1N0cmVhbVZpZGVvQ2xpZW50Lm1kLyNjYWxsKVxuICAgKiBtZXRob2QgdG8gY29uc3RydWN0IGEgYENhbGxgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3Ioe1xuICAgIHR5cGUsXG4gICAgaWQsXG4gICAgc3RyZWFtQ2xpZW50LFxuICAgIG1lbWJlcnMsXG4gICAgb3duQ2FwYWJpbGl0aWVzLFxuICAgIHNvcnRQYXJ0aWNpcGFudHNCeSxcbiAgICBjbGllbnRTdG9yZSxcbiAgICByaW5naW5nID0gZmFsc2UsXG4gICAgd2F0Y2hpbmcgPSBmYWxzZSxcbiAgfTogQ2FsbENvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5jaWQgPSBgJHt0eXBlfToke2lkfWA7XG4gICAgdGhpcy5yaW5naW5nU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3QocmluZ2luZyk7XG4gICAgdGhpcy53YXRjaGluZyA9IHdhdGNoaW5nO1xuICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gc3RyZWFtQ2xpZW50O1xuICAgIHRoaXMuY2xpZW50U3RvcmUgPSBjbGllbnRTdG9yZTtcbiAgICB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoID0gYC9jYWxsLyR7dGhpcy50eXBlfS8ke3RoaXMuaWR9YDtcbiAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihbJ0NhbGwnXSk7XG5cbiAgICBjb25zdCBjYWxsVHlwZUNvbmZpZyA9IENhbGxUeXBlcy5nZXQodHlwZSk7XG4gICAgY29uc3QgcGFydGljaXBhbnRTb3J0ZXIgPVxuICAgICAgc29ydFBhcnRpY2lwYW50c0J5IHx8IGNhbGxUeXBlQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5O1xuICAgIGlmIChwYXJ0aWNpcGFudFNvcnRlcikge1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTb3J0UGFydGljaXBhbnRzQnkocGFydGljaXBhbnRTb3J0ZXIpO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzIHx8IFtdKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25DYXBhYmlsaXRpZXMgfHwgW10pO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKFxuICAgICAgcmluZ2luZyA/IENhbGxpbmdTdGF0ZS5SSU5HSU5HIDogQ2FsbGluZ1N0YXRlLklETEUsXG4gICAgKTtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5taWNyb3Bob25lID0gbmV3IE1pY3JvcGhvbmVNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc3BlYWtlciA9IG5ldyBTcGVha2VyTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLnNjcmVlblNoYXJlID0gbmV3IFNjcmVlblNoYXJlTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIgPSBuZXcgRHluYXNjYWxlTWFuYWdlcih0aGlzLnN0YXRlLCB0aGlzLnNwZWFrZXIpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZXR1cCgpIHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAgIHRoaXMub24oJ2FsbCcsIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIHVwZGF0ZSBzdGF0ZSB3aXRoIHRoZSBsYXRlc3QgZXZlbnQgZGF0YVxuICAgICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfSksXG4gICAgICApO1xuXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChyZWdpc3RlckV2ZW50SGFuZGxlcnModGhpcywgdGhpcy5kaXNwYXRjaGVyKSk7XG4gICAgICB0aGlzLnJlZ2lzdGVyRWZmZWN0cygpO1xuICAgICAgdGhpcy5yZWdpc3RlclJlY29ubmVjdEhhbmRsZXJzKCk7XG5cbiAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJFZmZlY3RzKCkge1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gaGFuZGxlcyB1cGRhdGluZyB0aGUgcGVybWlzc2lvbnMgY29udGV4dCB3aGVuIHRoZSBzZXR0aW5ncyBjaGFuZ2UuXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXR0aW5ncyQsIChzZXR0aW5ncykgPT4ge1xuICAgICAgICBpZiAoIXNldHRpbmdzKSByZXR1cm47XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNDb250ZXh0LnNldENhbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBwZXJtaXNzaW9ucyBhcmUgbW9kaWZpZWQuXG4gICAgICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24oXG4gICAgICAgIHRoaXMuc3RhdGUub3duQ2FwYWJpbGl0aWVzJCxcbiAgICAgICAgdGhpcy5oYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkLFxuICAgICAgKSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGVzIHRoZSBjYXNlIHdoZW4gdGhlIHVzZXIgaXMgYmxvY2tlZCBieSB0aGUgY2FsbCBvd25lci5cbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLmJsb2NrZWRVc2VySWRzJCwgYXN5bmMgKGJsb2NrZWRVc2VySWRzKSA9PiB7XG4gICAgICAgIGlmICghYmxvY2tlZFVzZXJJZHMgfHwgYmxvY2tlZFVzZXJJZHMubGVuZ3RoID09PSAwKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGN1cnJlbnRVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgICAgIGlmIChjdXJyZW50VXNlcklkICYmIGJsb2NrZWRVc2VySWRzLmluY2x1ZGVzKGN1cnJlbnRVc2VySWQpKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnTGVhdmluZyBjYWxsIGJlY2F1c2Ugb2YgYmVpbmcgYmxvY2tlZCcpO1xuICAgICAgICAgIGF3YWl0IHRoaXMubGVhdmUoeyByZWFzb246ICd1c2VyIGJsb2NrZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBsZWF2aW5nIGNhbGwgYWZ0ZXIgYmVpbmcgYmxvY2tlZCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIHdhdGNoIGZvciBhdXRvIGRyb3AgY2FuY2VsbGF0aW9uXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUkLCAoY2FsbGluZ1N0YXRlKSA9PiB7XG4gICAgICAgIGlmICghdGhpcy5yaW5naW5nKSByZXR1cm47XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQgfHxcbiAgICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lOSU5HIHx8XG4gICAgICAgICAgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICAgICApIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wVGltZW91dCk7XG4gICAgICAgICAgdGhpcy5kcm9wVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgLy8gXCJyaW5naW5nXCIgbW9kZSBlZmZlY3RzIGFuZCBldmVudCBoYW5kbGVyc1xuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMucmluZ2luZ1N1YmplY3QsIChpc1JpbmdpbmcpID0+IHtcbiAgICAgICAgaWYgKCFpc1JpbmdpbmcpIHJldHVybjtcbiAgICAgICAgY29uc3QgY2FsbFNlc3Npb24gPSB0aGlzLnN0YXRlLnNlc3Npb247XG4gICAgICAgIGNvbnN0IHJlY2VpdmVyX2lkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgY29uc3QgZW5kZWRfYXQgPSBjYWxsU2Vzc2lvbj8uZW5kZWRfYXQ7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRfYnlfaWQgPSB0aGlzLnN0YXRlLmNyZWF0ZWRCeT8uaWQ7XG4gICAgICAgIGNvbnN0IHJlamVjdGVkX2J5ID0gY2FsbFNlc3Npb24/LnJlamVjdGVkX2J5O1xuICAgICAgICBjb25zdCBhY2NlcHRlZF9ieSA9IGNhbGxTZXNzaW9uPy5hY2NlcHRlZF9ieTtcbiAgICAgICAgbGV0IGxlYXZlQ2FsbElkbGUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVuZGVkX2F0KSB7XG4gICAgICAgICAgLy8gY2FsbCB3YXMgZW5kZWQgYmVmb3JlIGl0IHdhcyBhY2NlcHRlZCBvciByZWplY3RlZCBzbyB3ZSBzaG91bGQgbGVhdmUgaXQgdG8gaWRsZVxuICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGNyZWF0ZWRfYnlfaWQgJiYgcmVqZWN0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAocmVqZWN0ZWRfYnlbY3JlYXRlZF9ieV9pZF0pIHtcbiAgICAgICAgICAgIC8vIGNhbGwgd2FzIGNhbmNlbGxlZCBieSB0aGUgY2FsbGVyXG4gICAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXJfaWQgJiYgcmVqZWN0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAocmVqZWN0ZWRfYnlbcmVjZWl2ZXJfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyByZWplY3RlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChyZWNlaXZlcl9pZCAmJiBhY2NlcHRlZF9ieSkge1xuICAgICAgICAgIGlmIChhY2NlcHRlZF9ieVtyZWNlaXZlcl9pZF0pIHtcbiAgICAgICAgICAgIC8vIGNhbGwgd2FzIGFjY2VwdGVkIGJ5IHRoZSByZWNlaXZlciBpbiBzb21lIG90aGVyIGRldmljZVxuICAgICAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsZWF2ZUNhbGxJZGxlKSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLklETEUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUklOR0lORyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuc2NoZWR1bGVBdXRvRHJvcCgpO1xuICAgICAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlT3duQ2FwYWJpbGl0aWVzVXBkYXRlZCA9IGFzeW5jIChcbiAgICBvd25DYXBhYmlsaXRpZXM6IE93bkNhcGFiaWxpdHlbXSxcbiAgKSA9PiB7XG4gICAgLy8gdXBkYXRlIHRoZSBwZXJtaXNzaW9uIGNvbnRleHQuXG4gICAgdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuc2V0UGVybWlzc2lvbnMob3duQ2FwYWJpbGl0aWVzKTtcblxuICAgIGlmICghdGhpcy5wdWJsaXNoZXIpIHJldHVybjtcblxuICAgIC8vIGNoZWNrIGlmIHRoZSB1c2VyIHN0aWxsIGhhcyBwdWJsaXNoaW5nIHBlcm1pc3Npb25zIGFuZCBzdG9wIHB1Ymxpc2hpbmcgaWYgbm90LlxuICAgIGNvbnN0IHBlcm1pc3Npb25Ub1RyYWNrVHlwZSA9IHtcbiAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dOiBUcmFja1R5cGUuQVVESU8sXG4gICAgICBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXTogVHJhY2tUeXBlLlZJREVPLFxuICAgICAgW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBbcGVybWlzc2lvbiwgdHJhY2tUeXBlXSBvZiBPYmplY3QuZW50cmllcyhcbiAgICAgIHBlcm1pc3Npb25Ub1RyYWNrVHlwZSxcbiAgICApKSB7XG4gICAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbihcbiAgICAgICAgcGVybWlzc2lvbiBhcyBPd25DYXBhYmlsaXR5LFxuICAgICAgKTtcbiAgICAgIGlmIChoYXNQZXJtaXNzaW9uKSBjb250aW51ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgICAgICAgY2FzZSBUcmFja1R5cGUuQVVESU86XG4gICAgICAgICAgICBpZiAodGhpcy5taWNyb3Bob25lLmVuYWJsZWQpIGF3YWl0IHRoaXMubWljcm9waG9uZS5kaXNhYmxlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbWVyYS5lbmFibGVkKSBhd2FpdCB0aGlzLmNhbWVyYS5kaXNhYmxlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JlZW5TaGFyZS5lbmFibGVkKSBhd2FpdCB0aGlzLnNjcmVlblNoYXJlLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICBgQ2FuJ3QgZGlzYWJsZSBtaWMvY2FtZXJhL3NjcmVlbnNoYXJlIGFmdGVyIHJldm9rZWQgcGVybWlzc2lvbnNgLFxuICAgICAgICAgIGVycixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIFdlYlNvY2tldCBldmVudHMgcHJvdmlkZWQgYnkgdGhlIEFQSS4gVG8gcmVtb3ZlIGEgc3Vic2NyaXB0aW9uLCBjYWxsIHRoZSBgb2ZmYCBtZXRob2QuXG4gICAqIFBsZWFzZSBub3RlIHRoYXQgc3Vic2NyaWJpbmcgdG8gV2ViU29ja2V0IGV2ZW50cyBpcyBhbiBhZHZhbmNlZCB1c2UtY2FzZS5cbiAgICogRm9yIG1vc3QgdXNlLWNhc2VzLCBpdCBzaG91bGQgYmUgZW5vdWdoIHRvIHdhdGNoIGZvciBzdGF0ZSBjaGFuZ2VzLlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnROYW1lIHRoZSBldmVudCBuYW1lLlxuICAgKiBAcGFyYW0gZm4gdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqL1xuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2FsbEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKGlzU2Z1RXZlbnQoZXZlbnROYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2hlci5vbihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICBjb25zdCBvZmZIYW5kbGVyID0gdGhpcy5zdHJlYW1DbGllbnQub24oZXZlbnROYW1lLCAoZSkgPT4ge1xuICAgICAgY29uc3QgZXZlbnQgPSBlIGFzIFN0cmVhbUNhbGxFdmVudDtcbiAgICAgIGlmIChldmVudC5jYWxsX2NpZCAmJiBldmVudC5jYWxsX2NpZCA9PT0gdGhpcy5jaWQpIHtcbiAgICAgICAgZm4oZXZlbnQgYXMgQWxsQ2FsbEV2ZW50c1tFXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBrZWVwIHRoZSAnb2ZmJyByZWZlcmVuY2UgcmV0dXJuZWQgYnkgdGhlIHN0cmVhbSBjbGllbnRcbiAgICB0aGlzLnN0cmVhbUNsaWVudEV2ZW50SGFuZGxlcnMuc2V0KGZuLCBvZmZIYW5kbGVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBmbik7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHN1YnNjcmlwdGlvbiBmb3IgV2ViU29ja2V0IGV2ZW50cyB0aGF0IHdlcmUgY3JlYXRlZCBieSB0aGUgYG9uYCBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBmbiB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2FsbEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKGlzU2Z1RXZlbnQoZXZlbnROYW1lKSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGlzcGF0Y2hlci5vZmYoZXZlbnROYW1lLCBmbik7XG4gICAgfVxuXG4gICAgLy8gdW5zdWJzY3JpYmUgZnJvbSB0aGUgc3RyZWFtIGNsaWVudCBldmVudCBieSB1c2luZyB0aGUgJ29mZicgcmVmZXJlbmNlXG4gICAgY29uc3QgcmVnaXN0ZXJlZE9mZkhhbmRsZXIgPSB0aGlzLnN0cmVhbUNsaWVudEV2ZW50SGFuZGxlcnMuZ2V0KGZuKTtcbiAgICBpZiAocmVnaXN0ZXJlZE9mZkhhbmRsZXIpIHtcbiAgICAgIHJlZ2lzdGVyZWRPZmZIYW5kbGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBMZWF2ZSB0aGUgY2FsbCBhbmQgc3RvcCB0aGUgbWVkaWEgc3RyZWFtcyB0aGF0IHdlcmUgcHVibGlzaGVkIGJ5IHRoZSBjYWxsLlxuICAgKi9cbiAgbGVhdmUgPSBhc3luYyAoe1xuICAgIHJlamVjdCA9IGZhbHNlLFxuICAgIHJlYXNvbiA9ICd1c2VyIGlzIGxlYXZpbmcgdGhlIGNhbGwnLFxuICB9OiBDYWxsTGVhdmVPcHRpb25zID0ge30pID0+IHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5qb2luTGVhdmVDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY2FsbGluZ1N0YXRlID0gdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGU7XG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBsZWF2ZSBjYWxsIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBsZWZ0LicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTklORykge1xuICAgICAgICBjb25zdCB3YWl0VW50aWxDYWxsSm9pbmVkID0gKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUkXG4gICAgICAgICAgICAgIC5waXBlKHRha2VXaGlsZSgoc3RhdGUpID0+IHN0YXRlICE9PSBDYWxsaW5nU3RhdGUuSk9JTkVELCB0cnVlKSlcbiAgICAgICAgICAgICAgLnN1YnNjcmliZSgoKSA9PiByZXNvbHZlKCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB3YWl0VW50aWxDYWxsSm9pbmVkKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnJpbmdpbmcpIHtcbiAgICAgICAgLy8gSSdtIHRoZSBvbmUgd2hvIHN0YXJ0ZWQgdGhlIGNhbGwsIHNvIEkgc2hvdWxkIGNhbmNlbCBpdC5cbiAgICAgICAgY29uc3QgaGFzT3RoZXJQYXJ0aWNpcGFudHMgPSB0aGlzLnN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cy5sZW5ndGggPiAwO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhpcy5pc0NyZWF0ZWRCeU1lICYmXG4gICAgICAgICAgIWhhc090aGVyUGFydGljaXBhbnRzICYmXG4gICAgICAgICAgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUklOR0lOR1xuICAgICAgICApIHtcbiAgICAgICAgICAvLyBTaWduYWxzIG90aGVyIHVzZXJzIHRoYXQgSSBoYXZlIGNhbmNlbGxlZCBteSBjYWxsIHRvIHRoZW1cbiAgICAgICAgICAvLyBiZWZvcmUgdGhleSBhY2NlcHRlZCBpdC5cbiAgICAgICAgICBhd2FpdCB0aGlzLnJlamVjdCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlamVjdCAmJiBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSB7XG4gICAgICAgICAgLy8gU2lnbmFscyBvdGhlciB1c2VycyB0aGF0IEkgaGF2ZSByZWplY3RlZCB0aGUgaW5jb21pbmcgY2FsbC5cbiAgICAgICAgICBhd2FpdCB0aGlzLnJlamVjdCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgdGhpcy5zdGF0c1JlcG9ydGVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlciA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zdWJzY3JpYmVyPy5jbG9zZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uY2xvc2UoeyBzdG9wVHJhY2tzOiB0cnVlIH0pO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKHJlYXNvbik7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRTZnVDbGllbnQodW5kZWZpbmVkKTtcblxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkxFRlQpO1xuXG4gICAgICAvLyBDYWxsIGFsbCBsZWF2ZSBjYWxsIGhvb2tzLCBlLmcuIHRvIGNsZWFuIHVwIGdsb2JhbCBldmVudCBoYW5kbGVyc1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5mb3JFYWNoKChob29rKSA9PiBob29rKCkpO1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnVucmVnaXN0ZXJDYWxsKHRoaXMpO1xuXG4gICAgICB0aGlzLmNhbWVyYS5kaXNwb3NlKCk7XG4gICAgICB0aGlzLm1pY3JvcGhvbmUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zY3JlZW5TaGFyZS5kaXNwb3NlKCk7XG4gICAgICB0aGlzLnNwZWFrZXIuZGlzcG9zZSgpO1xuXG4gICAgICBjb25zdCBzdG9wT25MZWF2ZVByb21pc2VzOiBQcm9taXNlPHZvaWQ+W10gPSBbXTtcbiAgICAgIGlmICh0aGlzLmNhbWVyYS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5jYW1lcmEuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5taWNyb3Bob25lLnN0b3BPbkxlYXZlKSB7XG4gICAgICAgIHN0b3BPbkxlYXZlUHJvbWlzZXMucHVzaCh0aGlzLm1pY3JvcGhvbmUuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zY3JlZW5TaGFyZS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5zY3JlZW5TaGFyZS5kaXNhYmxlKHRydWUpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKHN0b3BPbkxlYXZlUHJvbWlzZXMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIGlzIFwicmluZ2luZ1wiIHR5cGUgb2YgY2FsbC5cbiAgICovXG4gIGdldCByaW5naW5nKCkge1xuICAgIHJldHVybiBnZXRDdXJyZW50VmFsdWUodGhpcy5yaW5naW5nU3ViamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHVzZXIgSUQuXG4gICAqL1xuICBnZXQgY3VycmVudFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBjYWxsIHdhcyBjcmVhdGVkIGJ5IHRoZSBjdXJyZW50IHVzZXIuXG4gICAqL1xuICBnZXQgaXNDcmVhdGVkQnlNZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkID09PSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gIH1cblxuICAvKipcbiAgICogTG9hZHMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zLnJpbmcgaWYgc2V0IHRvIHRydWUsIGEgYGNhbGwucmluZ2AgZXZlbnQgd2lsbCBiZSBzZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqIEBwYXJhbSBwYXJhbXMubm90aWZ5IGlmIHNldCB0byB0cnVlLCBhIGBjYWxsLm5vdGlmaWNhdGlvbmAgZXZlbnQgd2lsbCBiZSBzZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqIEBwYXJhbSBwYXJhbXMubWVtYmVyc19saW1pdCB0aGUgdG90YWwgbnVtYmVyIG9mIG1lbWJlcnMgdG8gcmV0dXJuIGFzIHBhcnQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgZ2V0ID0gYXN5bmMgKHBhcmFtcz86IHtcbiAgICByaW5nPzogYm9vbGVhbjtcbiAgICBub3RpZnk/OiBib29sZWFuO1xuICAgIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIH0pID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0Q2FsbFJlc3BvbnNlPihcbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGgsXG4gICAgICBwYXJhbXMsXG4gICAgKTtcblxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShyZXNwb25zZS5jYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMocmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMocmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAocGFyYW1zPy5yaW5nIHx8IHRoaXMucmluZ2luZykge1xuICAgICAgLy8gdGhlIGNhbGwgcmVzcG9uc2UgY2FuIGluZGljYXRlIHdoZXJlIHRoZSBjYWxsIGlzIHN0aWxsIHJpbmdpbmcgb3Igbm90XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKGZhbHNlKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsIGFuZCBjcmVhdGVzIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgY2FsbCB3aXRoLlxuICAgKi9cbiAgZ2V0T3JDcmVhdGUgPSBhc3luYyAoZGF0YT86IEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3QpID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gICAgICBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAgPih0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoLCBkYXRhKTtcblxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShyZXNwb25zZS5jYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMocmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMocmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAoZGF0YT8ucmluZyB8fCB0aGlzLnJpbmdpbmcpIHtcbiAgICAgIC8vIHRoZSBjYWxsIHJlc3BvbnNlIGNhbiBpbmRpY2F0ZSB3aGVyZSB0aGUgY2FsbCBpcyBzdGlsbCByaW5naW5nIG9yIG5vdFxuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmVhbUNsaWVudC5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS5yZWdpc3RlckNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhmYWxzZSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYWxsXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgY2FsbCB3aXRoLlxuICAgKi9cbiAgY3JlYXRlID0gYXN5bmMgKGRhdGE/OiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3JDcmVhdGUoZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgZm9yIHtAbGluayBDYWxsLmdldH0gd2l0aCBgcmluZ2AgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAuXG4gICAqIFdpbGwgc2VuZCBhIGBjYWxsLnJpbmdgIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICByaW5nID0gYXN5bmMgKCk6IFByb21pc2U8R2V0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0KHsgcmluZzogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaG9ydGN1dCBmb3Ige0BsaW5rIENhbGwuZ2V0fSB3aXRoIGBub3RpZnlgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgLlxuICAgKiBXaWxsIHNlbmQgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICBub3RpZnkgPSBhc3luYyAoKTogUHJvbWlzZTxHZXRDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXQoeyBub3RpZnk6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIGFjY2VwdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5qb2lufSBpbnZva2VzIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkgZm9yIHlvdSB3aGVuIGpvaW5pbmcgYSBjYWxsLlxuICAgKiBVbmxlc3MgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gXCJyaW5naW5nXCIgZmxvdywgeW91IHNob3VsZCBub3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKi9cbiAgYWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEFjY2VwdENhbGxSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9hY2NlcHRgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIHJlamVjdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5sZWF2ZX0gaW52b2tlcyB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IGZvciB5b3Ugd2hlbiB5b3UgbGVhdmUgb3IgcmVqZWN0IHRoaXMgY2FsbC5cbiAgICogVW5sZXNzIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIFwicmluZ2luZ1wiIGZsb3csIHlvdSBzaG91bGQgbm90IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGwuXG4gICAqL1xuICByZWplY3QgPSBhc3luYyAocmVhc29uPzogUmVqZWN0UmVhc29uKTogUHJvbWlzZTxSZWplY3RDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxSZWplY3RDYWxsUmVzcG9uc2UsIFJlamVjdENhbGxSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlamVjdGAsXG4gICAgICB7IHJlYXNvbjogcmVhc29uIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBzdGFydCB0byB3YXRjaCBmb3IgY2FsbCByZWxhdGVkIFdlYlNvY2tldCBldmVudHMgYW5kIGluaXRpYXRlIGEgY2FsbCBzZXNzaW9uIHdpdGggdGhlIHNlcnZlci5cbiAgICpcbiAgICogQHJldHVybnMgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIG9uY2UgdGhlIGNhbGwgam9pbi1mbG93IGhhcyBmaW5pc2hlZC5cbiAgICovXG4gIGpvaW4gPSBhc3luYyAoZGF0YT86IEpvaW5DYWxsRGF0YSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZTtcbiAgICBpZiAoW0NhbGxpbmdTdGF0ZS5KT0lORUQsIENhbGxpbmdTdGF0ZS5KT0lOSU5HXS5pbmNsdWRlcyhjYWxsaW5nU3RhdGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYElsbGVnYWwgU3RhdGU6IGNhbGwuam9pbigpIHNoYWxsIGJlIGNhbGxlZCBvbmx5IG9uY2VgKTtcbiAgICB9XG5cbiAgICB0aGlzLmpvaW5DYWxsRGF0YSA9IGRhdGE7XG5cbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU3RhcnRpbmcgam9pbiBmbG93Jyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5JTkcpO1xuXG4gICAgY29uc3QgcGVyZm9ybWluZ01pZ3JhdGlvbiA9XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFO1xuICAgIGNvbnN0IHBlcmZvcm1pbmdSZWpvaW4gPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9PT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIGNvbnN0IHBlcmZvcm1pbmdGYXN0UmVjb25uZWN0ID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG5cbiAgICBsZXQgc3RhdHNPcHRpb25zID0gdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5vcHRpb25zO1xuICAgIGlmIChcbiAgICAgICF0aGlzLmNyZWRlbnRpYWxzIHx8XG4gICAgICAhc3RhdHNPcHRpb25zIHx8XG4gICAgICBwZXJmb3JtaW5nUmVqb2luIHx8XG4gICAgICBwZXJmb3JtaW5nTWlncmF0aW9uXG4gICAgKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBqb2luUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmRvSm9pblJlcXVlc3QoZGF0YSk7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBqb2luUmVzcG9uc2UuY3JlZGVudGlhbHM7XG4gICAgICAgIHN0YXRzT3B0aW9ucyA9IGpvaW5SZXNwb25zZS5zdGF0c19vcHRpb25zO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgY2FsbCBzdGF0ZSBpZiB0aGUgam9pbi1mbG93IGZhaWxzXG4gICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKGNhbGxpbmdTdGF0ZSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzU2Z1Q2xpZW50ID0gdGhpcy5zZnVDbGllbnQ7XG4gICAgY29uc3QgcHJldmlvdXNTZXNzaW9uSWQgPSBwcmV2aW91c1NmdUNsaWVudD8uc2Vzc2lvbklkO1xuICAgIGNvbnN0IGlzV3NIZWFsdGh5ID0gISFwcmV2aW91c1NmdUNsaWVudD8uaXNIZWFsdGh5O1xuICAgIGNvbnN0IHNmdUNsaWVudCA9XG4gICAgICBwZXJmb3JtaW5nUmVqb2luIHx8IHBlcmZvcm1pbmdNaWdyYXRpb24gfHwgIWlzV3NIZWFsdGh5XG4gICAgICAgID8gbmV3IFN0cmVhbVNmdUNsaWVudCh7XG4gICAgICAgICAgICBsb2dUYWc6IFN0cmluZyh0aGlzLnNmdUNsaWVudFRhZysrKSxcbiAgICAgICAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLmNyZWRlbnRpYWxzLFxuICAgICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICAgIC8vIGEgbmV3IHNlc3Npb25faWQgaXMgbmVjZXNzYXJ5IGZvciB0aGUgUkVKT0lOIHN0cmF0ZWd5LlxuICAgICAgICAgICAgLy8gd2UgdXNlIHRoZSBwcmV2aW91cyBzZXNzaW9uX2lkIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgc2Vzc2lvbklkOiBwZXJmb3JtaW5nUmVqb2luID8gdW5kZWZpbmVkIDogcHJldmlvdXNTZXNzaW9uSWQsXG4gICAgICAgICAgICBvblNpZ25hbENsb3NlOiAoKSA9PiB0aGlzLmhhbmRsZVNmdVNpZ25hbENsb3NlKHNmdUNsaWVudCksXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBwcmV2aW91c1NmdUNsaWVudDtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0U2Z1Q2xpZW50KHNmdUNsaWVudCk7XG5cbiAgICBjb25zdCBjbGllbnREZXRhaWxzID0gZ2V0Q2xpZW50RGV0YWlscygpO1xuICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gc2VuZCBKb2luUmVxdWVzdCBpZiB3ZSBhcmUgcmUtdXNpbmcgYW4gZXhpc3RpbmcgaGVhbHRoeSBTRlUgY2xpZW50XG4gICAgaWYgKHByZXZpb3VzU2Z1Q2xpZW50ICE9PSBzZnVDbGllbnQpIHtcbiAgICAgIC8vIHByZXBhcmUgYSBnZW5lcmljIFNEUCBhbmQgc2VuZCBpdCB0byB0aGUgU0ZVLlxuICAgICAgLy8gdGhpcyBpcyBhIHRocm93LWF3YXkgU0RQIHRoYXQgdGhlIFNGVSB3aWxsIHVzZSB0byBkZXRlcm1pbmVcbiAgICAgIC8vIHRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIGNsaWVudCAoY29kZWMgc3VwcG9ydCwgZXRjLilcbiAgICAgIGNvbnN0IHJlY2VpdmluZ0NhcGFiaWxpdGllc1NkcCA9IGF3YWl0IGdldEdlbmVyaWNTZHAoJ3JlY3Zvbmx5Jyk7XG4gICAgICBjb25zdCByZWNvbm5lY3REZXRhaWxzID1cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRURcbiAgICAgICAgICA/IHRoaXMuZ2V0UmVjb25uZWN0RGV0YWlscyhkYXRhPy5taWdyYXRpbmdfZnJvbSwgcHJldmlvdXNTZXNzaW9uSWQpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICBjb25zdCB7IGNhbGxTdGF0ZSwgZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kcyB9ID0gYXdhaXQgc2Z1Q2xpZW50LmpvaW4oe1xuICAgICAgICBzdWJzY3JpYmVyU2RwOiByZWNlaXZpbmdDYXBhYmlsaXRpZXNTZHAsXG4gICAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICAgIGZhc3RSZWNvbm5lY3Q6IHBlcmZvcm1pbmdGYXN0UmVjb25uZWN0LFxuICAgICAgICByZWNvbm5lY3REZXRhaWxzLFxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kcyA9IGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHM7XG4gICAgICBpZiAoY2FsbFN0YXRlKSB7XG4gICAgICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbVNmdUNhbGxTdGF0ZShcbiAgICAgICAgICBjYWxsU3RhdGUsXG4gICAgICAgICAgc2Z1Q2xpZW50LnNlc3Npb25JZCxcbiAgICAgICAgICByZWNvbm5lY3REZXRhaWxzLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghcGVyZm9ybWluZ01pZ3JhdGlvbikge1xuICAgICAgLy8gaW4gTUlHUkFUSU9OLCBgSk9JTkVEYCBzdGF0ZSBpcyBzZXQgaW4gYHRoaXMucmVjb25uZWN0TWlncmF0ZSgpYFxuICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLkpPSU5FRCk7XG4gICAgfVxuICAgIHRoaXMuaGFzSm9pbmVkT25jZSA9IHRydWU7XG5cbiAgICAvLyB3aGVuIHBlcmZvcm1pbmcgZmFzdCByZWNvbm5lY3QsIG9yIHdoZW4gd2UgcmV1c2UgdGhlIHNhbWUgU0ZVIGNsaWVudCxcbiAgICAvLyAod3MgcmVtYWluZWQgaGVhbHRoeSksIHdlIGp1c3QgbmVlZCB0byByZXN0b3JlIHRoZSBJQ0UgY29ubmVjdGlvblxuICAgIGlmIChwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCkge1xuICAgICAgLy8gdGhlIFNGVSBhdXRvbWF0aWNhbGx5IGlzc3VlcyBhbiBJQ0UgcmVzdGFydCBvbiB0aGUgc3Vic2NyaWJlclxuICAgICAgLy8gd2UgZG9uJ3QgaGF2ZSB0byBkbyBpdCBvdXJzZWx2ZXNcbiAgICAgIGF3YWl0IHRoaXMucmVzdG9yZUlDRShzZnVDbGllbnQsIHsgaW5jbHVkZVN1YnNjcmliZXI6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjb25uZWN0aW9uQ29uZmlnID0gdG9SdGNDb25maWd1cmF0aW9uKHRoaXMuY3JlZGVudGlhbHMuaWNlX3NlcnZlcnMpO1xuICAgICAgdGhpcy5pbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlcih7XG4gICAgICAgIHNmdUNsaWVudCxcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgc3RhdHNPcHRpb25zLFxuICAgICAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzOiAhcGVyZm9ybWluZ01pZ3JhdGlvbixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChwZXJmb3JtaW5nUmVqb2luKSB7XG4gICAgICBjb25zdCBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W3RoaXMucmVjb25uZWN0U3RyYXRlZ3ldO1xuICAgICAgYXdhaXQgcHJldmlvdXNTZnVDbGllbnQ/LmxlYXZlQW5kQ2xvc2UoXG4gICAgICAgIGBDbG9zaW5nIHByZXZpb3VzIFdTIGFmdGVyIHJlY29ubmVjdCB3aXRoIHN0cmF0ZWd5OiAke3N0cmF0ZWd5fWAsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIWlzV3NIZWFsdGh5KSB7XG4gICAgICBwcmV2aW91c1NmdUNsaWVudD8uY2xvc2UoXG4gICAgICAgIFN0cmVhbVNmdUNsaWVudC5ESVNQT1NFX09MRF9TT0NLRVQsXG4gICAgICAgICdDbG9zaW5nIHVuaGVhbHRoeSBXUyBhZnRlciByZWNvbm5lY3QnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBkZXZpY2Ugc2V0dGluZ3Mgc2hvdWxkIGJlIGFwcGxpZWQgb25seSBvbmNlLCB3ZSBkb24ndCBoYXZlIHRvXG4gICAgLy8gcmUtYXBwbHkgdGhlbSBvbiBsYXRlciByZWNvbm5lY3Rpb25zIG9yIHNlcnZlci1zaWRlIGRhdGEgZmV0Y2hlc1xuICAgIGlmICghdGhpcy5kZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlKSB7XG4gICAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKHRydWUpO1xuICAgICAgdGhpcy5kZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBXZSBzaG91bGRuJ3QgcGVyc2lzdCB0aGUgYHJpbmdgIGFuZCBgbm90aWZ5YCBzdGF0ZSBhZnRlciBqb2luaW5nIHRoZSBjYWxsXG4gICAgLy8gYXMgaXQncyBhIG9uZS10aW1lIGV2ZW50IGFuZCBjbGFzaGVzIHdpdGggdGhlIHBvdGVudGlhbCByZWNvbm5lY3Rpb24gYXR0ZW1wdHMuXG4gICAgLy8gV2hlbiByZWNvbm5lY3RpbmcsIGlmIHByb3ZpZGVkIHdpdGggYHJpbmc6IHRydWVgIG9yIGBub3RpZnk6IHRydWVgLFxuICAgIC8vIHdlIHdpbGwgc3BhbSB0aGUgb3RoZXIgcGFydGljaXBhbnRzIHdpdGggcHVzaCBub3RpZmljYXRpb25zIGFuZCBgY2FsbC5yaW5nYCBldmVudHMuXG4gICAgZGVsZXRlIHRoaXMuam9pbkNhbGxEYXRhPy5yaW5nO1xuICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubm90aWZ5O1xuXG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgSm9pbmVkIGNhbGwgJHt0aGlzLmNpZH1gKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJlcGFyZXMgUmVjb25uZWN0IERldGFpbHMgb2JqZWN0LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgZ2V0UmVjb25uZWN0RGV0YWlscyA9IChcbiAgICBtaWdyYXRpbmdGcm9tU2Z1SWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbiAgICBwcmV2aW91c1Nlc3Npb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBSZWNvbm5lY3REZXRhaWxzID0+IHtcbiAgICBjb25zdCBzdHJhdGVneSA9IHRoaXMucmVjb25uZWN0U3RyYXRlZ3k7XG4gICAgY29uc3QgcGVyZm9ybWluZ1Jlam9pbiA9IHN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgY29uc3QgYW5ub3VuY2VkVHJhY2tzID0gdGhpcy5wdWJsaXNoZXI/LmdldEFubm91bmNlZFRyYWNrcygpIHx8IFtdO1xuICAgIHJldHVybiB7XG4gICAgICBzdHJhdGVneSxcbiAgICAgIGFubm91bmNlZFRyYWNrcyxcbiAgICAgIHN1YnNjcmlwdGlvbnM6IHRoaXMuZHluYXNjYWxlTWFuYWdlci50cmFja1N1YnNjcmlwdGlvbnMsXG4gICAgICByZWNvbm5lY3RBdHRlbXB0OiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLFxuICAgICAgZnJvbVNmdUlkOiBtaWdyYXRpbmdGcm9tU2Z1SWQgfHwgJycsXG4gICAgICBwcmV2aW91c1Nlc3Npb25JZDogcGVyZm9ybWluZ1Jlam9pbiA/IHByZXZpb3VzU2Vzc2lvbklkIHx8ICcnIDogJycsXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gSUNFIHJlc3RhcnQgb24gYm90aCB0aGUgUHVibGlzaGVyIGFuZCBTdWJzY3JpYmVyIFBlZXIgQ29ubmVjdGlvbnMuXG4gICAqIFVzZXMgdGhlIHByb3ZpZGVkIFNGVSBjbGllbnQgdG8gcmVzdG9yZSB0aGUgSUNFIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGNhbiB0aHJvdyBhbiBlcnJvciBpZiB0aGUgSUNFIHJlc3RhcnQgZmFpbHMuXG4gICAqIFRoaXMgZXJyb3Igc2hvdWxkIGJlIGhhbmRsZWQgYnkgdGhlIHJlY29ubmVjdCBsb29wLFxuICAgKiBhbmQgYSBuZXcgcmVjb25uZWN0aW9uIHNoYWxsIGJlIGF0dGVtcHRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlc3RvcmVJQ0UgPSBhc3luYyAoXG4gICAgbmV4dFNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50LFxuICAgIG9wdHM6IHsgaW5jbHVkZVN1YnNjcmliZXI/OiBib29sZWFuOyBpbmNsdWRlUHVibGlzaGVyPzogYm9vbGVhbiB9ID0ge30sXG4gICkgPT4ge1xuICAgIGNvbnN0IHsgaW5jbHVkZVN1YnNjcmliZXIgPSB0cnVlLCBpbmNsdWRlUHVibGlzaGVyID0gdHJ1ZSB9ID0gb3B0cztcbiAgICBpZiAodGhpcy5zdWJzY3JpYmVyKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXIuc2V0U2Z1Q2xpZW50KG5leHRTZnVDbGllbnQpO1xuICAgICAgaWYgKGluY2x1ZGVTdWJzY3JpYmVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3Vic2NyaWJlci5yZXN0YXJ0SWNlKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLnB1Ymxpc2hlcikge1xuICAgICAgdGhpcy5wdWJsaXNoZXIuc2V0U2Z1Q2xpZW50KG5leHRTZnVDbGllbnQpO1xuICAgICAgaWYgKGluY2x1ZGVQdWJsaXNoZXIpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucmVzdGFydEljZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFB1Ymxpc2hlciBhbmQgU3Vic2NyaWJlciBQZWVyIENvbm5lY3Rpb25zLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgaW5pdFB1Ymxpc2hlckFuZFN1YnNjcmliZXIgPSAob3B0czoge1xuICAgIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICAgIGNvbm5lY3Rpb25Db25maWc6IFJUQ0NvbmZpZ3VyYXRpb247XG4gICAgc3RhdHNPcHRpb25zOiBTdGF0c09wdGlvbnM7XG4gICAgY2xpZW50RGV0YWlsczogQ2xpZW50RGV0YWlscztcbiAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzOiBib29sZWFuO1xuICB9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICBzdGF0c09wdGlvbnMsXG4gICAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzLFxuICAgIH0gPSBvcHRzO1xuICAgIGlmIChjbG9zZVByZXZpb3VzSW5zdGFuY2VzICYmIHRoaXMuc3Vic2NyaWJlcikge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyLmNsb3NlKCk7XG4gICAgfVxuICAgIHRoaXMuc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKHtcbiAgICAgIHNmdUNsaWVudCxcbiAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIGxvZ1RhZzogU3RyaW5nKHRoaXMuc2Z1Q2xpZW50VGFnKSxcbiAgICAgIG9uVW5yZWNvdmVyYWJsZUVycm9yOiAoKSA9PiB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ3dhcm4nLFxuICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZyBhZnRlciBhIHN1YnNjcmliZXIgZXJyb3InLFxuICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIGFub255bW91cyB1c2VycyBjYW4ndCBwdWJsaXNoIGFueXRoaW5nIGhlbmNlLCB0aGVyZSBpcyBubyBuZWVkXG4gICAgLy8gdG8gY3JlYXRlIFB1Ymxpc2hlciBQZWVyIENvbm5lY3Rpb24gZm9yIHRoZW1cbiAgICBjb25zdCBpc0Fub255bW91cyA9IHRoaXMuc3RyZWFtQ2xpZW50LnVzZXI/LnR5cGUgPT09ICdhbm9ueW1vdXMnO1xuICAgIGlmICghaXNBbm9ueW1vdXMpIHtcbiAgICAgIGlmIChjbG9zZVByZXZpb3VzSW5zdGFuY2VzICYmIHRoaXMucHVibGlzaGVyKSB7XG4gICAgICAgIHRoaXMucHVibGlzaGVyLmNsb3NlKHsgc3RvcFRyYWNrczogZmFsc2UgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBhdWRpb1NldHRpbmdzID0gdGhpcy5zdGF0ZS5zZXR0aW5ncz8uYXVkaW87XG4gICAgICBjb25zdCBpc0R0eEVuYWJsZWQgPSAhIWF1ZGlvU2V0dGluZ3M/Lm9wdXNfZHR4X2VuYWJsZWQ7XG4gICAgICBjb25zdCBpc1JlZEVuYWJsZWQgPSAhIWF1ZGlvU2V0dGluZ3M/LnJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZDtcbiAgICAgIHRoaXMucHVibGlzaGVyID0gbmV3IFB1Ymxpc2hlcih7XG4gICAgICAgIHNmdUNsaWVudCxcbiAgICAgICAgZGlzcGF0Y2hlcjogdGhpcy5kaXNwYXRjaGVyLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgICAgaXNEdHhFbmFibGVkLFxuICAgICAgICBpc1JlZEVuYWJsZWQsXG4gICAgICAgIGxvZ1RhZzogU3RyaW5nKHRoaXMuc2Z1Q2xpZW50VGFnKSxcbiAgICAgICAgb25VbnJlY292ZXJhYmxlRXJyb3I6ICgpID0+IHtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdChXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU4pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBwdWJsaXNoZXIgZXJyb3InLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgdGhpcy5zdGF0c1JlcG9ydGVyID0gY3JlYXRlU3RhdHNSZXBvcnRlcih7XG4gICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICBwdWJsaXNoZXI6IHRoaXMucHVibGlzaGVyLFxuICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICBkYXRhY2VudGVyOiBzZnVDbGllbnQuZWRnZU5hbWUsXG4gICAgfSk7XG5cbiAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICBpZiAoc3RhdHNPcHRpb25zPy5yZXBvcnRpbmdfaW50ZXJ2YWxfbXMgPiAwKSB7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSBuZXcgU2Z1U3RhdHNSZXBvcnRlcihzZnVDbGllbnQsIHtcbiAgICAgICAgY2xpZW50RGV0YWlscyxcbiAgICAgICAgb3B0aW9uczogc3RhdHNPcHRpb25zLFxuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlci5zdGFydCgpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIGNyZWRlbnRpYWxzIGZvciBqb2luaW5nIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIGpvaW4gY2FsbCBkYXRhLlxuICAgKi9cbiAgZG9Kb2luUmVxdWVzdCA9IGFzeW5jIChkYXRhPzogSm9pbkNhbGxEYXRhKTogUHJvbWlzZTxKb2luQ2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgbG9jYXRpb24gPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXRMb2NhdGlvbkhpbnQoKTtcbiAgICBjb25zdCByZXF1ZXN0OiBKb2luQ2FsbFJlcXVlc3QgPSB7IC4uLmRhdGEsIGxvY2F0aW9uIH07XG4gICAgY29uc3Qgam9pblJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIEpvaW5DYWxsUmVzcG9uc2UsXG4gICAgICBKb2luQ2FsbFJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2pvaW5gLCByZXF1ZXN0KTtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2Uoam9pblJlc3BvbnNlLmNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhqb2luUmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMoam9pblJlc3BvbnNlLm93bl9jYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKGRhdGE/LnJpbmcgJiYgIXRoaXMucmluZ2luZykge1xuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJpbmdpbmcgJiYgIXRoaXMuaXNDcmVhdGVkQnlNZSkge1xuICAgICAgLy8gc2lnbmFscyBvdGhlciB1c2VycyB0aGF0IEkgaGF2ZSBhY2NlcHRlZCB0aGUgaW5jb21pbmcgY2FsbC5cbiAgICAgIGF3YWl0IHRoaXMuYWNjZXB0KCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gam9pblJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBjbG9zaW5nIG9mIHRoZSBTRlUgc2lnbmFsIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc2Z1Q2xpZW50IHRoZSBTRlUgY2xpZW50IGluc3RhbmNlIHRoYXQgd2FzIGNsb3NlZC5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlU2Z1U2lnbmFsQ2xvc2UgPSAoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1JlY29ubmVjdF0gU0ZVIHNpZ25hbCBjb25uZWN0aW9uIGNsb3NlZCcpO1xuICAgIC8vIG5vcm1hbCBjbG9zZSwgbm8gbmVlZCB0byByZWNvbm5lY3RcbiAgICBpZiAoc2Z1Q2xpZW50LmlzTGVhdmluZykgcmV0dXJuO1xuICAgIHRoaXMucmVjb25uZWN0KFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gc3RyYXRlZ3kgdGhlIHJlY29ubmVjdGlvbiBzdHJhdGVneSB0byB1c2UuXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdCA9IGFzeW5jIChcbiAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHJldHVybiB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5yZWNvbm5lY3RDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgYFtSZWNvbm5lY3RdIFJlY29ubmVjdGluZyB3aXRoIHN0cmF0ZWd5ICR7V2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbc3RyYXRlZ3ldfWAsXG4gICAgICApO1xuXG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gc3RyYXRlZ3k7XG4gICAgICBkbyB7XG4gICAgICAgIC8vIHdlIGRvbid0IGluY3JlbWVudCByZWNvbm5lY3QgYXR0ZW1wdHMgZm9yIHRoZSBGQVNUIHN0cmF0ZWd5LlxuICAgICAgICBpZiAodGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVCkge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0QXR0ZW1wdHMrKztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbdGhpcy5yZWNvbm5lY3RTdHJhdGVneV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBhd2FpdCB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5wcm9taXNlO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5yZWNvbm5lY3RTdHJhdGVneSkge1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5VTlNQRUNJRklFRDpcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRElTQ09OTkVDVDpcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYFtSZWNvbm5lY3RdIE5vLW9wIHN0cmF0ZWd5ICR7Y3VycmVudH1gKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q6XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0RmFzdCgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOOlxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlY29ubmVjdFJlam9pbigpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTpcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3RNaWdyYXRlKCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgZW5zdXJlRXhoYXVzdGVkKFxuICAgICAgICAgICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgJ1Vua25vd24gcmVjb25uZWN0aW9uIHN0cmF0ZWd5JyxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrOyAvLyBkby13aGlsZSBsb29wLCByZWNvbm5lY3Rpb24gd29ya2VkLCBleGl0IHRoZSBsb29wXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3JGcm9tUmVzcG9uc2UgJiYgZXJyb3IudW5yZWNvdmVyYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgYFtSZWNvbm5lY3RdIENhbid0IHJlY29ubmVjdCBkdWUgdG8gY29vcmRpbmF0b3IgdW5yZWNvdmVyYWJsZSBlcnJvcmAsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICBgW1JlY29ubmVjdF0gJHtjdXJyZW50fSAoJHt0aGlzLnJlY29ubmVjdEF0dGVtcHRzfSkgZmFpbGVkLiBBdHRlbXB0aW5nIHdpdGggUkVKT0lOYCxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgICAgYXdhaXQgc2xlZXAoNTAwKTtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEICYmXG4gICAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuTEVGVFxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIHRoZSByZWNvbm5lY3Rpb24gZmxvdyB3aXRoIHRoZSBcImZhc3RcIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdEZhc3QgPSBhc3luYyAoKSA9PiB7XG4gICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyk7XG4gICAgcmV0dXJuIHRoaXMuam9pbih0aGlzLmpvaW5DYWxsRGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJyZWpvaW5cIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdFJlam9pbiA9IGFzeW5jICgpID0+IHtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkcpO1xuICAgIGF3YWl0IHRoaXMuam9pbih0aGlzLmpvaW5DYWxsRGF0YSk7XG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93IHdpdGggdGhlIFwibWlncmF0ZVwiIHN0cmF0ZWd5LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVjb25uZWN0TWlncmF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50U2Z1Q2xpZW50ID0gdGhpcy5zZnVDbGllbnQ7XG4gICAgaWYgKCFjdXJyZW50U2Z1Q2xpZW50KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBtaWdyYXRlIHdpdGhvdXQgYW4gYWN0aXZlIFNGVSBjbGllbnQnKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTtcbiAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuTUlHUkFUSU5HKTtcbiAgICBjb25zdCBjdXJyZW50U3Vic2NyaWJlciA9IHRoaXMuc3Vic2NyaWJlcjtcbiAgICBjb25zdCBjdXJyZW50UHVibGlzaGVyID0gdGhpcy5wdWJsaXNoZXI7XG5cbiAgICBjdXJyZW50U3Vic2NyaWJlcj8uZGV0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgIGN1cnJlbnRQdWJsaXNoZXI/LmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcblxuICAgIGNvbnN0IG1pZ3JhdGlvblRhc2sgPSBjdXJyZW50U2Z1Q2xpZW50LmVudGVyTWlncmF0aW9uKCk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY3VycmVudFNmdSA9IGN1cnJlbnRTZnVDbGllbnQuZWRnZU5hbWU7XG4gICAgICBhd2FpdCB0aGlzLmpvaW4oeyAuLi50aGlzLmpvaW5DYWxsRGF0YSwgbWlncmF0aW5nX2Zyb206IGN1cnJlbnRTZnUgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGNsZWFudXAgdGhlIG1pZ3JhdGlvbl9mcm9tIGZpZWxkIGFmdGVyIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUgb3IgZmFpbGVkXG4gICAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXAgZGlydHkgZGF0YSBpbiB0aGUgam9pbiBjYWxsIGRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubWlncmF0aW5nX2Zyb207XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBtaWdyYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnRcbiAgICAgIC8vIGFuZCB0aGUgcGVlciBjb25uZWN0aW9uIGluc3RhbmNlcy4gSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgbWlncmF0aW9uXG4gICAgICAvLyB0YXNrIHdvdWxkIHRocm93IGFuIGVycm9yIGFuZCBSRUpPSU4gd291bGQgYmUgYXR0ZW1wdGVkLlxuICAgICAgYXdhaXQgbWlncmF0aW9uVGFzaztcblxuICAgICAgLy8gaW4gTUlHUkFURSwgd2UgY2FuIGNvbnNpZGVyIHRoZSBjYWxsIGFzIGpvaW5lZCBvbmx5IGFmdGVyXG4gICAgICAvLyBgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZWAgZXZlbnQgaXMgcmVjZWl2ZWQsIHNpZ25hbGVkIGJ5XG4gICAgICAvLyB0aGUgYG1pZ3JhdGlvblRhc2tgXG4gICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuSk9JTkVEKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY3VycmVudFN1YnNjcmliZXI/LmNsb3NlKCk7XG4gICAgICBjdXJyZW50UHVibGlzaGVyPy5jbG9zZSh7IHN0b3BUcmFja3M6IGZhbHNlIH0pO1xuXG4gICAgICAvLyBhbmQgY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnQsIHdpdGhvdXQgc3BlY2lmeWluZyBjbG9zZSBjb2RlXG4gICAgICBjdXJyZW50U2Z1Q2xpZW50LmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIHZhcmlvdXMgZXZlbnQgaGFuZGxlcnMgZm9yIHJlY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgLy8gaGFuZGxlcyB0aGUgbGVnYWN5IFwiZ29Bd2F5XCIgZXZlbnRcbiAgICBjb25zdCB1bnJlZ2lzdGVyR29Bd2F5ID0gdGhpcy5vbignZ29Bd2F5JywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvbm5lY3QoV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBoYW5kbGVzIHRoZSBcImVycm9yXCIgZXZlbnQsIHRocm91Z2ggd2hpY2ggdGhlIFNGVSBjYW4gcmVxdWVzdCBhIHJlY29ubmVjdFxuICAgIGNvbnN0IHVucmVnaXN0ZXJPbkVycm9yID0gdGhpcy5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgY29uc3QgeyByZWNvbm5lY3RTdHJhdGVneTogc3RyYXRlZ3kgfSA9IGU7XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkRJU0NPTk5FQ1QpIHtcbiAgICAgICAgdGhpcy5sZWF2ZSh7IHJlYXNvbjogJ1NGVSBpbnN0cnVjdGVkIHRvIGRpc2Nvbm5lY3QnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBDYW4ndCBsZWF2ZSBjYWxsIGFmdGVyIGRpc2Nvbm5lY3QgcmVxdWVzdGAsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Qoc3RyYXRlZ3kpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnN0IHVucmVnaXN0ZXJOZXR3b3JrQ2hhbmdlZCA9IHRoaXMuc3RyZWFtQ2xpZW50Lm9uKFxuICAgICAgJ25ldHdvcmsuY2hhbmdlZCcsXG4gICAgICAoZSkgPT4ge1xuICAgICAgICBpZiAoIWUub25saW5lKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWNvbm5lY3RdIEdvaW5nIG9mZmxpbmUnKTtcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzSm9pbmVkT25jZSkgcmV0dXJuO1xuICAgICAgICAgIHRoaXMubGFzdE9mZmxpbmVUaW1lc3RhbXAgPSBEYXRlLm5vdygpO1xuICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0YXNrIHRoYXQgd291bGQgcmVzb2x2ZSB3aGVuIHRoZSBuZXR3b3JrIGlzIGF2YWlsYWJsZVxuICAgICAgICAgIGNvbnN0IG5ldHdvcmtBdmFpbGFibGVUYXNrID0gcHJvbWlzZVdpdGhSZXNvbHZlcnMoKTtcbiAgICAgICAgICBuZXR3b3JrQXZhaWxhYmxlVGFzay5wcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgbGV0IHN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgIGNvbnN0IG9mZmxpbmUgPSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE9mZmxpbmVUaW1lc3RhbXApIC8gMTAwMDtcbiAgICAgICAgICAgICAgaWYgKG9mZmxpbmUgPiB0aGlzLmZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGRuJ3QgYXR0ZW1wdCBGQVNUIGlmIHdlIGhhdmUgZXhjZWVkZWQgdGhlIGRlYWRsaW5lLlxuICAgICAgICAgICAgICAgIC8vIFRoZSBTRlUgd291bGQgaGF2ZSBhbHJlYWR5IHdpcGVkIG91dCB0aGUgc2Vzc2lvbi5cbiAgICAgICAgICAgICAgICBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlY29ubmVjdChzdHJhdGVneSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICAgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZyBhZnRlciBnb2luZyBvbmxpbmUnLFxuICAgICAgICAgICAgICAgIGVycixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2sgPSBuZXR3b3JrQXZhaWxhYmxlVGFzaztcbiAgICAgICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuT0ZGTElORSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWNvbm5lY3RdIEdvaW5nIG9ubGluZScpO1xuICAgICAgICAgIHRoaXMuc2Z1Q2xpZW50Py5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5ESVNQT1NFX09MRF9TT0NLRVQsXG4gICAgICAgICAgICAnQ2xvc2luZyBXUyB0byByZWNvbm5lY3QgYWZ0ZXIgZ29pbmcgb25saW5lJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIHdlIHdlbnQgb25saW5lLCByZWxlYXNlIHRoZSBwcmV2aW91cyB3YWl0ZXJzIGFuZCByZXNldCB0aGUgc3RhdGVcbiAgICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5yZXNvbHZlKCk7XG4gICAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVucmVnaXN0ZXJHb0F3YXkpO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKHVucmVnaXN0ZXJPbkVycm9yKTtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bnJlZ2lzdGVyTmV0d29ya0NoYW5nZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgcHVibGlzaGVkIHRyYWNrcyBhZnRlciBhIHJlY29ubmVjdGlvbi5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlc3RvcmVQdWJsaXNoZWRUcmFja3MgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gdGhlIHRyYWNrcyBuZWVkIHRvIGJlIHJlc3RvcmVkIGluIHRoZWlyIG9yaWdpbmFsIG9yZGVyIG9mIHB1Ymxpc2hpbmdcbiAgICAvLyBvdGhlcndpc2UsIHdlIG1pZ2h0IGdldCBgbS1saW5lcyBvcmRlciBtaXNtYXRjaGAgZXJyb3JzXG4gICAgZm9yIChjb25zdCB0cmFja1R5cGUgb2YgdGhpcy50cmFja1B1Ymxpc2hPcmRlcikge1xuICAgICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuQVVESU86XG4gICAgICAgICAgY29uc3QgYXVkaW9TdHJlYW0gPSB0aGlzLm1pY3JvcGhvbmUuc3RhdGUubWVkaWFTdHJlYW07XG4gICAgICAgICAgaWYgKGF1ZGlvU3RyZWFtKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hBdWRpb1N0cmVhbShhdWRpb1N0cmVhbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgICAgICBjb25zdCB2aWRlb1N0cmVhbSA9IHRoaXMuY2FtZXJhLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGlmICh2aWRlb1N0cmVhbSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoVmlkZW9TdHJlYW0oXG4gICAgICAgICAgICAgIHZpZGVvU3RyZWFtLFxuICAgICAgICAgICAgICB0aGlzLmNhbWVyYS5wdWJsaXNoT3B0aW9ucyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU6XG4gICAgICAgICAgY29uc3Qgc2NyZWVuU2hhcmVTdHJlYW0gPSB0aGlzLnNjcmVlblNoYXJlLnN0YXRlLm1lZGlhU3RyZWFtO1xuICAgICAgICAgIGlmIChzY3JlZW5TaGFyZVN0cmVhbSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoU2NyZWVuU2hhcmVTdHJlYW0oc2NyZWVuU2hhcmVTdHJlYW0sIHtcbiAgICAgICAgICAgICAgc2NyZWVuU2hhcmVTZXR0aW5nczogdGhpcy5zY3JlZW5TaGFyZS5nZXRTZXR0aW5ncygpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICAvLyBzY3JlZW4gc2hhcmUgYXVkaW8gY2FuJ3QgZXhpc3Qgd2l0aG91dCBhIHNjcmVlbiBzaGFyZSwgc28gd2UgaGFuZGxlIGl0IHRoZXJlXG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTzpcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZW5zdXJlRXhoYXVzdGVkKHRyYWNrVHlwZSwgJ1Vua25vd24gdHJhY2sgdHlwZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVzdG9yZXMgdGhlIHN1YnNjcmliZWQgdHJhY2tzIGFmdGVyIGEgcmVjb25uZWN0aW9uLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVzdG9yZVN1YnNjcmliZWRUcmFja3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHJlbW90ZVBhcnRpY2lwYW50cy5sZW5ndGggPD0gMCkgcmV0dXJuO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5hcHBseVRyYWNrU3Vic2NyaXB0aW9ucyh1bmRlZmluZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gdmlkZW8gc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZCBpZiB0aGUgdXNlciBjaGFuZ2VzIGFuIGlucHV0IGRldmljZSwgb3IgaWYgdGhlIHVzZXIgbGVhdmVzIHRoZSBjYWxsLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIHByZXZpb3VzbHkgcHVibGlzaGVkIHN0cmVhbS5cbiAgICogVGhlIHByZXZpb3VzIHZpZGVvIHN0cmVhbSB3aWxsIGJlIHN0b3BwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB2aWRlb1N0cmVhbSB0aGUgdmlkZW8gc3RyZWFtIHRvIHB1Ymxpc2guXG4gICAqIEBwYXJhbSBvcHRzIHRoZSBvcHRpb25zIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHN0cmVhbS5cbiAgICovXG4gIHB1Ymxpc2hWaWRlb1N0cmVhbSA9IGFzeW5jIChcbiAgICB2aWRlb1N0cmVhbTogTWVkaWFTdHJlYW0sXG4gICAgb3B0czogUHVibGlzaE9wdGlvbnMgPSB7fSxcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCkgdGhyb3cgbmV3IEVycm9yKGBDYWxsIG5vdCBqb2luZWQgeWV0LmApO1xuICAgIC8vIGpvaW5pbmcgaXMgaW4gcHJvZ3Jlc3MsIGFuZCB3ZSBzaG91bGQgd2FpdCB1bnRpbCB0aGUgY2xpZW50IGlzIHJlYWR5XG4gICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuam9pblRhc2s7XG5cbiAgICBpZiAoIXRoaXMucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggdmlkZW8nKTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucHVibGlzaGVyKSB0aHJvdyBuZXcgRXJyb3IoJ1B1Ymxpc2hlciBpcyBub3QgaW5pdGlhbGl6ZWQnKTtcblxuICAgIGNvbnN0IFt2aWRlb1RyYWNrXSA9IHZpZGVvU3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgaWYgKCF2aWRlb1RyYWNrKSB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIGlzIG5vIHZpZGVvIHRyYWNrIGluIHRoZSBzdHJlYW0nKTtcblxuICAgIGlmICghdGhpcy50cmFja1B1Ymxpc2hPcmRlci5pbmNsdWRlcyhUcmFja1R5cGUuVklERU8pKSB7XG4gICAgICB0aGlzLnRyYWNrUHVibGlzaE9yZGVyLnB1c2goVHJhY2tUeXBlLlZJREVPKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgdmlkZW9TdHJlYW0sXG4gICAgICB2aWRlb1RyYWNrLFxuICAgICAgVHJhY2tUeXBlLlZJREVPLFxuICAgICAgb3B0cyxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdGFydHMgcHVibGlzaGluZyB0aGUgZ2l2ZW4gYXVkaW8gc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBUaGUgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZCBpZiB0aGUgdXNlciBjaGFuZ2VzIGFuIGlucHV0IGRldmljZSwgb3IgaWYgdGhlIHVzZXIgbGVhdmVzIHRoZSBjYWxsLlxuICAgKlxuICAgKiBDb25zZWN1dGl2ZSBjYWxscyB0byB0aGlzIG1ldGhvZCB3aWxsIHJlcGxhY2UgdGhlIGF1ZGlvIHN0cmVhbSB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBwdWJsaXNoZWQuXG4gICAqIFRoZSBwcmV2aW91cyBhdWRpbyBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9TdHJlYW0gdGhlIGF1ZGlvIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKi9cbiAgcHVibGlzaEF1ZGlvU3RyZWFtID0gYXN5bmMgKGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHRocm93IG5ldyBFcnJvcihgQ2FsbCBub3Qgam9pbmVkIHlldC5gKTtcbiAgICAvLyBqb2luaW5nIGlzIGluIHByb2dyZXNzLCBhbmQgd2Ugc2hvdWxkIHdhaXQgdW50aWwgdGhlIGNsaWVudCBpcyByZWFkeVxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmpvaW5UYXNrO1xuXG4gICAgaWYgKCF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcGVybWlzc2lvbiB0byBwdWJsaXNoIGF1ZGlvJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgdGhyb3cgbmV3IEVycm9yKCdQdWJsaXNoZXIgaXMgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBbYXVkaW9UcmFja10gPSBhdWRpb1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgIGlmICghYXVkaW9UcmFjaykgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBhdWRpbyB0cmFjayBpbiB0aGUgc3RyZWFtJyk7XG5cbiAgICBpZiAoIXRoaXMudHJhY2tQdWJsaXNoT3JkZXIuaW5jbHVkZXMoVHJhY2tUeXBlLkFVRElPKSkge1xuICAgICAgdGhpcy50cmFja1B1Ymxpc2hPcmRlci5wdXNoKFRyYWNrVHlwZS5BVURJTyk7XG4gICAgfVxuICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2hTdHJlYW0oXG4gICAgICBhdWRpb1N0cmVhbSxcbiAgICAgIGF1ZGlvVHJhY2ssXG4gICAgICBUcmFja1R5cGUuQVVESU8sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHNjcmVlbi1zaGFyZSBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqXG4gICAqIENvbnNlY3V0aXZlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpbGwgcmVwbGFjZSB0aGUgcHJldmlvdXMgc2NyZWVuLXNoYXJlIHN0cmVhbS5cbiAgICogVGhlIHByZXZpb3VzIHNjcmVlbi1zaGFyZSBzdHJlYW0gd2lsbCBiZSBzdG9wcGVkLlxuICAgKlxuICAgKiBAcGFyYW0gc2NyZWVuU2hhcmVTdHJlYW0gdGhlIHNjcmVlbi1zaGFyZSBzdHJlYW0gdG8gcHVibGlzaC5cbiAgICogQHBhcmFtIG9wdHMgdGhlIG9wdGlvbnMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgc3RyZWFtLlxuICAgKi9cbiAgcHVibGlzaFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKFxuICAgIHNjcmVlblNoYXJlU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgICBvcHRzOiBQdWJsaXNoT3B0aW9ucyA9IHt9LFxuICApID0+IHtcbiAgICBpZiAoIXRoaXMuc2Z1Q2xpZW50KSB0aHJvdyBuZXcgRXJyb3IoYENhbGwgbm90IGpvaW5lZCB5ZXQuYCk7XG4gICAgLy8gam9pbmluZyBpcyBpbiBwcm9ncmVzcywgYW5kIHdlIHNob3VsZCB3YWl0IHVudGlsIHRoZSBjbGllbnQgaXMgcmVhZHlcbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC5qb2luVGFzaztcblxuICAgIGlmICghdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBwZXJtaXNzaW9uIHRvIHB1Ymxpc2ggc2NyZWVuIHNoYXJlJyk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgdGhyb3cgbmV3IEVycm9yKCdQdWJsaXNoZXIgaXMgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBbc2NyZWVuU2hhcmVUcmFja10gPSBzY3JlZW5TaGFyZVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgIGlmICghc2NyZWVuU2hhcmVUcmFjaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBpcyBubyBzY3JlZW4gc2hhcmUgdHJhY2sgaW4gdGhlIHN0cmVhbScpO1xuICAgIH1cblxuICAgIGlmICghdGhpcy50cmFja1B1Ymxpc2hPcmRlci5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFKSkge1xuICAgICAgdGhpcy50cmFja1B1Ymxpc2hPcmRlci5wdXNoKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoU3RyZWFtKFxuICAgICAgc2NyZWVuU2hhcmVTdHJlYW0sXG4gICAgICBzY3JlZW5TaGFyZVRyYWNrLFxuICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICAgIG9wdHMsXG4gICAgKTtcblxuICAgIGNvbnN0IFtzY3JlZW5TaGFyZUF1ZGlvVHJhY2tdID0gc2NyZWVuU2hhcmVTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKTtcbiAgICBpZiAoc2NyZWVuU2hhcmVBdWRpb1RyYWNrKSB7XG4gICAgICBpZiAoIXRoaXMudHJhY2tQdWJsaXNoT3JkZXIuaW5jbHVkZXMoVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTykpIHtcbiAgICAgICAgdGhpcy50cmFja1B1Ymxpc2hPcmRlci5wdXNoKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoZXIucHVibGlzaFN0cmVhbShcbiAgICAgICAgc2NyZWVuU2hhcmVTdHJlYW0sXG4gICAgICAgIHNjcmVlblNoYXJlQXVkaW9UcmFjayxcbiAgICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICAgICAgb3B0cyxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB0cmFjayB0eXBlIHRvIHRoZSBjYWxsLCBpZiBpdCBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKiBVbmRlcmx5aW5nIHRyYWNrIHdpbGwgYmUgc3RvcHBlZCBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBwdWJsaXNoZXIuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gc3RvcCBwdWJsaXNoaW5nLlxuICAgKiBAcGFyYW0gc3RvcFRyYWNrIGlmIGB0cnVlYCB0aGUgdHJhY2sgd2lsbCBiZSBzdG9wcGVkLCBlbHNlIGl0IHdpbGwgYmUganVzdCBkaXNhYmxlZFxuICAgKi9cbiAgc3RvcFB1Ymxpc2ggPSBhc3luYyAodHJhY2tUeXBlOiBUcmFja1R5cGUsIHN0b3BUcmFjazogYm9vbGVhbiA9IHRydWUpID0+IHtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICdpbmZvJyxcbiAgICAgIGBzdG9wUHVibGlzaCAke1RyYWNrVHlwZVt0cmFja1R5cGVdfSwgc3RvcCB0cmFja3M6ICR7c3RvcFRyYWNrfWAsXG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlcj8udW5wdWJsaXNoU3RyZWFtKHRyYWNrVHlwZSwgc3RvcFRyYWNrKTtcbiAgfTtcblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIFNGVSB0aGF0IGEgbm9pc2UgY2FuY2VsbGF0aW9uIHByb2Nlc3MgaGFzIHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZnVDbGllbnQ/LnN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gbm90aWZ5IHN0YXJ0IG9mIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIHRoZSBTRlUgdGhhdCBhIG5vaXNlIGNhbmNlbGxhdGlvbiBwcm9jZXNzIGhhcyBzdG9wcGVkLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZnVDbGllbnQ/LnN0b3BOb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBub3RpZnkgc3RvcCBvZiBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIGVuaGFuY2UgdGhlIHJlcG9ydGVkIHN0YXRzIHdpdGggYWRkaXRpb25hbCBwYXJ0aWNpcGFudC1zcGVjaWZpYyBpbmZvcm1hdGlvbiAoYGNhbGxTdGF0c1JlcG9ydCRgIHN0YXRlIFtzdG9yZSB2YXJpYWJsZV0oLi9TdHJlYW1WaWRlb0NsaWVudC5tZC8jcmVhZG9ubHlzdGF0ZXN0b3JlKSkuXG4gICAqIFRoaXMgaXMgdXN1YWxseSBoZWxwZnVsIHdoZW4gZGV0YWlsZWQgc3RhdHMgZm9yIGEgc3BlY2lmaWMgcGFydGljaXBhbnQgYXJlIG5lZWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHN0YXJ0IHJlcG9ydGluZyBmb3IuXG4gICAqL1xuICBzdGFydFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcihzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcHBvc2l0ZSBvZiBgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvcmAuXG4gICAqIFdpbGwgdHVybiBvZmYgc3RhdHMgcmVwb3J0aW5nIGZvciBhIHNwZWNpZmljIHBhcnRpY2lwYW50LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gc3RvcCByZXBvcnRpbmcgZm9yLlxuICAgKi9cbiAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdHNSZXBvcnRlcj8uc3RvcFJlcG9ydGluZ1N0YXRzRm9yKHNlc3Npb25JZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgbGFzdCBzZW50IHJlYWN0aW9uIGZvciB0aGUgdXNlciBob2xkaW5nIHRoZSBnaXZlbiBgc2Vzc2lvbklkYC4gVGhpcyBpcyBhIGxvY2FsIGFjdGlvbiwgaXQgd29uJ3QgcmVzZXQgdGhlIHJlYWN0aW9uIG9uIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgcmVzZXRSZWFjdGlvbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICByZWFjdGlvbjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIGNyaXRlcmlhIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cyBieS5cbiAgICpcbiAgICogQHBhcmFtIGNyaXRlcmlhIHRoZSBsaXN0IG9mIGNyaXRlcmlhIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cyBieS5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeTogQ2FsbFN0YXRlWydzZXRTb3J0UGFydGljaXBhbnRzQnknXSA9IChjcml0ZXJpYSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnNldFNvcnRQYXJ0aWNpcGFudHNCeShjcml0ZXJpYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGxpc3Qgb2YgdmlkZW8gbGF5ZXJzIHRvIHB1Ymxpc2guXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZW5hYmxlZExheWVycyB0aGUgbGlzdCBvZiBsYXllcnMgdG8gZW5hYmxlLlxuICAgKi9cbiAgdXBkYXRlUHVibGlzaFF1YWxpdHkgPSBhc3luYyAoZW5hYmxlZExheWVyczogVmlkZW9MYXllclNldHRpbmdbXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnB1Ymxpc2hlcj8udXBkYXRlVmlkZW9QdWJsaXNoUXVhbGl0eShlbmFibGVkTGF5ZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSByZWFjdGlvbiB0byB0aGUgb3RoZXIgY2FsbCBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSByZWFjdGlvbiB0aGUgcmVhY3Rpb24gdG8gc2VuZC5cbiAgICovXG4gIHNlbmRSZWFjdGlvbiA9IGFzeW5jIChcbiAgICByZWFjdGlvbjogU2VuZFJlYWN0aW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTZW5kUmVhY3Rpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFNlbmRSZWFjdGlvblJlc3BvbnNlLCBTZW5kUmVhY3Rpb25SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlYWN0aW9uYCxcbiAgICAgIHJlYWN0aW9uLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJsb2NrcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gYmxvY2suXG4gICAqL1xuICBibG9ja1VzZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxCbG9ja1VzZXJSZXNwb25zZSwgQmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ibG9ja2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5ibG9ja3MgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIHVuYmxvY2suXG4gICAqL1xuICB1bmJsb2NrVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFVuYmxvY2tVc2VyUmVzcG9uc2UsIFVuYmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91bmJsb2NrYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgY3VycmVudCB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlU2VsZiA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgY29uc3QgbXlVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgaWYgKG15VXNlcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdXRlVXNlcihteVVzZXJJZCwgdHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNdXRlcyBhbGwgdGhlIG90aGVyIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZU90aGVycyA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgY29uc3QgdHJhY2tUeXBlID0gbXV0ZVR5cGVUb1RyYWNrVHlwZSh0eXBlKTtcbiAgICBpZiAoIXRyYWNrVHlwZSkgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJJZHNUb011dGU6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiB0aGlzLnN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cykge1xuICAgICAgaWYgKHBhcnRpY2lwYW50LnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyh0cmFja1R5cGUpKSB7XG4gICAgICAgIHVzZXJJZHNUb011dGUucHVzaChwYXJ0aWNpcGFudC51c2VySWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VySWRzVG9NdXRlLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm11dGVVc2VyKHVzZXJJZHNUb011dGUsIHR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIG11dGUuXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVVc2VyID0gKHVzZXJJZDogc3RyaW5nIHwgc3RyaW5nW10sIHR5cGU6IFRyYWNrTXV0ZVR5cGUpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxNdXRlVXNlcnNSZXNwb25zZSwgTXV0ZVVzZXJzUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tdXRlX3VzZXJzYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZHM6IEFycmF5LmlzQXJyYXkodXNlcklkKSA/IHVzZXJJZCA6IFt1c2VySWRdLFxuICAgICAgICBbdHlwZV06IHRydWUsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgbXV0ZSBhbGwgdXNlcnMgaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVBbGxVc2VycyA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8TXV0ZVVzZXJzUmVzcG9uc2UsIE11dGVVc2Vyc1JlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbXV0ZV91c2Vyc2AsXG4gICAgICB7XG4gICAgICAgIG11dGVfYWxsX3VzZXJzOiB0cnVlLFxuICAgICAgICBbdHlwZV06IHRydWUsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyByZWNvcmRpbmcgdGhlIGNhbGxcbiAgICovXG4gIHN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKHJlcXVlc3Q/OiBTdGFydFJlY29yZGluZ1JlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UsXG4gICAgICBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXJ0X3JlY29yZGluZ2AsIHJlcXVlc3QgPyByZXF1ZXN0IDoge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyByZWNvcmRpbmcgdGhlIGNhbGxcbiAgICovXG4gIHN0b3BSZWNvcmRpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcFJlY29yZGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfcmVjb3JkaW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgdHJhbnNjcmlwdGlvbiBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICovXG4gIHN0YXJ0VHJhbnNjcmlwdGlvbiA9IGFzeW5jIChcbiAgICByZXF1ZXN0PzogU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gICAgICBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF90cmFuc2NyaXB0aW9uYCwgcmVxdWVzdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcFRyYW5zY3JpcHRpb24gPSBhc3luYyAoKTogUHJvbWlzZTxTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX3RyYW5zY3JpcHRpb25gLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgYGNhbGwucGVybWlzc2lvbl9yZXF1ZXN0YCBldmVudCB0byBhbGwgdXNlcnMgY29ubmVjdGVkIHRvIHRoZSBjYWxsLiBUaGUgY2FsbCBzZXR0aW5ncyBvYmplY3QgY29udGFpbnMgaW5mb21yYXRpb24gYWJvdXQgd2hpY2ggcGVybWlzc2lvbnMgY2FuIGJlIHJlcXVlc3RlZCBkdXJpbmcgYSBjYWxsIChmb3IgZXhhbXBsZSBhIHVzZXIgbWlnaHQgYmUgYWxsb3dlZCB0byByZXF1ZXN0IHBlcm1pc3Npb24gdG8gcHVibGlzaCBhdWRpbywgYnV0IG5vdCB2aWRlbykuXG4gICAqL1xuICByZXF1ZXN0UGVybWlzc2lvbnMgPSBhc3luYyAoXG4gICAgZGF0YTogUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0LFxuICApOiBQcm9taXNlPFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb25zIH0gPSBkYXRhO1xuICAgIGNvbnN0IGNhblJlcXVlc3RQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zLmV2ZXJ5KChwZXJtaXNzaW9uKSA9PlxuICAgICAgdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHkpLFxuICAgICk7XG4gICAgaWYgKCFjYW5SZXF1ZXN0UGVybWlzc2lvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBhcmUgbm90IGFsbG93ZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uczogJHtwZXJtaXNzaW9ucy5qb2luKCcsICcpfWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2UsXG4gICAgICBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlcXVlc3RfcGVybWlzc2lvbmAsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGdyYW50IGNlcnRhaW4gcGVybWlzc2lvbnMgdG8gYSB1c2VyIGluIGEgY2FsbC5cbiAgICogVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFN1cHBvcnRlZCBwZXJtaXNzaW9ucyB0aGF0IGNhbiBiZSBncmFudGVkIGFyZTpcbiAgICogLSBgc2VuZC1hdWRpb2BcbiAgICogLSBgc2VuZC12aWRlb2BcbiAgICogLSBgc2NyZWVuc2hhcmVgXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIGdyYW50IHBlcm1pc3Npb25zIHRvLlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIGdyYW50LlxuICAgKi9cbiAgZ3JhbnRQZXJtaXNzaW9ucyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgcGVybWlzc2lvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIGdyYW50X3Blcm1pc3Npb25zOiBwZXJtaXNzaW9ucyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byByZXZva2UgY2VydGFpbiBwZXJtaXNzaW9ucyBmcm9tIGEgdXNlciBpbiBhIGNhbGwuXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgcmV2b2tlZCBhcmU6XG4gICAqIC0gYHNlbmQtYXVkaW9gXG4gICAqIC0gYHNlbmQtdmlkZW9gXG4gICAqIC0gYHNjcmVlbnNoYXJlYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byByZXZva2UgcGVybWlzc2lvbnMgZnJvbS5cbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byByZXZva2UuXG4gICAqL1xuICByZXZva2VQZXJtaXNzaW9ucyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgcGVybWlzc2lvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIHJldm9rZV9wZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gZ3JhbnQgb3IgcmV2b2tlIGEgc3BlY2lmaWMgcGVybWlzc2lvbiB0byBhIHVzZXIgaW4gYSBjYWxsLiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogV2hlbiByZXZva2luZyBhIHBlcm1pc3Npb24sIHRoaXMgZW5kcG9pbnQgd2lsbCBhbHNvIG11dGUgdGhlIHJlbGV2YW50IHRyYWNrIGZyb20gdGhlIHVzZXIuIFRoaXMgaXMgc2ltaWxhciB0byBtdXRpbmcgYSB1c2VyIHdpdGggdGhlIGRpZmZlcmVuY2UgdGhhdCB0aGUgdXNlciB3aWxsIG5vdCBiZSBhYmxlIHRvIHVubXV0ZSBhZnRlcndhcmRzLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgZ3JhbnRlZCBvciByZXZva2VkOiBgc2VuZC1hdWRpb2AsIGBzZW5kLXZpZGVvYCBhbmQgYHNjcmVlbnNoYXJlYC5cbiAgICpcbiAgICogYGNhbGwucGVybWlzc2lvbnNfdXBkYXRlZGAgZXZlbnQgaXMgc2VudCB0byBhbGwgbWVtYmVycyBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICovXG4gIHVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IGFzeW5jIChkYXRhOiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZSxcbiAgICAgIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3VzZXJfcGVybWlzc2lvbnNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBsaXZlc3RyZWFtaW5nIG9mIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgcmVxdWVzdCBkYXRhLlxuICAgKiBAcGFyYW0gcGFyYW1zIHRoZSByZXF1ZXN0IHBhcmFtcy5cbiAgICovXG4gIGdvTGl2ZSA9IGFzeW5jIChkYXRhOiBHb0xpdmVSZXF1ZXN0ID0ge30sIHBhcmFtcz86IHsgbm90aWZ5PzogYm9vbGVhbiB9KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8R29MaXZlUmVzcG9uc2UsIEdvTGl2ZVJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZ29fbGl2ZWAsXG4gICAgICBkYXRhLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBsaXZlc3RyZWFtaW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcExpdmUgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcExpdmVSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX2xpdmVgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBicm9hZGNhc3Rpbmcgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBzdGFydEhMUyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXJ0X2Jyb2FkY2FzdGluZ2AsXG4gICAgICB7fSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcEhMUyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vc3RvcF9icm9hZGNhc3RpbmdgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzZXR0aW5ncyBvciBjdXN0b20gZGF0YS5cbiAgICpcbiAgICogQHBhcmFtIHVwZGF0ZXMgdGhlIHVwZGF0ZXMgdG8gYXBwbHkgdG8gdGhlIGNhbGwuXG4gICAqL1xuICB1cGRhdGUgPSBhc3luYyAodXBkYXRlczogVXBkYXRlQ2FsbFJlcXVlc3QpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBhdGNoPFxuICAgICAgVXBkYXRlQ2FsbFJlc3BvbnNlLFxuICAgICAgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9YCwgdXBkYXRlcyk7XG5cbiAgICBjb25zdCB7IGNhbGwsIG1lbWJlcnMsIG93bl9jYXBhYmlsaXRpZXMgfSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMobWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMob3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuZHMgdGhlIGNhbGwuIE9uY2UgdGhlIGNhbGwgaXMgZW5kZWQsIGl0IGNhbm5vdCBiZSByZS1qb2luZWQuXG4gICAqL1xuICBlbmRDYWxsID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEVuZENhbGxSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tYXJrX2VuZGVkYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQaW5zIHRoZSBnaXZlbiBzZXNzaW9uIHRvIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gcGluLlxuICAgKi9cbiAgcGluID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHBpbjoge1xuICAgICAgICBpc0xvY2FsUGluOiB0cnVlLFxuICAgICAgICBwaW5uZWRBdDogRGF0ZS5ub3coKSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uSWQgdG8gdW5waW4uXG4gICAqL1xuICB1bnBpbiA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7XG4gICAgICBwaW46IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogUGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiB0byB0aGUgdG9wIG9mIHRoZSBwYXJ0aWNpcGFudHMgbGlzdCBmb3IgZXZlcnlvbmVcbiAgICogaW4gdGhlIGNhbGwuXG4gICAqIFlvdSBjYW4gZXhlY3V0ZSB0aGlzIG1ldGhvZCBvbmx5IGlmIHlvdSBoYXZlIHRoZSBgcGluLWZvci1ldmVyeW9uZWAgY2FwYWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgcGluRm9yRXZlcnlvbmUgPSBhc3luYyAocmVxdWVzdDogUGluUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFBpblJlc3BvbnNlLCBQaW5SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3BpbmAsXG4gICAgICByZXF1ZXN0LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucGlucyB0aGUgZ2l2ZW4gc2Vzc2lvbiBmcm9tIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0IGZvciBldmVyeW9uZVxuICAgKiBpbiB0aGUgY2FsbC5cbiAgICogWW91IGNhbiBleGVjdXRlIHRoaXMgbWV0aG9kIG9ubHkgaWYgeW91IGhhdmUgdGhlIGBwaW4tZm9yLWV2ZXJ5b25lYCBjYXBhYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICB1bnBpbkZvckV2ZXJ5b25lID0gYXN5bmMgKHJlcXVlc3Q6IFVucGluUmVxdWVzdCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFVucGluUmVzcG9uc2UsIFVucGluUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91bnBpbmAsXG4gICAgICByZXF1ZXN0LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFF1ZXJ5IGNhbGwgbWVtYmVycyB3aXRoIGZpbHRlciBxdWVyeS4gVGhlIHJlc3VsdCB3b24ndCBiZSBzdG9yZWQgaW4gY2FsbCBzdGF0ZS5cbiAgICogQHBhcmFtIHJlcXVlc3RcbiAgICogQHJldHVybnNcbiAgICovXG4gIHF1ZXJ5TWVtYmVycyA9IChyZXF1ZXN0PzogT21pdDxRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdCwgJ3R5cGUnIHwgJ2lkJz4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAgPignL2NhbGwvbWVtYmVycycsIHtcbiAgICAgIC4uLihyZXF1ZXN0IHx8IHt9KSxcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHVwZGF0ZSB0aGUgY2FsbCBtZW1iZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgcmVxdWVzdCBkYXRhLlxuICAgKi9cbiAgdXBkYXRlQ2FsbE1lbWJlcnMgPSBhc3luYyAoXG4gICAgZGF0YTogVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0LFxuICApOiBQcm9taXNlPFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gICAgICBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L21lbWJlcnNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU2NoZWR1bGVzIGFuIGF1dG8tZHJvcCB0aW1lb3V0IGJhc2VkIG9uIHRoZSBjYWxsIHNldHRpbmdzLlxuICAgKiBBcHBsaWNhYmxlIG9ubHkgZm9yIHJpbmdpbmcgY2FsbHMuXG4gICAqL1xuICBwcml2YXRlIHNjaGVkdWxlQXV0b0Ryb3AgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuZHJvcFRpbWVvdXQpO1xuICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuO1xuICAgICAgICAvLyBpZ25vcmUgaWYgdGhlIGNhbGwgaXMgbm90IHJpbmdpbmdcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IHRpbWVvdXRJbk1zID0gc2V0dGluZ3MucmluZy5hdXRvX2NhbmNlbF90aW1lb3V0X21zO1xuICAgICAgICAvLyAwIG1lYW5zIG5vIGF1dG8tZHJvcFxuICAgICAgICBpZiAodGltZW91dEluTXMgPD0gMCkgcmV0dXJuO1xuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRyb3BUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5kcm9wVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMubGVhdmUoeyByZWFzb246ICdyaW5nOiB0aW1lb3V0JyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGRyb3AgY2FsbCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIHRpbWVvdXRJbk1zKTtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiByZWNvcmRpbmdzIGZvciB0aGUgY3VycmVudCBjYWxsIG9yIGNhbGwgc2Vzc2lvbi5cbiAgICpcbiAgICogSWYgYGNhbGxTZXNzaW9uSWRgIGlzIHByb3ZpZGVkLCBpdCB3aWxsIHJldHVybiB0aGUgcmVjb3JkaW5ncyBmb3IgdGhhdCBjYWxsIHNlc3Npb24uXG4gICAqIE90aGVyd2lzZSwgYWxsIHJlY29yZGluZ3MgZm9yIHRoZSBjdXJyZW50IGNhbGwgd2lsbCBiZSByZXR1cm5lZC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxTZXNzaW9uSWQgdGhlIGNhbGwgc2Vzc2lvbiBpZCB0byByZXRyaWV2ZSByZWNvcmRpbmdzIGZvci5cbiAgICovXG4gIHF1ZXJ5UmVjb3JkaW5ncyA9IGFzeW5jIChcbiAgICBjYWxsU2Vzc2lvbklkPzogc3RyaW5nLFxuICApOiBQcm9taXNlPExpc3RSZWNvcmRpbmdzUmVzcG9uc2U+ID0+IHtcbiAgICBsZXQgZW5kcG9pbnQgPSB0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoO1xuICAgIGlmIChjYWxsU2Vzc2lvbklkKSB7XG4gICAgICBlbmRwb2ludCA9IGAke2VuZHBvaW50fS8ke2NhbGxTZXNzaW9uSWR9YDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPihcbiAgICAgIGAke2VuZHBvaW50fS9yZWNvcmRpbmdzYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGxpc3Qgb2YgdHJhbnNjcmlwdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEByZXR1cm5zIHRoZSBsaXN0IG9mIHRyYW5zY3JpcHRpb25zLlxuICAgKi9cbiAgcXVlcnlUcmFuc2NyaXB0aW9ucyA9IGFzeW5jICgpOiBQcm9taXNlPExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxMaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS90cmFuc2NyaXB0aW9uc2AsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmUgY2FsbCBzdGF0aXN0aWNzIGZvciBhIHBhcnRpY3VsYXIgY2FsbCBzZXNzaW9uIChoaXN0b3JpY2FsKS5cbiAgICogSGVyZSBgY2FsbFNlc3Npb25JRGAgaXMgbWFuZGF0b3J5LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFNlc3Npb25JRCB0aGUgY2FsbCBzZXNzaW9uIElEIHRvIHJldHJpZXZlIHN0YXRpc3RpY3MgZm9yLlxuICAgKiBAcmV0dXJucyBUaGUgY2FsbCBzdGF0cy5cbiAgICovXG4gIGdldENhbGxTdGF0cyA9IGFzeW5jIChjYWxsU2Vzc2lvbklEOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXRzLyR7Y2FsbFNlc3Npb25JRH1gO1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0Q2FsbFN0YXRzUmVzcG9uc2U+KGVuZHBvaW50KTtcbiAgfTtcblxuICAvKipcbiAgICogU3VibWl0IHVzZXIgZmVlZGJhY2sgZm9yIHRoZSBjYWxsXG4gICAqXG4gICAqIEBwYXJhbSByYXRpbmcgUmF0aW5nIGJldHdlZW4gMSBhbmQgNSBkZW5vdGluZyB0aGUgZXhwZXJpZW5jZSBvZiB0aGUgdXNlciBpbiB0aGUgY2FsbFxuICAgKiBAcGFyYW0gcmVhc29uIFRoZSByZWFzb24vZGVzY3JpcHRpb24gZm9yIHRoZSByYXRpbmdcbiAgICogQHBhcmFtIGN1c3RvbSBDdXN0b20gZGF0YVxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgc3VibWl0RmVlZGJhY2sgPSBhc3luYyAoXG4gICAgcmF0aW5nOiBudW1iZXIsXG4gICAge1xuICAgICAgcmVhc29uLFxuICAgICAgY3VzdG9tLFxuICAgIH06IHtcbiAgICAgIHJlYXNvbj86IHN0cmluZztcbiAgICAgIGN1c3RvbT86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gICAgfSA9IHt9LFxuICApID0+IHtcbiAgICBpZiAocmF0aW5nIDwgMSB8fCByYXRpbmcgPiA1KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JhdGluZyBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNScpO1xuICAgIH1cbiAgICBjb25zdCBjYWxsU2Vzc2lvbklkID0gdGhpcy5zdGF0ZS5zZXNzaW9uPy5pZDtcbiAgICBpZiAoIWNhbGxTZXNzaW9uSWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0ZlZWRiYWNrIGNhbiBiZSBzdWJtaXR0ZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIGNhbGwgc2Vzc2lvbicsXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHsgc2RrTmFtZSwgc2RrVmVyc2lvbiwgLi4ucGxhdGZvcm0gfSA9XG4gICAgICBnZXRTZGtTaWduYXR1cmUoZ2V0Q2xpZW50RGV0YWlscygpKTtcblxuICAgIC8vIHVzZXIgc2Vzc2lvbklkIGlzIG5vdCBhdmFpbGFibGUgb25jZSB0aGUgY2FsbCBoYXMgYmVlbiBsZWZ0XG4gICAgLy8gdW50aWwgd2UgcmVsYXggdGhlIGJhY2tlbmQgdmFsaWRhdGlvbiwgd2UnbGwgc2VuZCBOL0FcbiAgICBjb25zdCB1c2VyU2Vzc2lvbklkID0gdGhpcy5zZnVDbGllbnQ/LnNlc3Npb25JZCA/PyAnTi9BJztcbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2ZlZWRiYWNrLyR7Y2FsbFNlc3Npb25JZH1gO1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlLFxuICAgICAgQ29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3RcbiAgICA+KGVuZHBvaW50LCB7XG4gICAgICByYXRpbmcsXG4gICAgICByZWFzb24sXG4gICAgICB1c2VyX3Nlc3Npb25faWQ6IHVzZXJTZXNzaW9uSWQsXG4gICAgICBzZGs6IHNka05hbWUsXG4gICAgICBzZGtfdmVyc2lvbjogc2RrVmVyc2lvbixcbiAgICAgIGN1c3RvbToge1xuICAgICAgICAuLi5jdXN0b20sXG4gICAgICAgICd4LXN0cmVhbS1wbGF0Zm9ybS1kYXRhJzogcGxhdGZvcm0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGN1c3RvbSBldmVudCB0byBhbGwgY2FsbCBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXlsb2FkIHRoZSBwYXlsb2FkIHRvIHNlbmQuXG4gICAqL1xuICBzZW5kQ3VzdG9tRXZlbnQgPSBhc3luYyAocGF5bG9hZDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFNlbmRDYWxsRXZlbnRSZXNwb25zZSwgU2VuZENhbGxFdmVudFJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZXZlbnRgLFxuICAgICAgeyBjdXN0b206IHBheWxvYWQgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBkZXZpY2UgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFwcGx5RGV2aWNlQ29uZmlnID0gYXN5bmMgKHN0YXR1czogYm9vbGVhbikgPT4ge1xuICAgIGF3YWl0IHRoaXMuaW5pdENhbWVyYSh7IHNldFN0YXR1czogc3RhdHVzIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0NhbWVyYSBpbml0IGZhaWxlZCcsIGVycik7XG4gICAgfSk7XG4gICAgYXdhaXQgdGhpcy5pbml0TWljKHsgc2V0U3RhdHVzOiBzdGF0dXMgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnTWljIGluaXQgZmFpbGVkJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIGluaXRDYW1lcmEgPSBhc3luYyAob3B0aW9uczogeyBzZXRTdGF0dXM6IGJvb2xlYW4gfSkgPT4ge1xuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBjYW1lcmEgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5jYW1lcmEuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py52aWRlb1N0cmVhbSB8fFxuICAgICAgIXRoaXMucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oJ3NlbmQtdmlkZW8nKVxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNldCBjYW1lcmEgZGlyZWN0aW9uIGlmIGl0J3Mgbm90IHlldCBzZXRcbiAgICBpZiAoIXRoaXMuY2FtZXJhLnN0YXRlLmRpcmVjdGlvbiAmJiAhdGhpcy5jYW1lcmEuc3RhdGUuc2VsZWN0ZWREZXZpY2UpIHtcbiAgICAgIGxldCBkZWZhdWx0RGlyZWN0aW9uOiBDYW1lcmFEaXJlY3Rpb24gPSAnZnJvbnQnO1xuICAgICAgY29uc3QgYmFja2VuZFNldHRpbmcgPSB0aGlzLnN0YXRlLnNldHRpbmdzPy52aWRlby5jYW1lcmFfZmFjaW5nO1xuICAgICAgaWYgKGJhY2tlbmRTZXR0aW5nKSB7XG4gICAgICAgIGRlZmF1bHREaXJlY3Rpb24gPSBiYWNrZW5kU2V0dGluZyA9PT0gJ2Zyb250JyA/ICdmcm9udCcgOiAnYmFjayc7XG4gICAgICB9XG4gICAgICB0aGlzLmNhbWVyYS5zdGF0ZS5zZXREaXJlY3Rpb24oZGVmYXVsdERpcmVjdGlvbik7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRhcmdldCByZXNvbHV0aW9uXG4gICAgY29uc3QgdGFyZ2V0UmVzb2x1dGlvbiA9IHRoaXMuc3RhdGUuc2V0dGluZ3M/LnZpZGVvLnRhcmdldF9yZXNvbHV0aW9uO1xuICAgIGlmICh0YXJnZXRSZXNvbHV0aW9uKSB7XG4gICAgICBhd2FpdCB0aGlzLmNhbWVyYS5zZWxlY3RUYXJnZXRSZXNvbHV0aW9uKHRhcmdldFJlc29sdXRpb24pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnNldFN0YXR1cykge1xuICAgICAgLy8gUHVibGlzaCBhbHJlYWR5IHRoYXQgd2FzIHNldCBiZWZvcmUgd2Ugam9pbmVkXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuY2FtZXJhLmVuYWJsZWQgJiZcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgICAgIXRoaXMucHVibGlzaGVyPy5pc1B1Ymxpc2hpbmcoVHJhY2tUeXBlLlZJREVPKVxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaFZpZGVvU3RyZWFtKFxuICAgICAgICAgIHRoaXMuY2FtZXJhLnN0YXRlLm1lZGlhU3RyZWFtLFxuICAgICAgICAgIHRoaXMuY2FtZXJhLnB1Ymxpc2hPcHRpb25zLFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICAvLyBTdGFydCBjYW1lcmEgaWYgYmFja2VuZCBjb25maWcgc3BlY2lmaWVzLCBhbmQgdGhlcmUgaXMgbm8gbG9jYWwgc2V0dGluZ1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmNhbWVyYS5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0aGlzLnN0YXRlLnNldHRpbmdzPy52aWRlby5jYW1lcmFfZGVmYXVsdF9vblxuICAgICAgKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY2FtZXJhLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGluaXRNaWMgPSBhc3luYyAob3B0aW9uczogeyBzZXRTdGF0dXM6IGJvb2xlYW4gfSkgPT4ge1xuICAgIC8vIFdhaXQgZm9yIGFueSBpbiBwcm9ncmVzcyBtaWMgb3BlcmF0aW9uXG4gICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubG9jYWxQYXJ0aWNpcGFudD8uYXVkaW9TdHJlYW0gfHxcbiAgICAgICF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKCdzZW5kLWF1ZGlvJylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAob3B0aW9ucy5zZXRTdGF0dXMpIHtcbiAgICAgIC8vIFB1Ymxpc2ggbWVkaWEgc3RyZWFtIHRoYXQgd2FzIHNldCBiZWZvcmUgd2Ugam9pbmVkXG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5lbmFibGVkICYmXG4gICAgICAgIHRoaXMubWljcm9waG9uZS5zdGF0ZS5tZWRpYVN0cmVhbSAmJlxuICAgICAgICAhdGhpcy5wdWJsaXNoZXI/LmlzUHVibGlzaGluZyhUcmFja1R5cGUuQVVESU8pXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wdWJsaXNoQXVkaW9TdHJlYW0odGhpcy5taWNyb3Bob25lLnN0YXRlLm1lZGlhU3RyZWFtKTtcbiAgICAgIH1cblxuICAgICAgLy8gU3RhcnQgbWljIGlmIGJhY2tlbmQgY29uZmlnIHNwZWNpZmllcywgYW5kIHRoZXJlIGlzIG5vIGxvY2FsIHNldHRpbmdcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5taWNyb3Bob25lLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHRoaXMuc3RhdGUuc2V0dGluZ3M/LmF1ZGlvLm1pY19kZWZhdWx0X29uXG4gICAgICApIHtcbiAgICAgICAgYXdhaXQgdGhpcy5taWNyb3Bob25lLmVuYWJsZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBiZWdpbiB0cmFja2luZyB0aGUgZ2l2ZW4gZWxlbWVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VzIHdpdGhpbiB0aGVcbiAgICogY29uZmlndXJlZCB2aWV3cG9ydCBlbGVtZW50IChgY2FsbC5zZXRWaWV3cG9ydGApLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byB0cmFjay5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUgdmlkZW8gbW9kZS5cbiAgICovXG4gIHRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgICBlbGVtZW50OiBULFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmR5bmFzY2FsZU1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eShcbiAgICAgIGVsZW1lbnQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU2V0cyB0aGUgdmlld3BvcnQgZWxlbWVudCB0byB0cmFjayBib3VuZCB2aWRlbyBlbGVtZW50cyBmb3IgdmlzaWJpbGl0eS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIHZpZXdwb3J0IGVsZW1lbnQuXG4gICAqL1xuICBzZXRWaWV3cG9ydCA9IDxUIGV4dGVuZHMgSFRNTEVsZW1lbnQ+KGVsZW1lbnQ6IFQpID0+IHtcbiAgICByZXR1cm4gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZXdwb3J0KGVsZW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8dmlkZW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBwbGF5XG4gICAqIHRoZSBjb3JyZWN0IHZpZGVvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFVuZGVyIHRoZSBob29kLCBpdCB3b3VsZCBhbHNvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICAgKiBhbmQgdXBkYXRlIHRoZSBzdWJzY3JpcHRpb24gYWNjb3JkaW5nbHkgaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aC5cbiAgICpcbiAgICogSWYgYSBcInZpZXdwb3J0XCIgaXMgY29uZmlndXJlZCwgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAqIHRyYWNrZWQgZm9yIHZpc2liaWxpdHkgYW5kIHRoZSBzdWJzY3JpcHRpb24gd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdmlkZW9FbGVtZW50IHRoZSB2aWRlbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqL1xuICBiaW5kVmlkZW9FbGVtZW50ID0gKFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZFZpZGVvRWxlbWVudChcbiAgICAgIHZpZGVvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGF1ZGlvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSBhdWRpbyBlbGVtZW50IHdpbGxcbiAgICogcGxheSB0aGUgY29ycmVjdCBhdWRpbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0gYXVkaW9FbGVtZW50IHRoZSBhdWRpbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgYXVkaW8uXG4gICAqL1xuICBiaW5kQXVkaW9FbGVtZW50ID0gKFxuICAgIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IEF1ZGlvVHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLFxuICApID0+IHtcbiAgICBjb25zdCB1bmJpbmQgPSB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuYmluZEF1ZGlvRWxlbWVudChcbiAgICAgIGF1ZGlvRWxlbWVudCxcbiAgICAgIHNlc3Npb25JZCxcbiAgICAgIHRyYWNrVHlwZSxcbiAgICApO1xuXG4gICAgaWYgKCF1bmJpbmQpIHJldHVybjtcbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZCh1bmJpbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmRlbGV0ZSh1bmJpbmQpO1xuICAgICAgdW5iaW5kKCk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPGltZz4gZWxlbWVudCB0byB0aGlzIGNhbGwncyB0aHVtYm5haWwgKGlmIGVuYWJsZWQgaW4gc2V0dGluZ3MpLlxuICAgKlxuICAgKiBAcGFyYW0gaW1hZ2VFbGVtZW50IHRoZSBpbWFnZSBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBvcHRzIG9wdGlvbnMgZm9yIHRoZSBiaW5kaW5nLlxuICAgKi9cbiAgYmluZENhbGxUaHVtYm5haWxFbGVtZW50ID0gKFxuICAgIGltYWdlRWxlbWVudDogSFRNTEltYWdlRWxlbWVudCxcbiAgICBvcHRzOiB7XG4gICAgICBmYWxsYmFja0ltYWdlU291cmNlPzogc3RyaW5nO1xuICAgIH0gPSB7fSxcbiAgKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlRXJyb3IgPSAoKSA9PiB7XG4gICAgICBpbWFnZUVsZW1lbnQuc3JjID1cbiAgICAgICAgb3B0cy5mYWxsYmFja0ltYWdlU291cmNlIHx8XG4gICAgICAgICdodHRwczovL2dldHN0cmVhbS5pby9yYW5kb21fc3ZnLz9uYW1lPXgmaWQ9eCc7XG4gICAgfTtcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gY3JlYXRlU3Vic2NyaXB0aW9uKFxuICAgICAgdGhpcy5zdGF0ZS50aHVtYm5haWxzJCxcbiAgICAgICh0aHVtYm5haWxzKSA9PiB7XG4gICAgICAgIGlmICghdGh1bWJuYWlscykgcmV0dXJuO1xuICAgICAgICBpbWFnZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG5cbiAgICAgICAgY29uc3QgdGh1bWJuYWlsVXJsID0gbmV3IFVSTCh0aHVtYm5haWxzLmltYWdlX3VybCk7XG4gICAgICAgIHRodW1ibmFpbFVybC5zZWFyY2hQYXJhbXMuc2V0KCd3JywgU3RyaW5nKGltYWdlRWxlbWVudC5jbGllbnRXaWR0aCkpO1xuICAgICAgICB0aHVtYm5haWxVcmwuc2VhcmNoUGFyYW1zLnNldCgnaCcsIFN0cmluZyhpbWFnZUVsZW1lbnQuY2xpZW50SGVpZ2h0KSk7XG5cbiAgICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9IHRodW1ibmFpbFVybC50b1N0cmluZygpO1xuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICBpbWFnZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBoYW5kbGVFcnJvcik7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogU3BlY2lmeSBwcmVmZXJlbmNlIGZvciBpbmNvbWluZyB2aWRlbyByZXNvbHV0aW9uLiBUaGUgcHJlZmVyZW5jZSB3aWxsXG4gICAqIGJlIG1hdGNoZWQgYXMgY2xvc2UgYXMgcG9zc2libGUsIGJ1dCBhY3R1YWwgcmVzb2x1dGlvbiB3aWxsIGRlcGVuZFxuICAgKiBvbiB0aGUgdmlkZW8gc291cmNlIHF1YWxpdHkgYW5kIGNsaWVudCBuZXR3b3JrIGNvbmRpdGlvbnMuIFdpbGwgZW5hYmxlXG4gICAqIGluY29taW5nIHZpZGVvLCBpZiBwcmV2aW91c2x5IGRpc2FibGVkLlxuICAgKlxuICAgKiBAcGFyYW0gcmVzb2x1dGlvbiBwcmVmZXJyZWQgcmVzb2x1dGlvbiwgb3IgYHVuZGVmaW5lZGAgdG8gY2xlYXIgcHJlZmVyZW5jZVxuICAgKiBAcGFyYW0gc2Vzc2lvbklkcyBvcHRpb25hbGx5IHNwZWNpZnkgc2Vzc2lvbiBpZHMgb2YgdGhlIHBhcnRpY2lwYW50cyB0aGlzXG4gICAqIHByZWZlcmVuY2UgaGFzIGVmZmVjdCBvbi4gQWZmZWN0cyBhbGwgcGFydGljaXBhbnRzIGJ5IGRlZmF1bHQuXG4gICAqL1xuICBzZXRQcmVmZXJyZWRJbmNvbWluZ1ZpZGVvUmVzb2x1dGlvbiA9IChcbiAgICByZXNvbHV0aW9uOiBWaWRlb1Jlc29sdXRpb24gfCB1bmRlZmluZWQsXG4gICAgc2Vzc2lvbklkcz86IHN0cmluZ1tdLFxuICApID0+IHtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyhcbiAgICAgIHJlc29sdXRpb25cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGltZW5zaW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzZXNzaW9uSWRzLFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgaW5jb21pbmcgdmlkZW8gZnJvbSBhbGwgcmVtb3RlIGNhbGwgcGFydGljaXBhbnRzLFxuICAgKiBhbmQgcmVtb3ZlcyBhbnkgcHJlZmVyZW5jZSBmb3IgcHJlZmVycmVkIHJlc29sdXRpb24uXG4gICAqL1xuICBzZXRJbmNvbWluZ1ZpZGVvRW5hYmxlZCA9IChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoXG4gICAgICBlbmFibGVkID8gdW5kZWZpbmVkIDogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG59XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgU3RhYmxlV1NDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7IHJhbmRvbUlkLCBzbGVlcCB9IGZyb20gJy4vdXRpbHMnO1xuXG5leHBvcnQgdHlwZSBJbnNpZ2h0VHlwZXMgPVxuICB8ICd3c19mYXRhbCdcbiAgfCAnd3Nfc3VjY2Vzc19hZnRlcl9mYWlsdXJlJ1xuICB8ICdodHRwX2hpX2ZhaWxlZCc7XG5leHBvcnQgY2xhc3MgSW5zaWdodE1ldHJpY3Mge1xuICBjb25uZWN0aW9uU3RhcnRUaW1lc3RhbXA6IG51bWJlciB8IG51bGw7XG4gIHdzQ29uc2VjdXRpdmVGYWlsdXJlczogbnVtYmVyO1xuICB3c1RvdGFsRmFpbHVyZXM6IG51bWJlcjtcbiAgaW5zdGFuY2VDbGllbnRJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY29ubmVjdGlvblN0YXJ0VGltZXN0YW1wID0gbnVsbDtcbiAgICB0aGlzLndzVG90YWxGYWlsdXJlcyA9IDA7XG4gICAgdGhpcy53c0NvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIHRoaXMuaW5zdGFuY2VDbGllbnRJZCA9IHJhbmRvbUlkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBwb3N0SW5zaWdodHMgaXMgbm90IHN1cHBvc2VkIHRvIGJlIHVzZWQgYnkgZW5kIHVzZXJzIGRpcmVjdGx5IHdpdGhpbiBjaGF0IGFwcGxpY2F0aW9uLCBhbmQgdGh1cyBpcyBrZXB0IGlzb2xhdGVkXG4gKiBmcm9tIGFsbCB0aGUgY2xpZW50L2Nvbm5lY3Rpb24gY29kZS9sb2dpYy5cbiAqXG4gKiBAcGFyYW0gaW5zaWdodFR5cGVcbiAqIEBwYXJhbSBpbnNpZ2h0c1xuICovXG5leHBvcnQgY29uc3QgcG9zdEluc2lnaHRzID0gYXN5bmMgKFxuICBpbnNpZ2h0VHlwZTogSW5zaWdodFR5cGVzLFxuICBpbnNpZ2h0czogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pID0+IHtcbiAgY29uc3QgbWF4QXR0ZW1wdHMgPSAzO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEF0dGVtcHRzOyBpKyspIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYXhpb3MucG9zdChcbiAgICAgICAgYGh0dHBzOi8vY2hhdC1pbnNpZ2h0cy5nZXRzdHJlYW0uaW8vaW5zaWdodHMvJHtpbnNpZ2h0VHlwZX1gLFxuICAgICAgICBpbnNpZ2h0cyxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYXdhaXQgc2xlZXAoKGkgKyAxKSAqIDMwMDApO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGJyZWFrO1xuICB9XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRXc0ZhdGFsSW5zaWdodChcbiAgY29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uLFxuICBldmVudDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pIHtcbiAgcmV0dXJuIHtcbiAgICAuLi5ldmVudCxcbiAgICAuLi5idWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbiksXG4gIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV3NCYXNlSW5zaWdodChjb25uZWN0aW9uOiBTdGFibGVXU0Nvbm5lY3Rpb24pIHtcbiAgY29uc3QgeyBjbGllbnQgfSA9IGNvbm5lY3Rpb247XG4gIHJldHVybiB7XG4gICAgcmVhZHlfc3RhdGU6IGNvbm5lY3Rpb24ud3M/LnJlYWR5U3RhdGUsXG4gICAgdXJsOiBjb25uZWN0aW9uLl9idWlsZFVybCgpLFxuICAgIGFwaV9rZXk6IGNsaWVudC5rZXksXG4gICAgc3RhcnRfdHM6IGNsaWVudC5pbnNpZ2h0TWV0cmljcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAsXG4gICAgZW5kX3RzOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICBhdXRoX3R5cGU6IGNsaWVudC5nZXRBdXRoVHlwZSgpLFxuICAgIHRva2VuOiBjbGllbnQudG9rZW5NYW5hZ2VyLnRva2VuLFxuICAgIHVzZXJfaWQ6IGNsaWVudC51c2VySUQsXG4gICAgdXNlcl9kZXRhaWxzOiBjbGllbnQuX3VzZXIsXG4gICAgLy8gZGV2aWNlOiBjbGllbnQub3B0aW9ucy5kZXZpY2UsXG4gICAgZGV2aWNlOiAnYnJvd3NlcicsXG4gICAgY2xpZW50X2lkOiBjb25uZWN0aW9uLmNvbm5lY3Rpb25JRCxcbiAgICB3c19kZXRhaWxzOiBjb25uZWN0aW9uLndzLFxuICAgIHdzX2NvbnNlY3V0aXZlX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NDb25zZWN1dGl2ZUZhaWx1cmVzLFxuICAgIHdzX3RvdGFsX2ZhaWx1cmVzOiBjbGllbnQuaW5zaWdodE1ldHJpY3Mud3NUb3RhbEZhaWx1cmVzLFxuICAgIHJlcXVlc3RfaWQ6IGNvbm5lY3Rpb24ucmVxdWVzdElELFxuICAgIG9ubGluZTogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3I/Lm9uTGluZSA6IG51bGwsXG4gICAgdXNlcl9hZ2VudDogdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgPyBuYXZpZ2F0b3I/LnVzZXJBZ2VudCA6IG51bGwsXG4gICAgaW5zdGFuY2VfY2xpZW50X2lkOiBjbGllbnQuaW5zaWdodE1ldHJpY3MuaW5zdGFuY2VDbGllbnRJZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodChcbiAgY29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uLFxuKSB7XG4gIHJldHVybiBidWlsZFdzQmFzZUluc2lnaHQoY29ubmVjdGlvbik7XG59XG4iLCJpbXBvcnQgV2ViU29ja2V0IGZyb20gJ2lzb21vcnBoaWMtd3MnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgYnVpbGRXc0ZhdGFsSW5zaWdodCxcbiAgYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0LFxuICBwb3N0SW5zaWdodHMsXG59IGZyb20gJy4vaW5zaWdodHMnO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBjb252ZXJ0RXJyb3JUb0pzb24sXG4gIGlzUHJvbWlzZVBlbmRpbmcsXG4gIEtub3duQ29kZXMsXG4gIHJhbmRvbUlkLFxuICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHtcbiAgQ29ubmVjdEFQSVJlc3BvbnNlLFxuICBMb2dMZXZlbCxcbiAgU3RyZWFtVmlkZW9FdmVudCxcbiAgVVIsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBDb25uZWN0ZWRFdmVudCwgV1NBdXRoTWVzc2FnZSB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbi8vIFR5cGUgZ3VhcmRzIHRvIGNoZWNrIFdlYlNvY2tldCBlcnJvciB0eXBlXG5jb25zdCBpc0Nsb3NlRXZlbnQgPSAoXG4gIHJlczogV2ViU29ja2V0LkNsb3NlRXZlbnQgfCBXZWJTb2NrZXQuRGF0YSB8IFdlYlNvY2tldC5FcnJvckV2ZW50LFxuKTogcmVzIGlzIFdlYlNvY2tldC5DbG9zZUV2ZW50ID0+XG4gIChyZXMgYXMgV2ViU29ja2V0LkNsb3NlRXZlbnQpLmNvZGUgIT09IHVuZGVmaW5lZDtcblxuY29uc3QgaXNFcnJvckV2ZW50ID0gKFxuICByZXM6IFdlYlNvY2tldC5DbG9zZUV2ZW50IHwgV2ViU29ja2V0LkRhdGEgfCBXZWJTb2NrZXQuRXJyb3JFdmVudCxcbik6IHJlcyBpcyBXZWJTb2NrZXQuRXJyb3JFdmVudCA9PlxuICAocmVzIGFzIFdlYlNvY2tldC5FcnJvckV2ZW50KS5lcnJvciAhPT0gdW5kZWZpbmVkO1xuXG4vKipcbiAqIFN0YWJsZVdTQ29ubmVjdGlvbiAtIEEgV1MgY29ubmVjdGlvbiB0aGF0IHJlY29ubmVjdHMgdXBvbiBmYWlsdXJlLlxuICogLSB0aGUgYnJvd3NlciB3aWxsIHNvbWV0aW1lcyByZXBvcnQgdGhhdCB5b3UncmUgb25saW5lIG9yIG9mZmxpbmVcbiAqIC0gdGhlIFdTIGNvbm5lY3Rpb24gY2FuIGJyZWFrIGFuZCBmYWlsICh0aGVyZSBpcyBhIDMwcyBoZWFsdGggY2hlY2spXG4gKiAtIHNvbWV0aW1lcyB5b3VyIFdTIGNvbm5lY3Rpb24gd2lsbCBzZWVtIHRvIHdvcmsgd2hpbGUgdGhlIHVzZXIgaXMgaW4gZmFjdCBvZmZsaW5lXG4gKiAtIHRvIHNwZWVkIHVwIG9ubGluZS9vZmZsaW5lIGRldGVjdGlvbiB5b3UgY2FuIHVzZSB0aGUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnKTtcbiAqXG4gKiBUaGVyZSBhcmUgNCB3YXlzIGluIHdoaWNoIGEgY29ubmVjdGlvbiBjYW4gYmVjb21lIHVuaGVhbHRoeTpcbiAqIC0gd2Vic29ja2V0Lm9uZXJyb3IgaXMgY2FsbGVkXG4gKiAtIHdlYnNvY2tldC5vbmNsb3NlIGlzIGNhbGxlZFxuICogLSB0aGUgaGVhbHRoIGNoZWNrIGZhaWxzIGFuZCBubyBldmVudCBpcyByZWNlaXZlZCBmb3IgfjQwIHNlY29uZHNcbiAqIC0gdGhlIGJyb3dzZXIgaW5kaWNhdGVzIHRoZSBjb25uZWN0aW9uIGlzIG5vdyBvZmZsaW5lXG4gKlxuICogVGhlcmUgYXJlIDIgYXNzdW1wdGlvbnMgd2UgbWFrZSBhYm91dCB0aGUgc2VydmVyOlxuICogLSBzdGF0ZSBjYW4gYmUgcmVjb3ZlcmVkIGJ5IHF1ZXJ5aW5nIHRoZSBjaGFubmVsIGFnYWluXG4gKiAtIGlmIHRoZSBzZXJ2ZXJzIGZhaWxzIHRvIHB1Ymxpc2ggYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQsIHRoZSBXUyBjb25uZWN0aW9uIGlzIGRlc3Ryb3llZFxuICovXG5leHBvcnQgY2xhc3MgU3RhYmxlV1NDb25uZWN0aW9uIHtcbiAgLy8gbG9jYWwgdmFyc1xuICBjb25uZWN0aW9uSUQ/OiBzdHJpbmc7XG4gIGNvbm5lY3Rpb25PcGVuPzogQ29ubmVjdEFQSVJlc3BvbnNlO1xuICBhdXRoZW50aWNhdGlvblNlbnQ6IGJvb2xlYW47XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgcGluZ0ludGVydmFsOiBudW1iZXI7XG4gIGhlYWx0aENoZWNrVGltZW91dFJlZj86IE5vZGVKUy5UaW1lb3V0O1xuICBpc0Nvbm5lY3Rpbmc6IGJvb2xlYW47XG4gIGlzRGlzY29ubmVjdGVkOiBib29sZWFuO1xuICBpc0hlYWx0aHk6IGJvb2xlYW47XG4gIGlzUmVzb2x2ZWQ/OiBib29sZWFuO1xuICBsYXN0RXZlbnQ6IERhdGUgfCBudWxsO1xuICBjb25uZWN0aW9uQ2hlY2tUaW1lb3V0OiBudW1iZXI7XG4gIGNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWY/OiBOb2RlSlMuVGltZW91dDtcbiAgcmVqZWN0UHJvbWlzZT86IChcbiAgICByZWFzb24/OiBFcnJvciAmIHtcbiAgICAgIGNvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICBpc1dTRmFpbHVyZT86IGJvb2xlYW47XG4gICAgICBTdGF0dXNDb2RlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgIH0sXG4gICkgPT4gdm9pZDtcbiAgcmVxdWVzdElEOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlc29sdmVQcm9taXNlPzogKHZhbHVlOiBDb25uZWN0ZWRFdmVudCkgPT4gdm9pZDtcbiAgdG90YWxGYWlsdXJlczogbnVtYmVyO1xuICB3cz86IFdlYlNvY2tldDtcbiAgd3NJRDogbnVtYmVyO1xuXG4gIGNsaWVudDogU3RyZWFtQ2xpZW50O1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogU3RyZWFtQ2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgLyoqIGNvbnNlY3V0aXZlIGZhaWx1cmVzIGluZmx1ZW5jZSB0aGUgZHVyYXRpb24gb2YgdGhlIHRpbWVvdXQgKi9cbiAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIC8qKiBrZWVwIHRyYWNrIG9mIHRoZSB0b3RhbCBudW1iZXIgb2YgZmFpbHVyZXMgKi9cbiAgICB0aGlzLnRvdGFsRmFpbHVyZXMgPSAwO1xuICAgIC8qKiBXZSBvbmx5IG1ha2UgMSBhdHRlbXB0IHRvIHJlY29ubmVjdCBhdCB0aGUgc2FtZSB0aW1lLi4gKi9cbiAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIC8qKiBUcnVlIGFmdGVyIHRoZSBhdXRoIHBheWxvYWQgaXMgc2VudCB0byB0aGUgc2VydmVyICovXG4gICAgdGhpcy5hdXRoZW50aWNhdGlvblNlbnQgPSBmYWxzZTtcbiAgICAvKiogVG8gYXZvaWQgcmVjb25uZWN0IGlmIGNsaWVudCBpcyBkaXNjb25uZWN0ZWQgKi9cbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgLyoqIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbm5lY3Rpb24gcHJvbWlzZSBpcyByZXNvbHZlZCAqL1xuICAgIHRoaXMuaXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHdlIGhhdmUgYSB3b3JraW5nIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciAqL1xuICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgLyoqIEluY3JlbWVudGVkIHdoZW4gYSBuZXcgV1MgY29ubmVjdGlvbiBpcyBtYWRlICovXG4gICAgdGhpcy53c0lEID0gMTtcbiAgICAvKiogU3RvcmUgdGhlIGxhc3QgZXZlbnQgdGltZSBmb3IgaGVhbHRoIGNoZWNrcyAqL1xuICAgIHRoaXMubGFzdEV2ZW50ID0gbnVsbDtcbiAgICAvKiogU2VuZCBhIGhlYWx0aCBjaGVjayBtZXNzYWdlIGV2ZXJ5IDI1IHNlY29uZHMgKi9cbiAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IDI1ICogMTAwMDtcbiAgICB0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQgPSB0aGlzLnBpbmdJbnRlcnZhbCArIDEwICogMTAwMDtcblxuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2xvZyA9IChtc2c6IHN0cmluZywgZXh0cmE6IFVSID0ge30sIGxldmVsOiBMb2dMZXZlbCA9ICdpbmZvJykgPT4ge1xuICAgIHRoaXMuY2xpZW50LmxvZ2dlcihsZXZlbCwgJ2Nvbm5lY3Rpb246JyArIG1zZywge1xuICAgICAgLi4uZXh0cmEsXG4gICAgfSk7XG4gIH07XG5cbiAgc2V0Q2xpZW50ID0gKGNsaWVudDogU3RyZWFtQ2xpZW50KSA9PiB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3QgLSBDb25uZWN0IHRvIHRoZSBXUyBVUkxcbiAgICogdGhlIGRlZmF1bHQgMTVzIHRpbWVvdXQgYWxsb3dzIGJldHdlZW4gMn4zIHRyaWVzXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxDb25uZWN0ZWRFdmVudD59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICovXG4gIGFzeW5jIGNvbm5lY3QodGltZW91dCA9IDE1MDAwKSB7XG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgYFlvdSd2ZSBjYWxsZWQgY29ubmVjdCB0d2ljZSwgY2FuIG9ubHkgYXR0ZW1wdCAxIGNvbm5lY3Rpb24gYXQgdGhlIHRpbWVgLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gZmFsc2U7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVhbHRoQ2hlY2sgPSBhd2FpdCB0aGlzLl9jb25uZWN0KCk7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBjb25uZWN0KCkgLSBFc3RhYmxpc2hlZCB3cyBjb25uZWN0aW9uIHdpdGggaGVhbHRoY2hlY2s6ICR7aGVhbHRoQ2hlY2t9YCxcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcblxuICAgICAgaWYgKFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGVycm9yLmNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRCAmJlxuICAgICAgICAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgJ2Nvbm5lY3QoKSAtIFdTIGZhaWx1cmUgZHVlIHRvIGV4cGlyZWQgdG9rZW4sIHNvIGdvaW5nIHRvIHRyeSB0byByZWxvYWQgdG9rZW4gYW5kIHJlY29ubmVjdCcsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdCh7IHJlZnJlc2hUb2tlbjogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKCFlcnJvci5pc1dTRmFpbHVyZSkge1xuICAgICAgICAgIC8vIEFQSSByZWplY3RlZCB0aGUgY29ubmVjdGlvbiBhbmQgd2Ugc2hvdWxkIG5vdCByZXRyeVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgIFN0YXR1c0NvZGU6IGVycm9yLlN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogZXJyb3IuaXNXU0ZhaWx1cmUsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX3dhaXRGb3JIZWFsdGh5KHRpbWVvdXQpO1xuICB9XG5cbiAgLyoqXG4gICAqIF93YWl0Rm9ySGVhbHRoeSBwb2xscyB0aGUgcHJvbWlzZSBjb25uZWN0aW9uIHRvIHNlZSBpZiBpdHMgcmVzb2x2ZWQgdW50aWwgaXQgdGltZXMgb3V0XG4gICAqIHRoZSBkZWZhdWx0IDE1cyB0aW1lb3V0IGFsbG93cyBiZXR3ZWVuIDJ+MyB0cmllc1xuICAgKiBAcGFyYW0gdGltZW91dCBkdXJhdGlvbihtcylcbiAgICovXG4gIGFzeW5jIF93YWl0Rm9ySGVhbHRoeSh0aW1lb3V0ID0gMTUwMDApIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtcbiAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGludGVydmFsID0gNTA7IC8vIG1zXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHRpbWVvdXQ7IGkgKz0gaW50ZXJ2YWwpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbk9wZW47XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgICAgaWYgKGkgPT09IHRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICAgICAgICBTdGF0dXNDb2RlOiBlcnJvci5TdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgIGlzV1NGYWlsdXJlOiBlcnJvci5pc1dTRmFpbHVyZSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKGludGVydmFsKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzbGVlcCh0aW1lb3V0KTtcbiAgICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGNvZGU6ICcnLFxuICAgICAgICAgICAgU3RhdHVzQ29kZTogJycsXG4gICAgICAgICAgICBtZXNzYWdlOiAnaW5pdGlhbCBXUyBjb25uZWN0aW9uIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCcsXG4gICAgICAgICAgICBpc1dTRmFpbHVyZTogdHJ1ZSxcbiAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbiAgICAgIH0pKCksXG4gICAgXSk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGFuZCByZXR1cm5zIHRoZSB1cmwgZm9yIHdlYnNvY2tldC5cbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybnMgdXJsIHN0cmluZ1xuICAgKi9cbiAgX2J1aWxkVXJsID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICAvLyBjb25zdCBxcyA9IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmNsaWVudC5fYnVpbGRXU1BheWxvYWQodGhpcy5yZXF1ZXN0SUQpKTtcbiAgICAvLyBwYXJhbXMuc2V0KCdqc29uJywgcXMpO1xuICAgIHBhcmFtcy5zZXQoJ2FwaV9rZXknLCB0aGlzLmNsaWVudC5rZXkpO1xuICAgIHBhcmFtcy5zZXQoJ3N0cmVhbS1hdXRoLXR5cGUnLCB0aGlzLmNsaWVudC5nZXRBdXRoVHlwZSgpKTtcbiAgICBwYXJhbXMuc2V0KCdYLVN0cmVhbS1DbGllbnQnLCB0aGlzLmNsaWVudC5nZXRVc2VyQWdlbnQoKSk7XG4gICAgLy8gcGFyYW1zLmFwcGVuZCgnYXV0aG9yaXphdGlvbicsIHRoaXMuY2xpZW50Ll9nZXRUb2tlbigpISk7XG5cbiAgICByZXR1cm4gYCR7dGhpcy5jbGllbnQud3NCYXNlVVJMfS9jb25uZWN0PyR7cGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgfTtcblxuICAvKipcbiAgICogZGlzY29ubmVjdCAtIERpc2Nvbm5lY3QgdGhlIGNvbm5lY3Rpb24gYW5kIGRvZXNuJ3QgcmVjb3Zlci4uLlxuICAgKlxuICAgKi9cbiAgZGlzY29ubmVjdCh0aW1lb3V0PzogbnVtYmVyKSB7XG4gICAgdGhpcy5fbG9nKFxuICAgICAgYGRpc2Nvbm5lY3QoKSAtIENsb3NpbmcgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uIGZvciB3c0lEICR7dGhpcy53c0lEfWAsXG4gICAgKTtcblxuICAgIHRoaXMud3NJRCArPSAxO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IHRydWU7XG5cbiAgICAvLyBzdGFydCBieSByZW1vdmluZyBhbGwgdGhlIGxpc3RlbmVyc1xuICAgIGlmICh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmhlYWx0aENoZWNrVGltZW91dFJlZik7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG5cbiAgICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcblxuICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG5cbiAgICAvLyByZW1vdmUgd3MgaGFuZGxlcnMuLi5cbiAgICBpZiAodGhpcy53cyAmJiB0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycykge1xuICAgICAgdGhpcy53cy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNDbG9zZWRQcm9taXNlOiBQcm9taXNlPHZvaWQ+O1xuICAgIC8vIGFuZCBmaW5hbGx5IGNsb3NlLi4uXG4gICAgLy8gQXNzaWduaW5nIHRvIGxvY2FsIGhlcmUgYmVjYXVzZSB3ZSB3aWxsIHJlbW92ZSBpdCBmcm9tIHRoaXMgYmVmb3JlIHRoZVxuICAgIC8vIHByb21pc2UgcmVzb2x2ZXMuXG4gICAgY29uc3QgeyB3cyB9ID0gdGhpcztcbiAgICBpZiAod3MgJiYgd3MuY2xvc2UgJiYgd3MucmVhZHlTdGF0ZSA9PT0gd3MuT1BFTikge1xuICAgICAgaXNDbG9zZWRQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgY29uc3Qgb25jbG9zZSA9IChldmVudDogV2ViU29ja2V0LkNsb3NlRXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgICBgZGlzY29ubmVjdCgpIC0gcmVzb2x2aW5nIGlzQ2xvc2VkUHJvbWlzZSAke1xuICAgICAgICAgICAgICBldmVudCA/ICd3aXRoJyA6ICd3aXRob3V0J1xuICAgICAgICAgICAgfSBjbG9zZSBmcmFtZWAsXG4gICAgICAgICAgICB7IGV2ZW50IH0sXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgd3Mub25jbG9zZSA9IG9uY2xvc2U7XG4gICAgICAgIC8vIEluIGNhc2Ugd2UgZG9uJ3QgcmVjZWl2ZSBjbG9zZSBmcmFtZSB3ZWJzb2NrZXQgc2VydmVyIGluIHRpbWUsXG4gICAgICAgIC8vIGxldHMgbm90IHdhaXQgZm9yIG1vcmUgdGhhbiAxIHNlY29uZC5cbiAgICAgICAgc2V0VGltZW91dChvbmNsb3NlLCB0aW1lb3V0ICE9IG51bGwgPyB0aW1lb3V0IDogMTAwMCk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgZGlzY29ubmVjdCgpIC0gTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpYCxcbiAgICAgICk7XG5cbiAgICAgIHdzLmNsb3NlKFxuICAgICAgICBLbm93bkNvZGVzLldTX0NMT1NFRF9TVUNDRVNTLFxuICAgICAgICAnTWFudWFsbHkgY2xvc2VkIGNvbm5lY3Rpb24gYnkgY2FsbGluZyBjbGllbnQuZGlzY29ubmVjdCgpJyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIHdzIGNvbm5lY3Rpb24gZG9lc24ndCBleGlzdCBvciBpdCBpcyBhbHJlYWR5IGNsb3NlZC5gLFxuICAgICAgKTtcbiAgICAgIGlzQ2xvc2VkUHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLndzO1xuXG4gICAgcmV0dXJuIGlzQ2xvc2VkUHJvbWlzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBfY29ubmVjdCAtIENvbm5lY3QgdG8gdGhlIFdTIGVuZHBvaW50XG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZTxDb25uZWN0ZWRFdmVudD59IFByb21pc2UgdGhhdCBjb21wbGV0ZXMgb25jZSB0aGUgZmlyc3QgaGVhbHRoIGNoZWNrIG1lc3NhZ2UgaXMgcmVjZWl2ZWRcbiAgICovXG4gIGFzeW5jIF9jb25uZWN0KCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nIHx8XG4gICAgICAodGhpcy5pc0Rpc2Nvbm5lY3RlZCAmJiB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2spXG4gICAgKVxuICAgICAgcmV0dXJuOyAvLyBzaW1wbHkgaWdub3JlIF9jb25uZWN0IGlmIGl0J3MgY3VycmVudGx5IHRyeWluZyB0byBjb25uZWN0XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSB0cnVlO1xuICAgIHRoaXMucmVxdWVzdElEID0gcmFuZG9tSWQoKTtcbiAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy5jb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICBsZXQgaXNUb2tlblJlYWR5ID0gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuX2xvZyhgX2Nvbm5lY3QoKSAtIHdhaXRpbmcgZm9yIHRva2VuYCk7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIudG9rZW5SZWFkeSgpO1xuICAgICAgaXNUb2tlblJlYWR5ID0gdHJ1ZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyB0b2tlbiBwcm92aWRlciBoYXMgZmFpbGVkIGJlZm9yZSwgc28gdHJ5IGFnYWluXG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlmICghaXNUb2tlblJlYWR5KSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICBgX2Nvbm5lY3QoKSAtIHRva2VuUHJvdmlkZXIgZmFpbGVkIGJlZm9yZSwgc28gZ29pbmcgdG8gcmV0cnlgLFxuICAgICAgICApO1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgICB9XG5cbiAgICAgIGxldCBtdXN0U2V0dXBDb25uZWN0aW9uSWRQcm9taXNlID0gdHJ1ZTtcbiAgICAgIGlmICh0aGlzLmNsaWVudC5jb25uZWN0aW9uSWRQcm9taXNlKSB7XG4gICAgICAgIGlmIChhd2FpdCBpc1Byb21pc2VQZW5kaW5nKHRoaXMuY2xpZW50LmNvbm5lY3Rpb25JZFByb21pc2UpKSB7XG4gICAgICAgICAgbXVzdFNldHVwQ29ubmVjdGlvbklkUHJvbWlzZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobXVzdFNldHVwQ29ubmVjdGlvbklkUHJvbWlzZSkge1xuICAgICAgICB0aGlzLmNsaWVudC5fc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlKCk7XG4gICAgICBjb25zdCB3c1VSTCA9IHRoaXMuX2J1aWxkVXJsKCk7XG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSBDb25uZWN0aW5nIHRvICR7d3NVUkx9YCwge1xuICAgICAgICB3c1VSTCxcbiAgICAgICAgcmVxdWVzdElEOiB0aGlzLnJlcXVlc3RJRCxcbiAgICAgIH0pO1xuICAgICAgdGhpcy53cyA9IG5ldyBXZWJTb2NrZXQod3NVUkwpO1xuICAgICAgdGhpcy53cy5vbm9wZW4gPSB0aGlzLm9ub3Blbi5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9uY2xvc2UgPSB0aGlzLm9uY2xvc2UuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbmVycm9yID0gdGhpcy5vbmVycm9yLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25tZXNzYWdlID0gdGhpcy5vbm1lc3NhZ2UuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbklEID0gcmVzcG9uc2UuY29ubmVjdGlvbl9pZDtcbiAgICAgICAgdGhpcy5jbGllbnQucmVzb2x2ZUNvbm5lY3Rpb25JZD8uKHRoaXMuY29ubmVjdGlvbklEKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA+IDAgJiZcbiAgICAgICAgICB0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZUluc2lnaHRzXG4gICAgICAgICkge1xuICAgICAgICAgIHBvc3RJbnNpZ2h0cyhcbiAgICAgICAgICAgICd3c19zdWNjZXNzX2FmdGVyX2ZhaWx1cmUnLFxuICAgICAgICAgICAgYnVpbGRXc1N1Y2Nlc3NBZnRlckZhaWx1cmVJbnNpZ2h0KFxuICAgICAgICAgICAgICB0aGlzIGFzIHVua25vd24gYXMgU3RhYmxlV1NDb25uZWN0aW9uLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHRoaXMuX2xvZyhgX2Nvbm5lY3QoKSAtIEVycm9yIC0gYCwgZXJyKTtcbiAgICAgIGlmICh0aGlzLmNsaWVudC5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSB7XG4gICAgICAgIHRoaXMuY2xpZW50Lmluc2lnaHRNZXRyaWNzLndzQ29uc2VjdXRpdmVGYWlsdXJlcysrO1xuICAgICAgICB0aGlzLmNsaWVudC5pbnNpZ2h0TWV0cmljcy53c1RvdGFsRmFpbHVyZXMrKztcblxuICAgICAgICBjb25zdCBpbnNpZ2h0cyA9IGJ1aWxkV3NGYXRhbEluc2lnaHQoXG4gICAgICAgICAgdGhpcyBhcyB1bmtub3duIGFzIFN0YWJsZVdTQ29ubmVjdGlvbixcbiAgICAgICAgICBjb252ZXJ0RXJyb3JUb0pzb24oZXJyIGFzIEVycm9yKSxcbiAgICAgICAgKTtcbiAgICAgICAgcG9zdEluc2lnaHRzPy4oJ3dzX2ZhdGFsJywgaW5zaWdodHMpO1xuICAgICAgfVxuICAgICAgdGhpcy5jbGllbnQucmVqZWN0Q29ubmVjdGlvbklkPy4oZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogX3JlY29ubmVjdCAtIFJldHJ5IHRoZSBjb25uZWN0aW9uIHRvIFdTIGVuZHBvaW50XG4gICAqXG4gICAqIEBwYXJhbSB7eyBpbnRlcnZhbD86IG51bWJlcjsgcmVmcmVzaFRva2VuPzogYm9vbGVhbiB9fSBvcHRpb25zIEZvbGxvd2luZyBvcHRpb25zIGFyZSBhdmFpbGFibGVcbiAgICpcbiAgICogLSBgaW50ZXJ2YWxgXHR7aW50fVx0XHRcdG51bWJlciBvZiBtcyB0aGF0IGZ1bmN0aW9uIHNob3VsZCB3YWl0IGJlZm9yZSByZWNvbm5lY3RpbmdcbiAgICogLSBgcmVmcmVzaFRva2VuYCB7Ym9vbGVhbn1cdHJlbG9hZC9yZWZyZXNoIHVzZXIgdG9rZW4gYmUgcmVmcmVzaGVkIGJlZm9yZSBhdHRlbXB0aW5nIHJlY29ubmVjdGlvbi5cbiAgICovXG4gIGFzeW5jIF9yZWNvbm5lY3QoXG4gICAgb3B0aW9uczogeyBpbnRlcnZhbD86IG51bWJlcjsgcmVmcmVzaFRva2VuPzogYm9vbGVhbiB9ID0ge30sXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gSW5pdGlhdGluZyB0aGUgcmVjb25uZWN0Jyk7XG5cbiAgICAvLyBvbmx5IGFsbG93IDEgY29ubmVjdGlvbiBhdCB0aGUgdGltZVxuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMSkgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyByZWNvbm5lY3QgaW4gY2FzZSBvZiBvbiBlcnJvciBvciBvbiBjbG9zZVxuICAgIC8vIGFsc28gcmVjb25uZWN0IGlmIHRoZSBoZWFsdGggY2hlY2sgY3ljbGUgZmFpbHNcbiAgICBsZXQgaW50ZXJ2YWwgPSBvcHRpb25zLmludGVydmFsO1xuICAgIGlmICghaW50ZXJ2YWwpIHtcbiAgICAgIGludGVydmFsID0gcmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpO1xuICAgIH1cbiAgICAvLyByZWNvbm5lY3QsIG9yIHRyeSBhZ2FpbiBhZnRlciBhIGxpdHRsZSB3aGlsZS4uLlxuICAgIGF3YWl0IHNsZWVwKGludGVydmFsKTtcblxuICAgIC8vIENoZWNrIG9uY2UgYWdhaW4gaWYgYnkgc29tZSBvdGhlciBjYWxsIHRvIF9yZWNvbm5lY3QgaXMgYWN0aXZlIG9yIGNvbm5lY3Rpb24gaXNcbiAgICAvLyBhbHJlYWR5IHJlc3RvcmVkLCB0aGVuIG5vIG5lZWQgdG8gcHJvY2VlZC5cbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcgfHwgdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gQWJvcnQgKDIpIHNpbmNlIGFscmVhZHkgY29ubmVjdGluZyBvciBoZWFsdGh5Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXNEaXNjb25uZWN0ZWQgJiYgdGhpcy5jbGllbnQub3B0aW9ucy5lbmFibGVXU0ZhbGxiYWNrKSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgzKSBzaW5jZSBkaXNjb25uZWN0KCkgaXMgY2FsbGVkJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBEZXN0cm95aW5nIGN1cnJlbnQgV1MgY29ubmVjdGlvbicpO1xuXG4gICAgLy8gY2xlYW51cCB0aGUgb2xkIGNvbm5lY3Rpb25cbiAgICB0aGlzLl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpO1xuXG4gICAgaWYgKG9wdGlvbnMucmVmcmVzaFRva2VuKSB7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHRoaXMuX2Nvbm5lY3QoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gV2FpdGluZyBmb3IgcmVjb3ZlckNhbGxCYWNrJyk7XG4gICAgICAvLyBhd2FpdCB0aGlzLmNsaWVudC5yZWNvdmVyU3RhdGUoKTtcbiAgICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRmluaXNoZWQgcmVjb3ZlckNhbGxCYWNrJyk7XG5cbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBlcnJvci5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHJlY29ubmVjdCBvbiBXUyBmYWlsdXJlcywgZG9uJ3QgcmVjb25uZWN0IGlmIHRoZXJlIGlzIGEgY29kZSBidWdcbiAgICAgIGlmIChlcnJvci5pc1dTRmFpbHVyZSkge1xuICAgICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdTIGZhaWx1cmUsIHNvIGdvaW5nIHRvIHRyeSB0byByZWNvbm5lY3QnKTtcblxuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSA9PSBFTkQgPT0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvbmxpbmVTdGF0dXNDaGFuZ2VkIC0gdGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgd2hlbiB0aGUgYnJvd3NlciBjb25uZWN0cyBvciBkaXNjb25uZWN0cyBmcm9tIHRoZSBpbnRlcm5ldC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgRXZlbnQgd2l0aCB0eXBlIG9ubGluZSBvciBvZmZsaW5lXG4gICAqXG4gICAqL1xuICBvbmxpbmVTdGF0dXNDaGFuZ2VkID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGlmIChldmVudC50eXBlID09PSAnb2ZmbGluZScpIHtcbiAgICAgIC8vIG1hcmsgdGhlIGNvbm5lY3Rpb24gYXMgZG93blxuICAgICAgdGhpcy5fbG9nKCdvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb2ZmbGluZScpO1xuICAgICAgLy8gd2Uga25vdyB0aGF0IHRoZSBhcHAgaXMgb2ZmbGluZSBzbyBkaXNwYXRjaCB0aGUgdW5oZWFsdGh5IGNvbm5lY3Rpb24gZXZlbnQgaW1tZWRpYXRlbHlcbiAgICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSwgdHJ1ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgLy8gcmV0cnkgcmlnaHQgbm93Li4uXG4gICAgICAvLyBXZSBjaGVjayB0aGlzLmlzSGVhbHRoeSwgbm90IHN1cmUgaWYgaXQncyBhbHdheXNcbiAgICAgIC8vIHNtYXJ0IHRvIGNyZWF0ZSBhIG5ldyBXUyBjb25uZWN0aW9uIGlmIHRoZSBvbGQgb25lIGlzIHN0aWxsIHVwIGFuZCBydW5uaW5nLlxuICAgICAgLy8gaXQncyBwb3NzaWJsZSB3ZSBkaWRuJ3QgbWlzcyBhbnkgbWVzc2FnZXMsIHNvIHRoaXMgcHJvY2VzcyBpcyBqdXN0IGV4cGVuc2l2ZSBhbmQgbm90IG5lZWRlZC5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYG9ubGluZVN0YXR1c0NoYW5nZWQoKSAtIFN0YXR1cyBjaGFuZ2luZyB0byBvbmxpbmUuIGlzSGVhbHRoeTogJHt0aGlzLmlzSGVhbHRoeX1gLFxuICAgICAgKTtcbiAgICAgIGlmICghdGhpcy5pc0hlYWx0aHkpIHtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgaW50ZXJ2YWw6IDEwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBvbm9wZW4gPSAod3NJRDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgY29uc3QgdXNlciA9IHRoaXMuY2xpZW50LnVzZXI7XG4gICAgaWYgKCF1c2VyKSB7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIoJ2Vycm9yJywgYFVzZXIgbm90IHNldCwgY2FuJ3QgY29ubmVjdCB0byBXU2ApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5jbGllbnQuX2dldFRva2VuKCk7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBUb2tlbiBub3Qgc2V0LCBjYW4ndCBjb25uZWN0IGF1dGhlbnRpY2F0ZWApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGF1dGhNZXNzYWdlOiBXU0F1dGhNZXNzYWdlID0ge1xuICAgICAgdG9rZW4sXG4gICAgICB1c2VyX2RldGFpbHM6IHtcbiAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgaW1hZ2U6IHVzZXIuaW1hZ2UsXG4gICAgICAgIGN1c3RvbTogdXNlci5jdXN0b20sXG4gICAgICB9LFxuICAgIH07XG5cbiAgICB0aGlzLmF1dGhlbnRpY2F0aW9uU2VudCA9IHRydWU7XG4gICAgdGhpcy53cz8uc2VuZChKU09OLnN0cmluZ2lmeShhdXRoTWVzc2FnZSkpO1xuICAgIHRoaXMuX2xvZygnb25vcGVuKCkgLSBvbm9wZW4gY2FsbGJhY2snLCB7IHdzSUQgfSk7XG4gIH07XG5cbiAgb25tZXNzYWdlID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IFdlYlNvY2tldC5NZXNzYWdlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLl9sb2coJ29ubWVzc2FnZSgpIC0gb25tZXNzYWdlIGNhbGxiYWNrJywgeyBldmVudCwgd3NJRCB9KTtcbiAgICBjb25zdCBkYXRhID1cbiAgICAgIHR5cGVvZiBldmVudC5kYXRhID09PSAnc3RyaW5nJ1xuICAgICAgICA/IChKU09OLnBhcnNlKGV2ZW50LmRhdGEpIGFzIFN0cmVhbVZpZGVvRXZlbnQpXG4gICAgICAgIDogbnVsbDtcblxuICAgIC8vIHdlIHdhaXQgdGlsbCB0aGUgZmlyc3QgbWVzc2FnZSBiZWZvcmUgd2UgY29uc2lkZXIgdGhlIGNvbm5lY3Rpb24gb3Blbi5cbiAgICAvLyB0aGUgcmVhc29uIGZvciB0aGlzIGlzIHRoYXQgYXV0aCBlcnJvcnMgYW5kIHNpbWlsYXIgZXJyb3JzIHRyaWdnZXIgYSB3cy5vbm9wZW4gYW5kIGltbWVkaWF0ZWx5XG4gICAgLy8gYWZ0ZXIgdGhhdCBhIHdzLm9uY2xvc2UuXG4gICAgaWYgKCF0aGlzLmlzUmVzb2x2ZWQgJiYgZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLmVycm9yJykge1xuICAgICAgdGhpcy5pc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSB0aGUgdHlwZXMgb2YgX2Vycm9yRnJvbVdTRXZlbnQgYXJlIGluY29ycmVjdFxuICAgICAgICB0aGlzLnJlamVjdFByb21pc2U/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGRhdGEsIGZhbHNlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0cmlnZ2VyIHRoZSBldmVudC4uXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKFxuICAgICAgZGF0YSAmJlxuICAgICAgKGRhdGEudHlwZSA9PT0gJ2hlYWx0aC5jaGVjaycgfHwgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5vaycpXG4gICAgKSB7XG4gICAgICAvLyB0aGUgaW5pdGlhbCBoZWFsdGgtY2hlY2sgc2hvdWxkIGNvbWUgZnJvbSB0aGUgY2xpZW50XG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFBpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLm9rJykge1xuICAgICAgdGhpcy5yZXNvbHZlUHJvbWlzZT8uKGRhdGEpO1xuICAgICAgdGhpcy5fc2V0SGVhbHRoKHRydWUpO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIGRhdGEudHlwZSA9PT0gJ2Nvbm5lY3Rpb24uZXJyb3InICYmIGRhdGEuZXJyb3IpIHtcbiAgICAgIGNvbnN0IHsgY29kZSB9ID0gZGF0YS5lcnJvcjtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG4gICAgICBpZiAoXG4gICAgICAgIGNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRCAmJlxuICAgICAgICAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICdjb25uZWN0KCkgLSBXUyBmYWlsdXJlIGR1ZSB0byBleHBpcmVkIHRva2VuLCBzbyBnb2luZyB0byB0cnkgdG8gcmVsb2FkIHRva2VuIGFuZCByZWNvbm5lY3QnLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9yZWNvbm5lY3QoeyByZWZyZXNoVG9rZW46IHRydWUgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGRhdGEucmVjZWl2ZWRfYXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChkYXRhKTtcbiAgICB9XG4gICAgdGhpcy5zY2hlZHVsZUNvbm5lY3Rpb25DaGVjaygpO1xuICB9O1xuXG4gIG9uY2xvc2UgPSAod3NJRDogbnVtYmVyLCBldmVudDogV2ViU29ja2V0LkNsb3NlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLl9sb2coJ29uY2xvc2UoKSAtIG9uY2xvc2UgY2FsbGJhY2sgLSAnICsgZXZlbnQuY29kZSwgeyBldmVudCwgd3NJRCB9KTtcblxuICAgIGlmIChldmVudC5jb2RlID09PSBLbm93bkNvZGVzLldTX0NMT1NFRF9TVUNDRVNTKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgcGVybWFuZW50IGVycm9yIHJhaXNlZCBieSBzdHJlYW0uLlxuICAgICAgLy8gdXN1YWxseSBjYXVzZWQgYnkgaW52YWxpZCBhdXRoIGRldGFpbHNcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLFxuICAgICAgKSBhcyBFcnJvciAmIFdlYlNvY2tldC5DbG9zZUV2ZW50O1xuXG4gICAgICBlcnJvci5yZWFzb24gPSBldmVudC5yZWFzb247XG4gICAgICBlcnJvci5jb2RlID0gZXZlbnQuY29kZTtcbiAgICAgIGVycm9yLndhc0NsZWFuID0gZXZlbnQud2FzQ2xlYW47XG4gICAgICBlcnJvci50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIHRoaXMucmVqZWN0UHJvbWlzZT8uKGVycm9yKTtcbiAgICAgIHRoaXMuX2xvZyhgb25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgdGhpcy50b3RhbEZhaWx1cmVzICs9IDE7XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgdGhpcy5yZWplY3RQcm9taXNlPy4odGhpcy5fZXJyb3JGcm9tV1NFdmVudChldmVudCkpO1xuXG4gICAgICB0aGlzLl9sb2coYG9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gY2xvc2VkLiBDYWxsaW5nIHJlY29ubmVjdCAuLi5gLCB7XG4gICAgICAgIGV2ZW50LFxuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlY29ubmVjdCBpZiBpdHMgYW4gYWJub3JtYWwgZmFpbHVyZVxuICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgfVxuICB9O1xuXG4gIG9uZXJyb3IgPSAod3NJRDogbnVtYmVyLCBldmVudDogV2ViU29ja2V0LkVycm9yRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICB0aGlzLnRvdGFsRmFpbHVyZXMgKz0gMTtcbiAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UpO1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgdGhpcy5yZWplY3RQcm9taXNlPy4odGhpcy5fZXJyb3JGcm9tV1NFdmVudChldmVudCkpO1xuICAgIHRoaXMuX2xvZyhgb25lcnJvcigpIC0gV1MgY29ubmVjdGlvbiByZXN1bHRlZCBpbnRvIGVycm9yYCwgeyBldmVudCB9KTtcblxuICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfc2V0SGVhbHRoIC0gU2V0cyB0aGUgY29ubmVjdGlvbiB0byBoZWFsdGh5IG9yIHVuaGVhbHRoeS5cbiAgICogQnJvYWRjYXN0cyBhbiBldmVudCBpbiBjYXNlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhlYWx0aHkgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGhlYWx0aHkgb3Igbm90XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzcGF0Y2hJbW1lZGlhdGVseSBib29sZWFuIGluZGljYXRpbmcgdG8gZGlzcGF0Y2ggZXZlbnQgaW1tZWRpYXRlbHkgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHlcbiAgICpcbiAgICovXG4gIF9zZXRIZWFsdGggPSAoaGVhbHRoeTogYm9vbGVhbiwgZGlzcGF0Y2hJbW1lZGlhdGVseSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGhlYWx0aHkgPT09IHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICBpZiAodGhpcy5pc0hlYWx0aHkgfHwgZGlzcGF0Y2hJbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICBvbmxpbmU6IHRoaXMuaXNIZWFsdGh5LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgIG9ubGluZTogdGhpcy5pc0hlYWx0aHksXG4gICAgICB9KTtcbiAgICB9LCA1MDAwKTtcbiAgfTtcblxuICAvKipcbiAgICogX2Vycm9yRnJvbVdTRXZlbnQgLSBDcmVhdGVzIGFuIGVycm9yIG9iamVjdCBmb3IgdGhlIFdTIGV2ZW50XG4gICAqXG4gICAqL1xuICBfZXJyb3JGcm9tV1NFdmVudCA9IChcbiAgICBldmVudDogV2ViU29ja2V0LkNsb3NlRXZlbnQgfCBXZWJTb2NrZXQuRGF0YSB8IFdlYlNvY2tldC5FcnJvckV2ZW50LFxuICAgIGlzV1NGYWlsdXJlID0gdHJ1ZSxcbiAgKSA9PiB7XG4gICAgbGV0IGNvZGU7XG4gICAgbGV0IHN0YXR1c0NvZGU7XG4gICAgbGV0IG1lc3NhZ2U7XG4gICAgaWYgKGlzQ2xvc2VFdmVudChldmVudCkpIHtcbiAgICAgIGNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgc3RhdHVzQ29kZSA9ICd1bmtub3duJztcbiAgICAgIG1lc3NhZ2UgPSBldmVudC5yZWFzb247XG4gICAgfVxuXG4gICAgaWYgKGlzRXJyb3JFdmVudChldmVudCkpIHtcbiAgICAgIGNvZGUgPSBldmVudC5lcnJvci5jb2RlO1xuICAgICAgc3RhdHVzQ29kZSA9IGV2ZW50LmVycm9yLlN0YXR1c0NvZGU7XG4gICAgICBtZXNzYWdlID0gZXZlbnQuZXJyb3IubWVzc2FnZTtcbiAgICB9XG5cbiAgICAvLyBLZWVwaW5nIHRoaXMgYHdhcm5gIGxldmVsIGxvZywgdG8gYXZvaWQgY2x1dHRlcmluZyBvZiBlcnJvciBsb2dzIGZyb20gd3MgZmFpbHVyZXMuXG4gICAgdGhpcy5fbG9nKFxuICAgICAgYF9lcnJvckZyb21XU0V2ZW50KCkgLSBXUyBmYWlsZWQgd2l0aCBjb2RlICR7Y29kZX1gLFxuICAgICAgeyBldmVudCB9LFxuICAgICAgJ3dhcm4nLFxuICAgICk7XG5cbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgIGBXUyBmYWlsZWQgd2l0aCBjb2RlICR7Y29kZX0gYW5kIHJlYXNvbiAtICR7bWVzc2FnZX1gLFxuICAgICkgYXMgRXJyb3IgJiB7XG4gICAgICBjb2RlPzogc3RyaW5nIHwgbnVtYmVyO1xuICAgICAgaXNXU0ZhaWx1cmU/OiBib29sZWFuO1xuICAgICAgU3RhdHVzQ29kZT86IHN0cmluZyB8IG51bWJlcjtcbiAgICB9O1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIC8qKlxuICAgICAqIFN0YXR1c0NvZGUgZG9lcyBub3QgZXhpc3Qgb24gYW55IGV2ZW50IHR5cGVzIGJ1dCBoYXMgYmVlbiBsZWZ0XG4gICAgICogYXMgaXMgdG8gcHJlc2VydmUgSlMgZnVuY3Rpb25hbGl0eSBkdXJpbmcgdGhlIFRTIGltcGxlbWVudGF0aW9uXG4gICAgICovXG4gICAgZXJyb3IuU3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgZXJyb3IuaXNXU0ZhaWx1cmUgPSBpc1dTRmFpbHVyZTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbiAtIFJlbW92ZXMgdGhlIGN1cnJlbnQgV1MgY29ubmVjdGlvblxuICAgKlxuICAgKi9cbiAgX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCkge1xuICAgIC8vIGluY3JlbWVudCB0aGUgSUQsIG1lYW5pbmcgd2Ugd2lsbCBpZ25vcmUgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIG9sZFxuICAgIC8vIHdzIGNvbm5lY3Rpb24gZnJvbSBub3cgb24uXG4gICAgdGhpcy53c0lEICs9IDE7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcz8ud3M/LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgdGhpcz8ud3M/LmNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gd2UgZG9uJ3QgY2FyZVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfc2V0dXBQcm9taXNlIC0gc2V0cyB1cCB0aGUgdGhpcy5jb25uZWN0T3BlbiBwcm9taXNlXG4gICAqL1xuICBfc2V0dXBDb25uZWN0aW9uUHJvbWlzZSA9ICgpID0+IHtcbiAgICB0aGlzLmlzUmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB3cy5vcGVuIGlzIGNhbGxlZCAqL1xuICAgIHRoaXMuY29ubmVjdGlvbk9wZW4gPSBuZXcgUHJvbWlzZTxDb25uZWN0ZWRFdmVudD4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5yZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICB0aGlzLnJlamVjdFByb21pc2UgPSByZWplY3Q7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNjaGVkdWxlcyBhIG5leHQgaGVhbHRoIGNoZWNrIHBpbmcgZm9yIHdlYnNvY2tldC5cbiAgICovXG4gIHNjaGVkdWxlTmV4dFBpbmcgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIC8vIDMwIHNlY29uZHMgaXMgdGhlIHJlY29tbWVuZGVkIGludGVydmFsIChtZXNzZW5nZXIgdXNlcyB0aGlzKVxuICAgIHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBzZW5kIHRoZSBoZWFsdGhjaGVjay4uLiwgc2VydmVyIHJlcGxpZXMgd2l0aCBhIGhlYWx0aCBjaGVjayBldmVudFxuICAgICAgY29uc3QgZGF0YSA9IFt7IHR5cGU6ICdoZWFsdGguY2hlY2snLCBjbGllbnRfaWQ6IHRoaXMuY2xpZW50LmNsaWVudElEIH1dO1xuICAgICAgLy8gdHJ5IHRvIHNlbmQgb24gdGhlIGNvbm5lY3Rpb25cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud3M/LnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICB9XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIHNjaGVkdWxlcyBhIGNoZWNrIGZvciB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBsYXN0IHJlY2VpdmVkIGV2ZW50IGFuZCBub3cuXG4gICAqIElmIHRoZSBkaWZmZXJlbmNlIGlzIG1vcmUgdGhhbiAzNSBzZWNvbmRzLCBpdCBtZWFucyBvdXIgaGVhbHRoIGNoZWNrIGxvZ2ljIGhhcyBmYWlsZWQgYW5kIHdlYnNvY2tldCBuZWVkc1xuICAgKiB0byBiZSByZWNvbm5lY3RlZC5cbiAgICovXG4gIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgJiZcbiAgICAgICAgbm93LmdldFRpbWUoKSAtIHRoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZygnc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgLSBnb2luZyB0byByZWNvbm5lY3QnKTtcbiAgICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IGZyb21CeXRlQXJyYXkgfSBmcm9tICdiYXNlNjQtanMnO1xuXG5mdW5jdGlvbiBpc1N0cmluZzxUPihhcnJheU9yU3RyaW5nOiBzdHJpbmcgfCBUW10pOiBhcnJheU9yU3RyaW5nIGlzIHN0cmluZyB7XG4gIHJldHVybiB0eXBlb2YgKGFycmF5T3JTdHJpbmcgYXMgc3RyaW5nKSA9PT0gJ3N0cmluZyc7XG59XG5cbnR5cGUgTWFwR2VuZXJpY0NhbGxiYWNrPFQsIFU+ID0gKHZhbHVlOiBULCBpbmRleDogbnVtYmVyLCBhcnJheTogVFtdKSA9PiBVO1xudHlwZSBNYXBTdHJpbmdDYWxsYmFjazxVPiA9ICh2YWx1ZTogc3RyaW5nLCBpbmRleDogbnVtYmVyLCBzdHJpbmc6IHN0cmluZykgPT4gVTtcblxuZnVuY3Rpb24gaXNNYXBTdHJpbmdDYWxsYmFjazxULCBVPihcbiAgYXJyYXlPclN0cmluZzogc3RyaW5nIHwgVFtdLFxuICBjYWxsYmFjazogTWFwR2VuZXJpY0NhbGxiYWNrPFQsIFU+IHwgTWFwU3RyaW5nQ2FsbGJhY2s8VT4sXG4pOiBjYWxsYmFjayBpcyBNYXBTdHJpbmdDYWxsYmFjazxVPiB7XG4gIHJldHVybiAhIWNhbGxiYWNrICYmIGlzU3RyaW5nKGFycmF5T3JTdHJpbmcpO1xufVxuXG4vLyBzb3VyY2UgLSBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvdGVzdC9jb252ZXJ0LmpzI0w3MlxuZnVuY3Rpb24gbWFwPFQsIFU+KGFycmF5OiBUW10sIGNhbGxiYWNrOiBNYXBHZW5lcmljQ2FsbGJhY2s8VCwgVT4pOiBVW107XG5mdW5jdGlvbiBtYXA8VT4oc3RyaW5nOiBzdHJpbmcsIGNhbGxiYWNrOiBNYXBTdHJpbmdDYWxsYmFjazxVPik6IFVbXTtcbmZ1bmN0aW9uIG1hcDxULCBVPihcbiAgYXJyYXlPclN0cmluZzogc3RyaW5nIHwgVFtdLFxuICBjYWxsYmFjazogTWFwR2VuZXJpY0NhbGxiYWNrPFQsIFU+IHwgTWFwU3RyaW5nQ2FsbGJhY2s8VT4sXG4pOiBVW10ge1xuICBjb25zdCByZXMgPSBbXTtcblxuICBpZiAoaXNTdHJpbmcoYXJyYXlPclN0cmluZykgJiYgaXNNYXBTdHJpbmdDYWxsYmFjayhhcnJheU9yU3RyaW5nLCBjYWxsYmFjaykpIHtcbiAgICBmb3IgKGxldCBrID0gMCwgbGVuID0gYXJyYXlPclN0cmluZy5sZW5ndGg7IGsgPCBsZW47IGsrKykge1xuICAgICAgaWYgKGFycmF5T3JTdHJpbmcuY2hhckF0KGspKSB7XG4gICAgICAgIGNvbnN0IGtWYWx1ZSA9IGFycmF5T3JTdHJpbmcuY2hhckF0KGspO1xuICAgICAgICBjb25zdCBtYXBwZWRWYWx1ZSA9IGNhbGxiYWNrKGtWYWx1ZSwgaywgYXJyYXlPclN0cmluZyk7XG4gICAgICAgIHJlc1trXSA9IG1hcHBlZFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChcbiAgICAhaXNTdHJpbmcoYXJyYXlPclN0cmluZykgJiZcbiAgICAhaXNNYXBTdHJpbmdDYWxsYmFjayhhcnJheU9yU3RyaW5nLCBjYWxsYmFjaylcbiAgKSB7XG4gICAgZm9yIChsZXQgayA9IDAsIGxlbiA9IGFycmF5T3JTdHJpbmcubGVuZ3RoOyBrIDwgbGVuOyBrKyspIHtcbiAgICAgIGlmIChrIGluIGFycmF5T3JTdHJpbmcpIHtcbiAgICAgICAgY29uc3Qga1ZhbHVlID0gYXJyYXlPclN0cmluZ1trXTtcbiAgICAgICAgY29uc3QgbWFwcGVkVmFsdWUgPSBjYWxsYmFjayhrVmFsdWUsIGssIGFycmF5T3JTdHJpbmcpO1xuICAgICAgICByZXNba10gPSBtYXBwZWRWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnQgY29uc3QgZW5jb2RlQmFzZTY0ID0gKGRhdGE6IHN0cmluZyk6IHN0cmluZyA9PlxuICBmcm9tQnl0ZUFycmF5KG5ldyBVaW50OEFycmF5KG1hcChkYXRhLCAoY2hhcikgPT4gY2hhci5jaGFyQ29kZUF0KDApKSkpO1xuXG4vLyBiYXNlLTY0IGRlY29kZXIgdGhyb3dzIGV4Y2VwdGlvbiBpZiBlbmNvZGVkIHN0cmluZyBpcyBub3QgcGFkZGVkIGJ5ICc9JyB0byBtYWtlIHN0cmluZyBsZW5ndGhcbi8vIGluIG11bHRpcGxlcyBvZiA0LiBTbyBnb25uYSB1c2Ugb3VyIG93biBtZXRob2QgZm9yIHRoaXMgcHVycG9zZSB0byBrZWVwIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDI2XG5leHBvcnQgY29uc3QgZGVjb2RlQmFzZTY0ID0gKHM6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGUgPSB7fSBhcyB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9LFxuICAgIHcgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLFxuICAgIEwgPSBzLmxlbmd0aDtcbiAgbGV0IGksXG4gICAgYiA9IDAsXG4gICAgYyxcbiAgICB4LFxuICAgIGwgPSAwLFxuICAgIGEsXG4gICAgciA9ICcnO1xuICBjb25zdCBBID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkrKykge1xuICAgIGVbQS5jaGFyQXQoaSldID0gaTtcbiAgfVxuICBmb3IgKHggPSAwOyB4IDwgTDsgeCsrKSB7XG4gICAgYyA9IGVbcy5jaGFyQXQoeCldO1xuICAgIGIgPSAoYiA8PCA2KSArIGM7XG4gICAgbCArPSA2O1xuICAgIHdoaWxlIChsID49IDgpIHtcbiAgICAgICgoYSA9IChiID4+PiAobCAtPSA4KSkgJiAweGZmKSB8fCB4IDwgTCAtIDIpICYmIChyICs9IHcoYSkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG4iLCJpbXBvcnQgeyBkZWNvZGVCYXNlNjQsIGVuY29kZUJhc2U2NCB9IGZyb20gJy4vYmFzZTY0JztcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXJcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIERldlRva2VuKHVzZXJJZDogc3RyaW5nKSB7XG4gIHJldHVybiBbXG4gICAgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOScsIC8ve1wiYWxnXCI6IFwiSFMyNTZcIiwgXCJ0eXBcIjogXCJKV1RcIn1cbiAgICBlbmNvZGVCYXNlNjQoSlNPTi5zdHJpbmdpZnkoeyB1c2VyX2lkOiB1c2VySWQgfSkpLFxuICAgICdkZXZ0b2tlbicsIC8vIGhhcmRjb2RlZCBzaWduYXR1cmVcbiAgXS5qb2luKCcuJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgZnJhZ21lbnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3QgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgY29uc3QgcGF5bG9hZCA9IGRlY29kZUJhc2U2NChiNjRQYXlsb2FkKTtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gIHJldHVybiBkYXRhLnVzZXJfaWQgYXMgc3RyaW5nO1xufVxuIiwiaW1wb3J0IHsgVXNlckZyb21Ub2tlbiB9IGZyb20gJy4vc2lnbmluZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgdHlwZSB7IFRva2VuT3JQcm92aWRlciwgVXNlcldpdGhJZCB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFRva2VuTWFuYWdlclxuICpcbiAqIEhhbmRsZXMgYWxsIHRoZSBvcGVyYXRpb25zIGFyb3VuZCB1c2VyIHRva2VuLlxuICovXG5leHBvcnQgY2xhc3MgVG9rZW5NYW5hZ2VyIHtcbiAgbG9hZFRva2VuUHJvbWlzZTogUHJvbWlzZTxzdHJpbmc+IHwgbnVsbDtcbiAgdHlwZTogJ3N0YXRpYycgfCAncHJvdmlkZXInO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIHRva2VuPzogc3RyaW5nO1xuICB0b2tlblByb3ZpZGVyPzogVG9rZW5PclByb3ZpZGVyO1xuICB1c2VyPzogVXNlcldpdGhJZDtcbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqXG4gICAqIEBwYXJhbSB7U2VjcmV0fSBzZWNyZXRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHNlY3JldD86IHN0cmluZykge1xuICAgIHRoaXMubG9hZFRva2VuUHJvbWlzZSA9IG51bGw7XG4gICAgaWYgKHNlY3JldCkge1xuICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgfVxuXG4gICAgdGhpcy50eXBlID0gJ3N0YXRpYyc7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBzdGF0aWMgc3RyaW5nIHRva2VuIG9yIHRva2VuIHByb3ZpZGVyLlxuICAgKiBUb2tlbiBwcm92aWRlciBzaG91bGQgcmV0dXJuIGEgdG9rZW4gc3RyaW5nIG9yIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyB0byBzdHJpbmcgdG9rZW4uXG4gICAqXG4gICAqIEBwYXJhbSB7VG9rZW5PclByb3ZpZGVyfSB0b2tlbk9yUHJvdmlkZXIgLSB0aGUgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gICAqIEBwYXJhbSB7VXNlclJlc3BvbnNlfSB1c2VyIC0gdGhlIHVzZXIgb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzQW5vbnltb3VzIC0gd2hldGhlciB0aGUgdXNlciBpcyBhbm9ueW1vdXMgb3Igbm90LlxuICAgKi9cbiAgc2V0VG9rZW5PclByb3ZpZGVyID0gYXN5bmMgKFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbk9yUHJvdmlkZXIsIHVzZXIsIGlzQW5vbnltb3VzKTtcbiAgICB0aGlzLnVzZXIgPSB1c2VyO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24odG9rZW5PclByb3ZpZGVyKSkge1xuICAgICAgdGhpcy50b2tlblByb3ZpZGVyID0gdG9rZW5PclByb3ZpZGVyO1xuICAgICAgdGhpcy50eXBlID0gJ3Byb3ZpZGVyJztcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMudG9rZW4gPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICB0aGlzLnR5cGUgPSAnc3RhdGljJztcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmxvYWRUb2tlbigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldHMgdGhlIHRva2VuIG1hbmFnZXIuXG4gICAqIFVzZWZ1bCBmb3IgY2xpZW50IGRpc2Nvbm5lY3Rpb24gb3Igc3dpdGNoaW5nIHVzZXIuXG4gICAqL1xuICByZXNldCA9ICgpID0+IHtcbiAgICB0aGlzLnRva2VuID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICB9O1xuXG4gIC8vIFZhbGlkYXRlcyB0aGUgdXNlciB0b2tlbi5cbiAgdmFsaWRhdGVUb2tlbiA9IChcbiAgICB0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIGlzQW5vbnltb3VzOiBib29sZWFuLFxuICApID0+IHtcbiAgICAvLyBhbGxvdyBlbXB0eSB0b2tlbiBmb3IgYW5vbiB1c2VyXG4gICAgaWYgKHVzZXIgJiYgaXNBbm9ueW1vdXMgJiYgIXRva2VuT3JQcm92aWRlcikgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgYWxsb3cgZW1wdHkgdG9rZW4gZm9yIG5vbi1zZXJ2ZXIgc2lkZSBjbGllbnQuXG4gICAgaWYgKCF0aGlzLnNlY3JldCAmJiAhdG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXJXaXRoSWQgdG9rZW4gY2FuIG5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRva2VuT3JQcm92aWRlciAmJlxuICAgICAgdHlwZW9mIHRva2VuT3JQcm92aWRlciAhPT0gJ3N0cmluZycgJiZcbiAgICAgICFpc0Z1bmN0aW9uKHRva2VuT3JQcm92aWRlcilcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlciB0b2tlbiBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHRva2VuT3JQcm92aWRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIEFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9ueW1vdXMgdXNlcnNcbiAgICAgIGlmIChpc0Fub255bW91cyAmJiB0b2tlbk9yUHJvdmlkZXIgPT09ICcnKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHRva2VuVXNlcklkID0gVXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuICAgICAgaWYgKFxuICAgICAgICB0b2tlbk9yUHJvdmlkZXIgIT0gbnVsbCAmJlxuICAgICAgICAodG9rZW5Vc2VySWQgPT0gbnVsbCB8fFxuICAgICAgICAgIHRva2VuVXNlcklkID09PSAnJyB8fFxuICAgICAgICAgICghaXNBbm9ueW1vdXMgJiYgdG9rZW5Vc2VySWQgIT09IHVzZXIuaWQpKVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndXNlclRva2VuIGRvZXMgbm90IGhhdmUgYSB1c2VyX2lkIG9yIGlzIG5vdCBtYXRjaGluZyB3aXRoIHVzZXIuaWQnLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXNvbHZlcyB3aGVuIHRva2VuIGlzIHJlYWR5LiBUaGlzIGZ1bmN0aW9uIGlzIHNpbXBseSB0byBjaGVjayBpZiBsb2FkVG9rZW4gaXMgaW4gcHJvZ3Jlc3MsIGluIHdoaWNoXG4gIC8vIGNhc2UgYSBmdW5jdGlvbiBzaG91bGQgd2FpdC5cbiAgdG9rZW5SZWFkeSA9ICgpID0+IHRoaXMubG9hZFRva2VuUHJvbWlzZTtcblxuICAvLyBGZXRjaGVzIGEgdG9rZW4gZnJvbSB0b2tlblByb3ZpZGVyIGZ1bmN0aW9uIGFuZCBzZXRzIGluIHRva2VuTWFuYWdlci5cbiAgLy8gSW4gY2FzZSBvZiBzdGF0aWMgdG9rZW4sIGl0IHdpbGwgc2ltcGx5IHJlc29sdmUgdG8gc3RhdGljIHRva2VuLlxuICBsb2FkVG9rZW4gPSAoKSA9PiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWFzeW5jLXByb21pc2UtZXhlY3V0b3JcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnc3RhdGljJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLnRva2VuIGFzIHN0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRva2VuUHJvdmlkZXIgJiYgdHlwZW9mIHRoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLnRva2VuID0gYXdhaXQgdGhpcy50b2tlblByb3ZpZGVyKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgbmV3IEVycm9yKGBDYWxsIHRvIHRva2VuUHJvdmlkZXIgZmFpbGVkIHdpdGggbWVzc2FnZTogJHtlfWApLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZSh0aGlzLnRva2VuKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmxvYWRUb2tlblByb21pc2U7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGN1cnJlbnQgdG9rZW5cbiAgZ2V0VG9rZW4gPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnVzZXIgJiYgIXRoaXMudG9rZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLnRva2VuO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBVc2VyIHRva2VuIGlzIG5vdCBzZXQuIEVpdGhlciBjbGllbnQuY29ubmVjdFVzZXIgd2Fzbid0IGNhbGxlZCBvciBjbGllbnQuZGlzY29ubmVjdCB3YXMgY2FsbGVkYCxcbiAgICApO1xuICB9O1xuXG4gIGlzU3RhdGljID0gKCkgPT4gdGhpcy50eXBlID09PSAnc3RhdGljJztcbn1cbiIsImltcG9ydCB7IEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBUElFcnJvclJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCBBUElFcnJvckNvZGVzOiBSZWNvcmQ8XG4gIHN0cmluZyxcbiAgeyBuYW1lOiBzdHJpbmc7IHJldHJ5YWJsZTogYm9vbGVhbiB9XG4+ID0ge1xuICAnLTEnOiB7IG5hbWU6ICdJbnRlcm5hbFN5c3RlbUVycm9yJywgcmV0cnlhYmxlOiB0cnVlIH0sXG4gICcyJzogeyBuYW1lOiAnQWNjZXNzS2V5RXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICczJzogeyBuYW1lOiAnQXV0aGVudGljYXRpb25GYWlsZWRFcnJvcicsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnNCc6IHsgbmFtZTogJ0lucHV0RXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICc2JzogeyBuYW1lOiAnRHVwbGljYXRlVXNlcm5hbWVFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzknOiB7IG5hbWU6ICdSYXRlTGltaXRFcnJvcicsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnMTYnOiB7IG5hbWU6ICdEb2VzTm90RXhpc3RFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzE3JzogeyBuYW1lOiAnTm90QWxsb3dlZEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMTgnOiB7IG5hbWU6ICdFdmVudE5vdFN1cHBvcnRlZEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMTknOiB7IG5hbWU6ICdDaGFubmVsRmVhdHVyZU5vdFN1cHBvcnRlZEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMjAnOiB7IG5hbWU6ICdNZXNzYWdlVG9vTG9uZ0Vycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMjEnOiB7IG5hbWU6ICdNdWx0aXBsZU5lc3RpbmdMZXZlbEVycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnMjInOiB7IG5hbWU6ICdQYXlsb2FkVG9vQmlnRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICcyMyc6IHsgbmFtZTogJ1JlcXVlc3RUaW1lb3V0RXJyb3InLCByZXRyeWFibGU6IHRydWUgfSxcbiAgJzI0JzogeyBuYW1lOiAnTWF4SGVhZGVyU2l6ZUV4Y2VlZGVkRXJyb3InLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICc0MCc6IHsgbmFtZTogJ0F1dGhFcnJvclRva2VuRXhwaXJlZCcsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzQxJzogeyBuYW1lOiAnQXV0aEVycm9yVG9rZW5Ob3RWYWxpZFlldCcsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzQyJzogeyBuYW1lOiAnQXV0aEVycm9yVG9rZW5Vc2VkQmVmb3JlSXNzdWVkQXQnLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICc0Myc6IHsgbmFtZTogJ0F1dGhFcnJvclRva2VuU2lnbmF0dXJlSW52YWxpZCcsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzQ0JzogeyBuYW1lOiAnQ3VzdG9tQ29tbWFuZEVuZHBvaW50TWlzc2luZ0Vycm9yJywgcmV0cnlhYmxlOiBmYWxzZSB9LFxuICAnNDUnOiB7IG5hbWU6ICdDdXN0b21Db21tYW5kRW5kcG9pbnRDYWxsRXJyb3InLCByZXRyeWFibGU6IHRydWUgfSxcbiAgJzQ2JzogeyBuYW1lOiAnQ29ubmVjdGlvbklETm90Rm91bmRFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzYwJzogeyBuYW1lOiAnQ29vbERvd25FcnJvcicsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnNjknOiB7IG5hbWU6ICdFcnJXcm9uZ1JlZ2lvbicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbiAgJzcwJzogeyBuYW1lOiAnRXJyUXVlcnlDaGFubmVsUGVybWlzc2lvbnMnLCByZXRyeWFibGU6IGZhbHNlIH0sXG4gICc3MSc6IHsgbmFtZTogJ0VyclRvb01hbnlDb25uZWN0aW9ucycsIHJldHJ5YWJsZTogdHJ1ZSB9LFxuICAnOTknOiB7IG5hbWU6ICdBcHBTdXNwZW5kZWRFcnJvcicsIHJldHJ5YWJsZTogZmFsc2UgfSxcbn07XG5cbi8vIHRvZG86IHRoaXMgaXMgbm90IGEgY29ycmVjdCBlcnJvciBkZWNsYXJhdGlvbi4gL3JlY29yZGluZ3MgZW5kcG9pbnQgcmV0dXJucyBlcnJvciBvYmplY3RzIGFzIGZvbGxvd3M6XG4vLyB7XG4vLyAgICAgXCJjb2RlXCI6IDE2LFxuLy8gICAgIFwibWVzc2FnZVwiOiBcIkxpc3RSZWNvcmRpbmdzIGZhaWxlZCB3aXRoIGVycm9yOiBcXFwiQ2FuJ3QgZmluZCBjYWxsIHdpdGggaWQgZGVmYXVsdDpiYmJiXFxcIlwiLFxuLy8gICAgIFwiU3RhdHVzQ29kZVwiOiA0MDQsXG4vLyAgICAgXCJkdXJhdGlvblwiOiBcIjAuMDBtc1wiLFxuLy8gICAgIFwibW9yZV9pbmZvXCI6IFwiaHR0cHM6Ly9nZXRzdHJlYW0uaW8vY2hhdC9kb2NzL2FwaV9lcnJvcnNfcmVzcG9uc2VcIixcbi8vICAgICBcImRldGFpbHNcIjogW11cbi8vIH1cblxudHlwZSBBUElFcnJvciA9IEVycm9yICYgeyBjb2RlOiBudW1iZXI7IGlzV1NGYWlsdXJlPzogYm9vbGVhbiB9O1xuXG5leHBvcnQgZnVuY3Rpb24gaXNBUElFcnJvcihlcnJvcjogRXJyb3IpOiBlcnJvciBpcyBBUElFcnJvciB7XG4gIHJldHVybiAoZXJyb3IgYXMgQVBJRXJyb3IpLmNvZGUgIT09IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3JSZXRyeWFibGUoZXJyb3I6IEFQSUVycm9yKSB7XG4gIGlmICghZXJyb3IuY29kZSkgcmV0dXJuIGZhbHNlO1xuICBjb25zdCBlcnIgPSBBUElFcnJvckNvZGVzW2Ake2Vycm9yLmNvZGV9YF07XG4gIGlmICghZXJyKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBlcnIucmV0cnlhYmxlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDb25uZWN0aW9uSURFcnJvcihlcnJvcjogQVBJRXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yLmNvZGUgPT09IDQ2OyAvLyBDb25uZWN0aW9uSUROb3RGb3VuZEVycm9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1dTRmFpbHVyZShlcnI6IEFQSUVycm9yKTogYm9vbGVhbiB7XG4gIGlmICh0eXBlb2YgZXJyLmlzV1NGYWlsdXJlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZXJyLmlzV1NGYWlsdXJlO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShlcnIubWVzc2FnZSkuaXNXU0ZhaWx1cmU7XG4gIH0gY2F0Y2ggKF8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3JSZXNwb25zZShcbiAgcmVzOiBBeGlvc1Jlc3BvbnNlPHVua25vd24+LFxuKTogcmVzIGlzIEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4ge1xuICByZXR1cm4gIXJlcy5zdGF0dXMgfHwgcmVzLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gcmVzLnN0YXR1cztcbn1cbiIsImltcG9ydCBheGlvcywgeyBBeGlvc1JlcXVlc3RDb25maWcsIENhbmNlbFRva2VuU291cmNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IGlzQVBJRXJyb3IsIGlzQ29ubmVjdGlvbklERXJyb3IsIGlzRXJyb3JSZXRyeWFibGUgfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBMb2dMZXZlbCwgU3RyZWFtVmlkZW9FdmVudCwgVVIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IENvbm5lY3RlZEV2ZW50IH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGVudW0gQ29ubmVjdGlvblN0YXRlIHtcbiAgQ2xvc2VkID0gJ0NMT1NFRCcsXG4gIENvbm5lY3RlZCA9ICdDT05ORUNURUQnLFxuICBDb25uZWN0aW5nID0gJ0NPTk5FQ1RJTkcnLFxuICBEaXNjb25uZWN0ZWQgPSAnRElTQ09OTkVDVEVEJyxcbiAgSW5pdCA9ICdJTklUJyxcbn1cblxuZXhwb3J0IGNsYXNzIFdTQ29ubmVjdGlvbkZhbGxiYWNrIHtcbiAgY2xpZW50OiBTdHJlYW1DbGllbnQ7XG4gIHN0YXRlOiBDb25uZWN0aW9uU3RhdGU7XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgY29ubmVjdGlvbklEPzogc3RyaW5nO1xuICBjYW5jZWxUb2tlbj86IENhbmNlbFRva2VuU291cmNlO1xuXG4gIGNvbnN0cnVjdG9yKGNsaWVudDogU3RyZWFtQ2xpZW50KSB7XG4gICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IENvbm5lY3Rpb25TdGF0ZS5Jbml0O1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG5cbiAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy5fb25saW5lU3RhdHVzQ2hhbmdlZCk7XG4gIH1cblxuICBfbG9nKG1zZzogc3RyaW5nLCBleHRyYTogVVIgPSB7fSwgbGV2ZWw6IExvZ0xldmVsID0gJ2luZm8nKSB7XG4gICAgdGhpcy5jbGllbnQubG9nZ2VyKGxldmVsLCAnV1NDb25uZWN0aW9uRmFsbGJhY2s6JyArIG1zZywge1xuICAgICAgLi4uZXh0cmEsXG4gICAgfSk7XG4gIH1cblxuICBfc2V0U3RhdGUoc3RhdGU6IENvbm5lY3Rpb25TdGF0ZSkge1xuICAgIHRoaXMuX2xvZyhgX3NldFN0YXRlKCkgLSAke3N0YXRlfWApO1xuXG4gICAgLy8gdHJhbnNpdGlvbiBmcm9tIGNvbm5lY3RpbmcgPT4gY29ubmVjdGVkXG4gICAgaWYgKFxuICAgICAgdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RpbmcgJiZcbiAgICAgIHN0YXRlID09PSBDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkXG4gICAgKSB7XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsIG9ubGluZTogdHJ1ZSB9KTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBzdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNsb3NlZCB8fFxuICAgICAgc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWRcbiAgICApIHtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJywgb25saW5lOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIH1cblxuICAvKiogQHByaXZhdGUgKi9cbiAgX29ubGluZVN0YXR1c0NoYW5nZWQgPSAoZXZlbnQ6IHsgdHlwZTogc3RyaW5nIH0pID0+IHtcbiAgICB0aGlzLl9sb2coYF9vbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSAke2V2ZW50LnR5cGV9YCk7XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKTtcbiAgICAgIHRoaXMuY2FuY2VsVG9rZW4/LmNhbmNlbCgnZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgICAgdGhpcy5jYW5jZWxUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScgJiYgdGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNsb3NlZCkge1xuICAgICAgdGhpcy5jb25uZWN0KHRydWUpO1xuICAgIH1cbiAgfTtcblxuICAvKiogQHByaXZhdGUgKi9cbiAgX3JlcSA9IGFzeW5jIDxUID0gVVI+KFxuICAgIHBhcmFtczogVVIsXG4gICAgY29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcsXG4gICAgcmV0cnk6IGJvb2xlYW4sXG4gICk6IFByb21pc2U8VD4gPT4ge1xuICAgIGlmICghdGhpcy5jYW5jZWxUb2tlbiAmJiAhcGFyYW1zLmNsb3NlKSB7XG4gICAgICB0aGlzLmNhbmNlbFRva2VuID0gYXhpb3MuQ2FuY2VsVG9rZW4uc291cmNlKCk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmRvQXhpb3NSZXF1ZXN0PFQ+KFxuICAgICAgICAnZ2V0JyxcbiAgICAgICAgKHRoaXMuY2xpZW50LmJhc2VVUkwgYXMgc3RyaW5nKS5yZXBsYWNlKCc6MzAzMCcsICc6ODkwMCcpICsgJy9sb25ncG9sbCcsIC8vIHJlcGxhY2UgcG9ydCBpZiBwcmVzZW50IGZvciB0ZXN0aW5nIHdpdGggbG9jYWwgQVBJXG4gICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAge1xuICAgICAgICAgIGNvbmZpZzogeyAuLi5jb25maWcsIGNhbmNlbFRva2VuOiB0aGlzLmNhbmNlbFRva2VuPy50b2tlbiB9LFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICBwdWJsaWNFbmRwb2ludDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7IC8vIGFsd2F5cyByZXNldCBpbiBjYXNlIG9mIG5vIGVycm9yXG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG5cbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGlmIChyZXRyeSAmJiBpc0Vycm9yUmV0cnlhYmxlKGVycikpIHtcbiAgICAgICAgdGhpcy5fbG9nKGBfcmVxKCkgLSBSZXRyeWFibGUgZXJyb3IsIHJldHJ5aW5nIHJlcXVlc3RgKTtcbiAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlcTxUPihwYXJhbXMsIGNvbmZpZywgcmV0cnkpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIC8qKiBAcHJpdmF0ZSAqL1xuICBfcG9sbCA9IGFzeW5jICgpID0+IHtcbiAgICB3aGlsZSAodGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuX3JlcTx7XG4gICAgICAgICAgZXZlbnRzOiBTdHJlYW1WaWRlb0V2ZW50W107XG4gICAgICAgIH0+KFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgKTsgLy8gMzBzID0+IEFQSSByZXNwb25kcyBpbiAyMHMgaWYgdGhlcmUgaXMgbm8gZXZlbnRcblxuICAgICAgICBpZiAoZGF0YS5ldmVudHM/Lmxlbmd0aCkge1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5ldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoZGF0YS5ldmVudHNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmIChheGlvcy5pc0NhbmNlbChlcnIpKSB7XG4gICAgICAgICAgdGhpcy5fbG9nKGBfcG9sbCgpIC0gYXhpb3MgY2FuY2VsZWQgcmVxdWVzdGApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKiBjbGllbnQuZG9BeGlvc1JlcXVlc3Qgd2lsbCB0YWtlIGNhcmUgb2YgVE9LRU5fRVhQSVJFRCBlcnJvciAqL1xuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGlzQ29ubmVjdGlvbklERXJyb3IoZXJyKSkge1xuICAgICAgICAgIHRoaXMuX2xvZyhgX3BvbGwoKSAtIENvbm5lY3Rpb25JRCBlcnJvciwgY29ubmVjdGluZyB3aXRob3V0IElELi4uYCk7XG4gICAgICAgICAgdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkRpc2Nvbm5lY3RlZCk7XG4gICAgICAgICAgdGhpcy5jb25uZWN0KHRydWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGlzQVBJRXJyb3IoZXJyKSAmJiAhaXNFcnJvclJldHJ5YWJsZShlcnIpKSB7XG4gICAgICAgICAgdGhpcy5fc2V0U3RhdGUoQ29ubmVjdGlvblN0YXRlLkNsb3NlZCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3QgdHJ5IHRvIG9wZW4gYSBsb25ncG9sbCByZXF1ZXN0XG4gICAqIEBwYXJhbSByZWNvbm5lY3Qgc2hvdWxkIGJlIGZhbHNlIGZvciBmaXJzdCBjYWxsIGFuZCB0cnVlIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIGtlZXAgdGhlIGNvbm5lY3Rpb24gYWxpdmUgYW5kIGNhbGwgcmVjb3ZlclN0YXRlXG4gICAqL1xuICBjb25uZWN0ID0gYXN5bmMgKHJlY29ubmVjdCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKSB7XG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgICdjb25uZWN0KCkgLSBjb25uZWN0aW5nIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLFxuICAgICAgICB7IHJlY29ubmVjdCB9LFxuICAgICAgICAnd2FybicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQ29ubmVjdGlvblN0YXRlLkNvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAnY29ubmVjdCgpIC0gYWxyZWFkeSBjb25uZWN0ZWQgYW5kIHBvbGxpbmcnLFxuICAgICAgICB7IHJlY29ubmVjdCB9LFxuICAgICAgICAnd2FybicsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0aW5nKTtcbiAgICB0aGlzLmNvbm5lY3Rpb25JRCA9IHVuZGVmaW5lZDsgLy8gY29ubmVjdCBzaG91bGQgYmUgc2VudCB3aXRoIGVtcHR5IGNvbm5lY3Rpb25faWQgc28gQVBJIGNyZWF0ZXMgb25lXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXZlbnQgfSA9IGF3YWl0IHRoaXMuX3JlcTx7XG4gICAgICAgIGV2ZW50OiBDb25uZWN0ZWRFdmVudDtcbiAgICAgIH0+KFxuICAgICAgICB7IGpzb246IHRoaXMuY2xpZW50Ll9idWlsZFdTUGF5bG9hZCgpIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aW1lb3V0OiA4MDAwLCAvLyA4c1xuICAgICAgICB9LFxuICAgICAgICByZWNvbm5lY3QsXG4gICAgICApO1xuXG4gICAgICB0aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ29ubmVjdGVkKTtcbiAgICAgIHRoaXMuY29ubmVjdGlvbklEID0gZXZlbnQuY29ubmVjdGlvbl9pZDtcbiAgICAgIHRoaXMuY2xpZW50LnJlc29sdmVDb25uZWN0aW9uSWQ/LigpO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICB0aGlzLl9wb2xsKCk7XG4gICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLl9zZXRTdGF0ZShDb25uZWN0aW9uU3RhdGUuQ2xvc2VkKTtcbiAgICAgIHRoaXMuY2xpZW50LnJlamVjdENvbm5lY3Rpb25JZD8uKCk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBpc0hlYWx0aHkgY2hlY2tzIGlmIHRoZXJlIGlzIGEgY29ubmVjdGlvbklEIGFuZCBjb25uZWN0aW9uIGlzIGluIENvbm5lY3RlZCBzdGF0ZVxuICAgKi9cbiAgaXNIZWFsdGh5ID0gKCkgPT4ge1xuICAgIHJldHVybiAhIXRoaXMuY29ubmVjdGlvbklEICYmIHRoaXMuc3RhdGUgPT09IENvbm5lY3Rpb25TdGF0ZS5Db25uZWN0ZWQ7XG4gIH07XG5cbiAgZGlzY29ubmVjdCA9IGFzeW5jICh0aW1lb3V0ID0gMjAwMCkgPT4ge1xuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLl9vbmxpbmVTdGF0dXNDaGFuZ2VkKTtcblxuICAgIHRoaXMuX3NldFN0YXRlKENvbm5lY3Rpb25TdGF0ZS5EaXNjb25uZWN0ZWQpO1xuICAgIHRoaXMuY2FuY2VsVG9rZW4/LmNhbmNlbCgnZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgIHRoaXMuY2FuY2VsVG9rZW4gPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBjb25uZWN0aW9uX2lkID0gdGhpcy5jb25uZWN0aW9uSUQ7XG4gICAgdGhpcy5jb25uZWN0aW9uSUQgPSB1bmRlZmluZWQ7XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5fcmVxKFxuICAgICAgICB7IGNsb3NlOiB0cnVlLCBjb25uZWN0aW9uX2lkIH0sXG4gICAgICAgIHtcbiAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICB9LFxuICAgICAgICBmYWxzZSxcbiAgICAgICk7XG4gICAgICB0aGlzLl9sb2coYGRpc2Nvbm5lY3QoKSAtIENsb3NlZCBjb25uZWN0aW9uSURgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuX2xvZyhgZGlzY29ubmVjdCgpIC0gRmFpbGVkYCwgeyBlcnIgfSwgJ2Vycm9yJyk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IGdldExvY2F0aW9uSGludCA9IGFzeW5jIChcbiAgaGludFVybCA9IGBodHRwczovL2hpbnQuc3RyZWFtLWlvLXZpZGVvLmNvbS9gLFxuICB0aW1lb3V0ID0gMjAwMCxcbiAgbWF4QXR0ZW1wdHMgPSAzLFxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnbG9jYXRpb24taGludCddKTtcblxuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCBsb2NhdGlvbkhpbnQgPSAnRVJSJztcbiAgZG8ge1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChoaW50VXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGF3c1BvcCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFtei1jZi1wb3AnKSB8fCAnRVJSJztcbiAgICAgIGxvZ2dlcignZGVidWcnLCBgTG9jYXRpb24gaGVhZGVyOiAke2F3c1BvcH1gKTtcbiAgICAgIGxvY2F0aW9uSGludCA9IGF3c1BvcC5zdWJzdHJpbmcoMCwgMyk7IC8vIEFNUzEtUDIgLT4gQU1TXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBnZXQgbG9jYXRpb24gaGludCBmcm9tICR7aGludFVybH1gLCBlKTtcbiAgICAgIGxvY2F0aW9uSGludCA9ICdFUlInO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gIH0gd2hpbGUgKGxvY2F0aW9uSGludCA9PT0gJ0VSUicgJiYgKythdHRlbXB0IDwgbWF4QXR0ZW1wdHMpO1xuXG4gIHJldHVybiBsb2NhdGlvbkhpbnQ7XG59O1xuIiwiaW1wb3J0IGF4aW9zLCB7XG4gIEF4aW9zRXJyb3IsXG4gIEF4aW9zSGVhZGVycyxcbiAgQXhpb3NJbnN0YW5jZSxcbiAgQXhpb3NSZXF1ZXN0Q29uZmlnLFxuICBBeGlvc1Jlc3BvbnNlLFxufSBmcm9tICdheGlvcyc7XG5pbXBvcnQgaHR0cHMgZnJvbSAnaHR0cHMnO1xuaW1wb3J0IHsgU3RhYmxlV1NDb25uZWN0aW9uIH0gZnJvbSAnLi9jb25uZWN0aW9uJztcbmltcG9ydCB7IERldlRva2VuIH0gZnJvbSAnLi9zaWduaW5nJztcbmltcG9ydCB7IFRva2VuTWFuYWdlciB9IGZyb20gJy4vdG9rZW5fbWFuYWdlcic7XG5pbXBvcnQgeyBXU0Nvbm5lY3Rpb25GYWxsYmFjayB9IGZyb20gJy4vY29ubmVjdGlvbl9mYWxsYmFjayc7XG5pbXBvcnQgeyBpc0Vycm9yUmVzcG9uc2UsIGlzV1NGYWlsdXJlIH0gZnJvbSAnLi9lcnJvcnMnO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBpc0Z1bmN0aW9uLFxuICBpc09ubGluZSxcbiAgS25vd25Db2RlcyxcbiAgcmFuZG9tSWQsXG4gIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgcmV0cnlJbnRlcnZhbCxcbiAgc2xlZXAsXG59IGZyb20gJy4vdXRpbHMnO1xuXG5pbXBvcnQge1xuICBBbGxDbGllbnRFdmVudHMsXG4gIEFsbENsaWVudEV2ZW50VHlwZXMsXG4gIEFQSUVycm9yUmVzcG9uc2UsXG4gIENsaWVudEV2ZW50TGlzdGVuZXIsXG4gIENvbm5lY3RBUElSZXNwb25zZSxcbiAgRXJyb3JGcm9tUmVzcG9uc2UsXG4gIExvZ2dlcixcbiAgU3RyZWFtQ2xpZW50T3B0aW9ucyxcbiAgU3RyZWFtVmlkZW9FdmVudCxcbiAgVG9rZW5PclByb3ZpZGVyLFxuICBVc2VyLFxuICBVc2VyV2l0aElkLFxufSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEluc2lnaHRNZXRyaWNzLCBwb3N0SW5zaWdodHMgfSBmcm9tICcuL2luc2lnaHRzJztcbmltcG9ydCB7IGdldExvY2F0aW9uSGludCB9IGZyb20gJy4vbG9jYXRpb24nO1xuaW1wb3J0IHsgQ3JlYXRlR3Vlc3RSZXF1ZXN0LCBDcmVhdGVHdWVzdFJlc3BvbnNlIH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbUNsaWVudCB7XG4gIF91c2VyPzogVXNlcldpdGhJZDtcbiAgYW5vbnltb3VzOiBib29sZWFuO1xuICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU/OiBib29sZWFuO1xuICBheGlvc0luc3RhbmNlOiBBeGlvc0luc3RhbmNlO1xuICBiYXNlVVJMPzogc3RyaW5nO1xuICBicm93c2VyOiBib29sZWFuO1xuICBjbGllbnRJRD86IHN0cmluZztcbiAga2V5OiBzdHJpbmc7XG4gIGxpc3RlbmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8QWxsQ2xpZW50RXZlbnRUeXBlcywgQ2xpZW50RXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcbiAgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJpdmF0ZSBsb2NhdGlvbkhpbnQ6IFByb21pc2U8c3RyaW5nPiB8IHVuZGVmaW5lZDtcblxuICBub2RlOiBib29sZWFuO1xuICBvcHRpb25zOiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIHNldFVzZXJQcm9taXNlOiBDb25uZWN0QVBJUmVzcG9uc2UgfCBudWxsO1xuICB0b2tlbk1hbmFnZXI6IFRva2VuTWFuYWdlcjtcbiAgdXNlcj86IFVzZXJXaXRoSWQ7XG4gIHVzZXJBZ2VudD86IHN0cmluZztcbiAgdXNlcklEPzogc3RyaW5nO1xuICB3c0Jhc2VVUkw/OiBzdHJpbmc7XG4gIHdzQ29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uIHwgbnVsbDtcbiAgd3NGYWxsYmFjaz86IFdTQ29ubmVjdGlvbkZhbGxiYWNrO1xuICB3c1Byb21pc2U6IENvbm5lY3RBUElSZXNwb25zZSB8IG51bGw7XG4gIGNvbnNlY3V0aXZlRmFpbHVyZXM6IG51bWJlcjtcbiAgaW5zaWdodE1ldHJpY3M6IEluc2lnaHRNZXRyaWNzO1xuICBkZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrOiBudW1iZXI7XG4gIGRlZmF1bHRXU1RpbWVvdXQ6IG51bWJlcjtcbiAgcmVzb2x2ZUNvbm5lY3Rpb25JZD86IEZ1bmN0aW9uO1xuICByZWplY3RDb25uZWN0aW9uSWQ/OiBGdW5jdGlvbjtcbiAgY29ubmVjdGlvbklkUHJvbWlzZT86IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPjtcbiAgZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZT86IFByb21pc2U8Q3JlYXRlR3Vlc3RSZXNwb25zZT47XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUgYXBpIGtleVxuICAgKiBAcGFyYW0ge1N0cmVhbUNsaWVudE9wdGlvbnN9IFtvcHRpb25zXSAtIGFkZGl0aW9uYWwgb3B0aW9ucywgaGVyZSB5b3UgY2FuIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gYXhpb3MgaW5zdGFuY2VcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNlY3JldF0gLSB0aGUgYXBpIHNlY3JldFxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJyb3dzZXJdIC0gZW5mb3JjZSB0aGUgY2xpZW50IHRvIGJlIGluIGJyb3dzZXIgbW9kZVxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLndhcm1VcF0gLSBkZWZhdWx0IHRvIGZhbHNlLCBpZiB0cnVlLCBjbGllbnQgd2lsbCBvcGVuIGEgY29ubmVjdGlvbiBhcyBzb29uIGFzIHBvc3NpYmxlIHRvIHNwZWVkIHVwIGZvbGxvd2luZyByZXF1ZXN0c1xuICAgKiBAcGFyYW0ge0xvZ2dlcn0gW29wdGlvbnMuTG9nZ2VyXSAtIGN1c3RvbSBsb2dnZXJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRpbWVvdXRdIC0gZGVmYXVsdCB0byAzMDAwXG4gICAqIEBwYXJhbSB7aHR0cHNBZ2VudH0gW29wdGlvbnMuaHR0cHNBZ2VudF0gLSBjdXN0b20gaHR0cHNBZ2VudCwgaW4gbm9kZSBpdCdzIGRlZmF1bHQgdG8gaHR0cHMuYWdlbnQoKVxuICAgKi9cbiAgY29uc3RydWN0b3Ioa2V5OiBzdHJpbmcsIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zKSB7XG4gICAgLy8gc2V0IHRoZSBrZXlcbiAgICB0aGlzLmtleSA9IGtleTtcblxuICAgIC8vIHNldCB0aGUgc2VjcmV0XG4gICAgdGhpcy5zZWNyZXQgPSBvcHRpb25zPy5zZWNyZXQ7XG5cbiAgICAvLyBzZXQgdGhlIG9wdGlvbnMuLi4gYW5kIGZpZ3VyZSBvdXQgZGVmYXVsdHMuLi5cbiAgICBjb25zdCBpbnB1dE9wdGlvbnMgPSBvcHRpb25zXG4gICAgICA/IG9wdGlvbnNcbiAgICAgIDogKHtcbiAgICAgICAgICBicm93c2VyOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyxcbiAgICAgICAgfSBhcyBQYXJ0aWFsPFN0cmVhbUNsaWVudE9wdGlvbnM+KTtcblxuICAgIHRoaXMuYnJvd3NlciA9IGlucHV0T3B0aW9ucy5icm93c2VyIHx8IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuICAgIHRoaXMubm9kZSA9ICF0aGlzLmJyb3dzZXI7XG5cbiAgICBpZiAodGhpcy5icm93c2VyKSB7XG4gICAgICB0aGlzLmxvY2F0aW9uSGludCA9IGdldExvY2F0aW9uSGludChcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50VXJsLFxuICAgICAgICBvcHRpb25zPy5sb2NhdGlvbkhpbnRUaW1lb3V0LFxuICAgICAgICBvcHRpb25zPy5sb2NhdGlvbkhpbnRNYXhBdHRlbXB0cyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdGltZW91dDogNTAwMCxcbiAgICAgIHdpdGhDcmVkZW50aWFsczogZmFsc2UsIC8vIG1ha2luZyBzdXJlIGNvb2tpZXMgYXJlIG5vdCBzZW50XG4gICAgICB3YXJtVXA6IGZhbHNlLFxuICAgICAgLi4uaW5wdXRPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5ub2RlICYmICF0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe1xuICAgICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgICAgIGtlZXBBbGl2ZU1zZWNzOiAzMDAwLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRCYXNlVVJMKFxuICAgICAgdGhpcy5vcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20vdmlkZW8nLFxuICAgICk7XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICdlbnYnIGluIHByb2Nlc3MgJiZcbiAgICAgIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX1JVTlxuICAgICkge1xuICAgICAgdGhpcy5zZXRCYXNlVVJMKCdodHRwOi8vbG9jYWxob3N0OjMwMzAvdmlkZW8nKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICdlbnYnIGluIHByb2Nlc3MgJiZcbiAgICAgIHByb2Nlc3MuZW52LlNUUkVBTV9MT0NBTF9URVNUX0hPU1RcbiAgICApIHtcbiAgICAgIHRoaXMuc2V0QmFzZVVSTChgaHR0cDovLyR7cHJvY2Vzcy5lbnYuU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVH0vdmlkZW9gKTtcbiAgICB9XG5cbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgYmFzZVVSTDogdGhpcy5iYXNlVVJMLFxuICAgIH0pO1xuXG4gICAgLy8gV1MgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZCB3aGVuIHNldFVzZXIgaXMgY2FsbGVkXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMud3NQcm9taXNlID0gbnVsbDtcbiAgICB0aGlzLnNldFVzZXJQcm9taXNlID0gbnVsbDtcblxuICAgIC8vIG1hcHBpbmcgYmV0d2VlbiBjaGFubmVsIGdyb3VwcyBhbmQgY29uZmlnc1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgdGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUgPVxuICAgICAgdGhpcy5vcHRpb25zPy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU7XG5cbiAgICAvLyBJZiBpdCBpcyBhIHNlcnZlci1zaWRlIGNsaWVudCwgdGhlbiBsZXRzIGluaXRpYWxpemUgdGhlIHRva2VuTWFuYWdlciwgc2luY2UgdG9rZW4gd2lsbCBiZVxuICAgIC8vIGdlbmVyYXRlZCBmcm9tIHNlY3JldC5cbiAgICB0aGlzLnRva2VuTWFuYWdlciA9IG5ldyBUb2tlbk1hbmFnZXIodGhpcy5zZWNyZXQpO1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgdGhpcy5pbnNpZ2h0TWV0cmljcyA9IG5ldyBJbnNpZ2h0TWV0cmljcygpO1xuXG4gICAgdGhpcy5kZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrID0gNjAwMDtcbiAgICB0aGlzLmRlZmF1bHRXU1RpbWVvdXQgPSAxNTAwMDtcblxuICAgIHRoaXMubG9nZ2VyID0gaXNGdW5jdGlvbihpbnB1dE9wdGlvbnMubG9nZ2VyKVxuICAgICAgPyBpbnB1dE9wdGlvbnMubG9nZ2VyXG4gICAgICA6ICgpID0+IG51bGw7XG4gIH1cblxuICBkZXZUb2tlbiA9ICh1c2VySUQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBEZXZUb2tlbih1c2VySUQpO1xuICB9O1xuXG4gIGdldEF1dGhUeXBlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gIH07XG5cbiAgc2V0QmFzZVVSTCA9IChiYXNlVVJMOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMXG4gICAgICAucmVwbGFjZSgnaHR0cCcsICd3cycpXG4gICAgICAucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgfTtcblxuICBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gICAgaGludFVybD86IHN0cmluZyxcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IGhpbnQgPSBhd2FpdCB0aGlzLmxvY2F0aW9uSGludDtcbiAgICBpZiAoIWhpbnQgfHwgaGludCA9PT0gJ0VSUicpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBoaW50VXJsID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIHRpbWVvdXQgPz8gdGhpcy5vcHRpb25zLmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25IaW50O1xuICAgIH1cbiAgICByZXR1cm4gaGludDtcbiAgfTtcblxuICBfZ2V0Q29ubmVjdGlvbklEID0gKCkgPT5cbiAgICB0aGlzLndzQ29ubmVjdGlvbj8uY29ubmVjdGlvbklEIHx8IHRoaXMud3NGYWxsYmFjaz8uY29ubmVjdGlvbklEO1xuXG4gIF9oYXNDb25uZWN0aW9uSUQgPSAoKSA9PiBCb29sZWFuKHRoaXMuX2dldENvbm5lY3Rpb25JRCgpKTtcblxuICAvKipcbiAgICogY29ubmVjdFVzZXIgLSBTZXQgdGhlIGN1cnJlbnQgdXNlciBhbmQgb3BlbiBhIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqXG4gICAqIEBwYXJhbSB1c2VyIERhdGEgYWJvdXQgdGhpcyB1c2VyLiBJRSB7bmFtZTogXCJqb2huXCJ9XG4gICAqIEBwYXJhbSB7VG9rZW5PclByb3ZpZGVyfSB1c2VyVG9rZW5PclByb3ZpZGVyIFRva2VuIG9yIHByb3ZpZGVyXG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIHNldHVwXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHVzZXJUb2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcixcbiAgKSA9PiB7XG4gICAgaWYgKCF1c2VyLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImlkXCIgZmllbGQgb24gdGhlIHVzZXIgaXMgbWlzc2luZycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxpbmcgY29ubmVjdFVzZXIgbXVsdGlwbGUgdGltZXMgaXMgcG90ZW50aWFsbHkgdGhlIHJlc3VsdCBvZiBhICBiYWQgaW50ZWdyYXRpb24sIGhvd2V2ZXIsXG4gICAgICogSWYgdGhlIHVzZXIgaWQgcmVtYWlucyB0aGUgc2FtZSB3ZSBkb24ndCB0aHJvdyBlcnJvclxuICAgICAqL1xuICAgIGlmICh0aGlzLnVzZXJJRCA9PT0gdXNlci5pZCAmJiB0aGlzLnNldFVzZXJQcm9taXNlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnQ29uc2VjdXRpdmUgY2FsbHMgdG8gY29ubmVjdFVzZXIgaXMgZGV0ZWN0ZWQsIGlkZWFsbHkgeW91IHNob3VsZCBvbmx5IGNhbGwgdGhpcyBmdW5jdGlvbiBvbmNlIGluIHlvdXIgYXBwLicsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0VXNlclByb21pc2U7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlcklEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVc2UgY2xpZW50LmRpc2Nvbm5lY3QoKSBiZWZvcmUgdHJ5aW5nIHRvIGNvbm5lY3QgYXMgYSBkaWZmZXJlbnQgdXNlci4gY29ubmVjdFVzZXIgd2FzIGNhbGxlZCB0d2ljZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy5faXNVc2luZ1NlcnZlckF1dGgoKSB8fCB0aGlzLm5vZGUpICYmXG4gICAgICAhdGhpcy5vcHRpb25zLmFsbG93U2VydmVyU2lkZUNvbm5lY3RcbiAgICApIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdQbGVhc2UgZG8gbm90IHVzZSBjb25uZWN0VXNlciBzZXJ2ZXIgc2lkZS4gY29ubmVjdFVzZXIgaW1wYWN0cyBNQVUgYW5kIGNvbmN1cnJlbnQgY29ubmVjdGlvbiB1c2FnZSBhbmQgdGh1cyB5b3VyIGJpbGwuIElmIHlvdSBoYXZlIGEgdmFsaWQgdXNlLWNhc2UsIGFkZCBcImFsbG93U2VydmVyU2lkZUNvbm5lY3Q6IHRydWVcIiB0byB0aGUgY2xpZW50IG9wdGlvbnMgdG8gZGlzYWJsZSB0aGlzIHdhcm5pbmcuJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gd2UgZ2VuZXJhdGUgdGhlIGNsaWVudCBpZCBjbGllbnQgc2lkZVxuICAgIHRoaXMudXNlcklEID0gdXNlci5pZDtcbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgc2V0VG9rZW5Qcm9taXNlID0gdGhpcy5fc2V0VG9rZW4oXG4gICAgICB1c2VyLFxuICAgICAgdXNlclRva2VuT3JQcm92aWRlcixcbiAgICAgIHRoaXMuYW5vbnltb3VzLFxuICAgICk7XG4gICAgdGhpcy5fc2V0VXNlcih1c2VyKTtcblxuICAgIGNvbnN0IHdzUHJvbWlzZSA9IHRoaXMub3BlbkNvbm5lY3Rpb24oKTtcblxuICAgIHRoaXMuc2V0VXNlclByb21pc2UgPSBQcm9taXNlLmFsbChbc2V0VG9rZW5Qcm9taXNlLCB3c1Byb21pc2VdKS50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4gcmVzdWx0WzFdLCAvLyBXZSBvbmx5IHJldHVybiBjb25uZWN0aW9uIHByb21pc2U7XG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy51cGRhdGVOZXR3b3JrQ29ubmVjdGlvblN0YXR1cyk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXRVc2VyUHJvbWlzZTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICh0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSkge1xuICAgICAgICAvLyBjbGVhbnVwIGNsaWVudCB0byBhbGxvdyB0aGUgdXNlciB0byByZXRyeSBjb25uZWN0VXNlciBhZ2FpblxuICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0VXNlcigpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBfc2V0VG9rZW4gPSAoXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICB1c2VyVG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgaXNBbm9ueW1vdXM6IGJvb2xlYW4sXG4gICkgPT5cbiAgICB0aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIoXG4gICAgICB1c2VyVG9rZW5PclByb3ZpZGVyLFxuICAgICAgdXNlcixcbiAgICAgIGlzQW5vbnltb3VzLFxuICAgICk7XG5cbiAgX3NldFVzZXIgPSAodXNlcjogVXNlcldpdGhJZCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3VzZXIgPSB7IC4uLnVzZXIgfTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBjbG9zZUNvbm5lY3Rpb24gPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHRoaXMud3NDb25uZWN0aW9uPy5kaXNjb25uZWN0KHRpbWVvdXQpLFxuICAgICAgdGhpcy53c0ZhbGxiYWNrPy5kaXNjb25uZWN0KHRpbWVvdXQpLFxuICAgIF0pO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBXZWJTb2NrZXQgY29ubmVjdGlvbiB3aXRoIHRoZSBjdXJyZW50IHVzZXIuIFJldHVybnMgZW1wdHkgcHJvbWlzZSwgaWYgdGhlcmUgaXMgYW4gYWN0aXZlIGNvbm5lY3Rpb25cbiAgICovXG4gIG9wZW5Db25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghdGhpcy51c2VySUQpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAnVXNlcldpdGhJZCBpcyBub3Qgc2V0IG9uIGNsaWVudCwgdXNlIGNsaWVudC5jb25uZWN0VXNlciBvciBjbGllbnQuY29ubmVjdEFub255bW91c1VzZXIgaW5zdGVhZCcsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLndzQ29ubmVjdGlvbj8uaXNDb25uZWN0aW5nICYmIHRoaXMud3NQcm9taXNlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnY2xpZW50Om9wZW5Db25uZWN0aW9uKCkgLSBjb25uZWN0aW9uIGFscmVhZHkgaW4gcHJvZ3Jlc3MnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLndzUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAodGhpcy53c0Nvbm5lY3Rpb24/LmlzSGVhbHRoeSB8fCB0aGlzLndzRmFsbGJhY2s/LmlzSGVhbHRoeSgpKSAmJlxuICAgICAgdGhpcy5faGFzQ29ubmVjdGlvbklEKClcbiAgICApIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIG9wZW5Db25uZWN0aW9uIGNhbGxlZCB0d2ljZSwgaGVhbHRoeSBjb25uZWN0aW9uIGFscmVhZHkgZXhpc3RzJyxcbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcblxuICAgIHRoaXMuY2xpZW50SUQgPSBgJHt0aGlzLnVzZXJJRH0tLSR7cmFuZG9tSWQoKX1gO1xuICAgIHRoaXMud3NQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgcmV0dXJuIHRoaXMud3NQcm9taXNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgd2Vic29ja2V0IGFuZCByZW1vdmVzIHRoZSB1c2VyIGZyb20gY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCBNYXggbnVtYmVyIG9mIG1zLCB0byB3YWl0IGZvciBjbG9zZSBldmVudCBvZiB3ZWJzb2NrZXQsIGJlZm9yZSBmb3JjZWZ1bGx5IGFzc3VtaW5nIHN1Y2Nlc3NmdWwgZGlzY29ubmVjdGlvbi5cbiAgICogICAgICAgICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0Nsb3NlRXZlbnRcbiAgICovXG4gIGRpc2Nvbm5lY3RVc2VyID0gYXN5bmMgKHRpbWVvdXQ/OiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmxvZ2dlcignaW5mbycsICdjbGllbnQ6ZGlzY29ubmVjdCgpIC0gRGlzY29ubmVjdGluZyB0aGUgY2xpZW50Jyk7XG5cbiAgICAvLyByZW1vdmUgdGhlIHVzZXIgc3BlY2lmaWMgZmllbGRzXG4gICAgZGVsZXRlIHRoaXMudXNlcjtcbiAgICBkZWxldGUgdGhpcy5fdXNlcjtcbiAgICBkZWxldGUgdGhpcy51c2VySUQ7XG5cbiAgICB0aGlzLmFub255bW91cyA9IGZhbHNlO1xuXG4gICAgYXdhaXQgdGhpcy5jbG9zZUNvbm5lY3Rpb24odGltZW91dCk7XG4gICAgcmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzKHRoaXMudXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMpO1xuXG4gICAgdGhpcy50b2tlbk1hbmFnZXIucmVzZXQoKTtcblxuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgY29ubmVjdEd1ZXN0VXNlciA9IGFzeW5jICh1c2VyOiBVc2VyICYgeyB0eXBlOiAnZ3Vlc3QnIH0pID0+IHtcbiAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UgPSB0aGlzLmRvQXhpb3NSZXF1ZXN0PFxuICAgICAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbiAgICAgIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgID4oXG4gICAgICAncG9zdCcsXG4gICAgICAnL2d1ZXN0JyxcbiAgICAgIHtcbiAgICAgICAgdXNlcjoge1xuICAgICAgICAgIC4uLnVzZXIsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9LFxuICAgICk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZTtcbiAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UuZmluYWxseShcbiAgICAgICgpID0+ICh0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UgPSB1bmRlZmluZWQpLFxuICAgICk7XG5cbiAgICByZXR1cm4gdGhpcy5jb25uZWN0VXNlcihyZXNwb25zZS51c2VyLCByZXNwb25zZS5hY2Nlc3NfdG9rZW4pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBjb25uZWN0QW5vbnltb3VzVXNlciAtIFNldCBhbiBhbm9ueW1vdXMgdXNlciBhbmQgb3BlbiBhIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqL1xuICBjb25uZWN0QW5vbnltb3VzVXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApID0+IHtcbiAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy51cGRhdGVOZXR3b3JrQ29ubmVjdGlvblN0YXR1cyk7XG4gICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlKCk7XG5cbiAgICB0aGlzLmFub255bW91cyA9IHRydWU7XG4gICAgYXdhaXQgdGhpcy5fc2V0VG9rZW4odXNlciwgdG9rZW5PclByb3ZpZGVyLCB0aGlzLmFub255bW91cyk7XG5cbiAgICB0aGlzLl9zZXRVc2VyKHVzZXIpO1xuICAgIC8vIHNvbWUgZW5kcG9pbnRzIHJlcXVpcmUgYSBjb25uZWN0aW9uX2lkIHRvIGJlIHJlc29sdmVkLlxuICAgIC8vIGFzIGFub255bW91cyB1c2VycyBhcmVuJ3QgYWxsb3dlZCB0byBvcGVuIFdTIGNvbm5lY3Rpb25zLCB3ZSBqdXN0XG4gICAgLy8gcmVzb2x2ZSB0aGUgY29ubmVjdGlvbl9pZCBoZXJlLlxuICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25JZD8uKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIG9uIC0gTGlzdGVuIHRvIGV2ZW50cyBvbiBhbGwgY2hhbm5lbHMgYW5kIHVzZXJzIHlvdXIgd2F0Y2hpbmdcbiAgICpcbiAgICogY2xpZW50Lm9uKCdtZXNzYWdlLm5ldycsIGV2ZW50ID0+IHtjb25zb2xlLmxvZyhcIm15IG5ldyBtZXNzYWdlXCIsIGV2ZW50LCBjaGFubmVsLnN0YXRlLm1lc3NhZ2VzKX0pXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIGV2ZW50IHR5cGUgdG8gbGlzdGVuIGZvciAob3B0aW9uYWwpXG4gICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gY2FsbFxuICAgKlxuICAgKiBAcmV0dXJuICBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2gsIHdoZW4gY2FsbGVkLCB1bnN1YnNjcmliZXMgdGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqL1xuICBvbiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBZGRpbmcgbGlzdGVuZXIgZm9yICR7ZXZlbnROYW1lfSBldmVudGApO1xuICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0/LnB1c2goY2FsbGJhY2sgYXMgQ2xpZW50RXZlbnRMaXN0ZW5lcjxhbnk+KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogb2ZmIC0gUmVtb3ZlIHRoZSBldmVudCBoYW5kbGVyXG4gICAqL1xuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGNhbGxiYWNrOiBDbGllbnRFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgUmVtb3ZpbmcgbGlzdGVuZXIgZm9yICR7ZXZlbnROYW1lfSBldmVudGApO1xuICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0gPSB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdPy5maWx0ZXIoXG4gICAgICAodmFsdWUpID0+IHZhbHVlICE9PSBjYWxsYmFjayxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzZXRzIHVwIHRoZSB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VcbiAgICovXG4gIF9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgLyoqIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIG9uY2UgY29ubmVjdGlvbiBpZCBpcyBzZXQgKi9cbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2UgPSBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KFxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0aGlzLnJlc29sdmVDb25uZWN0aW9uSWQgPSByZXNvbHZlO1xuICAgICAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25JZCA9IHJlamVjdDtcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBfbG9nQXBpUmVxdWVzdCA9IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogdW5rbm93bixcbiAgICBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0sXG4gICkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCd0cmFjZScsIGBjbGllbnQ6ICR7dHlwZX0gLSBSZXF1ZXN0IC0gJHt1cmx9YCwge1xuICAgICAgcGF5bG9hZDogZGF0YSxcbiAgICAgIGNvbmZpZyxcbiAgICB9KTtcbiAgfTtcblxuICBfbG9nQXBpUmVzcG9uc2UgPSA8VD4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+LFxuICApID0+IHtcbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgICd0cmFjZScsXG4gICAgICBgY2xpZW50OiR7dHlwZX0gLSBSZXNwb25zZSAtIHVybDogJHt1cmx9ID4gc3RhdHVzICR7cmVzcG9uc2Uuc3RhdHVzfWAsXG4gICAgICB7XG4gICAgICAgIHJlc3BvbnNlLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIF9sb2dBcGlFcnJvciA9ICh0eXBlOiBzdHJpbmcsIHVybDogc3RyaW5nLCBlcnJvcjogdW5rbm93bikgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBjbGllbnQ6JHt0eXBlfSAtIEVycm9yIC0gdXJsOiAke3VybH1gLCB7XG4gICAgICB1cmwsXG4gICAgICBlcnJvcixcbiAgICB9KTtcbiAgfTtcblxuICBkb0F4aW9zUmVxdWVzdCA9IGFzeW5jIDxULCBEID0gdW5rbm93bj4oXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0gJiB7IHB1YmxpY0VuZHBvaW50PzogYm9vbGVhbiB9ID0ge30sXG4gICk6IFByb21pc2U8VD4gPT4ge1xuICAgIGlmICghb3B0aW9ucy5wdWJsaWNFbmRwb2ludCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICB0aGlzLnRva2VuTWFuYWdlci50b2tlblJlYWR5KCksXG4gICAgICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSxcbiAgICAgIF0pO1xuICAgICAgLy8gd2UgbmVlZCB0byB3YWl0IGZvciBwcmVzZW5jZSBvZiBjb25uZWN0aW9uIGlkIGJlZm9yZSBtYWtpbmcgcmVxdWVzdHNcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaW4gY2FzZSBjb25uZWN0aW9uIGlkIHdhcyByZWplY3RlZFxuICAgICAgICAvLyByZWNvbm5lY3Rpb24gbWF5YmUgaW4gcHJvZ3Jlc3NcbiAgICAgICAgLy8gd2UgY2FuIHdhaXQgZm9yIGhlYWx0aHkgY29ubmVjdGlvbiB0byByZXNvbHZlLCB3aGljaCByZWplY3RzIHdoZW4gMTVzIHRpbWVvdXQgaXMgcmVhY2hlZFxuICAgICAgICBhd2FpdCB0aGlzLndzQ29ubmVjdGlvbj8uX3dhaXRGb3JIZWFsdGh5KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdENvbmZpZyA9IHRoaXMuX2VucmljaEF4aW9zT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICAgICAgdGhpcy5fbG9nQXBpUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZ2V0KHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZGVsZXRlKHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Bvc3QnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBvc3QodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHV0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5wdXQodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGF0Y2gnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBhdGNoKHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29wdGlvbnMnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLm9wdGlvbnModXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVxdWVzdCB0eXBlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2dBcGlSZXNwb25zZTxUPih0eXBlLCB1cmwsIHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH0gY2F0Y2ggKGU6IGFueSAvKipUT0RPOiBnZW5lcmFsaXplIGVycm9yIHR5cGVzICAqLykge1xuICAgICAgZS5jbGllbnRfcmVxdWVzdF9pZCA9IHJlcXVlc3RDb25maWcuaGVhZGVycz8uWyd4LWNsaWVudC1yZXF1ZXN0LWlkJ107XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIGlmIChlLnJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZS5yZXNwb25zZSk7XG4gICAgICAgIC8qKiBjb25uZWN0aW9uX2ZhbGxiYWNrIGRlcGVuZHMgb24gdGhpcyB0b2tlbiBleHBpcmF0aW9uIGxvZ2ljICovXG4gICAgICAgIGlmIChcbiAgICAgICAgICBlLnJlc3BvbnNlLmRhdGEuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICAgIXRoaXMudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA+IDEpIHtcbiAgICAgICAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KHR5cGUsIHVybCwgZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUmVzcG9uc2UoZS5yZXNwb25zZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9sb2dBcGlFcnJvcih0eXBlLCB1cmwsIGUpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgICB0aHJvdyBlIGFzIEF4aW9zRXJyb3I8QVBJRXJyb3JSZXNwb25zZT47XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGdldCA9IDxUPih1cmw6IHN0cmluZywgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIHVua25vd24+KCdnZXQnLCB1cmwsIG51bGwsIHtcbiAgICAgIHBhcmFtcyxcbiAgICB9KTtcbiAgfTtcblxuICBwdXQgPSA8VCwgRCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KCdwdXQnLCB1cmwsIGRhdGEsIHsgcGFyYW1zIH0pO1xuICB9O1xuXG4gIHBvc3QgPSA8VCwgRCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KCdwb3N0JywgdXJsLCBkYXRhLCB7IHBhcmFtcyB9KTtcbiAgfTtcblxuICBwYXRjaCA9IDxULCBEID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IEQsXG4gICAgcGFyYW1zPzogQXhpb3NSZXF1ZXN0Q29uZmlnWydwYXJhbXMnXSxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4oJ3BhdGNoJywgdXJsLCBkYXRhLCB7IHBhcmFtcyB9KTtcbiAgfTtcblxuICBkZWxldGUgPSA8VD4odXJsOiBzdHJpbmcsIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10pID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCB1bmtub3duPignZGVsZXRlJywgdXJsLCBudWxsLCB7XG4gICAgICBwYXJhbXMsXG4gICAgfSk7XG4gIH07XG5cbiAgZXJyb3JGcm9tUmVzcG9uc2UgPSAoXG4gICAgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4sXG4gICk6IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIHN0YXR1cyB9ID0gcmVzcG9uc2U7XG4gICAgY29uc3QgZXJyID0gbmV3IEVycm9yRnJvbVJlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+KCk7XG4gICAgZXJyLm1lc3NhZ2UgPSBgU3RyZWFtIGVycm9yIGNvZGUgJHtkYXRhLmNvZGV9OiAke2RhdGEubWVzc2FnZX1gO1xuICAgIGVyci5jb2RlID0gZGF0YS5jb2RlO1xuICAgIGVyci51bnJlY292ZXJhYmxlID0gZGF0YS51bnJlY292ZXJhYmxlO1xuICAgIGVyci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGVyci5zdGF0dXMgPSBzdGF0dXM7XG4gICAgcmV0dXJuIGVycjtcbiAgfTtcblxuICBoYW5kbGVSZXNwb25zZSA9IDxUPihyZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPikgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChpc0Vycm9yUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgZGlzcGF0Y2hFdmVudCA9IChldmVudDogU3RyZWFtVmlkZW9FdmVudCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBEaXNwYXRjaGluZyBldmVudDogJHtldmVudC50eXBlfWAsIGV2ZW50KTtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAvLyBjYWxsIGdlbmVyaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycy5hbGwgfHwgW10pIHtcbiAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBjYWxsIHR5cGUgc3BlY2lmaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXSB8fCBbXSkge1xuICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCB8fCAhdGhpcy5fdXNlcikge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBzdGFydGluZyB0aGUgY29ubmVjdGlvbicsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMud3NCYXNlVVJMKSB7XG4gICAgICB0aHJvdyBFcnJvcignV2Vic29ja2V0IGJhc2UgdXJsIG5vdCBzZXQnKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNsaWVudElEKSB7XG4gICAgICB0aHJvdyBFcnJvcignY2xpZW50SUQgaXMgbm90IHNldCcpO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLndzQ29ubmVjdGlvbiAmJlxuICAgICAgKHRoaXMub3B0aW9ucy53YXJtVXAgfHwgdGhpcy5vcHRpb25zLmVuYWJsZUluc2lnaHRzKVxuICAgICkge1xuICAgICAgdGhpcy5fc2F5SGkoKTtcbiAgICB9XG4gICAgLy8gVGhlIFN0YWJsZVdTQ29ubmVjdGlvbiBoYW5kbGVzIGFsbCB0aGUgcmVjb25uZWN0aW9uIGxvZ2ljLlxuICAgIGlmICh0aGlzLm9wdGlvbnMud3NDb25uZWN0aW9uICYmIHRoaXMubm9kZSkge1xuICAgICAgLy8gSW50ZW50aW9uYWxseSBhdm9pZGluZyBhZGRpbmcgdHMgZ2VuZXJpY3Mgb24gd3NDb25uZWN0aW9uIGluIG9wdGlvbnMgc2luY2UgaXRzIG9ubHkgdXNlZnVsIGZvciB1bml0IHRlc3QgcHVycG9zZS5cbiAgICAgICh0aGlzLm9wdGlvbnMud3NDb25uZWN0aW9uIGFzIHVua25vd24gYXMgU3RhYmxlV1NDb25uZWN0aW9uKS5zZXRDbGllbnQoXG4gICAgICAgIHRoaXMsXG4gICAgICApO1xuICAgICAgdGhpcy53c0Nvbm5lY3Rpb24gPSB0aGlzLm9wdGlvbnNcbiAgICAgICAgLndzQ29ubmVjdGlvbiBhcyB1bmtub3duIGFzIFN0YWJsZVdTQ29ubmVjdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBuZXcgU3RhYmxlV1NDb25uZWN0aW9uKHRoaXMpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAvLyBpZiBmYWxsYmFjayBpcyB1c2VkIGJlZm9yZSwgY29udGludWUgdXNpbmcgaXQgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciBXUyB0byBmYWlsXG4gICAgICBpZiAodGhpcy53c0ZhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnU3RyZWFtQ2xpZW50LmNvbm5lY3Q6IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QoKScpO1xuICAgICAgLy8gaWYgV1NGYWxsYmFjayBpcyBlbmFibGVkLCB3cyBjb25uZWN0IHNob3VsZCB0aW1lb3V0IGZhc3RlciBzbyBmYWxsYmFjayBjYW4gdHJ5XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy53c0Nvbm5lY3Rpb24uY29ubmVjdChcbiAgICAgICAgdGhpcy5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2tcbiAgICAgICAgICA/IHRoaXMuZGVmYXVsdFdTVGltZW91dFdpdGhGYWxsYmFja1xuICAgICAgICAgIDogdGhpcy5kZWZhdWx0V1NUaW1lb3V0LFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIHJ1biBmYWxsYmFjayBvbmx5IGlmIGl0J3MgV1MvTmV0d29yayBlcnJvciBhbmQgbm90IGEgbm9ybWFsIEFQSSBlcnJvclxuICAgICAgLy8gbWFrZSBzdXJlIGJyb3dzZXIgaXMgb25saW5lIGJlZm9yZSBldmVuIHRyeWluZyB0aGUgbG9uZ3BvbGxcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5vcHRpb25zLmVuYWJsZVdTRmFsbGJhY2sgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpc1dTRmFpbHVyZShlcnIpICYmXG4gICAgICAgIGlzT25saW5lKHRoaXMubG9nZ2VyKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAnY2xpZW50OmNvbm5lY3QoKSAtIFdTIGZhaWxlZCwgZmFsbGJhY2sgdG8gbG9uZ3BvbGwnLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoeyB0eXBlOiAndHJhbnNwb3J0LmNoYW5nZWQnLCBtb2RlOiAnbG9uZ3BvbGwnIH0pO1xuXG4gICAgICAgIHRoaXMud3NDb25uZWN0aW9uLl9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbigpO1xuICAgICAgICB0aGlzLndzQ29ubmVjdGlvbi5kaXNjb25uZWN0KCkudGhlbigpOyAvLyBjbG9zZSBXUyBzbyBubyByZXRyeVxuICAgICAgICB0aGlzLndzRmFsbGJhY2sgPSBuZXcgV1NDb25uZWN0aW9uRmFsbGJhY2sodGhpcyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLndzRmFsbGJhY2suY29ubmVjdCgpO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgY29ubmVjdGl2aXR5IHdpdGggc2VydmVyIGZvciB3YXJtdXAgcHVycG9zZS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zYXlIaSA9ICgpID0+IHtcbiAgICBjb25zdCBjbGllbnRfcmVxdWVzdF9pZCA9IHJhbmRvbUlkKCk7XG4gICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgIGhlYWRlcnM6IEF4aW9zSGVhZGVycy5mcm9tKHtcbiAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiBjbGllbnRfcmVxdWVzdF9pZCxcbiAgICAgIH0pLFxuICAgIH07XG4gICAgdGhpcy5kb0F4aW9zUmVxdWVzdCgnZ2V0JywgdGhpcy5iYXNlVVJMICsgJy9oaScsIG51bGwsIG9wdHMpLmNhdGNoKChlKSA9PiB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmVuYWJsZUluc2lnaHRzKSB7XG4gICAgICAgIHBvc3RJbnNpZ2h0cygnaHR0cF9oaV9mYWlsZWQnLCB7XG4gICAgICAgICAgYXBpX2tleTogdGhpcy5rZXksXG4gICAgICAgICAgZXJyOiBlLFxuICAgICAgICAgIGNsaWVudF9yZXF1ZXN0X2lkLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBnZXRVc2VyQWdlbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMC1kZXZlbG9wbWVudCc7XG4gICAgcmV0dXJuIChcbiAgICAgIHRoaXMudXNlckFnZW50IHx8XG4gICAgICBgc3RyZWFtLXZpZGVvLWphdmFzY3JpcHQtY2xpZW50LSR7XG4gICAgICAgIHRoaXMubm9kZSA/ICdub2RlJyA6ICdicm93c2VyJ1xuICAgICAgfS0ke3ZlcnNpb259YFxuICAgICk7XG4gIH07XG5cbiAgc2V0VXNlckFnZW50ID0gKHVzZXJBZ2VudDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9pc1VzaW5nU2VydmVyQXV0aCAtIFJldHVybnMgdHJ1ZSBpZiB3ZSdyZSB1c2luZyBzZXJ2ZXIgc2lkZSBhdXRoXG4gICAqL1xuICBfaXNVc2luZ1NlcnZlckF1dGggPSAoKSA9PiAhIXRoaXMuc2VjcmV0O1xuXG4gIF9lbnJpY2hBeGlvc09wdGlvbnMgPSAoXG4gICAgb3B0aW9uczogQXhpb3NSZXF1ZXN0Q29uZmlnICYgeyBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgfSAmIHtcbiAgICAgIHB1YmxpY0VuZHBvaW50PzogYm9vbGVhbjtcbiAgICB9ID0ge1xuICAgICAgcGFyYW1zOiB7fSxcbiAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgY29uZmlnOiB7fSxcbiAgICB9LFxuICApOiBBeGlvc1JlcXVlc3RDb25maWcgPT4ge1xuICAgIGNvbnN0IHRva2VuID1cbiAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlciA/IHVuZGVmaW5lZCA6IHRoaXMuX2dldFRva2VuKCk7XG4gICAgY29uc3QgYXV0aG9yaXphdGlvbiA9IHRva2VuID8geyBBdXRob3JpemF0aW9uOiB0b2tlbiB9IDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnM/LlsneC1jbGllbnQtcmVxdWVzdC1pZCddKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMgPSB7XG4gICAgICAgIC4uLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiByYW5kb21JZCgpLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcGFyYW1zOiB7XG4gICAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgICBjb25uZWN0aW9uX2lkOiB0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSxcbiAgICAgICAgYXBpX2tleTogdGhpcy5rZXksXG4gICAgICAgIC4uLm9wdGlvbnMucGFyYW1zLFxuICAgICAgfSxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgLi4uYXV0aG9yaXphdGlvbixcbiAgICAgICAgJ3N0cmVhbS1hdXRoLXR5cGUnOlxuICAgICAgICAgIG9wdGlvbnMucHVibGljRW5kcG9pbnQgJiYgIXRoaXMudXNlclxuICAgICAgICAgICAgPyAnYW5vbnltb3VzJ1xuICAgICAgICAgICAgOiB0aGlzLmdldEF1dGhUeXBlKCksXG4gICAgICAgICdYLVN0cmVhbS1DbGllbnQnOiB0aGlzLmdldFVzZXJBZ2VudCgpLFxuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICB9LFxuICAgICAgLi4ub3B0aW9ucy5jb25maWcsXG4gICAgICAuLi50aGlzLm9wdGlvbnMuYXhpb3NSZXF1ZXN0Q29uZmlnLFxuICAgIH07XG4gIH07XG5cbiAgX2dldFRva2VuID0gKCkgPT4ge1xuICAgIGlmICghdGhpcy50b2tlbk1hbmFnZXIpIHJldHVybiBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMudG9rZW5NYW5hZ2VyLmdldFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGVuY29kZSB3cyB1cmwgcGF5bG9hZFxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcmV0dXJucyBqc29uIHN0cmluZ1xuICAgKi9cbiAgX2J1aWxkV1NQYXlsb2FkID0gKGNsaWVudF9yZXF1ZXN0X2lkPzogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHVzZXJfaWQ6IHRoaXMudXNlcklELFxuICAgICAgdXNlcl9kZXRhaWxzOiB0aGlzLl91c2VyLFxuICAgICAgY2xpZW50X3JlcXVlc3RfaWQsXG4gICAgfSk7XG4gIH07XG5cbiAgdXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMgPSAoXG4gICAgZXZlbnQ6IHsgdHlwZTogJ29ubGluZScgfCAnb2ZmbGluZScgfSB8IEV2ZW50LFxuICApID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnZGV2aWNlIHdlbnQgb2ZmbGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09PSAnb25saW5lJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ2RldmljZSB3ZW50IG9ubGluZScpO1xuICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KHsgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCcsIG9ubGluZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi9DYWxsJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUsXG4gIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSxcbn0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbm5lY3RlZEV2ZW50LFxuICBDcmVhdGVEZXZpY2VSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlcXVlc3QsXG4gIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gIEdldEVkZ2VzUmVzcG9uc2UsXG4gIExpc3REZXZpY2VzUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbHNSZXF1ZXN0LFxuICBRdWVyeUNhbGxzUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdCxcbiAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHtcbiAgQWxsQ2xpZW50RXZlbnRzLFxuICBDbGllbnRFdmVudExpc3RlbmVyLFxuICBMb2dnZXIsXG4gIExvZ0xldmVsLFxuICBTdHJlYW1DbGllbnRPcHRpb25zLFxuICBUb2tlbk9yUHJvdmlkZXIsXG4gIFRva2VuUHJvdmlkZXIsXG4gIFVzZXIsXG4gIFVzZXJXaXRoSWQsXG59IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGxvZ1RvQ29uc29sZSwgc2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgZ2V0U2RrSW5mbyB9IGZyb20gJy4vY2xpZW50LWRldGFpbHMnO1xuaW1wb3J0IHsgU2RrVHlwZSB9IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBBIGBTdHJlYW1WaWRlb0NsaWVudGAgaW5zdGFuY2UgbGV0cyB5b3UgY29tbXVuaWNhdGUgd2l0aCBvdXIgQVBJLCBhbmQgYXV0aGVudGljYXRlIHVzZXJzLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtVmlkZW9DbGllbnQge1xuICAvKipcbiAgICogQSByZWFjdGl2ZSBzdG9yZSB0aGF0IGV4cG9zZXMgYWxsIHRoZSBzdGF0ZSB2YXJpYWJsZXMgcmVhY3RpdmVseS5cbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gY2hhbmdlcyBvZiB0aGUgZGlmZmVyZW50IHN0YXRlIHZhcmlhYmxlcy5cbiAgICogT3VyIGxpYnJhcnkgaXMgYnVpbHQgaW4gYSB3YXkgdGhhdCBhbGwgc3RhdGUgY2hhbmdlcyBhcmUgZXhwb3NlZCBpbiB0aGlzIHN0b3JlLFxuICAgKiBvIGFsbCBVSSBjaGFuZ2VzIGluIHlvdXIgYXBwbGljYXRpb24gc2hvdWxkIGJlIGhhbmRsZWQgYnkgc3Vic2NyaWJpbmcgdG8gdGhlc2UgdmFyaWFibGVzLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgdGhlIGBjbGllbnQuc3RhdGVgIGdldHRlci5cbiAgICovXG4gIHJlYWRvbmx5IHJlYWRPbmx5U3RhdGVTdG9yZTogU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmU7XG4gIHJlYWRvbmx5IGxvZ0xldmVsOiBMb2dMZXZlbCA9ICd3YXJuJztcbiAgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHdyaXRlYWJsZVN0YXRlU3RvcmU6IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZTtcbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgcHJvdGVjdGVkIGV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXI6IEFycmF5PCgpID0+IHZvaWQ+ID0gW107XG4gIHByb3RlY3RlZCBjb25uZWN0aW9uUHJvbWlzZTogUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+IHwgdW5kZWZpbmVkO1xuICBwcm90ZWN0ZWQgZGlzY29ubmVjdGlvblByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlTWFwOiBNYXA8c3RyaW5nLCBTdHJlYW1WaWRlb0NsaWVudD4gPSBuZXcgTWFwKCk7XG5cbiAgLyoqXG4gICAqIFlvdSBzaG91bGQgY3JlYXRlIG9ubHkgb25lIGluc3RhbmNlIG9mIGBTdHJlYW1WaWRlb0NsaWVudGAuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihhcGlLZXk6IHN0cmluZywgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMpO1xuICBjb25zdHJ1Y3RvcihhcmdzOiB7XG4gICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgdXNlcj86IFVzZXI7XG4gICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gIH0pO1xuICBjb25zdHJ1Y3RvcihcbiAgICBhcGlLZXlPckFyZ3M6XG4gICAgICB8IHN0cmluZ1xuICAgICAgfCB7XG4gICAgICAgICAgYXBpS2V5OiBzdHJpbmc7XG4gICAgICAgICAgb3B0aW9ucz86IFN0cmVhbUNsaWVudE9wdGlvbnM7XG4gICAgICAgICAgdXNlcj86IFVzZXI7XG4gICAgICAgICAgdG9rZW4/OiBzdHJpbmc7XG4gICAgICAgICAgdG9rZW5Qcm92aWRlcj86IFRva2VuUHJvdmlkZXI7XG4gICAgICAgIH0sXG4gICAgb3B0cz86IFN0cmVhbUNsaWVudE9wdGlvbnMsXG4gICkge1xuICAgIGxldCBsb2dnZXI6IExvZ2dlciA9IGxvZ1RvQ29uc29sZTtcbiAgICBsZXQgbG9nTGV2ZWw6IExvZ0xldmVsID0gJ3dhcm4nO1xuICAgIGlmICh0eXBlb2YgYXBpS2V5T3JBcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgbG9nTGV2ZWwgPSBvcHRzPy5sb2dMZXZlbCB8fCBsb2dMZXZlbDtcbiAgICAgIGxvZ2dlciA9IG9wdHM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ0xldmVsID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ0xldmVsIHx8IGxvZ0xldmVsO1xuICAgICAgbG9nZ2VyID0gYXBpS2V5T3JBcmdzLm9wdGlvbnM/LmxvZ2dlciB8fCBsb2dnZXI7XG4gICAgfVxuXG4gICAgc2V0TG9nZ2VyKGxvZ2dlciwgbG9nTGV2ZWwpO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50J10pO1xuICAgIGNvbnN0IGNvb3JkaW5hdG9yTG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY29vcmRpbmF0b3InXSk7XG5cbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gbmV3IFN0cmVhbUNsaWVudChhcGlLZXlPckFyZ3MsIHtcbiAgICAgICAgcGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlOiB0cnVlLFxuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBsb2dMZXZlbCxcbiAgICAgICAgbG9nZ2VyOiBjb29yZGluYXRvckxvZ2dlcixcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnN0cmVhbUNsaWVudCA9IG5ldyBTdHJlYW1DbGllbnQoYXBpS2V5T3JBcmdzLmFwaUtleSwge1xuICAgICAgICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU6IHRydWUsXG4gICAgICAgIC4uLmFwaUtleU9yQXJncy5vcHRpb25zLFxuICAgICAgICBsb2dMZXZlbCxcbiAgICAgICAgbG9nZ2VyOiBjb29yZGluYXRvckxvZ2dlcixcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzZGtJbmZvID0gZ2V0U2RrSW5mbygpO1xuICAgICAgaWYgKHNka0luZm8pIHtcbiAgICAgICAgY29uc3Qgc2RrTmFtZSA9IFNka1R5cGVbc2RrSW5mby50eXBlXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zdCBzZGtWZXJzaW9uID0gYCR7c2RrSW5mby5tYWpvcn0uJHtzZGtJbmZvLm1pbm9yfS4ke3Nka0luZm8ucGF0Y2h9YDtcbiAgICAgICAgY29uc3QgdXNlckFnZW50ID0gdGhpcy5zdHJlYW1DbGllbnQuZ2V0VXNlckFnZW50KCk7XG4gICAgICAgIHRoaXMuc3RyZWFtQ2xpZW50LnNldFVzZXJBZ2VudChcbiAgICAgICAgICBgJHt1c2VyQWdlbnR9LXZpZGVvLSR7c2RrTmFtZX0tc2RrLSR7c2RrVmVyc2lvbn1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSA9IG5ldyBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUoKTtcbiAgICB0aGlzLnJlYWRPbmx5U3RhdGVTdG9yZSA9IG5ldyBTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZShcbiAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSxcbiAgICApO1xuXG4gICAgaWYgKHR5cGVvZiBhcGlLZXlPckFyZ3MgIT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCB1c2VyID0gYXBpS2V5T3JBcmdzLnVzZXI7XG4gICAgICBjb25zdCB0b2tlbiA9IGFwaUtleU9yQXJncy50b2tlbiB8fCBhcGlLZXlPckFyZ3MudG9rZW5Qcm92aWRlcjtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGxldCBpZCA9IHVzZXIuaWQ7XG4gICAgICAgIGlmICh1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB7XG4gICAgICAgICAgaWQgPSAnIWFub24nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGlmIChTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VNYXAuaGFzKGFwaUtleU9yQXJncy5hcGlLZXkgKyBpZCkpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgIGBBIFN0cmVhbVZpZGVvQ2xpZW50IGFscmVhZHkgZXhpc3RzIGZvciAke3VzZXIudHlwZSA9PT0gJ2Fub255bW91cycgPyAnYW4gYW5vbnltb3VzIHVzZXInIDogaWR9OyBQcmVmZXIgdXNpbmcgZ2V0T3JDcmVhdGVJbnN0YW5jZSBtZXRob2RgLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXNlci5pZCA9IGlkO1xuICAgICAgICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5zZXQoYXBpS2V5T3JBcmdzLmFwaUtleSArIGlkLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbm5lY3RVc2VyKHVzZXIsIHRva2VuKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBjb25uZWN0JywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRPckNyZWF0ZUluc3RhbmNlKGFyZ3M6IHtcbiAgICBhcGlLZXk6IHN0cmluZztcbiAgICB1c2VyOiBVc2VyO1xuICAgIHRva2VuPzogc3RyaW5nO1xuICAgIHRva2VuUHJvdmlkZXI/OiBUb2tlblByb3ZpZGVyO1xuICAgIG9wdGlvbnM/OiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICB9KTogU3RyZWFtVmlkZW9DbGllbnQge1xuICAgIGNvbnN0IHVzZXIgPSBhcmdzLnVzZXI7XG4gICAgaWYgKCF1c2VyLmlkKSB7XG4gICAgICBpZiAoYXJncy51c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB7XG4gICAgICAgIHVzZXIuaWQgPSAnIWFub24nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIElEIGlzIHJlcXVpcmVkIGZvciBhIG5vbi1hbm9ueW1vdXMgdXNlcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWFyZ3MudG9rZW4gJiYgIWFyZ3MudG9rZW5Qcm92aWRlcikge1xuICAgICAgaWYgKGFyZ3MudXNlci50eXBlICE9PSAnYW5vbnltb3VzJyAmJiBhcmdzLnVzZXIudHlwZSAhPT0gJ2d1ZXN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1Rva2VuUHJvdmlkZXIgb3IgdG9rZW4gaXMgcmVxdWlyZWQgZm9yIGEgdXNlciB0aGF0IGlzIG5vdCBhIGd1ZXN0IG9yIGFub255bW91cycsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBpbnN0YW5jZSA9IFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZU1hcC5nZXQoYXJncy5hcGlLZXkgKyB1c2VyLmlkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICBpbnN0YW5jZSA9IG5ldyBTdHJlYW1WaWRlb0NsaWVudCh7IC4uLmFyZ3MsIHVzZXIgfSk7XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHJlYWN0aXZlIHN0YXRlIHN0b3JlLCB1c2UgdGhpcyBpZiB5b3Ugd2FudCB0byBiZSBub3RpZmllZCBhYm91dCBjaGFuZ2VzIHRvIHRoZSBjbGllbnQgc3RhdGVcbiAgICovXG4gIGdldCBzdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkT25seVN0YXRlU3RvcmU7XG4gIH1cblxuICAvKipcbiAgICogQ29ubmVjdHMgdGhlIGdpdmVuIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICogT25seSBvbmUgdXNlciBjYW4gY29ubmVjdCBhdCBhIHRpbWUsIGlmIHlvdSB3YW50IHRvIGNoYW5nZSB1c2VycywgY2FsbCBgZGlzY29ubmVjdFVzZXJgIGJlZm9yZSBjb25uZWN0aW5nIGEgbmV3IHVzZXIuXG4gICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjb25uZWN0ZWQgdXNlciBbc3RhdGUgdmFyaWFibGVdKCNyZWFkb25seXN0YXRlc3RvcmUpIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuIGEgdG9rZW4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0b2tlbi5cbiAgICovXG4gIGNvbm5lY3RVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXIsXG4gICAgdG9rZW4/OiBUb2tlbk9yUHJvdmlkZXIsXG4gICk6IFByb21pc2U8dm9pZCB8IENvbm5lY3RlZEV2ZW50PiA9PiB7XG4gICAgaWYgKHVzZXIudHlwZSA9PT0gJ2Fub255bW91cycpIHtcbiAgICAgIHVzZXIuaWQgPSAnIWFub24nO1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdEFub255bW91c1VzZXIodXNlciBhcyBVc2VyV2l0aElkLCB0b2tlbik7XG4gICAgfVxuICAgIGxldCBjb25uZWN0VXNlciA9ICgpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5jb25uZWN0VXNlcih1c2VyLCB0b2tlbik7XG4gICAgfTtcbiAgICBpZiAodXNlci50eXBlID09PSAnZ3Vlc3QnKSB7XG4gICAgICBjb25uZWN0VXNlciA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmNvbm5lY3RHdWVzdFVzZXIodXNlcik7XG4gICAgICB9O1xuICAgIH1cbiAgICB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlID0gdGhpcy5kaXNjb25uZWN0aW9uUHJvbWlzZVxuICAgICAgPyB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlLnRoZW4oKCkgPT4gY29ubmVjdFVzZXIoKSlcbiAgICAgIDogY29ubmVjdFVzZXIoKTtcblxuICAgIHRoaXMuY29ubmVjdGlvblByb21pc2U/LmZpbmFsbHkoKCkgPT4gKHRoaXMuY29ubmVjdGlvblByb21pc2UgPSB1bmRlZmluZWQpKTtcbiAgICBjb25zdCBjb25uZWN0VXNlclJlc3BvbnNlID0gYXdhaXQgdGhpcy5jb25uZWN0aW9uUHJvbWlzZTtcbiAgICAvLyBjb25uZWN0VXNlclJlc3BvbnNlIHdpbGwgYmUgdm9pZCBpZiBjb25uZWN0VXNlciBjYWxsZWQgdHdpY2UgZm9yIHRoZSBzYW1lIHVzZXJcbiAgICBpZiAoY29ubmVjdFVzZXJSZXNwb25zZT8ubWUpIHtcbiAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5zZXRDb25uZWN0ZWRVc2VyKGNvbm5lY3RVc2VyUmVzcG9uc2UubWUpO1xuICAgIH1cblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY29ubmVjdGlvbi5jaGFuZ2VkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5vbmxpbmUpIHtcbiAgICAgICAgICBjb25zdCBjYWxsc1RvUmVXYXRjaCA9IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5jYWxsc1xuICAgICAgICAgICAgLmZpbHRlcigoY2FsbCkgPT4gY2FsbC53YXRjaGluZylcbiAgICAgICAgICAgIC5tYXAoKGNhbGwpID0+IGNhbGwuY2lkKTtcblxuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgJ2luZm8nLFxuICAgICAgICAgICAgYFJld2F0Y2hpbmcgY2FsbHMgYWZ0ZXIgY29ubmVjdGlvbiBjaGFuZ2VkICR7Y2FsbHNUb1JlV2F0Y2guam9pbihcbiAgICAgICAgICAgICAgJywgJyxcbiAgICAgICAgICAgICl9YCxcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChjYWxsc1RvUmVXYXRjaC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5Q2FsbHMoe1xuICAgICAgICAgICAgICB3YXRjaDogdHJ1ZSxcbiAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHtcbiAgICAgICAgICAgICAgICBjaWQ6IHsgJGluOiBjYWxsc1RvUmVXYXRjaCB9LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzb3J0OiBbeyBmaWVsZDogJ2NpZCcsIGRpcmVjdGlvbjogMSB9XSxcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byByZS13YXRjaCBjYWxscycsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIucHVzaChcbiAgICAgIHRoaXMub24oJ2NhbGwuY3JlYXRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB7IGNhbGwsIG1lbWJlcnMgfSA9IGV2ZW50O1xuICAgICAgICBpZiAodXNlci5pZCA9PT0gY2FsbC5jcmVhdGVkX2J5LmlkKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwuY3JlYXRlZGAgc2VudCBieSB0aGUgY3VycmVudCB1c2VyJyxcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYE5ldyBjYWxsIGNyZWF0ZWQgYW5kIHJlZ2lzdGVyZWQ6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgaWQ6IGNhbGwuaWQsXG4gICAgICAgICAgbWVtYmVycyxcbiAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICB9KTtcbiAgICAgICAgbmV3Q2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKG5ld0NhbGwpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5yaW5nJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh1c2VyLmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwucmluZ2Agc2VudCBieSB0aGUgY3VycmVudCB1c2VyIHNvIGlnbm9yaW5nIHRoZSBldmVudCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgY2FsbCBtaWdodCBhbHJlYWR5IGJlIHRyYWNrZWQgYnkgdGhlIGNsaWVudCxcbiAgICAgICAgLy8gaWYgYGNhbGwuY3JlYXRlZGAgd2FzIHJlY2VpdmVkIGJlZm9yZSBgY2FsbC5yaW5nYC5cbiAgICAgICAgLy8gSW4gdGhhdCBjYXNlLCB3ZSBjbGVhbnVwIHRoZSBhbHJlYWR5IHRyYWNrZWQgY2FsbC5cbiAgICAgICAgY29uc3QgcHJldkNhbGwgPSB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuZmluZENhbGwoY2FsbC50eXBlLCBjYWxsLmlkKTtcbiAgICAgICAgYXdhaXQgcHJldkNhbGw/LmxlYXZlKHsgcmVhc29uOiAnY2xlYW5pbmctdXAgaW4gY2FsbC5yaW5nJyB9KTtcbiAgICAgICAgLy8gd2UgY3JlYXRlIGEgbmV3IGNhbGxcbiAgICAgICAgY29uc3QgdGhlQ2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICAgIHR5cGU6IGNhbGwudHlwZSxcbiAgICAgICAgICBpZDogY2FsbC5pZCxcbiAgICAgICAgICBtZW1iZXJzLFxuICAgICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICAgICAgcmluZ2luZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoZUNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjYWxsKTtcbiAgICAgICAgLy8gd2UgZmV0Y2ggdGhlIGxhdGVzdCBtZXRhZGF0YSBmb3IgdGhlIGNhbGwgZnJvbSB0aGUgc2VydmVyXG4gICAgICAgIGF3YWl0IHRoZUNhbGwuZ2V0KCk7XG4gICAgICAgIHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5yZWdpc3RlckNhbGwodGhlQ2FsbCk7XG4gICAgICB9KSxcbiAgICApO1xuXG4gICAgcmV0dXJuIGNvbm5lY3RVc2VyUmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2Nvbm5lY3RzIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIgZnJvbSB0aGUgY2xpZW50LlxuICAgKlxuICAgKiBJZiB0aGUgY29ubmVjdGlvbiBpcyBzdWNjZXNzZnVsbHkgZGlzY29ubmVjdGVkLCB0aGUgY29ubmVjdGVkIHVzZXIgW3N0YXRlIHZhcmlhYmxlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKSB3aWxsIGJlIHVwZGF0ZWQgYWNjb3JkaW5nbHlcbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgaWYgKCF0aGlzLnN0cmVhbUNsaWVudC51c2VyICYmICF0aGlzLmNvbm5lY3Rpb25Qcm9taXNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHVzZXJJZCA9IHRoaXMuc3RyZWFtQ2xpZW50LnVzZXI/LmlkO1xuICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuc3RyZWFtQ2xpZW50LmtleTtcbiAgICBjb25zdCBkaXNjb25uZWN0VXNlciA9ICgpID0+IHRoaXMuc3RyZWFtQ2xpZW50LmRpc2Nvbm5lY3RVc2VyKHRpbWVvdXQpO1xuICAgIHRoaXMuZGlzY29ubmVjdGlvblByb21pc2UgPSB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlXG4gICAgICA/IHRoaXMuY29ubmVjdGlvblByb21pc2UudGhlbigoKSA9PiBkaXNjb25uZWN0VXNlcigpKVxuICAgICAgOiBkaXNjb25uZWN0VXNlcigpO1xuICAgIHRoaXMuZGlzY29ubmVjdGlvblByb21pc2UuZmluYWxseShcbiAgICAgICgpID0+ICh0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlID0gdW5kZWZpbmVkKSxcbiAgICApO1xuICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdGlvblByb21pc2U7XG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlTWFwLmRlbGV0ZShhcGlLZXkgKyB1c2VySWQpO1xuICAgIH1cbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIuZm9yRWFjaCgodW5yZWdpc3RlcikgPT4gdW5yZWdpc3RlcigpKTtcbiAgICB0aGlzLmV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIgPSBbXTtcbiAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuc2V0Q29ubmVjdGVkVXNlcih1bmRlZmluZWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBXZWJTb2NrZXQgZXZlbnRzIHByb3ZpZGVkIGJ5IHRoZSBBUEkuXG4gICAqIFRvIHJlbW92ZSBhIHN1YnNjcmlwdGlvbiwgY2FsbCB0aGUgYG9mZmAgbWV0aG9kIG9yLCBleGVjdXRlIHRoZSByZXR1cm5lZCB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLCBmb3IgbW9zdCB1c2UtY2FzZXMgaXQgc2hvdWxkIGJlIGVub3VnaCB0byB3YXRjaCBmb3IgY2hhbmdlcyBpbiB0aGUgcmVhY3RpdmUgW3N0YXRlIHN0b3JlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSBvciAnYWxsJy5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKiBAcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3YXMgcGFzc2VkIHRvIHRoZSBgb25gIG1ldGhvZC5cbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5vZmYoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIGNhbGwuXG4gICAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBjYWxsID0gKHR5cGU6IHN0cmluZywgaWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBuZXcgQ2FsbCh7XG4gICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgaWQ6IGlkLFxuICAgICAgdHlwZTogdHlwZSxcbiAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgZ3Vlc3QgdXNlciB3aXRoIHRoZSBnaXZlbiBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgZGF0YSBmb3IgdGhlIGd1ZXN0IHVzZXIuXG4gICAqL1xuICBjcmVhdGVHdWVzdFVzZXIgPSBhc3luYyAoZGF0YTogQ3JlYXRlR3Vlc3RSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmRvQXhpb3NSZXF1ZXN0PFxuICAgICAgQ3JlYXRlR3Vlc3RSZXNwb25zZSxcbiAgICAgIENyZWF0ZUd1ZXN0UmVxdWVzdFxuICAgID4oJ3Bvc3QnLCAnL2d1ZXN0JywgZGF0YSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBxdWVyeSB0aGUgQVBJIGZvciBjYWxscyBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgdGhlIHF1ZXJ5IGRhdGEuXG4gICAqL1xuICBxdWVyeUNhbGxzID0gYXN5bmMgKGRhdGE6IFF1ZXJ5Q2FsbHNSZXF1ZXN0ID0ge30pID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBRdWVyeUNhbGxzUmVzcG9uc2UsXG4gICAgICBRdWVyeUNhbGxzUmVxdWVzdFxuICAgID4oJy9jYWxscycsIGRhdGEpO1xuICAgIGNvbnN0IGNhbGxzID0gW107XG4gICAgZm9yIChjb25zdCBjIG9mIHJlc3BvbnNlLmNhbGxzKSB7XG4gICAgICBjb25zdCBjYWxsID0gbmV3IENhbGwoe1xuICAgICAgICBzdHJlYW1DbGllbnQ6IHRoaXMuc3RyZWFtQ2xpZW50LFxuICAgICAgICBpZDogYy5jYWxsLmlkLFxuICAgICAgICB0eXBlOiBjLmNhbGwudHlwZSxcbiAgICAgICAgbWVtYmVyczogYy5tZW1iZXJzLFxuICAgICAgICBvd25DYXBhYmlsaXRpZXM6IGMub3duX2NhcGFiaWxpdGllcyxcbiAgICAgICAgd2F0Y2hpbmc6IGRhdGEud2F0Y2gsXG4gICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICB9KTtcbiAgICAgIGNhbGwuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShjLmNhbGwpO1xuICAgICAgYXdhaXQgY2FsbC5hcHBseURldmljZUNvbmZpZyhmYWxzZSk7XG4gICAgICBpZiAoZGF0YS53YXRjaCkge1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKGNhbGwpO1xuICAgICAgfVxuICAgICAgY2FsbHMucHVzaChjYWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgY2FsbHM6IGNhbGxzLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjYWxsIHN0YXRpc3RpY3MgcmVwb3J0cyBtYXRjaGluZyBhIHBhcnRpY3VsYXIgY29uZGl0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBGaWx0ZXIgYW5kIHNvcnQgY29uZGl0aW9ucyBmb3IgcmV0cmlldmluZyBhdmFpbGFibGUgY2FsbCByZXBvcnQgc3VtbWFyaWVzLlxuICAgKiBAcmV0dXJucyBMaXN0IHdpdGggc3VtbWFyeSBvZiBhdmFpbGFibGUgY2FsbCByZXBvcnRzIG1hdGNoaW5nIHRoZSBjb25kaXRpb24uXG4gICAqL1xuICBxdWVyeUNhbGxTdGF0cyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxTdGF0c1JlcXVlc3QgPSB7fSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9jYWxsL3N0YXRzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGF2YWlsYWJsZSBkYXRhIGNlbnRlcnMgYXZhaWxhYmxlIGZvciBob3N0aW5nIGNhbGxzLlxuICAgKi9cbiAgZWRnZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LmdldDxHZXRFZGdlc1Jlc3BvbnNlPihgL2VkZ2VzYCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGFkZERldmljZSAtIEFkZHMgYSBwdXNoIGRldmljZSBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlciBuYW1lIChlZy4gYXBuLCBmaXJlYmFzZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXJfbmFtZSB1c2VyIHByb3ZpZGVkIHB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gdGhlIHVzZXIgaWQgKGRlZmF1bHRzIHRvIGN1cnJlbnQgdXNlcilcbiAgICogQHBhcmFtIHtib29sZWFufSBbdm9pcF90b2tlbl0gZW5hYmxlcyB1c2Ugb2YgVm9JUCB0b2tlbiBmb3IgcHVzaCBub3RpZmljYXRpb25zIG9uIGlPUyBwbGF0Zm9ybVxuICAgKi9cbiAgYWRkRGV2aWNlID0gYXN5bmMgKFxuICAgIGlkOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcjogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXJfbmFtZT86IHN0cmluZyxcbiAgICB1c2VySUQ/OiBzdHJpbmcsXG4gICAgdm9pcF90b2tlbj86IGJvb2xlYW4sXG4gICkgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PENyZWF0ZURldmljZVJlcXVlc3Q+KCcvZGV2aWNlcycsIHtcbiAgICAgIGlkLFxuICAgICAgcHVzaF9wcm92aWRlcixcbiAgICAgIHZvaXBfdG9rZW4sXG4gICAgICAuLi4odXNlcklEICE9IG51bGwgPyB7IHVzZXJfaWQ6IHVzZXJJRCB9IDoge30pLFxuICAgICAgLi4uKHB1c2hfcHJvdmlkZXJfbmFtZSAhPSBudWxsID8geyBwdXNoX3Byb3ZpZGVyX25hbWUgfSA6IHt9KSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogYWRkRGV2aWNlIC0gQWRkcyBhIHB1c2ggZGV2aWNlIGZvciBhIHVzZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCB0aGUgZGV2aWNlIGlkXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyIHRoZSBwdXNoIHByb3ZpZGVyIG5hbWUgKGVnLiBhcG4sIGZpcmViYXNlKVxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlcl9uYW1lIHVzZXIgcHJvdmlkZWQgcHVzaCBwcm92aWRlciBuYW1lXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSB0aGUgdXNlciBpZCAoZGVmYXVsdHMgdG8gY3VycmVudCB1c2VyKVxuICAgKi9cbiAgYWRkVm9pcERldmljZSA9IGFzeW5jIChcbiAgICBpZDogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXI6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IHN0cmluZyxcbiAgICB1c2VySUQ/OiBzdHJpbmcsXG4gICkgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmFkZERldmljZShcbiAgICAgIGlkLFxuICAgICAgcHVzaF9wcm92aWRlcixcbiAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZSxcbiAgICAgIHVzZXJJRCxcbiAgICAgIHRydWUsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogZ2V0RGV2aWNlcyAtIFJldHVybnMgdGhlIGRldmljZXMgYXNzb2NpYXRlZCB3aXRoIGEgY3VycmVudCB1c2VyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlcklEXSBVc2VyIElELiBPbmx5IHdvcmtzIG9uIHNlcnZlcnNpZGVcbiAgICovXG4gIGdldERldmljZXMgPSBhc3luYyAodXNlcklEPzogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmdldDxMaXN0RGV2aWNlc1Jlc3BvbnNlPihcbiAgICAgICcvZGV2aWNlcycsXG4gICAgICB1c2VySUQgPyB7IHVzZXJfaWQ6IHVzZXJJRCB9IDoge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogcmVtb3ZlRGV2aWNlIC0gUmVtb3ZlcyB0aGUgZGV2aWNlIHdpdGggdGhlIGdpdmVuIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIGRldmljZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVGhlIHVzZXIgaWQuIE9ubHkgc3BlY2lmeSB0aGlzIGZvciBzZXJ2ZXJzaWRlIHJlcXVlc3RzXG4gICAqL1xuICByZW1vdmVEZXZpY2UgPSBhc3luYyAoaWQ6IHN0cmluZywgdXNlcklEPzogc3RyaW5nKSA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmRlbGV0ZSgnL2RldmljZXMnLCB7XG4gICAgICBpZCxcbiAgICAgIC4uLih1c2VySUQgPyB7IHVzZXJfaWQ6IHVzZXJJRCB9IDoge30pLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGNhbGxiYWNrIHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIHJpbmdpbmcgY2FsbHMgZnJvbSBwdXNoIG5vdGlmaWNhdGlvbnMuIElmIHRoZSBjYWxsIGFscmVhZHkgZXhpc3RzLCBpdCB3aWxsIGRvIG5vdGhpbmcuXG4gICAqIEBwYXJhbSBjYWxsX2NpZFxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgb25SaW5naW5nQ2FsbCA9IGFzeW5jIChjYWxsX2NpZDogc3RyaW5nKSA9PiB7XG4gICAgLy8gaWYgd2UgZmluZCB0aGUgY2FsbCBhbmQgaXMgYWxyZWFkeSByaW5naW5nLCB3ZSBkb24ndCBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBjYWxsXG4gICAgLy8gYXMgY2xpZW50IHdvdWxkIGhhdmUgcmVjZWl2ZWQgdGhlIGNhbGwucmluZyBzdGF0ZSBiZWNhdXNlIHRoZSBhcHAgaGFkIFdTIGFsaXZlIHdoZW4gcmVjZWl2aW5nIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgIGxldCBjYWxsID0gdGhpcy5zdGF0ZS5jYWxscy5maW5kKChjKSA9PiBjLmNpZCA9PT0gY2FsbF9jaWQgJiYgYy5yaW5naW5nKTtcbiAgICBpZiAoIWNhbGwpIHtcbiAgICAgIC8vIGlmIG5vdCBpdCBtZWFucyB0aGF0IFdTIGlzIG5vdCBhbGl2ZSB3aGVuIHJlY2VpdmluZyB0aGUgcHVzaCBub3RpZmljYXRpb25zIGFuZCB3ZSBuZWVkIHRvIGZldGNoIHRoZSBjYWxsXG4gICAgICBjb25zdCBbY2FsbFR5cGUsIGNhbGxJZF0gPSBjYWxsX2NpZC5zcGxpdCgnOicpO1xuICAgICAgY2FsbCA9IG5ldyBDYWxsKHtcbiAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgdHlwZTogY2FsbFR5cGUsXG4gICAgICAgIGlkOiBjYWxsSWQsXG4gICAgICAgIGNsaWVudFN0b3JlOiB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUsXG4gICAgICAgIHJpbmdpbmc6IHRydWUsXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IGNhbGwuZ2V0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhbGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbm5lY3RzIHRoZSBnaXZlbiBhbm9ueW1vdXMgdXNlciB0byB0aGUgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBjb25uZWN0LlxuICAgKiBAcGFyYW0gdG9rZW5PclByb3ZpZGVyIGEgdG9rZW4gb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0b2tlbi5cbiAgICovXG4gIHByb3RlY3RlZCBjb25uZWN0QW5vbnltb3VzVXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApID0+IHtcbiAgICBjb25zdCBjb25uZWN0QW5vbnltb3VzVXNlciA9ICgpID0+XG4gICAgICB0aGlzLnN0cmVhbUNsaWVudC5jb25uZWN0QW5vbnltb3VzVXNlcih1c2VyLCB0b2tlbk9yUHJvdmlkZXIpO1xuICAgIHRoaXMuY29ubmVjdGlvblByb21pc2UgPSB0aGlzLmRpc2Nvbm5lY3Rpb25Qcm9taXNlXG4gICAgICA/IHRoaXMuZGlzY29ubmVjdGlvblByb21pc2UudGhlbigoKSA9PiBjb25uZWN0QW5vbnltb3VzVXNlcigpKVxuICAgICAgOiBjb25uZWN0QW5vbnltb3VzVXNlcigpO1xuICAgIHRoaXMuY29ubmVjdGlvblByb21pc2UuZmluYWxseSgoKSA9PiAodGhpcy5jb25uZWN0aW9uUHJvbWlzZSA9IHVuZGVmaW5lZCkpO1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25Qcm9taXNlO1xuICB9O1xufVxuIl0sIm5hbWVzIjpbIkF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0iLCJTUEVBS0VSIiwiRUFSUElFQ0UiLCJBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSIsIkJsb2NrTGlzdE9wdGlvbnNCZWhhdmlvckVudW0iLCJGTEFHIiwiQkxPQ0siLCJTSEFET1dfQkxPQ0siLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kRW51bSIsIkRJU0FCTEVEIiwiU0lNUExFIiwiQUkiLCJDaGFubmVsQ29uZmlnV2l0aEluZm9BdXRvbW9kQmVoYXZpb3JFbnVtIiwiQ2hhbm5lbENvbmZpZ1dpdGhJbmZvQmxvY2tsaXN0QmVoYXZpb3JFbnVtIiwiQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0iLCJGSVJFQkFTRSIsIkFQTiIsIkhVQVdFSSIsIlhJQU9NSSIsIk5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSIsIkFWQUlMQUJMRSIsIkFVVE9fT04iLCJPd25DYXBhYmlsaXR5IiwiQkxPQ0tfVVNFUlMiLCJDSEFOR0VfTUFYX0RVUkFUSU9OIiwiQ1JFQVRFX0NBTEwiLCJDUkVBVEVfUkVBQ1RJT04iLCJFTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OIiwiRU5EX0NBTEwiLCJKT0lOX0JBQ0tTVEFHRSIsIkpPSU5fQ0FMTCIsIkpPSU5fRU5ERURfQ0FMTCIsIk1VVEVfVVNFUlMiLCJQSU5fRk9SX0VWRVJZT05FIiwiUkVBRF9DQUxMIiwiUkVNT1ZFX0NBTExfTUVNQkVSIiwiU0NSRUVOU0hBUkUiLCJTRU5EX0FVRElPIiwiU0VORF9WSURFTyIsIlNUQVJUX0JST0FEQ0FTVF9DQUxMIiwiU1RBUlRfUkVDT1JEX0NBTEwiLCJTVEFSVF9UUkFOU0NSSVBUSU9OX0NBTEwiLCJTVE9QX0JST0FEQ0FTVF9DQUxMIiwiU1RPUF9SRUNPUkRfQ0FMTCIsIlNUT1BfVFJBTlNDUklQVElPTl9DQUxMIiwiVVBEQVRFX0NBTEwiLCJVUERBVEVfQ0FMTF9NRU1CRVIiLCJVUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyIsIlVQREFURV9DQUxMX1NFVFRJTkdTIiwiUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0iLCJSZWNvcmRTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSIsIl8zNjBQIiwiXzQ4MFAiLCJfNzIwUCIsIl8xMDgwUCIsIl8xNDQwUCIsIlBPUlRSQUlUXzM2MFg2NDAiLCJQT1JUUkFJVF80ODBYODU0IiwiUE9SVFJBSVRfNzIwWDEyODAiLCJQT1JUUkFJVF8xMDgwWDE5MjAiLCJQT1JUUkFJVF8xNDQwWDI1NjAiLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0iLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtIiwiVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtIiwiRlJPTlQiLCJCQUNLIiwiRVhURVJOQUwiLCJWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtIiwiRXJyb3JGcm9tUmVzcG9uc2UiLCJFcnJvciIsIk51bGxWYWx1ZSIsIlN0cnVjdCRUeXBlIiwiTWVzc2FnZVR5cGUiLCJjb25zdHJ1Y3RvciIsIm5vIiwibmFtZSIsImtpbmQiLCJLIiwiViIsIlQiLCJWYWx1ZSIsImludGVybmFsSnNvbldyaXRlIiwibWVzc2FnZSIsIm9wdGlvbnMiLCJqc29uIiwiayIsInYiLCJPYmplY3QiLCJlbnRyaWVzIiwiZmllbGRzIiwidG9Kc29uIiwiaW50ZXJuYWxKc29uUmVhZCIsInRhcmdldCIsImlzSnNvbk9iamVjdCIsImdsb2JhbFRoaXMiLCJ0eXBlTmFtZSIsInR5cGVvZkpzb25WYWx1ZSIsImNyZWF0ZSIsImZyb21Kc29uIiwiU3RydWN0IiwiVmFsdWUkVHlwZSIsIm9uZW9mIiwiTGlzdFZhbHVlIiwib25lb2ZLaW5kIiwidW5kZWZpbmVkIiwiYm9vbFZhbHVlIiwibnVtYmVyVmFsdWUiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInN0cmluZ1ZhbHVlIiwibGlzdFZhbHVlRmllbGQiLCJmaW5kIiwiZiIsImxpc3RWYWx1ZSIsInN0cnVjdFZhbHVlRmllbGQiLCJzdHJ1Y3RWYWx1ZSIsIm51bGxWYWx1ZSIsIk5VTExfVkFMVUUiLCJBcnJheSIsImlzQXJyYXkiLCJMaXN0VmFsdWUkVHlwZSIsInJlcGVhdCIsInZhbHVlcyIsIm1hcCIsInB1c2giLCJUaW1lc3RhbXAkVHlwZSIsIm5vdyIsIm1zZyIsIm1zIiwiRGF0ZSIsInNlY29uZHMiLCJQYkxvbmciLCJmcm9tIiwiTWF0aCIsImZsb29yIiwidG9TdHJpbmciLCJuYW5vcyIsInRvRGF0ZSIsInRvTnVtYmVyIiwiY2VpbCIsImZyb21EYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJwYXJzZSIsInoiLCJuYW5vc1N0ciIsInN1YnN0cmluZyIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoZXMiLCJtYXRjaCIsImlzTmFOIiwicGFyc2VJbnQiLCJsZW5ndGgiLCJUaW1lc3RhbXAiLCJQZWVyVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5IiwiVmlkZW9RdWFsaXR5IiwiVHJhY2tUeXBlIiwiRXJyb3JDb2RlIiwiU2RrVHlwZSIsIlRyYWNrVW5wdWJsaXNoUmVhc29uIiwiR29Bd2F5UmVhc29uIiwiQ2FsbEVuZGVkUmVhc29uIiwiV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kiLCJDYWxsU3RhdGUkVHlwZSIsIlBhcnRpY2lwYW50IiwiUGFydGljaXBhbnRDb3VudCIsIlBpbiIsIkNhbGxTdGF0ZSIsIlBhcnRpY2lwYW50Q291bnQkVHlwZSIsIlBpbiRUeXBlIiwiUGFydGljaXBhbnQkVHlwZSIsIlN0cmVhbVF1YWxpdHkkVHlwZSIsIlN0cmVhbVF1YWxpdHkiLCJWaWRlb0RpbWVuc2lvbiRUeXBlIiwiVmlkZW9EaW1lbnNpb24iLCJWaWRlb0xheWVyJFR5cGUiLCJWaWRlb0xheWVyIiwiQ29kZWMkVHlwZSIsIkNvZGVjIiwiSUNFVHJpY2tsZSRUeXBlIiwiSUNFVHJpY2tsZSIsIlRyYWNrSW5mbyRUeXBlIiwiVHJhY2tJbmZvIiwiRXJyb3IkVHlwZSIsIkNsaWVudERldGFpbHMkVHlwZSIsIlNkayIsIk9TIiwiQnJvd3NlciIsIkRldmljZSIsIkNsaWVudERldGFpbHMiLCJTZGskVHlwZSIsIk9TJFR5cGUiLCJCcm93c2VyJFR5cGUiLCJEZXZpY2UkVHlwZSIsIkNhbGwkVHlwZSIsIkNhbGwiLCJDYWxsR3JhbnRzJFR5cGUiLCJDYWxsR3JhbnRzIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSIsIlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSIsIlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIiwiU2VuZFN0YXRzUmVxdWVzdCRUeXBlIiwiU2VuZFN0YXRzUmVxdWVzdCIsIlNlbmRTdGF0c1Jlc3BvbnNlJFR5cGUiLCJTZW5kU3RhdHNSZXNwb25zZSIsIklDRVJlc3RhcnRSZXF1ZXN0JFR5cGUiLCJJQ0VSZXN0YXJ0UmVxdWVzdCIsIklDRVJlc3RhcnRSZXNwb25zZSRUeXBlIiwiSUNFUmVzdGFydFJlc3BvbnNlIiwiVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QkVHlwZSIsIlRyYWNrTXV0ZVN0YXRlIiwiVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QiLCJVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSIsIlRyYWNrTXV0ZVN0YXRlJFR5cGUiLCJBdWRpb011dGVDaGFuZ2VkJFR5cGUiLCJWaWRlb011dGVDaGFuZ2VkJFR5cGUiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlIiwiVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIiwiVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UkVHlwZSIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSIsIlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyRUeXBlIiwiU2VuZEFuc3dlclJlcXVlc3QkVHlwZSIsIlNlbmRBbnN3ZXJSZXF1ZXN0IiwiU2VuZEFuc3dlclJlc3BvbnNlJFR5cGUiLCJTZW5kQW5zd2VyUmVzcG9uc2UiLCJJQ0VUcmlja2xlUmVzcG9uc2UkVHlwZSIsIklDRVRyaWNrbGVSZXNwb25zZSIsIlNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSIsIlNldFB1Ymxpc2hlclJlcXVlc3QiLCJTZXRQdWJsaXNoZXJSZXNwb25zZSRUeXBlIiwiU2V0UHVibGlzaGVyUmVzcG9uc2UiLCJTaWduYWxTZXJ2ZXIiLCJTZXJ2aWNlVHlwZSIsIkkiLCJPIiwiVmlkZW9MYXllclNldHRpbmdfUHJpb3JpdHkiLCJTZnVFdmVudCRUeXBlIiwiU3Vic2NyaWJlck9mZmVyIiwiUHVibGlzaGVyQW5zd2VyIiwiQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIiwiQXVkaW9MZXZlbENoYW5nZWQiLCJJQ0VUcmlja2xlJCIsIkNoYW5nZVB1Ymxpc2hRdWFsaXR5IiwiUGFydGljaXBhbnRKb2luZWQiLCJQYXJ0aWNpcGFudExlZnQiLCJEb21pbmFudFNwZWFrZXJDaGFuZ2VkIiwiSm9pblJlc3BvbnNlIiwiSGVhbHRoQ2hlY2tSZXNwb25zZSIsIlRyYWNrUHVibGlzaGVkIiwiVHJhY2tVbnB1Ymxpc2hlZCIsIkNhbGxHcmFudHNVcGRhdGVkIiwiR29Bd2F5IiwiSUNFUmVzdGFydCIsIlBpbnNDaGFuZ2VkIiwiQ2FsbEVuZGVkIiwiUGFydGljaXBhbnRVcGRhdGVkIiwiUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSIsIlNmdUV2ZW50IiwiUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlIiwiUGluc0NoYW5nZWQkVHlwZSIsIkVycm9yJCIsIklDRVJlc3RhcnQkVHlwZSIsIlNmdVJlcXVlc3QkVHlwZSIsIkpvaW5SZXF1ZXN0IiwiSGVhbHRoQ2hlY2tSZXF1ZXN0IiwiTGVhdmVDYWxsUmVxdWVzdCIsIlNmdVJlcXVlc3QiLCJMZWF2ZUNhbGxSZXF1ZXN0JFR5cGUiLCJIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSIsIkhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSIsIlRyYWNrUHVibGlzaGVkJFR5cGUiLCJUcmFja1VucHVibGlzaGVkJFR5cGUiLCJKb2luUmVxdWVzdCRUeXBlIiwiTWlncmF0aW9uIiwiUmVjb25uZWN0RGV0YWlscyIsIlJlY29ubmVjdERldGFpbHMkVHlwZSIsIk1pZ3JhdGlvbiRUeXBlIiwiSm9pblJlc3BvbnNlJFR5cGUiLCJQYXJ0aWNpcGFudEpvaW5lZCRUeXBlIiwiUGFydGljaXBhbnRMZWZ0JFR5cGUiLCJQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSIsIlN1YnNjcmliZXJPZmZlciRUeXBlIiwiUHVibGlzaGVyQW5zd2VyJFR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlIiwiRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlIiwiQXVkaW9MZXZlbCRUeXBlIiwiQXVkaW9MZXZlbCIsIkF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUiLCJBdWRpb01lZGlhUmVxdWVzdCRUeXBlIiwiQXVkaW9NZWRpYVJlcXVlc3QiLCJBdWRpb1NlbmRlciRUeXBlIiwiQXVkaW9TZW5kZXIiLCJWaWRlb01lZGlhUmVxdWVzdCRUeXBlIiwiVmlkZW9NZWRpYVJlcXVlc3QiLCJWaWRlb0xheWVyU2V0dGluZyRUeXBlIiwiVmlkZW9MYXllclNldHRpbmciLCJWaWRlb1NlbmRlciRUeXBlIiwiVmlkZW9TZW5kZXIiLCJDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlIiwiQ2FsbEdyYW50c1VwZGF0ZWQkVHlwZSIsIkdvQXdheSRUeXBlIiwiQ2FsbEVuZGVkJFR5cGUiLCJWaXNpYmlsaXR5U3RhdGUiLCJEZWJvdW5jZVR5cGUiLCJTaWduYWxTZXJ2ZXJDbGllbnQiLCJfdHJhbnNwb3J0IiwibWV0aG9kcyIsInNldFB1Ymxpc2hlciIsImlucHV0IiwibWV0aG9kIiwib3B0IiwibWVyZ2VPcHRpb25zIiwic3RhY2tJbnRlcmNlcHQiLCJzZW5kQW5zd2VyIiwiaWNlVHJpY2tsZSIsInVwZGF0ZVN1YnNjcmlwdGlvbnMiLCJ1cGRhdGVNdXRlU3RhdGVzIiwiaWNlUmVzdGFydCIsInNlbmRTdGF0cyIsInN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24iLCJzdG9wTm9pc2VDYW5jZWxsYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsImJhc2VVcmwiLCJzZW5kSnNvbiIsInRpbWVvdXQiLCJqc29uT3B0aW9ucyIsImlnbm9yZVVua25vd25GaWVsZHMiLCJ3aXRoSGVhZGVycyIsImhlYWRlcnMiLCJpbnRlcmNlcHRVbmFyeSIsIm5leHQiLCJtZXRhIiwid2l0aFJlcXVlc3RMb2dnZXIiLCJsb2dnZXIiLCJsZXZlbCIsImNyZWF0ZVNpZ25hbENsaWVudCIsInRyYW5zcG9ydCIsIlR3aXJwRmV0Y2hUcmFuc3BvcnQiLCJzbGVlcCIsIm0iLCJQcm9taXNlIiwiciIsInNldFRpbWVvdXQiLCJpc0Z1bmN0aW9uIiwidmFsdWUiLCJwcm90b3R5cGUiLCJjYWxsIiwiRnVuY3Rpb24iLCJLbm93bkNvZGVzIiwiVE9LRU5fRVhQSVJFRCIsIldTX0NMT1NFRF9TVUNDRVNTIiwiV1NfQ0xPU0VEX0FCUlVQVExZIiwiV1NfUE9MSUNZX1ZJT0xBVElPTiIsInJldHJ5SW50ZXJ2YWwiLCJudW1iZXJPZkZhaWx1cmVzIiwibWF4IiwibWluIiwicmFuZG9tIiwicmFuZG9tSWQiLCJnZW5lcmF0ZVVVSUR2NCIsImhleCIsImJ5dGVzIiwicyIsImkiLCJwYWRTdGFydCIsImdldFJhbmRvbUJ5dGVzIiwic3ViYXJyYXkiLCJnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbSIsInBvdyIsImJ5dGVMZW5ndGgiLCJnZXRSYW5kb21WYWx1ZXMiLCJjcnlwdG8iLCJiaW5kIiwibXNDcnlwdG8iLCJVaW50OEFycmF5IiwiY29udmVydEVycm9yVG9Kc29uIiwiZXJyIiwianNvbk9iaiIsImdldE93blByb3BlcnR5TmFtZXMiLCJmb3JFYWNoIiwia2V5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiXyIsImVycm9yIiwiaXNQcm9taXNlUGVuZGluZyIsInByb21pc2UiLCJlbXB0eU9iaiIsInJhY2UiLCJ0aGVuIiwiaXNPbmxpbmUiLCJuYXYiLCJuYXZpZ2F0b3IiLCJ3aW5kb3ciLCJvbkxpbmUiLCJhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMiLCJjYiIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNSZWFjdE5hdGl2ZSIsInByb2R1Y3QiLCJ0b0xvd2VyQ2FzZSIsImxvZ0xldmVscyIsImZyZWV6ZSIsInRyYWNlIiwiZGVidWciLCJpbmZvIiwid2FybiIsImxvZ1RvQ29uc29sZSIsImxvZ0xldmVsIiwiYXJncyIsImxvZ01ldGhvZCIsImNvbnNvbGUiLCJsb2ciLCJzZXRMb2dnZXIiLCJsIiwibHZsIiwic2V0TG9nTGV2ZWwiLCJnZXRMb2dMZXZlbCIsImdldExvZ2dlciIsIndpdGhUYWdzIiwibG9nZ2VyTWV0aG9kIiwidGFncyIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwicmVzdWx0IiwicmV0cnlhYmxlIiwicnBjIiwic2lnbmFsIiwiYXR0ZW1wdCIsImlzUmVxdWVzdENhbmNlbGxlZCIsIlJwY0Vycm9yIiwiY29kZSIsIlR3aXJwRXJyb3JDb2RlIiwiY2FuY2VsbGVkIiwiaXNBYm9ydGVkIiwiYWJvcnRlZCIsInJlc3BvbnNlIiwic2hvdWxkUmV0cnkiLCJ2ZXJzaW9uIiwibWFqb3IiLCJtaW5vciIsInBhdGNoIiwic3BsaXQiLCJzZGtJbmZvIiwidHlwZSIsIlBMQUlOX0pBVkFTQ1JJUFQiLCJvc0luZm8iLCJkZXZpY2VJbmZvIiwid2ViUnRjSW5mbyIsInNldFNka0luZm8iLCJnZXRTZGtJbmZvIiwic2V0T1NJbmZvIiwiZ2V0T1NJbmZvIiwic2V0RGV2aWNlSW5mbyIsImdldERldmljZUluZm8iLCJnZXRXZWJSVENJbmZvIiwic2V0V2ViUlRDSW5mbyIsImdldENsaWVudERldGFpbHMiLCJzZGsiLCJvcyIsImRldmljZSIsInVzZXJBZ2VudCIsIlVBUGFyc2VyIiwiYnJvd3NlciIsImNwdSIsImdldFJlc3VsdCIsImFyY2hpdGVjdHVyZSIsInZlbmRvciIsIm1vZGVsIiwiZ2V0UHJlZmVycmVkQ29kZWNzIiwicHJlZmVycmVkQ29kZWMiLCJjb2RlY1RvUmVtb3ZlIiwiUlRDUnRwUmVjZWl2ZXIiLCJjYXBhYmlsaXRpZXMiLCJnZXRDYXBhYmlsaXRpZXMiLCJwcmVmZXJyZWQiLCJwYXJ0aWFsbHlQcmVmZXJyZWQiLCJ1bnByZWZlcnJlZCIsInByZWZlcnJlZENvZGVjTWltZVR5cGUiLCJjb2RlY1RvUmVtb3ZlTWltZVR5cGUiLCJjb2RlYyIsImNvZGVjcyIsImNvZGVjTWltZVR5cGUiLCJtaW1lVHlwZSIsInNob3VsZFJlbW92ZUNvZGVjIiwiaXNQcmVmZXJyZWRDb2RlYyIsInNkcEZtdHBMaW5lIiwiaW5jbHVkZXMiLCJ1bnNoaWZ0IiwiZ2V0R2VuZXJpY1NkcCIsImRpcmVjdGlvbiIsInRlbXBQYyIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiYWRkVHJhbnNjZWl2ZXIiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwic2RwIiwiZ2V0VHJhbnNjZWl2ZXJzIiwidCIsInN0b3AiLCJjbG9zZSIsImdldFJOT3B0aW1hbENvZGVjIiwib3NOYW1lIiwic2Z1RXZlbnRLaW5kcyIsInN1YnNjcmliZXJPZmZlciIsInB1Ymxpc2hlckFuc3dlciIsImNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImF1ZGlvTGV2ZWxDaGFuZ2VkIiwiY2hhbmdlUHVibGlzaFF1YWxpdHkiLCJwYXJ0aWNpcGFudEpvaW5lZCIsInBhcnRpY2lwYW50TGVmdCIsImRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJqb2luUmVzcG9uc2UiLCJoZWFsdGhDaGVja1Jlc3BvbnNlIiwidHJhY2tQdWJsaXNoZWQiLCJ0cmFja1VucHVibGlzaGVkIiwiY2FsbEdyYW50c1VwZGF0ZWQiLCJnb0F3YXkiLCJwaW5zVXBkYXRlZCIsImNhbGxFbmRlZCIsInBhcnRpY2lwYW50VXBkYXRlZCIsInBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUiLCJpc1NmdUV2ZW50IiwiZXZlbnROYW1lIiwiaGFzT3duUHJvcGVydHkiLCJEaXNwYXRjaGVyIiwic3Vic2NyaWJlcnMiLCJkaXNwYXRjaCIsImxvZ1RhZyIsImV2ZW50S2luZCIsImV2ZW50UGF5bG9hZCIsInBheWxvYWQiLCJsaXN0ZW5lcnMiLCJmbiIsImUiLCJvbiIsIl9hIiwib2ZmIiwib2ZmQWxsIiwiSWNlVHJpY2tsZUJ1ZmZlciIsInN1YnNjcmliZXJDYW5kaWRhdGVzIiwiUmVwbGF5U3ViamVjdCIsInB1Ymxpc2hlckNhbmRpZGF0ZXMiLCJwZWVyVHlwZSIsIlNVQlNDUklCRVIiLCJQVUJMSVNIRVJfVU5TUEVDSUZJRUQiLCJnZXRJY2VDYW5kaWRhdGUiLCJjYW5kaWRhdGUiLCJ1c2VybmFtZUZyYWdtZW50Iiwic3BsaXR0ZWRDYW5kaWRhdGUiLCJ1ZnJhZ0luZGV4IiwiZmluZEluZGV4IiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSlNPTiIsIkRFRkFVTFRfQklUUkFURSIsImRlZmF1bHRUYXJnZXRSZXNvbHV0aW9uIiwiYml0cmF0ZSIsIndpZHRoIiwiaGVpZ2h0IiwiZGVmYXVsdEJpdHJhdGVQZXJSaWQiLCJxIiwiaCIsImZpbmRPcHRpbWFsVmlkZW9MYXllcnMiLCJ2aWRlb1RyYWNrIiwidGFyZ2V0UmVzb2x1dGlvbiIsInB1Ymxpc2hPcHRpb25zIiwib3B0aW1hbFZpZGVvTGF5ZXJzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInciLCJwcmVmZXJyZWRCaXRyYXRlIiwiYml0cmF0ZURvd25zY2FsZUZhY3RvciIsIm1heEJpdHJhdGUiLCJnZXRDb21wdXRlZE1heEJpdHJhdGUiLCJkb3duc2NhbGVGYWN0b3IiLCJiaXRyYXRlRmFjdG9yIiwicmlkIiwiYWN0aXZlIiwicm91bmQiLCJzY2FsZVJlc29sdXRpb25Eb3duQnkiLCJtYXhGcmFtZXJhdGUiLCJ3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwidGFyZ2V0V2lkdGgiLCJ0YXJnZXRIZWlnaHQiLCJ0YXJnZXRCaXRyYXRlIiwiY3VycmVudFBpeGVscyIsInRhcmdldFBpeGVscyIsInJlZHVjdGlvbkZhY3RvciIsImxheWVycyIsInNpemUiLCJsYXllciIsInJpZE1hcHBpbmciLCJpbmRleCIsImZpbmRPcHRpbWFsU2NyZWVuU2hhcmluZ0xheWVycyIsImRlZmF1bHRNYXhCaXRyYXRlIiwic2NyZWVuU2hhcmVTZXR0aW5ncyIsInByZWZlcmVuY2VzIiwiZW5zdXJlRXhoYXVzdGVkIiwieCIsInRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkiLCJ0cmFja1R5cGUiLCJTQ1JFRU5fU0hBUkUiLCJTQ1JFRU5fU0hBUkVfQVVESU8iLCJWSURFTyIsIkFVRElPIiwiVU5TUEVDSUZJRUQiLCJtdXRlVHlwZVRvVHJhY2tUeXBlIiwibXV0ZVR5cGUiLCJ0b1RyYWNrVHlwZSIsIndpdGhvdXRDb25jdXJyZW5jeSIsImNyZWF0ZVJ1bm5lciIsIndyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmciLCJ3aXRoQ2FuY2VsbGF0aW9uIiwid3JhcFdpdGhDYW5jZWxsYXRpb24iLCJwZW5kaW5nUHJvbWlzZXMiLCJNYXAiLCJzZXR0bGVkIiwidGFnIiwiZ2V0Iiwid3JhcHBlciIsInJ1biIsIndyYXBwZWQiLCJvbkNvbnRpbnVlZCIsInBlbmRpbmciLCJzZXQiLCJoYXNDb250aW51YXRpb24iLCJmaW5hbGx5IiwiZGVsZXRlIiwiYWMiLCJBYm9ydENvbnRyb2xsZXIiLCJyZXNvbHZlIiwiYWJvcnQiLCJpc0Z1bmN0aW9uUGF0Y2giLCJ1cGRhdGUiLCJnZXRDdXJyZW50VmFsdWUiLCJvYnNlcnZhYmxlJCIsImNvbWJpbmVMYXRlc3QiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInNldEN1cnJlbnRWYWx1ZSIsInN1YmplY3QiLCJjcmVhdGVTdWJzY3JpcHRpb24iLCJvYnNlcnZhYmxlIiwiaGFuZGxlciIsInN1YnNjcmlwdGlvbiIsImNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiIsIlN5bWJvbCIsIkNhbGxpbmdTdGF0ZSIsIlN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSIsImNvbm5lY3RlZFVzZXJTdWJqZWN0IiwiQmVoYXZpb3JTdWJqZWN0IiwiY2FsbHNTdWJqZWN0Iiwic2V0Q29ubmVjdGVkVXNlciIsInVzZXIiLCJSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSIsInNldENhbGxzIiwiY2FsbHMiLCJyZWdpc3RlckNhbGwiLCJjIiwiY2lkIiwidW5yZWdpc3RlckNhbGwiLCJmaW5kQ2FsbCIsImlkIiwic3RhdGUiLCJjYWxsaW5nU3RhdGUiLCJMRUZUIiwibGVhdmUiLCJyZWFzb24iLCJjYXRjaCIsImNvbm5lY3RlZFVzZXIiLCJSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSIsIlN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlIiwic3RvcmUiLCJjb25uZWN0ZWRVc2VyJCIsImFzT2JzZXJ2YWJsZSIsImNhbGxzJCIsImNvbWJpbmVDb21wYXJhdG9ycyIsImNvbXBhcmF0b3JzIiwiYSIsImIiLCJjb21wYXJhdG9yIiwiZGVzY2VuZGluZyIsImNvbmRpdGlvbmFsIiwicHJlZGljYXRlIiwibm9vcENvbXBhcmF0b3IiLCJoYXNWaWRlbyIsInAiLCJwdWJsaXNoZWRUcmFja3MiLCJoYXNBdWRpbyIsImhhc1NjcmVlblNoYXJlIiwiaGFzU2NyZWVuU2hhcmVBdWRpbyIsImlzUGlubmVkIiwicGluIiwiaXNMb2NhbFBpbiIsInBpbm5lZEF0IiwiZG9taW5hbnRTcGVha2VyIiwiaXNEb21pbmFudFNwZWFrZXIiLCJzcGVha2luZyIsImlzU3BlYWtpbmciLCJzY3JlZW5TaGFyaW5nIiwicHVibGlzaGluZ1ZpZGVvIiwicHVibGlzaGluZ0F1ZGlvIiwicGlubmVkIiwicmVhY3Rpb25UeXBlIiwicmVhY3Rpb24iLCJyb2xlIiwicm9sZXMiLCJoYXNBbnlSb2xlIiwic29tZSIsImlmSW52aXNpYmxlQnkiLCJ2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSIsIklOVklTSUJMRSIsImlmSW52aXNpYmxlT3JVbmtub3duQnkiLCJVTktOT1dOIiwiZGVmYXVsdFNvcnRQcmVzZXQiLCJzcGVha2VyTGF5b3V0U29ydFByZXNldCIsInBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQiLCJsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0IiwiZGVmYXVsdEVncmVzcyIsImJyb2FkY2FzdGluZyIsImhscyIsInBsYXlsaXN0X3VybCIsInJ0bXBzIiwiYmFja3N0YWdlU3ViamVjdCIsImJsb2NrZWRVc2VySWRzU3ViamVjdCIsImNyZWF0ZWRBdFN1YmplY3QiLCJlbmRlZEF0U3ViamVjdCIsInN0YXJ0c0F0U3ViamVjdCIsInVwZGF0ZWRBdFN1YmplY3QiLCJjcmVhdGVkQnlTdWJqZWN0IiwiY3VzdG9tU3ViamVjdCIsImVncmVzc1N1YmplY3QiLCJpbmdyZXNzU3ViamVjdCIsInJlY29yZGluZ1N1YmplY3QiLCJzZXNzaW9uU3ViamVjdCIsInNldHRpbmdzU3ViamVjdCIsInRyYW5zY3JpYmluZ1N1YmplY3QiLCJlbmRlZEJ5U3ViamVjdCIsInRodW1ibmFpbHNTdWJqZWN0IiwibWVtYmVyc1N1YmplY3QiLCJvd25DYXBhYmlsaXRpZXNTdWJqZWN0IiwiY2FsbGluZ1N0YXRlU3ViamVjdCIsInN0YXJ0ZWRBdFN1YmplY3QiLCJwYXJ0aWNpcGFudENvdW50U3ViamVjdCIsImFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0IiwicGFydGljaXBhbnRzU3ViamVjdCIsImNhbGxTdGF0c1JlcG9ydFN1YmplY3QiLCJvcnBoYW5lZFRyYWNrcyIsInNvcnRQYXJ0aWNpcGFudHNCeSIsInNldFNvcnRQYXJ0aWNpcGFudHNCeSIsInBzIiwic2V0UGFydGljaXBhbnRDb3VudCIsImNvdW50Iiwic2V0U3RhcnRlZEF0Iiwic3RhcnRlZEF0Iiwic2V0QW5vbnltb3VzUGFydGljaXBhbnRDb3VudCIsInNldFBhcnRpY2lwYW50cyIsInBhcnRpY2lwYW50cyIsInNldENhbGxpbmdTdGF0ZSIsInNldENhbGxTdGF0c1JlcG9ydCIsInJlcG9ydCIsInNldE1lbWJlcnMiLCJtZW1iZXJzIiwic2V0T3duQ2FwYWJpbGl0aWVzIiwic2V0RW5kZWRBdCIsImVuZGVkQXQiLCJmaW5kUGFydGljaXBhbnRCeVNlc3Npb25JZCIsInNlc3Npb25JZCIsImdldFBhcnRpY2lwYW50TG9va3VwQnlTZXNzaW9uSWQiLCJyZWR1Y2UiLCJsb29rdXBUYWJsZSIsInBhcnRpY2lwYW50IiwidXBkYXRlUGFydGljaXBhbnQiLCJ0aGVQYXRjaCIsInVwZGF0ZWRQYXJ0aWNpcGFudCIsInVwZGF0ZU9yQWRkUGFydGljaXBhbnQiLCJhZGQiLCJuZXh0UGFydGljaXBhbnRzIiwidXBkYXRlUGFydGljaXBhbnRzIiwia2V5cyIsInVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzIiwiY2hhbmdlcyIsImFjYyIsImNoYW5nZSIsImRpbWVuc2lvbiIsInByb3AiLCJ1cGRhdGVGcm9tRXZlbnQiLCJldmVudCIsImV2ZW50SGFuZGxlcnMiLCJzZXRTZXJ2ZXJTaWRlUGlucyIsInBpbnMiLCJwaW5zTG9va3VwIiwibG9va3VwIiwic2VydmVyU2lkZVBpbm5lZEF0IiwicmVnaXN0ZXJPcnBoYW5lZFRyYWNrIiwib3JwaGFuZWRUcmFjayIsInJlbW92ZU9ycGhhbmVkVHJhY2siLCJvIiwidGFrZU9ycGhhbmVkVHJhY2tzIiwidHJhY2tMb29rdXBQcmVmaXgiLCJvcnBoYW5zIiwib3JwaGFuIiwidXBkYXRlRnJvbUNhbGxSZXNwb25zZSIsImJhY2tzdGFnZSIsImJsb2NrZWRfdXNlcl9pZHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInN0YXJ0c19hdCIsImVuZGVkX2F0IiwiY3JlYXRlZF9ieSIsImN1c3RvbSIsImVncmVzcyIsImluZ3Jlc3MiLCJyZWNvcmRpbmciLCJzZXNzaW9uIiwidXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uIiwidHJhbnNjcmliaW5nIiwidGh1bWJuYWlscyIsInVwZGF0ZUZyb21TZnVDYWxsU3RhdGUiLCJjYWxsU3RhdGUiLCJjdXJyZW50U2Vzc2lvbklkIiwicmVjb25uZWN0RGV0YWlscyIsInBhcnRpY2lwYW50Q291bnQiLCJsb2NhbFB1Ymxpc2hlZFRyYWNrcyIsImFubm91bmNlZFRyYWNrcyIsInBhcnRpY2lwYW50TG9va3VwIiwiZXhpc3RpbmdQYXJ0aWNpcGFudCIsImlzTG9jYWxQYXJ0aWNpcGFudCIsImFzc2lnbiIsInNjcmVlblNoYXJlVHJhY2siLCJ0b3RhbCIsImFub255bW91cyIsInVwZGF0ZUZyb21NZW1iZXJSZW1vdmVkIiwiaW5kZXhPZiIsInVzZXJfaWQiLCJ1cGRhdGVGcm9tTWVtYmVyQWRkZWQiLCJ1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RvcHBlZCIsInVwZGF0ZUZyb21ITFNCcm9hZGNhc3RpbmdGYWlsZWQiLCJ1cGRhdGVGcm9tSExTQnJvYWRjYXN0U3RhcnRlZCIsImhsc19wbGF5bGlzdF91cmwiLCJKT0lORUQiLCJieVJvbGVDb3VudCIsInBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlIiwiY291bnRCeVJvbGUiLCJhbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQiLCJ1cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUiLCJ1cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50TGVmdCIsInVzZXJfc2Vzc2lvbl9pZCIsInVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRKb2luZWQiLCJzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCIsInVwZGF0ZWRQYXJ0aWNpcGFudHMiLCJpbmNyZW1lbnQiLCJ1cGRhdGVNZW1iZXJzIiwibWVtYmVyIiwibWVtYmVyVXBkYXRlIiwidXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbiIsImVtb2ppX2NvZGUiLCJ1c2VySWQiLCJ1bmJsb2NrVXNlciIsImN1cnJlbnQiLCJibG9ja1VzZXIiLCJ1cGRhdGVPd25DYXBhYmlsaXRpZXMiLCJsb2NhbFBhcnRpY2lwYW50Iiwib3duX2NhcGFiaWxpdGllcyIsInBhcnRpY2lwYW50cyQiLCJwaXBlIiwic29ydCIsInNoYXJlUmVwbGF5IiwiYnVmZmVyU2l6ZSIsInJlZkNvdW50IiwibG9jYWxQYXJ0aWNpcGFudCQiLCJyZW1vdGVQYXJ0aWNpcGFudHMkIiwicGlubmVkUGFydGljaXBhbnRzJCIsImRvbWluYW50U3BlYWtlciQiLCJoYXNPbmdvaW5nU2NyZWVuU2hhcmUkIiwiZGlzdGluY3RVbnRpbENoYW5nZWQiLCJjcmVhdGVkQXQkIiwiZW5kZWRBdCQiLCJzdGFydHNBdCQiLCJzdGFydGVkQXQkIiwidXBkYXRlZEF0JCIsImNhbGxTdGF0c1JlcG9ydCQiLCJtZW1iZXJzJCIsImNyZWF0ZWRCeSQiLCJjdXN0b20kIiwiZWdyZXNzJCIsImluZ3Jlc3MkIiwic2Vzc2lvbiQiLCJzZXR0aW5ncyQiLCJlbmRlZEJ5JCIsInRodW1ibmFpbHMkIiwiaXNTaGFsbG93RXF1YWwiLCJpdGVtIiwiZHVjIiwiYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQiLCJibG9ja2VkVXNlcklkcyQiLCJiYWNrc3RhZ2UkIiwiY2FsbGluZ1N0YXRlJCIsIm93bkNhcGFiaWxpdGllcyQiLCJwYXJ0aWNpcGFudENvdW50JCIsInJlY29yZGluZyQiLCJ0cmFuc2NyaWJpbmckIiwiYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCIsInJlbW90ZVBhcnRpY2lwYW50cyIsInBpbm5lZFBhcnRpY2lwYW50cyIsImhhc09uZ29pbmdTY3JlZW5TaGFyZSIsImNhbGxTdGF0c1JlcG9ydCIsIm93bkNhcGFiaWxpdGllcyIsImJsb2NrZWRVc2VySWRzIiwiY3JlYXRlZEF0Iiwic3RhcnRzQXQiLCJ1cGRhdGVkQXQiLCJjcmVhdGVkQnkiLCJlbmRlZEJ5IiwiZ2V0UnRwTWFwIiwibGluZSIsInJ0cFJlZ2V4IiwicnRwTWF0Y2giLCJleGVjIiwib3JpZ2luYWwiLCJnZXRGbXRwIiwiZm10cFJlZ2V4IiwiZm10cE1hdGNoIiwiY29uZmlnIiwiZ2V0TWVkaWEiLCJtZWRpYVR5cGUiLCJyZWdleCIsIlJlZ0V4cCIsIm1lZGlhV2l0aFBvcnRzIiwiY29kZWNPcmRlciIsImdldE1lZGlhU2VjdGlvbiIsIm1lZGlhIiwicnRwTWFwIiwiZm10cCIsImlzVGhlUmVxdWlyZWRNZWRpYVNlY3Rpb24iLCJpc1ZhbGlkTGluZSIsInRlc3QiLCJfbWVkaWEiLCJydHBNYXBMaW5lIiwiZm10cExpbmUiLCJnZXRPcHVzRm10cCIsInNlY3Rpb24iLCJjb2RlY0lkIiwidG9nZ2xlRHR4IiwiZW5hYmxlIiwib3B1c0ZtdHAiLCJtYXRjaER0eCIsInJlcXVpcmVkRHR4Q29uZmlnIiwibmV3Rm10cCIsImVuYWJsZUhpZ2hRdWFsaXR5QXVkaW8iLCJ0cmFja01pZCIsInBhcnNlZFNkcCIsIlNEUCIsImF1ZGlvTWVkaWEiLCJTdHJpbmciLCJtaWQiLCJvcHVzUnRwIiwicnRwIiwid3JpdGUiLCJQdWJsaXNoZXIiLCJjb25uZWN0aW9uQ29uZmlnIiwic2Z1Q2xpZW50IiwiZGlzcGF0Y2hlciIsImlzRHR4RW5hYmxlZCIsImlzUmVkRW5hYmxlZCIsIm9uVW5yZWNvdmVyYWJsZUVycm9yIiwidHJhbnNjZWl2ZXJSZWdpc3RyeSIsInB1Ymxpc2hPcHRpb25zUGVyVHJhY2tUeXBlIiwidHJhbnNjZWl2ZXJJbml0T3JkZXIiLCJ0cmFja0tpbmRNYXBwaW5nIiwidHJhY2tMYXllcnNDYWNoZSIsImlzSWNlUmVzdGFydGluZyIsImNyZWF0ZVBlZXJDb25uZWN0aW9uIiwicGMiLCJvbkljZUNhbmRpZGF0ZSIsIm9uTmVnb3RpYXRpb25OZWVkZWQiLCJvbkljZUNhbmRpZGF0ZUVycm9yIiwib25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UiLCJvbkljZUdhdGhlcmluZ1N0YXRlQ2hhbmdlIiwib25TaWduYWxpbmdTdGF0ZUNoYW5nZSIsInN0b3BUcmFja3MiLCJzdG9wUHVibGlzaGluZyIsImRldGFjaEV2ZW50SGFuZGxlcnMiLCJ1bnN1YnNjcmliZU9uSWNlUmVzdGFydCIsInB1Ymxpc2hTdHJlYW0iLCJtZWRpYVN0cmVhbSIsInRyYWNrIiwib3B0cyIsInJlYWR5U3RhdGUiLCJ0cmFuc2NlaXZlciIsInNlbmRlciIsImhhbmRsZVRyYWNrRW5kZWQiLCJub3RpZnlUcmFja011dGVTdGF0ZUNoYW5nZWQiLCJ2aWRlbyIsInRhcmdldF9yZXNvbHV0aW9uIiwic2NyZWVuU2hhcmVCaXRyYXRlIiwic2NyZWVuc2hhcmluZyIsInZpZGVvRW5jb2RpbmdzIiwiZW5hYmxlZCIsInN0cmVhbXMiLCJzZW5kRW5jb2RpbmdzIiwiY29kZWNQcmVmZXJlbmNlcyIsImdldENvZGVjUHJlZmVyZW5jZXMiLCJzZXRDb2RlY1ByZWZlcmVuY2VzIiwicHJldmlvdXNUcmFjayIsInJlcGxhY2VUcmFjayIsInVucHVibGlzaFN0cmVhbSIsInN0b3BUcmFjayIsImlzUHVibGlzaGluZyIsImlzTXV0ZWQiLCJ1cGRhdGVNdXRlU3RhdGUiLCJhdWRpb09yVmlkZW9PclNjcmVlblNoYXJlU3RyZWFtIiwiZ2V0U2VuZGVycyIsInNpZ25hbGluZ1N0YXRlIiwicmVtb3ZlVHJhY2siLCJ1cGRhdGVWaWRlb1B1Ymxpc2hRdWFsaXR5IiwiZW5hYmxlZExheWVycyIsInZpZGVvU2VuZGVyIiwicGFyYW1zIiwiZ2V0UGFyYW1ldGVycyIsImVuY29kaW5ncyIsImNoYW5nZWQiLCJlbmFibGVkUmlkcyIsImx5IiwiZW5jIiwic2hvdWxkRW5hYmxlIiwidmxzIiwiYWN0aXZlTGF5ZXJzIiwic2V0UGFyYW1ldGVycyIsImdldFN0YXRzIiwic2VsZWN0b3IiLCJkZWZhdWx0QXVkaW9Db2RlYyIsImljZUNhbmRpZGF0ZSIsInNldFNmdUNsaWVudCIsInJlc3RhcnRJY2UiLCJuZWdvdGlhdGUiLCJtdW5nZUNvZGVjcyIsInRyYWNrSW5mb3MiLCJnZXRBbm5vdW5jZWRUcmFja3MiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwidHJhY2tzIiwic2V0UmVtb3RlRGVzY3JpcHRpb24iLCJpY2VUcmlja2xlQnVmZmVyIiwiYWRkSWNlQ2FuZGlkYXRlIiwiZXh0cmFjdE1pZCIsIm1zaWQiLCJoZXVyaXN0aWNNaWQiLCJsb2NhbERlc2NyaXB0aW9uIiwib3B0aW1hbExheWVycyIsImlzVHJhY2tMaXZlIiwicHVibGlzaE9wdHMiLCJvcHRpbWFsTGF5ZXIiLCJmcHMiLCJxdWFsaXR5IiwicmlkVG9WaWRlb1F1YWxpdHkiLCJ2aWRlb0RpbWVuc2lvbiIsImlzQXVkaW9UcmFjayIsInRyYWNrU2V0dGluZ3MiLCJpc1N0ZXJlbyIsImNoYW5uZWxDb3VudCIsInRyYWNrSWQiLCJzdGVyZW8iLCJkdHgiLCJyZWQiLCJtdXRlZCIsImVycm9yTWVzc2FnZSIsIlJUQ1BlZXJDb25uZWN0aW9uSWNlRXJyb3JFdmVudCIsImVycm9yQ29kZSIsImVycm9yVGV4dCIsImljZVN0YXRlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwiUkVDT05ORUNUSU5HIiwiaWNlR2F0aGVyaW5nU3RhdGUiLCJMT1dfVU5TUEVDSUZJRUQiLCJNSUQiLCJISUdIIiwiU3Vic2NyaWJlciIsImhhbmRsZU9uVHJhY2siLCJ1bnJlZ2lzdGVyT25TdWJzY3JpYmVyT2ZmZXIiLCJ1bnJlZ2lzdGVyT25JY2VSZXN0YXJ0IiwiY29ubmVjdGlvblN0YXRlIiwicHJldmlvdXNJc0ljZVJlc3RhcnRpbmciLCJwcmltYXJ5U3RyZWFtIiwicmF3VHJhY2tUeXBlIiwicGFydGljaXBhbnRUb1VwZGF0ZSIsInRyYWNrRGVidWdJbmZvIiwic3RyZWFtS2luZFByb3AiLCJwcmV2aW91c1N0cmVhbSIsImdldFRyYWNrcyIsImFuc3dlciIsImNyZWF0ZUFuc3dlciIsInN1YnNjcmliZXJPZmZlckNvbmN1cnJlbmN5VGFnIiwiaWNlUmVzdGFydENvbmN1cnJlbmN5VGFnIiwiY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCIsImVuZHBvaW50Iiwib25NZXNzYWdlIiwid3MiLCJXZWJTb2NrZXQiLCJiaW5hcnlUeXBlIiwiZGF0YSIsIkFycmF5QnVmZmVyIiwiZnJvbUJpbmFyeSIsImZyb21Kc29uU3RyaW5nIiwicHJvbWlzZVdpdGhSZXNvbHZlcnMiLCJyZWplY3QiLCJfcmVzb2x2ZSIsIl9yZWplY3QiLCJpc1Jlc29sdmVkIiwiaXNSZWplY3RlZCIsInJlc29sdmVyIiwicmVqZWN0ZXIiLCJTdHJlYW1TZnVDbGllbnQiLCJjcmVkZW50aWFscyIsImpvaW5SZXNwb25zZVRpbWVvdXQiLCJvblNpZ25hbENsb3NlIiwic3RyZWFtQ2xpZW50IiwiaXNMZWF2aW5nIiwicGluZ0ludGVydmFsSW5NcyIsInVuaGVhbHRoeVRpbWVvdXRJbk1zIiwicmVzdG9yZVdlYlNvY2tldENvbmN1cnJlbmN5VGFnIiwiam9pblJlc3BvbnNlVGFzayIsImFib3J0Q29udHJvbGxlciIsImNyZWF0ZVdlYlNvY2tldCIsInNpZ25hbFdzIiwic2VydmVyIiwid3NfZW5kcG9pbnQiLCJsYXN0TWVzc2FnZVRpbWVzdGFtcCIsInNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrIiwiaGFuZGxlV2ViU29ja2V0Q2xvc2UiLCJyZXN0b3JlV2ViU29ja2V0Iiwic2lnbmFsUmVhZHkiLCJvbk9wZW4iLCJjbGVhblVwV2ViU29ja2V0IiwibmV0d29ya0F2YWlsYWJsZVRhc2siLCJjbGVhckludGVydmFsIiwia2VlcEFsaXZlSW50ZXJ2YWwiLCJjbGVhclRpbWVvdXQiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0IiwiTk9STUFMX0NMT1NVUkUiLCJPUEVOIiwiZGlzcG9zZSIsInVuc3Vic2NyaWJlSWNlVHJpY2tsZSIsInVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQiLCJtaWdyYXRlQXdheVRpbWVvdXQiLCJtaWdyYXRpb25UYXNrIiwibGVhdmVBbmRDbG9zZSIsImpvaW5UYXNrIiwibm90aWZ5TGVhdmUiLCJtdXRlU3RhdGVzIiwic3RhdHMiLCJlbnRlck1pZ3JhdGlvbiIsInRhc2siLCJ0aW1lb3V0SWQiLCJrZWVwQWxpdmUiLCJzZW5kIiwicmVxdWVzdFBheWxvYWQiLCJqb2luUmVxdWVzdCIsInRva2VuIiwicGluZyIsImhlYWx0aENoZWNrUmVxdWVzdCIsImxlYXZlQ2FsbFJlcXVlc3QiLCJtc2dKc29uIiwiZWRnZU5hbWUiLCJ0b0JpbmFyeSIsInNldEludGVydmFsIiwidGltZVNpbmNlTGFzdE1lc3NhZ2UiLCJFUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSIsImVkZ2VfbmFtZSIsInVybCIsImludGVyY2VwdG9ycyIsIkF1dGhvcml6YXRpb24iLCJvbmxpbmUiLCJpc0hlYWx0aHkiLCJESVNQT1NFX09MRF9TT0NLRVQiLCJ0b1J0Y0NvbmZpZ3VyYXRpb24iLCJpY2VTZXJ2ZXJzIiwiaWNlIiwidXJscyIsInVzZXJuYW1lIiwiY3JlZGVudGlhbCIsInBhc3N3b3JkIiwid2F0Y2hDYWxsQWNjZXB0ZWQiLCJvbkNhbGxBY2NlcHRlZCIsImN1cnJlbnRVc2VySWQiLCJSSU5HSU5HIiwid2F0Y2hDYWxsUmVqZWN0ZWQiLCJvbkNhbGxSZWplY3RlZCIsImV2ZW50Q2FsbCIsImNhbGxTZXNzaW9uIiwicmVqZWN0ZWRCeSIsInJlamVjdGVkX2J5IiwiaXNDcmVhdGVkQnlNZSIsImV2ZXJ5b25lRWxzZVJlamVjdGVkIiwiZXZlcnkiLCJ3YXRjaENhbGxFbmRlZCIsIm9uQ2FsbEVuZGVkIiwiSk9JTklORyIsIndhdGNoU2Z1Q2FsbEVuZGVkIiwid2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCIsIm9uQ2FsbEdyYW50c1VwZGF0ZWQiLCJjdXJyZW50R3JhbnRzIiwiY2FuUHVibGlzaEF1ZGlvIiwiY2FuUHVibGlzaFZpZGVvIiwiY2FuU2NyZWVuc2hhcmUiLCJuZXh0Q2FwYWJpbGl0aWVzIiwiY2FwYWJpbGl0eSIsIndhdGNoQ2hhbmdlUHVibGlzaFF1YWxpdHkiLCJ2aWRlb1NlbmRlcnMiLCJ1cGRhdGVQdWJsaXNoUXVhbGl0eSIsIndhdGNoQ29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkIiwiY29ubmVjdGlvblF1YWxpdHlVcGRhdGVzIiwicGF0Y2hlcyIsImNvbm5lY3Rpb25RdWFsaXR5Iiwid2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZCIsIndhdGNoTGl2ZUVuZGVkIiwiTElWRV9FTkRFRCIsInBlcm1pc3Npb25zQ29udGV4dCIsImhhc1Blcm1pc3Npb24iLCJ3YXRjaFNmdUVycm9yUmVwb3J0cyIsInJlY29ubmVjdFN0cmF0ZWd5Iiwid2F0Y2hQaW5zVXBkYXRlZCIsIm9uUGluc1VwZGF0ZWQiLCJoYW5kbGVSZW1vdGVTb2Z0TXV0ZSIsImNhdXNlIiwiTU9ERVJBVElPTiIsImNhbWVyYSIsImRpc2FibGUiLCJtaWNyb3Bob25lIiwic2NyZWVuU2hhcmUiLCJ3YXRjaFBhcnRpY2lwYW50Sm9pbmVkIiwib25QYXJ0aWNpcGFudEpvaW5lZCIsInJlY29uY2lsZU9ycGhhbmVkVHJhY2tzIiwid2F0Y2hQYXJ0aWNpcGFudExlZnQiLCJvblBhcnRpY2lwYW50TGVmdCIsIndhdGNoUGFydGljaXBhbnRVcGRhdGVkIiwib25QYXJ0aWNpcGFudFVwZGF0ZWQiLCJ3YXRjaFRyYWNrUHVibGlzaGVkIiwib25UcmFja1B1Ymxpc2hlZCIsInVuaXF1ZSIsIndhdGNoVHJhY2tVbnB1Ymxpc2hlZCIsIm9uVHJhY2tVbnB1Ymxpc2hlZCIsImFyciIsIm9ycGhhblRyYWNrcyIsInJlY29uY2lsZWRUcmFja3MiLCJ3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQiLCJ3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkIiwiYXVkaW9MZXZlbHMiLCJhdWRpb0xldmVsIiwicmVnaXN0ZXJFdmVudEhhbmRsZXJzIiwicmluZ2luZyIsInJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzIiwiY29vcmRpbmF0b3JSaW5nRXZlbnRzIiwiZmxhdHRlbiIsImdldFNka1NpZ25hdHVyZSIsImNsaWVudERldGFpbHMiLCJwbGF0Zm9ybSIsInNka05hbWUiLCJnZXRTZGtOYW1lIiwic2RrVmVyc2lvbiIsImdldFNka1ZlcnNpb24iLCJSRUFDVCIsIlJFQUNUX05BVElWRSIsImNyZWF0ZVN0YXRzUmVwb3J0ZXIiLCJzdWJzY3JpYmVyIiwicHVibGlzaGVyIiwiZGF0YWNlbnRlciIsInBvbGxpbmdJbnRlcnZhbEluTXMiLCJnZXRSYXdTdGF0c0ZvclRyYWNrIiwiZ2V0U3RhdHNGb3JTdHJlYW0iLCJzdGF0c0ZvclN0cmVhbSIsInRyYW5zZm9ybSIsInRyYWNrS2luZCIsInN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IiLCJzZXNzaW9uSWRzVG9UcmFjayIsInN0b3BSZXBvcnRpbmdTdGF0c0ZvciIsIlNldCIsInBhcnRpY2lwYW50U3RhdHMiLCJzZXNzaW9uSWRzIiwiaGFzIiwibWVyZ2VkU3RyZWFtIiwiTWVkaWFTdHJlYW0iLCJ2aWRlb1N0cmVhbSIsImdldFZpZGVvVHJhY2tzIiwiYXVkaW9TdHJlYW0iLCJnZXRBdWRpb1RyYWNrcyIsInN1YnNjcmliZXJTdGF0cyIsInB1Ymxpc2hlclN0YXRzIiwiYWxsIiwiYWdncmVnYXRlIiwiZ2V0RW1wdHlTdGF0cyIsInN1YnNjcmliZXJSYXdTdGF0cyIsInB1Ymxpc2hlclJhd1N0YXRzIiwidGltZXN0YW1wIiwibG9vcCIsInN0YXQiLCJydGNTdHJlYW1TdGF0cyIsInRyYW5zcG9ydElkIiwicm91bmRUcmlwVGltZSIsImR0bHNTdGF0ZSIsImNhbmRpZGF0ZVBhaXIiLCJzZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCIsImN1cnJlbnRSb3VuZFRyaXBUaW1lIiwiYnl0ZXNTZW50IiwiYnl0ZXNSZWNlaXZlZCIsImZyYW1lSGVpZ2h0IiwiZnJhbWVXaWR0aCIsImZyYW1lc1BlclNlY29uZCIsImppdHRlciIsInF1YWxpdHlMaW1pdGF0aW9uUmVhc29uIiwic3NyYyIsInJhd1N0YXRzIiwicmF3UmVwb3J0IiwidG90YWxCeXRlc1NlbnQiLCJ0b3RhbEJ5dGVzUmVjZWl2ZWQiLCJhdmVyYWdlSml0dGVySW5NcyIsImF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyIsInF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyIsImhpZ2hlc3RGcmFtZVdpZHRoIiwiaGlnaGVzdEZyYW1lSGVpZ2h0IiwiaGlnaGVzdEZyYW1lc1BlclNlY29uZCIsImFnZ3JlZ2F0ZWRTdGF0cyIsIm1heEFyZWEiLCJhcmVhIiwic3RyZWFtIiwic3RyZWFtQXJlYSIsIlNmdVN0YXRzUmVwb3J0ZXIiLCJ3ZWJydGNWZXJzaW9uIiwid2ViUlRDVmVyc2lvbiIsInN0YXJ0IiwicmVwb3J0aW5nX2ludGVydmFsX21zIiwiaW50ZXJ2YWxJZCIsIndlYlJUQ0luZm8iLCJERUZBVUxUX1RIUkVTSE9MRCIsIlZpZXdwb3J0VHJhY2tlciIsImVsZW1lbnRIYW5kbGVyTWFwIiwib2JzZXJ2ZXIiLCJxdWV1ZVNldCIsInNldFZpZXdwb3J0Iiwidmlld3BvcnRFbGVtZW50IiwiY2xlYW51cCIsImRpc2Nvbm5lY3QiLCJjbGVhciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJyb290IiwidGhyZXNob2xkIiwicXVldWVFbGVtZW50IiwicXVldWVIYW5kbGVyIiwiY29udGFpbnMiLCJvYnNlcnZlIiwiZWxlbWVudCIsInF1ZXVlSXRlbSIsInVub2JzZXJ2ZSIsImlzU2FmYXJpIiwiaXNGaXJlZm94IiwiaXNDaHJvbWUiLCJERUZBVUxUX1ZJRVdQT1JUX1ZJU0lCSUxJVFlfU1RBVEUiLCJnbG9iYWxPdmVycmlkZUtleSIsIkR5bmFzY2FsZU1hbmFnZXIiLCJzcGVha2VyIiwidmlld3BvcnRUcmFja2VyIiwicGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUiLCJ2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCIsInZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMkIiwiaW5jb21pbmdWaWRlb1NldHRpbmdzJCIsIm92ZXJyaWRlcyIsImdsb2JhbFNldHRpbmdzIiwicHJlZmVycmVkUmVzb2x1dGlvbiIsImZyb21FbnRyaWVzIiwicGFydGljaXBhbnRPdmVycmlkZSIsImlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQiLCJzZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIiwib3ZlcnJpZGUiLCJhcHBseVRyYWNrU3Vic2NyaXB0aW9ucyIsImRlYm91bmNlVHlwZSIsIlNMT1ciLCJ0cmFja1N1YnNjcmlwdGlvbnMiLCJ0cmFja0VsZW1lbnRWaXNpYmlsaXR5IiwicHJldmlvdXNWaXNpYmlsaXR5U3RhdGUiLCJpc1Zpc2libGUiLCJpc0ludGVyc2VjdGluZyIsImRvY3VtZW50IiwiZnVsbHNjcmVlbkVsZW1lbnQiLCJWSVNJQkxFIiwiYmluZFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsImJvdW5kUGFydGljaXBhbnQiLCJyZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyIsInBhcnRpY2lwYW50JCIsInRha2VXaGlsZSIsInZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uIiwibmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlIiwiTUVESVVNIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJsYXN0RGltZW5zaW9ucyIsInJlc2l6ZU9ic2VydmVyIiwiUmVzaXplT2JzZXJ2ZXIiLCJjdXJyZW50RGltZW5zaW9ucyIsInB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbiIsImRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkIiwiRkFTVCIsImF1dG9wbGF5IiwicGxheXNJbmxpbmUiLCJzdHJlYW1TdWJzY3JpcHRpb24iLCJzb3VyY2UiLCJzY3JlZW5TaGFyZVN0cmVhbSIsInNyY09iamVjdCIsInBsYXkiLCJiaW5kQXVkaW9FbGVtZW50IiwiYXVkaW9FbGVtZW50IiwidXBkYXRlTWVkaWFTdHJlYW1TdWJzY3JpcHRpb24iLCJzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtIiwic2VsZWN0ZWREZXZpY2UiLCJzZXRTaW5rSWQiLCJzaW5rSWRTdWJzY3JpcHRpb24iLCJzZWxlY3RlZERldmljZSQiLCJkZXZpY2VJZCIsInZvbHVtZVN1YnNjcmlwdGlvbiIsInZvbHVtZSQiLCJ2b2x1bWUiLCJhdWRpb1ZvbHVtZSIsInN1YnNjcmlwdGlvbnMiLCJ2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIiwic2NyZWVuU2hhcmVEaW1lbnNpb24iLCJQZXJtaXNzaW9uc0NvbnRleHQiLCJwZXJtaXNzaW9ucyIsInNldFBlcm1pc3Npb25zIiwic2V0Q2FsbFNldHRpbmdzIiwicGVybWlzc2lvbiIsImNhblJlcXVlc3QiLCJhdWRpbyIsImFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQiLCJDYWxsVHlwZSIsIkNhbGxUeXBlc1JlZ2lzdHJ5IiwiY2FsbFR5cGVzIiwicmVnaXN0ZXIiLCJjYWxsVHlwZSIsInVucmVnaXN0ZXIiLCJDYWxsVHlwZXMiLCJCcm93c2VyUGVybWlzc2lvbiIsImRpc3Bvc2VDb250cm9sbGVyIiwid2FzUHJvbXB0ZWQiLCJyZWFkeSIsImFzc3VtZUdyYW50ZWQiLCJzZXRTdGF0ZSIsImNhblF1ZXJ5UGVybWlzc2lvbnMiLCJzdGF0dXMiLCJxdWVyeSIsInF1ZXJ5TmFtZSIsImdldFN0YXRlIiwicHJvbXB0IiwiZm9yY2VQcm9tcHQiLCJ0aHJvd09uTm90QWxsb3dlZCIsImlzR3JhbnRlZCIsIkRPTUV4Y2VwdGlvbiIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsImNvbnN0cmFpbnRzIiwiZGlzcG9zZU9mTWVkaWFTdHJlYW0iLCJsaXN0ZW4iLCJmcm9tRXZlbnRQYXR0ZXJuIiwidW5saXN0ZW4iLCJsaXN0ZW5lciIsInVuaW5pdGlhbGl6ZWQiLCJsYXp5IiwiZmFjdG9yeSIsImdldERldmljZXMiLCJkZXZpY2VzIiwiZW51bWVyYXRlRGV2aWNlcyIsInNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uIiwibGFiZWwiLCJkIiwiY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkIiwiY3JlYXRlRWxlbWVudCIsImF1ZGlvRGV2aWNlQ29uc3RyYWludHMiLCJhdXRvR2FpbkNvbnRyb2wiLCJub2lzZVN1cHByZXNzaW9uIiwiZWNob0NhbmNlbGxhdGlvbiIsInZpZGVvRGV2aWNlQ29uc3RyYWludHMiLCJnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uIiwiZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiIsImdldERldmljZUNoYW5nZU9ic2VydmVyIiwiZnJvbUV2ZW50IiwiZGVib3VuY2VUaW1lIiwiZ2V0QXVkaW9EZXZpY2VzIiwibWVyZ2UiLCJzdGFydFdpdGgiLCJjb25jYXRNYXAiLCJnZXRWaWRlb0RldmljZXMiLCJnZXRBdWRpb091dHB1dERldmljZXMiLCJnZXRTdHJlYW0iLCJnZXRBdWRpb1N0cmVhbSIsInRyYWNrQ29uc3RyYWludHMiLCJnZXRWaWRlb1N0cmVhbSIsImdldFNjcmVlblNoYXJlU3RyZWFtIiwiZ2V0RGlzcGxheU1lZGlhIiwiaWRlYWwiLCJzeXN0ZW1BdWRpbyIsImRldmljZUlkcyQiLCJyZWxlYXNlIiwiSW5wdXRNZWRpYURldmljZU1hbmFnZXIiLCJzdG9wT25MZWF2ZSIsImlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCIsImZpbHRlcnMiLCJzdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZyIsImZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnIiwiaGFuZGxlRGlzY29ubmVjdGVkT3JSZXBsYWNlZERldmljZXMiLCJsaXN0RGV2aWNlcyIsIm9wdGltaXN0aWNTdGF0dXMiLCJzZXRQZW5kaW5nU3RhdHVzIiwidW5tdXRlU3RyZWFtIiwic2V0U3RhdHVzIiwiZm9yY2VTdG9wIiwicHJldlN0YXR1cyIsImRpc2FibGVNb2RlIiwibXV0ZVN0cmVhbSIsInN0YXR1c0NoYW5nZVNldHRsZWQiLCJyZXN1bWUiLCJ0b2dnbGUiLCJyZWdpc3RlckZpbHRlciIsInJlZ2lzdGVyZWQiLCJhcHBseVNldHRpbmdzVG9TdHJlYW0iLCJzZXREZWZhdWx0Q29uc3RyYWludHMiLCJzZWxlY3QiLCJzZXREZXZpY2UiLCJzdG9wUHVibGlzaFN0cmVhbSIsIm11dGVMb2NhbFN0cmVhbSIsImFsbEVuZGVkIiwic2V0TWVkaWFTdHJlYW0iLCJtdXRlVHJhY2tzIiwidW5tdXRlVHJhY2tzIiwicm9vdFN0cmVhbSIsImRlZmF1bHRDb25zdHJhaW50cyIsImNoYWluV2l0aCIsInBhcmVudFN0cmVhbSIsImZpbHRlclN0cmVhbSIsInBhcmVudCIsIm9yaWdpbmFsU3RvcCIsInBhcmVudFRyYWNrIiwiaGFuZGxlUGFyZW50VHJhY2tFbmRlZCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsImlucHV0U3RyZWFtIiwib3V0cHV0IiwibWVkaWFEZXZpY2VLaW5kIiwicGFpcndpc2UiLCJwcmV2RGV2aWNlcyIsImN1cnJlbnREZXZpY2VzIiwiaXNEZXZpY2VEaXNjb25uZWN0ZWQiLCJpc0RldmljZVJlcGxhY2VkIiwiY3VycmVudERldmljZSIsImZpbmREZXZpY2VJbkxpc3QiLCJwcmV2RGV2aWNlIiwiZ3JvdXBJZCIsIklucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUiLCJzdGF0dXNTdWJqZWN0Iiwib3B0aW1pc3RpY1N0YXR1c1N1YmplY3QiLCJtZWRpYVN0cmVhbVN1YmplY3QiLCJzZWxlY3RlZERldmljZVN1YmplY3QiLCJkZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0IiwibWVkaWFTdHJlYW0kIiwic3RhdHVzJCIsIm9wdGltaXN0aWNTdGF0dXMkIiwiZGVmYXVsdENvbnN0cmFpbnRzJCIsImhhc0Jyb3dzZXJQZXJtaXNzaW9uJCIsIm9mIiwicGVuZGluZ1N0YXR1cyIsImdldERldmljZUlkRnJvbVN0cmVhbSIsIkNhbWVyYU1hbmFnZXJTdGF0ZSIsImRpcmVjdGlvblN1YmplY3QiLCJkaXJlY3Rpb24kIiwic2V0RGlyZWN0aW9uIiwiZmFjaW5nTW9kZSIsIkNhbWVyYU1hbmFnZXIiLCJzZWxlY3REaXJlY3Rpb24iLCJmbGlwIiwibmV3RGlyZWN0aW9uIiwic2VsZWN0VGFyZ2V0UmVzb2x1dGlvbiIsInJlc29sdXRpb24iLCJzZXRQcmVmZXJyZWRDb2RlYyIsInVwZGF0ZVB1Ymxpc2hPcHRpb25zIiwiZ2V0Q2FwdHVyZVJlc29sdXRpb24iLCJmcmFtZVJhdGUiLCJwdWJsaXNoVmlkZW9TdHJlYW0iLCJzdG9wUHVibGlzaCIsIk1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUiLCJzcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0Iiwic3BlYWtpbmdXaGlsZU11dGVkJCIsInNwZWFraW5nV2hpbGVNdXRlZCIsInNldFNwZWFraW5nV2hpbGVNdXRlZCIsIkRFVEVDVElPTl9GUkVRVUVOQ1lfSU5fTVMiLCJBVURJT19MRVZFTF9USFJFU0hPTEQiLCJGRlRfU0laRSIsImNyZWF0ZVNvdW5kRGV0ZWN0b3IiLCJvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQiLCJkZXRlY3Rpb25GcmVxdWVuY3lJbk1zIiwiYXVkaW9MZXZlbFRocmVzaG9sZCIsImZmdFNpemUiLCJkZXN0cm95U3RyZWFtT25TdG9wIiwiYXVkaW9Db250ZXh0IiwiQXVkaW9Db250ZXh0IiwiYW5hbHlzZXIiLCJjcmVhdGVBbmFseXNlciIsImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlIiwiY29ubmVjdCIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJpc1NvdW5kRGV0ZWN0ZWQiLCJhdmVyYWdlZERhdGFWYWx1ZSIsInB2IiwiY3YiLCJwZXJjZW50YWdlIiwiUk5TcGVlY2hEZXRlY3RvciIsInBjMSIsInBjMiIsImFkZFRyYWNrIiwiYXVkaW9UcmFja3MiLCJvblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZSIsImF1ZGlvTWVkaWFTb3VyY2VTdGF0cyIsIk1pY3JvcGhvbmVNYW5hZ2VyIiwic3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCIsInNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZyIsInN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24iLCJzdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbiIsIm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uIiwibm9pc2VDYW5jZWxsYXRpb24iLCJhdXRvT24iLCJub2lzZV9jYW5jZWxsYXRpb24iLCJtb2RlIiwibm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkIiwiZW5hYmxlTm9pc2VDYW5jZWxsYXRpb24iLCJoYXNOb2lzZUNhbmNlbGxhdGlvbkNhcGFiaWxpdHkiLCJub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIiwibm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZSIsIm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RhcnRpbmciLCJyZWdpc3RyYXRpb25SZXN1bHQiLCJ0b0ZpbHRlciIsInVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbiIsImRpc2FibGVOb2lzZUNhbmNlbGxhdGlvbiIsImVuYWJsZVNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiIsImRpc2FibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24iLCJwdWJsaXNoQXVkaW9TdHJlYW0iLCJyblNwZWVjaERldGVjdG9yIiwic291bmREZXRlY3RvckNsZWFudXAiLCJTY3JlZW5TaGFyZVN0YXRlIiwiYXVkaW9FbmFibGVkU3ViamVjdCIsImF1ZGlvRW5hYmxlZCQiLCJhdWRpb0VuYWJsZWQiLCJzZXRBdWRpb0VuYWJsZWQiLCJpc0VuYWJsZWQiLCJzZXRTZXR0aW5ncyIsIlNjcmVlblNoYXJlTWFuYWdlciIsIm1heWJlVGFyZ2V0UmVzb2x1dGlvbiIsImVuYWJsZVNjcmVlblNoYXJlQXVkaW8iLCJkaXNhYmxlU2NyZWVuU2hhcmVBdWRpbyIsInB1Ymxpc2hTY3JlZW5TaGFyZVN0cmVhbSIsIlNwZWFrZXJTdGF0ZSIsInZvbHVtZVN1YmplY3QiLCJpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCIsInNldFZvbHVtZSIsIlNwZWFrZXJNYW5hZ2VyIiwic2V0UGFydGljaXBhbnRWb2x1bWUiLCJjbGllbnRTdG9yZSIsIndhdGNoaW5nIiwic2Z1Q2xpZW50VGFnIiwicmVjb25uZWN0Q29uY3VycmVuY3lUYWciLCJyZWNvbm5lY3RBdHRlbXB0cyIsImZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMiLCJsYXN0T2ZmbGluZVRpbWVzdGFtcCIsInRyYWNrUHVibGlzaE9yZGVyIiwiaGFzSm9pbmVkT25jZSIsImRldmljZVNldHRpbmdzQXBwbGllZE9uY2UiLCJpbml0aWFsaXplZCIsImpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnIiwibGVhdmVDYWxsSG9va3MiLCJzdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzIiwiaGFuZGxlT3duQ2FwYWJpbGl0aWVzVXBkYXRlZCIsInBlcm1pc3Npb25Ub1RyYWNrVHlwZSIsIm9mZkhhbmRsZXIiLCJjYWxsX2NpZCIsInJlZ2lzdGVyZWRPZmZIYW5kbGVyIiwid2FpdFVudGlsQ2FsbEpvaW5lZCIsImhhc090aGVyUGFydGljaXBhbnRzIiwic3RhdHNSZXBvcnRlciIsInNmdVN0YXRzUmVwb3J0ZXIiLCJkeW5hc2NhbGVNYW5hZ2VyIiwiaG9vayIsInN0b3BPbkxlYXZlUHJvbWlzZXMiLCJzZXR1cCIsInN0cmVhbUNsaWVudEJhc2VQYXRoIiwicmluZyIsInJpbmdpbmdTdWJqZWN0IiwiX2hhc0Nvbm5lY3Rpb25JRCIsImFwcGx5RGV2aWNlQ29uZmlnIiwiZ2V0T3JDcmVhdGUiLCJwb3N0Iiwibm90aWZ5IiwiYWNjZXB0Iiwiam9pbkNhbGxEYXRhIiwicGVyZm9ybWluZ01pZ3JhdGlvbiIsIk1JR1JBVEUiLCJwZXJmb3JtaW5nUmVqb2luIiwiUkVKT0lOIiwicGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QiLCJzdGF0c09wdGlvbnMiLCJkb0pvaW5SZXF1ZXN0Iiwic3RhdHNfb3B0aW9ucyIsInByZXZpb3VzU2Z1Q2xpZW50IiwicHJldmlvdXNTZXNzaW9uSWQiLCJpc1dzSGVhbHRoeSIsImhhbmRsZVNmdVNpZ25hbENsb3NlIiwicmVjZWl2aW5nQ2FwYWJpbGl0aWVzU2RwIiwiZ2V0UmVjb25uZWN0RGV0YWlscyIsIm1pZ3JhdGluZ19mcm9tIiwic3Vic2NyaWJlclNkcCIsImZhc3RSZWNvbm5lY3QiLCJyZXN0b3JlSUNFIiwiaW5jbHVkZVN1YnNjcmliZXIiLCJpY2Vfc2VydmVycyIsImluaXRQdWJsaXNoZXJBbmRTdWJzY3JpYmVyIiwiY2xvc2VQcmV2aW91c0luc3RhbmNlcyIsInN0cmF0ZWd5IiwibWlncmF0aW5nRnJvbVNmdUlkIiwicmVjb25uZWN0QXR0ZW1wdCIsImZyb21TZnVJZCIsIm5leHRTZnVDbGllbnQiLCJpbmNsdWRlUHVibGlzaGVyIiwicmVjb25uZWN0IiwiaXNBbm9ueW1vdXMiLCJhdWRpb1NldHRpbmdzIiwib3B1c19kdHhfZW5hYmxlZCIsInJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZCIsImxvY2F0aW9uIiwiZ2V0TG9jYXRpb25IaW50IiwicmVxdWVzdCIsIkRJU0NPTk5FQ1QiLCJyZWNvbm5lY3RGYXN0IiwicmVjb25uZWN0UmVqb2luIiwicmVjb25uZWN0TWlncmF0ZSIsInVucmVjb3ZlcmFibGUiLCJSRUNPTk5FQ1RJTkdfRkFJTEVEIiwicmVzdG9yZVB1Ymxpc2hlZFRyYWNrcyIsInJlc3RvcmVTdWJzY3JpYmVkVHJhY2tzIiwiY3VycmVudFNmdUNsaWVudCIsIk1JR1JBVElORyIsImN1cnJlbnRTdWJzY3JpYmVyIiwiY3VycmVudFB1Ymxpc2hlciIsImN1cnJlbnRTZnUiLCJyZWdpc3RlclJlY29ubmVjdEhhbmRsZXJzIiwidW5yZWdpc3RlckdvQXdheSIsInVucmVnaXN0ZXJPbkVycm9yIiwidW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkIiwib2ZmbGluZSIsIk9GRkxJTkUiLCJhdWRpb1RyYWNrIiwic2NyZWVuU2hhcmVBdWRpb1RyYWNrIiwicmVzZXRSZWFjdGlvbiIsImNyaXRlcmlhIiwic2VuZFJlYWN0aW9uIiwibXV0ZVNlbGYiLCJteVVzZXJJZCIsIm11dGVVc2VyIiwibXV0ZU90aGVycyIsInVzZXJJZHNUb011dGUiLCJ1c2VyX2lkcyIsIm11dGVBbGxVc2VycyIsIm11dGVfYWxsX3VzZXJzIiwic3RhcnRSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwic3RhcnRUcmFuc2NyaXB0aW9uIiwic3RvcFRyYW5zY3JpcHRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbnMiLCJjYW5SZXF1ZXN0UGVybWlzc2lvbnMiLCJncmFudFBlcm1pc3Npb25zIiwidXBkYXRlVXNlclBlcm1pc3Npb25zIiwiZ3JhbnRfcGVybWlzc2lvbnMiLCJyZXZva2VQZXJtaXNzaW9ucyIsInJldm9rZV9wZXJtaXNzaW9ucyIsImdvTGl2ZSIsInN0b3BMaXZlIiwic3RhcnRITFMiLCJzdG9wSExTIiwidXBkYXRlcyIsImVuZENhbGwiLCJ1bnBpbiIsInBpbkZvckV2ZXJ5b25lIiwidW5waW5Gb3JFdmVyeW9uZSIsInF1ZXJ5TWVtYmVycyIsInVwZGF0ZUNhbGxNZW1iZXJzIiwic2NoZWR1bGVBdXRvRHJvcCIsImRyb3BUaW1lb3V0IiwidGltZW91dEluTXMiLCJhdXRvX2NhbmNlbF90aW1lb3V0X21zIiwicXVlcnlSZWNvcmRpbmdzIiwiY2FsbFNlc3Npb25JZCIsInF1ZXJ5VHJhbnNjcmlwdGlvbnMiLCJnZXRDYWxsU3RhdHMiLCJjYWxsU2Vzc2lvbklEIiwic3VibWl0RmVlZGJhY2siLCJyYXRpbmciLCJ1c2VyU2Vzc2lvbklkIiwic2RrX3ZlcnNpb24iLCJzZW5kQ3VzdG9tRXZlbnQiLCJpbml0Q2FtZXJhIiwiaW5pdE1pYyIsImRlZmF1bHREaXJlY3Rpb24iLCJiYWNrZW5kU2V0dGluZyIsImNhbWVyYV9mYWNpbmciLCJjYW1lcmFfZGVmYXVsdF9vbiIsIm1pY19kZWZhdWx0X29uIiwidW5iaW5kIiwiYmluZENhbGxUaHVtYm5haWxFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiaGFuZGxlRXJyb3IiLCJzcmMiLCJmYWxsYmFja0ltYWdlU291cmNlIiwidGh1bWJuYWlsVXJsIiwiVVJMIiwiaW1hZ2VfdXJsIiwic2VhcmNoUGFyYW1zIiwic2V0UHJlZmVycmVkSW5jb21pbmdWaWRlb1Jlc29sdXRpb24iLCJzZXRJbmNvbWluZ1ZpZGVvRW5hYmxlZCIsImNhbGxUeXBlQ29uZmlnIiwicGFydGljaXBhbnRTb3J0ZXIiLCJJRExFIiwicmVnaXN0ZXJFZmZlY3RzIiwiaXNSaW5naW5nIiwicmVjZWl2ZXJfaWQiLCJjcmVhdGVkX2J5X2lkIiwiYWNjZXB0ZWRfYnkiLCJsZWF2ZUNhbGxJZGxlIiwiSW5zaWdodE1ldHJpY3MiLCJjb25uZWN0aW9uU3RhcnRUaW1lc3RhbXAiLCJ3c1RvdGFsRmFpbHVyZXMiLCJ3c0NvbnNlY3V0aXZlRmFpbHVyZXMiLCJpbnN0YW5jZUNsaWVudElkIiwicG9zdEluc2lnaHRzIiwiaW5zaWdodFR5cGUiLCJpbnNpZ2h0cyIsIm1heEF0dGVtcHRzIiwiYXhpb3MiLCJidWlsZFdzRmF0YWxJbnNpZ2h0IiwiY29ubmVjdGlvbiIsImJ1aWxkV3NCYXNlSW5zaWdodCIsImNsaWVudCIsInJlYWR5X3N0YXRlIiwiX2J1aWxkVXJsIiwiYXBpX2tleSIsInN0YXJ0X3RzIiwiaW5zaWdodE1ldHJpY3MiLCJlbmRfdHMiLCJhdXRoX3R5cGUiLCJnZXRBdXRoVHlwZSIsInRva2VuTWFuYWdlciIsInVzZXJJRCIsInVzZXJfZGV0YWlscyIsIl91c2VyIiwiY2xpZW50X2lkIiwiY29ubmVjdGlvbklEIiwid3NfZGV0YWlscyIsIndzX2NvbnNlY3V0aXZlX2ZhaWx1cmVzIiwid3NfdG90YWxfZmFpbHVyZXMiLCJyZXF1ZXN0X2lkIiwicmVxdWVzdElEIiwidXNlcl9hZ2VudCIsImluc3RhbmNlX2NsaWVudF9pZCIsImJ1aWxkV3NTdWNjZXNzQWZ0ZXJGYWlsdXJlSW5zaWdodCIsImlzQ2xvc2VFdmVudCIsInJlcyIsImlzRXJyb3JFdmVudCIsIlN0YWJsZVdTQ29ubmVjdGlvbiIsIl9sb2ciLCJleHRyYSIsInNldENsaWVudCIsIlVSTFNlYXJjaFBhcmFtcyIsImdldFVzZXJBZ2VudCIsIndzQmFzZVVSTCIsIm9ubGluZVN0YXR1c0NoYW5nZWQiLCJfc2V0SGVhbHRoIiwiX3JlY29ubmVjdCIsImludGVydmFsIiwib25vcGVuIiwid3NJRCIsIl9nZXRUb2tlbiIsImF1dGhNZXNzYWdlIiwiaW1hZ2UiLCJhdXRoZW50aWNhdGlvblNlbnQiLCJvbm1lc3NhZ2UiLCJyZWplY3RQcm9taXNlIiwiX2Vycm9yRnJvbVdTRXZlbnQiLCJsYXN0RXZlbnQiLCJzY2hlZHVsZU5leHRQaW5nIiwicmVzb2x2ZVByb21pc2UiLCJpc0Nvbm5lY3RpbmciLCJjb25zZWN1dGl2ZUZhaWx1cmVzIiwiaXNTdGF0aWMiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmIiwicmVmcmVzaFRva2VuIiwicmVjZWl2ZWRfYXQiLCJvbmNsb3NlIiwid2FzQ2xlYW4iLCJ0b3RhbEZhaWx1cmVzIiwib25lcnJvciIsImhlYWx0aHkiLCJkaXNwYXRjaEltbWVkaWF0ZWx5IiwiaXNXU0ZhaWx1cmUiLCJzdGF0dXNDb2RlIiwiU3RhdHVzQ29kZSIsIl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlIiwiY29ubmVjdGlvbk9wZW4iLCJoZWFsdGhDaGVja1RpbWVvdXRSZWYiLCJjbGllbnRJRCIsInBpbmdJbnRlcnZhbCIsImlzRGlzY29ubmVjdGVkIiwiaGVhbHRoQ2hlY2siLCJfY29ubmVjdCIsIl93YWl0Rm9ySGVhbHRoeSIsInJlbW92ZUFsbExpc3RlbmVycyIsImlzQ2xvc2VkUHJvbWlzZSIsImVuYWJsZVdTRmFsbGJhY2siLCJpc1Rva2VuUmVhZHkiLCJ0b2tlblJlYWR5IiwibG9hZFRva2VuIiwibXVzdFNldHVwQ29ubmVjdGlvbklkUHJvbWlzZSIsImNvbm5lY3Rpb25JZFByb21pc2UiLCJfc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlIiwid3NVUkwiLCJjb25uZWN0aW9uX2lkIiwicmVzb2x2ZUNvbm5lY3Rpb25JZCIsImVuYWJsZUluc2lnaHRzIiwicmVqZWN0Q29ubmVjdGlvbklkIiwiX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uIiwiaXNTdHJpbmciLCJhcnJheU9yU3RyaW5nIiwiaXNNYXBTdHJpbmdDYWxsYmFjayIsImNhbGxiYWNrIiwibGVuIiwiY2hhckF0Iiwia1ZhbHVlIiwibWFwcGVkVmFsdWUiLCJlbmNvZGVCYXNlNjQiLCJmcm9tQnl0ZUFycmF5IiwiY2hhciIsImNoYXJDb2RlQXQiLCJkZWNvZGVCYXNlNjQiLCJmcm9tQ2hhckNvZGUiLCJMIiwiQSIsIkRldlRva2VuIiwiVXNlckZyb21Ub2tlbiIsImZyYWdtZW50cyIsImI2NFBheWxvYWQiLCJUb2tlbk1hbmFnZXIiLCJzZWNyZXQiLCJzZXRUb2tlbk9yUHJvdmlkZXIiLCJ0b2tlbk9yUHJvdmlkZXIiLCJ2YWxpZGF0ZVRva2VuIiwidG9rZW5Qcm92aWRlciIsInJlc2V0IiwibG9hZFRva2VuUHJvbWlzZSIsInRva2VuVXNlcklkIiwiZ2V0VG9rZW4iLCJBUElFcnJvckNvZGVzIiwiaXNBUElFcnJvciIsImlzRXJyb3JSZXRyeWFibGUiLCJpc0Nvbm5lY3Rpb25JREVycm9yIiwiaXNFcnJvclJlc3BvbnNlIiwiQ29ubmVjdGlvblN0YXRlIiwiV1NDb25uZWN0aW9uRmFsbGJhY2siLCJfb25saW5lU3RhdHVzQ2hhbmdlZCIsIl9zZXRTdGF0ZSIsIkNsb3NlZCIsImNhbmNlbFRva2VuIiwiY2FuY2VsIiwiX3JlcSIsInJldHJ5IiwiQ2FuY2VsVG9rZW4iLCJkb0F4aW9zUmVxdWVzdCIsImJhc2VVUkwiLCJwdWJsaWNFbmRwb2ludCIsIl9wb2xsIiwiQ29ubmVjdGVkIiwiZXZlbnRzIiwiaXNDYW5jZWwiLCJEaXNjb25uZWN0ZWQiLCJDb25uZWN0aW5nIiwiX2J1aWxkV1NQYXlsb2FkIiwiSW5pdCIsImhpbnRVcmwiLCJsb2NhdGlvbkhpbnQiLCJmZXRjaCIsImF3c1BvcCIsIlN0cmVhbUNsaWVudCIsImRldlRva2VuIiwic2V0QmFzZVVSTCIsImhpbnQiLCJsb2NhdGlvbkhpbnRVcmwiLCJsb2NhdGlvbkhpbnRUaW1lb3V0IiwiX2dldENvbm5lY3Rpb25JRCIsIndzQ29ubmVjdGlvbiIsIndzRmFsbGJhY2siLCJjb25uZWN0VXNlciIsInVzZXJUb2tlbk9yUHJvdmlkZXIiLCJzZXRVc2VyUHJvbWlzZSIsIl9pc1VzaW5nU2VydmVyQXV0aCIsIm5vZGUiLCJhbGxvd1NlcnZlclNpZGVDb25uZWN0Iiwic2V0VG9rZW5Qcm9taXNlIiwiX3NldFRva2VuIiwiX3NldFVzZXIiLCJ3c1Byb21pc2UiLCJvcGVuQ29ubmVjdGlvbiIsInVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzIiwicGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlIiwiY2xvc2VDb25uZWN0aW9uIiwiZGlzY29ubmVjdFVzZXIiLCJjb25uZWN0R3Vlc3RVc2VyIiwiZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSIsImFjY2Vzc190b2tlbiIsImNvbm5lY3RBbm9ueW1vdXNVc2VyIiwiX2xvZ0FwaVJlcXVlc3QiLCJfbG9nQXBpUmVzcG9uc2UiLCJfbG9nQXBpRXJyb3IiLCJyZXF1ZXN0Q29uZmlnIiwiX2VucmljaEF4aW9zT3B0aW9ucyIsImF4aW9zSW5zdGFuY2UiLCJwdXQiLCJoYW5kbGVSZXNwb25zZSIsImNsaWVudF9yZXF1ZXN0X2lkIiwiZXJyb3JGcm9tUmVzcG9uc2UiLCJ3YXJtVXAiLCJfc2F5SGkiLCJkZWZhdWx0V1NUaW1lb3V0V2l0aEZhbGxiYWNrIiwiZGVmYXVsdFdTVGltZW91dCIsIkF4aW9zSGVhZGVycyIsInNldFVzZXJBZ2VudCIsImF1dGhvcml6YXRpb24iLCJheGlvc1JlcXVlc3RDb25maWciLCJpbnB1dE9wdGlvbnMiLCJsb2NhdGlvbkhpbnRNYXhBdHRlbXB0cyIsIndpdGhDcmVkZW50aWFscyIsImh0dHBzQWdlbnQiLCJodHRwcyIsIkFnZW50Iiwia2VlcEFsaXZlTXNlY3MiLCJwcm9jZXNzIiwiZW52IiwiU1RSRUFNX0xPQ0FMX1RFU1RfUlVOIiwiU1RSRUFNX0xPQ0FMX1RFU1RfSE9TVCIsIlN0cmVhbVZpZGVvQ2xpZW50IiwiYXBpS2V5T3JBcmdzIiwiZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3RlciIsImNvbm5lY3Rpb25Qcm9taXNlIiwiZGlzY29ubmVjdGlvblByb21pc2UiLCJjb25uZWN0VXNlclJlc3BvbnNlIiwibWUiLCJ3cml0ZWFibGVTdGF0ZVN0b3JlIiwiY2FsbHNUb1JlV2F0Y2giLCJxdWVyeUNhbGxzIiwid2F0Y2giLCJmaWx0ZXJfY29uZGl0aW9ucyIsIiRpbiIsImZpZWxkIiwibmV3Q2FsbCIsInByZXZDYWxsIiwidGhlQ2FsbCIsImFwaUtleSIsIl9pbnN0YW5jZU1hcCIsImNyZWF0ZUd1ZXN0VXNlciIsInF1ZXJ5Q2FsbFN0YXRzIiwiZWRnZXMiLCJhZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwicHVzaF9wcm92aWRlcl9uYW1lIiwidm9pcF90b2tlbiIsImFkZFZvaXBEZXZpY2UiLCJyZW1vdmVEZXZpY2UiLCJvblJpbmdpbmdDYWxsIiwiY2FsbElkIiwiY29vcmRpbmF0b3JMb2dnZXIiLCJyZWFkT25seVN0YXRlU3RvcmUiLCJnZXRPckNyZWF0ZUluc3RhbmNlIiwiaW5zdGFuY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/./node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        var m = sigma * Math.sqrt(2 * Math.PI);\n        var e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels);\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1.0, -1.0, 1.0, -1.0, -1.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  var noExitRuntime = Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function keepRuntimeAlive() {\n    return noExitRuntime;\n  }\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    if (!keepRuntimeAlive()) {\n      if (Module['onExit']) Module['onExit'](code);\n      ABORT = true;\n    }\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.1.4\";\nconst packageName = \"@stream-io/video-filters-web\";\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFJLEtBQUs7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDhCQUE4QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlCQUF5QixXQUFXLGNBQWMsNENBQTRDO0FBQzlGLHlCQUF5QixXQUFXLGNBQWMsNkNBQTZDOztBQUUvRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsc0JBQXNCLE1BQU0sYUFBYTtBQUN6Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLE9BQU87QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSwyQ0FBMkM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsZUFBZTtBQUMxRCw2Q0FBNkMsZUFBZTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Es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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscURBQXFEOztBQUVyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsNEJBQTRCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRCQUE0QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsV0FBVztBQUNYO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixjQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7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TDtBQUNBLHVCQUF1Qiw4QkFBOEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4RTtBQUM5RSIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzPzNiN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2ltZCB9IGZyb20gJ3dhc20tZmVhdHVyZS1kZXRlY3QnO1xuXG4vKipcbiAqIENoZWNrcyBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBpcyBhIG1vYmlsZSBkZXZpY2UuXG4gKlxuICogU2VlOlxuICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9Ccm93c2VyX2RldGVjdGlvbl91c2luZ190aGVfdXNlcl9hZ2VudFxuICovXG5jb25zdCBpc01vYmlsZSA9ICgpID0+IC9Nb2JpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbi8qKlxuICogUnVucyBhIGNoZWNrIHRvIHNlZSBpZiB0aGUgY3VycmVudCBwbGF0Zm9ybSBzdXBwb3J0c1xuICogdGhlIG5lY2Vzc2FyeSBBUElzIHJlcXVpcmVkIGZvciB0aGUgdmlkZW8gZmlsdGVycy5cbiAqL1xuY29uc3QgaXNQbGF0Zm9ybVN1cHBvcnRlZCA9IGFzeW5jICgpID0+IHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgIWlzTW9iaWxlKCkgJiYgLy8gd2UgZG9uJ3Qgc3VwcG9ydCBtb2JpbGUgZGV2aWNlcyB5ZXQgZHVlIHRvIHBlcmZvcm1hbmNlIGlzc3Vlc1xuICAgIHR5cGVvZiBXZWJBc3NlbWJseSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAhIXdpbmRvdy5XZWJHTDJSZW5kZXJpbmdDb250ZXh0ICYmIC8vIFdlYkdMMiBpcyByZXF1aXJlZCBmb3IgdGhlIHZpZGVvIGZpbHRlcnNcbiAgICAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJ3dlYmdsMicpICYmXG4gICAgKGF3YWl0IHNpbWQoKSk7IC8vIFNJTUQgaXMgcmVxdWlyZWQgZm9yIHRoZSB3YXNtIG1vZHVsZVxuXG4vKipcbiAqIFVzZSBpdCBhbG9uZyB3aXRoIGJveXN3YW4uZ2xzbC1saXRlcmFsIFZTQ29kZSBleHRlbnNpb25cbiAqIHRvIGdldCBHTFNMIHN5bnRheCBoaWdobGlnaHRpbmcuXG4gKiBodHRwczovL21hcmtldHBsYWNlLnZpc3VhbHN0dWRpby5jb20vaXRlbXM/aXRlbU5hbWU9Ym95c3dhbi5nbHNsLWxpdGVyYWxcbiAqXG4gKiBPbiBWU0NvZGUgT1NTLCBib3lzd2FuLmdsc2wtbGl0ZXJhbCByZXF1aXJlcyBzbGV2ZXNxdWUuc2hhZGVyIGV4dGVuc2lvblxuICogdG8gYmUgaW5zdGFsbGVkIGFzIHdlbGwuXG4gKiBodHRwczovL21hcmtldHBsYWNlLnZpc3VhbHN0dWRpby5jb20vaXRlbXM/aXRlbU5hbWU9c2xldmVzcXVlLnNoYWRlclxuICovXG5jb25zdCBnbHNsID0gU3RyaW5nLnJhdztcbmZ1bmN0aW9uIGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XG4gICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHBvc2l0aW9uQnVmZmVyKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgY29uc3QgdGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3RleENvb3JkJyk7XG4gICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkodGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbik7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHRleENvb3JkQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5mdW5jdGlvbiBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKSB7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgdmVydGV4U2hhZGVyKTtcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgbGluayBXZWJHTCBwcm9ncmFtOiAke2dsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pfWApO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHNoYWRlclR5cGUsIHNoYWRlclNvdXJjZSkge1xuICAgIGNvbnN0IHNoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihzaGFkZXJUeXBlKTtcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzaGFkZXJTb3VyY2UpO1xuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBjb21waWxlIHNoYWRlcjogJHtnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcil9YCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFkZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVUZXh0dXJlKGdsLCBpbnRlcm5hbGZvcm1hdCwgd2lkdGgsIGhlaWdodCwgbWluRmlsdGVyID0gZ2wuTkVBUkVTVCwgbWFnRmlsdGVyID0gZ2wuTkVBUkVTVCkge1xuICAgIGNvbnN0IHRleHR1cmUgPSBnbC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIG1pbkZpbHRlcik7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIG1hZ0ZpbHRlcik7XG4gICAgZ2wudGV4U3RvcmFnZTJEKGdsLlRFWFRVUkVfMkQsIDEsIGludGVybmFsZm9ybWF0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICByZXR1cm4gdGV4dHVyZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRQaXhlbHNBc3luYyhnbCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCBkZXN0KSB7XG4gICAgY29uc3QgYnVmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5QSVhFTF9QQUNLX0JVRkZFUiwgYnVmKTtcbiAgICBnbC5idWZmZXJEYXRhKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBkZXN0LmJ5dGVMZW5ndGgsIGdsLlNUUkVBTV9SRUFEKTtcbiAgICBnbC5yZWFkUGl4ZWxzKHgsIHksIHdpZHRoLCBoZWlnaHQsIGZvcm1hdCwgdHlwZSwgMCk7XG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5QSVhFTF9QQUNLX0JVRkZFUiwgbnVsbCk7XG4gICAgYXdhaXQgZ2V0QnVmZmVyU3ViRGF0YUFzeW5jKGdsLCBnbC5QSVhFTF9QQUNLX0JVRkZFUiwgYnVmLCAwLCBkZXN0KTtcbiAgICBnbC5kZWxldGVCdWZmZXIoYnVmKTtcbiAgICByZXR1cm4gZGVzdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ1ZmZlclN1YkRhdGFBc3luYyhnbCwgdGFyZ2V0LCBidWZmZXIsIHNyY0J5dGVPZmZzZXQsIGRzdEJ1ZmZlciwgZHN0T2Zmc2V0LCBsZW5ndGgpIHtcbiAgICBjb25zdCBzeW5jID0gZ2wuZmVuY2VTeW5jKGdsLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLCAwKTtcbiAgICBnbC5mbHVzaCgpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGNsaWVudFdhaXRBc3luYyhnbCwgc3luYyk7XG4gICAgZ2wuZGVsZXRlU3luYyhzeW5jKTtcbiAgICBpZiAocmVzICE9PSBnbC5XQUlUX0ZBSUxFRCkge1xuICAgICAgICBnbC5iaW5kQnVmZmVyKHRhcmdldCwgYnVmZmVyKTtcbiAgICAgICAgZ2wuZ2V0QnVmZmVyU3ViRGF0YSh0YXJnZXQsIHNyY0J5dGVPZmZzZXQsIGRzdEJ1ZmZlciwgZHN0T2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgICBnbC5iaW5kQnVmZmVyKHRhcmdldCwgbnVsbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xpZW50V2FpdEFzeW5jKGdsLCBzeW5jKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBnbC5jbGllbnRXYWl0U3luYyhzeW5jLCAwLCAwKTtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IGdsLldBSVRfRkFJTEVEKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXMgPT09IGdsLlRJTUVPVVRfRVhQSVJFRCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGVzdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQodGVzdCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQmFja2dyb3VuZEJsdXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCkge1xuICAgIGNvbnN0IGJsdXJQYXNzID0gYnVpbGRCbHVyUGFzcyhnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCk7XG4gICAgY29uc3QgYmxlbmRQYXNzID0gYnVpbGRCbGVuZFBhc3MoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgY2FudmFzKTtcbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIGJsdXJQYXNzLnJlbmRlcigpO1xuICAgICAgICBibGVuZFBhc3MucmVuZGVyKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGJsZW5kUGFzcy51cGRhdGVDb3ZlcmFnZShjb3ZlcmFnZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGJsZW5kUGFzcy5jbGVhblVwKCk7XG4gICAgICAgIGJsdXJQYXNzLmNsZWFuVXAoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRCbHVyUGFzcyhnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCkge1xuICAgIGNvbnN0IHNpZ21hID0gdHlwZW9mIGJsdXJMZXZlbCA9PT0gJ251bWJlcidcbiAgICAgICAgPyBibHVyTGV2ZWxcbiAgICAgICAgOiBibHVyTGV2ZWwgPT09ICdsb3cnXG4gICAgICAgICAgICA/IDJcbiAgICAgICAgICAgIDogYmx1ckxldmVsID09PSAnbWVkaXVtJ1xuICAgICAgICAgICAgICAgID8gNFxuICAgICAgICAgICAgICAgIDogNjtcbiAgICBjb25zdCB3aW5kb3dTaXplID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihzaWdtYSAqIDMpKTtcbiAgICBjb25zdCBvZmZzZXQgPSBuZXcgQXJyYXkod2luZG93U2l6ZSkuZmlsbCgwKS5tYXAoKHYsIGluZGV4KSA9PiBpbmRleCk7XG4gICAgY29uc3QgdmFyaWFuY2UgPSBzaWdtYSAqKiAyO1xuICAgIGNvbnN0IHdlaWdodHMgPSBvZmZzZXQubWFwKCh4KSA9PiB7XG4gICAgICAgIHZhciBtID0gc2lnbWEgKiBNYXRoLnNxcnQoMiAqIE1hdGguUEkpO1xuICAgICAgICB2YXIgZSA9IE1hdGguZXhwKC0oeCAqKiAyKSAvICgyICogdmFyaWFuY2UpKTtcbiAgICAgICAgcmV0dXJuIGUgLyBtO1xuICAgIH0pO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gdmVjMiB1X3RleGVsU2l6ZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGNvbnN0IGZsb2F0IG9mZnNldFske3dpbmRvd1NpemV9XSA9IGZsb2F0W10oJHtvZmZzZXQubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG4gICAgY29uc3QgZmxvYXQgd2VpZ2h0WyR7d2luZG93U2l6ZX1dID0gZmxvYXRbXSgke3dlaWdodHMubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWM0IGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuXG4gICAgICB2ZWM0IGZyYW1lQ29sb3IgPSBjZW50ZXJDb2xvciAqIHdlaWdodFswXSAqICgxLjAgLSBwZXJzb25NYXNrKTtcblxuICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCAke3dpbmRvd1NpemV9OyBpKyspIHtcbiAgICAgICAgdmVjMiBvZmZzZXQgPSB2ZWMyKG9mZnNldFtpXSkgKiB1X3RleGVsU2l6ZTtcblxuICAgICAgICB2ZWMyIHRleENvb3JkID0gdl90ZXhDb29yZCArIG9mZnNldDtcbiAgICAgICAgZnJhbWVDb2xvciArPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdGV4Q29vcmQpXG4gICAgICAgICAgICogd2VpZ2h0W2ldXG4gICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG5cbiAgICAgICAgdGV4Q29vcmQgPSB2X3RleENvb3JkIC0gb2Zmc2V0O1xuICAgICAgICBmcmFtZUNvbG9yICs9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB0ZXhDb29yZClcbiAgICAgICAgICAqIHdlaWdodFtpXVxuICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG4gICAgICB9XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvci5yZ2IgKyAoMS4wIC0gZnJhbWVDb2xvci5hKSAqIGNlbnRlckNvbG9yLnJnYiwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3Qgc2NhbGUgPSAwLjU7XG4gICAgY29uc3Qgb3V0cHV0V2lkdGggPSBjYW52YXMud2lkdGggKiBzY2FsZTtcbiAgICBjb25zdCBvdXRwdXRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICogc2NhbGU7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHRleHR1cmUxID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IHRleHR1cmUyID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMSA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjEpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTEsIDApO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMiA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTIsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBwZXJzb25NYXNrVGV4dHVyZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIDAsIHRleGVsSGVpZ2h0KTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIxKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlMSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgdGV4ZWxXaWR0aCwgMCk7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMik7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjIpO1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjEpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlMSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRCbGVuZFBhc3MoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgY2FudmFzKSB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfYmx1cnJlZElucHV0RnJhbWU7XG4gICAgdW5pZm9ybSB2ZWMyIHVfY292ZXJhZ2U7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgY29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgdmVjMyBibHVycmVkQ29sb3IgPSB0ZXh0dXJlKHVfYmx1cnJlZElucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IHBlcnNvbk1hc2sgPSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdl90ZXhDb29yZCkuYTtcbiAgICAgIHBlcnNvbk1hc2sgPSBzbW9vdGhzdGVwKHVfY292ZXJhZ2UueCwgdV9jb3ZlcmFnZS55LCBwZXJzb25NYXNrKTtcbiAgICAgIG91dENvbG9yID0gdmVjNChtaXgoYmx1cnJlZENvbG9yLCBjb2xvciwgcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IGJsdXJyZWRJbnB1dEZyYW1lID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsdXJyZWRJbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgY292ZXJhZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jb3ZlcmFnZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTFpKGJsdXJyZWRJbnB1dEZyYW1lLCAyKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcykge1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgdW5pZm9ybSB2ZWMyIHVfYmFja2dyb3VuZFNjYWxlO1xuICAgIHVuaWZvcm0gdmVjMiB1X2JhY2tncm91bmRPZmZzZXQ7XG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgICB2X2JhY2tncm91bmRDb29yZCA9IGFfdGV4Q29vcmQgKiB1X2JhY2tncm91bmRTY2FsZSArIHVfYmFja2dyb3VuZE9mZnNldDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9iYWNrZ3JvdW5kO1xuICAgIHVuaWZvcm0gdmVjMiB1X2NvdmVyYWdlO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9saWdodFdyYXBwaW5nO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9ibGVuZE1vZGU7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgaW4gdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdmVjMyBzY3JlZW4odmVjMyBhLCB2ZWMzIGIpIHtcbiAgICAgIHJldHVybiAxLjAgLSAoMS4wIC0gYSkgKiAoMS4wIC0gYik7XG4gICAgfVxuXG4gICAgdmVjMyBsaW5lYXJEb2RnZSh2ZWMzIGEsIHZlYzMgYikge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH1cblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICB2ZWMzIGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUodV9iYWNrZ3JvdW5kLCB2X2JhY2tncm91bmRDb29yZCkucmdiO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuICAgICAgZmxvYXQgbGlnaHRXcmFwTWFzayA9IDEuMCAtIG1heCgwLjAsIHBlcnNvbk1hc2sgLSB1X2NvdmVyYWdlLnkpIC8gKDEuMCAtIHVfY292ZXJhZ2UueSk7XG4gICAgICB2ZWMzIGxpZ2h0V3JhcCA9IHVfbGlnaHRXcmFwcGluZyAqIGxpZ2h0V3JhcE1hc2sgKiBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgIGZyYW1lQ29sb3IgPSB1X2JsZW5kTW9kZSAqIGxpbmVhckRvZGdlKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcClcbiAgICAgICAgKyAoMS4wIC0gdV9ibGVuZE1vZGUpICogc2NyZWVuKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcCk7XG4gICAgICBwZXJzb25NYXNrID0gc21vb3Roc3RlcCh1X2NvdmVyYWdlLngsIHVfY292ZXJhZ2UueSwgcGVyc29uTWFzayk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvciAqIHBlcnNvbk1hc2sgKyBiYWNrZ3JvdW5kQ29sb3IgKiAoMS4wIC0gcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IG91dHB1dFJhdGlvID0gb3V0cHV0V2lkdGggLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kU2NhbGUnKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZE9mZnNldCcpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgcGVyc29uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BlcnNvbk1hc2snKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZCcpO1xuICAgIGNvbnN0IGNvdmVyYWdlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY292ZXJhZ2UnKTtcbiAgICBjb25zdCBsaWdodFdyYXBwaW5nTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfbGlnaHRXcmFwcGluZycpO1xuICAgIGNvbnN0IGJsZW5kTW9kZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsZW5kTW9kZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRTY2FsZUxvY2F0aW9uLCAxLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZE9mZnNldExvY2F0aW9uLCAwLCAwKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCAwKTtcbiAgICBsZXQgYmFja2dyb3VuZFRleHR1cmUgPSBudWxsO1xuICAgIC8vIFRPRE8gRmluZCBhIGJldHRlciB0byBoYW5kbGUgYmFja2dyb3VuZCBiZWluZyBsb2FkZWRcbiAgICBpZiAoYmFja2dyb3VuZEltYWdlPy5jb21wbGV0ZSkge1xuICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRUZXh0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIGNvcnJlY3RseSB0aGUgYmFja2dyb3VuZCBub3QgbG9hZGVkIHlldFxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGJhY2tncm91bmRMb2NhdGlvbiwgMik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiZ0ltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIGJnSW1hZ2UubmF0dXJhbFdpZHRoLCBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQsIFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBpbmNvbXBsZXRlXG4gICAgICAgIGdsLkxJTkVBUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiZ0ltYWdlLm5hdHVyYWxXaWR0aCwgYmdJbWFnZS5uYXR1cmFsSGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBiZ0ltYWdlKTtcbiAgICAgICAgbGV0IHhPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kV2lkdGggPSBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgbGV0IGJhY2tncm91bmRIZWlnaHQgPSBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRSYXRpbyA9IGJhY2tncm91bmRXaWR0aCAvIGJhY2tncm91bmRIZWlnaHQ7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kUmF0aW8gPCBvdXRwdXRSYXRpbykge1xuICAgICAgICAgICAgYmFja2dyb3VuZEhlaWdodCA9IGJhY2tncm91bmRXaWR0aCAvIG91dHB1dFJhdGlvO1xuICAgICAgICAgICAgeU9mZnNldCA9IChiZ0ltYWdlLm5hdHVyYWxIZWlnaHQgLSBiYWNrZ3JvdW5kSGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kV2lkdGggPSBiYWNrZ3JvdW5kSGVpZ2h0ICogb3V0cHV0UmF0aW87XG4gICAgICAgICAgICB4T2Zmc2V0ID0gKGJnSW1hZ2UubmF0dXJhbFdpZHRoIC0gYmFja2dyb3VuZFdpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeFNjYWxlID0gYmFja2dyb3VuZFdpZHRoIC8gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGNvbnN0IHlTY2FsZSA9IGJhY2tncm91bmRIZWlnaHQgLyBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHhPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIHlPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZFNjYWxlTG9jYXRpb24sIHhTY2FsZSwgeVNjYWxlKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiwgeE9mZnNldCwgeU9mZnNldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVMaWdodFdyYXBwaW5nKGxpZ2h0V3JhcHBpbmcpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgbGlnaHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCBibGVuZE1vZGUgPT09ICdzY3JlZW4nID8gMCA6IDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIHVwZGF0ZUxpZ2h0V3JhcHBpbmcsXG4gICAgICAgIHVwZGF0ZUJsZW5kTW9kZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBpbnB1dFRleHR1cmUsIG91dHB1dFRleHR1cmUsIGNhbnZhcywgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3NlZ21lbnRhdGlvbk1hc2s7XG4gICAgdW5pZm9ybSB2ZWMyIHVfdGV4ZWxTaXplO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zdGVwO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XG4gICAgdW5pZm9ybSBmbG9hdCB1X29mZnNldDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFUZXhlbDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFDb2xvcjtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGZsb2F0IGdhdXNzaWFuKGZsb2F0IHgsIGZsb2F0IHNpZ21hKSB7XG4gICAgICBmbG9hdCBjb2VmZiA9IC0wLjUgLyAoc2lnbWEgKiBzaWdtYSAqIDQuMCArIDEuMGUtNik7XG4gICAgICByZXR1cm4gZXhwKCh4ICogeCkgKiBjb2VmZik7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiBjZW50ZXJDb29yZCA9IHZfdGV4Q29vcmQ7XG4gICAgICB2ZWMzIGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIGNlbnRlckNvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBuZXdWYWwgPSAwLjA7XG5cbiAgICAgIGZsb2F0IHNwYWNlV2VpZ2h0ID0gMC4wO1xuICAgICAgZmxvYXQgY29sb3JXZWlnaHQgPSAwLjA7XG4gICAgICBmbG9hdCB0b3RhbFdlaWdodCA9IDAuMDtcblxuICAgICAgLy8gU3Vic2FtcGxlIGtlcm5lbCBzcGFjZS5cbiAgICAgIGZvciAoZmxvYXQgaSA9IC11X3JhZGl1cyArIHVfb2Zmc2V0OyBpIDw9IHVfcmFkaXVzOyBpICs9IHVfc3RlcCkge1xuICAgICAgICBmb3IgKGZsb2F0IGogPSAtdV9yYWRpdXMgKyB1X29mZnNldDsgaiA8PSB1X3JhZGl1czsgaiArPSB1X3N0ZXApIHtcbiAgICAgICAgICB2ZWMyIHNoaWZ0ID0gdmVjMihqLCBpKSAqIHVfdGV4ZWxTaXplO1xuICAgICAgICAgIHZlYzIgY29vcmQgPSB2ZWMyKGNlbnRlckNvb3JkICsgc2hpZnQpO1xuICAgICAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCBjb29yZCkucmdiO1xuICAgICAgICAgIGZsb2F0IG91dFZhbCA9IHRleHR1cmUodV9zZWdtZW50YXRpb25NYXNrLCBjb29yZCkuYTtcblxuICAgICAgICAgIHNwYWNlV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29vcmQsIGNvb3JkKSwgdV9zaWdtYVRleGVsKTtcbiAgICAgICAgICBjb2xvcldlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvbG9yLCBmcmFtZUNvbG9yKSwgdV9zaWdtYUNvbG9yKTtcbiAgICAgICAgICB0b3RhbFdlaWdodCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0O1xuXG4gICAgICAgICAgbmV3VmFsICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQgKiBvdXRWYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1ZhbCAvPSB0b3RhbFdlaWdodDtcblxuICAgICAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4wKSwgbmV3VmFsKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBzZWdtZW50YXRpb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2VnbWVudGF0aW9uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHN0ZXBMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zdGVwJyk7XG4gICAgY29uc3QgcmFkaXVzTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcmFkaXVzJyk7XG4gICAgY29uc3Qgb2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfb2Zmc2V0Jyk7XG4gICAgY29uc3Qgc2lnbWFUZXhlbExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NpZ21hVGV4ZWwnKTtcbiAgICBjb25zdCBzaWdtYUNvbG9yTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2lnbWFDb2xvcicpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHNlZ21lbnRhdGlvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCB0ZXhlbFdpZHRoLCB0ZXhlbEhlaWdodCk7XG4gICAgLy8gRW5zdXJlcyBkZWZhdWx0IHZhbHVlcyBhcmUgY29uZmlndXJlZCB0byBwcmV2ZW50IGluZmluaXRlXG4gICAgLy8gbG9vcCBpbiBmcmFnbWVudCBzaGFkZXJcbiAgICB1cGRhdGVTaWdtYVNwYWNlKDApO1xuICAgIHVwZGF0ZVNpZ21hQ29sb3IoMCk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFTcGFjZShzaWdtYVNwYWNlKSB7XG4gICAgICAgIHNpZ21hU3BhY2UgKj0gTWF0aC5tYXgob3V0cHV0V2lkdGggLyBzZWdtZW50YXRpb25XaWR0aCwgb3V0cHV0SGVpZ2h0IC8gc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qga1NwYXJzaXR5RmFjdG9yID0gMC42NjsgLy8gSGlnaGVyIGlzIHNwYXJzZXIuXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLnNxcnQoc2lnbWFTcGFjZSkgKiBrU3BhcnNpdHlGYWN0b3IpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBzaWdtYVNwYWNlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzdGVwID4gMSA/IHN0ZXAgKiAwLjUgOiAwO1xuICAgICAgICBjb25zdCBzaWdtYVRleGVsID0gTWF0aC5tYXgodGV4ZWxXaWR0aCwgdGV4ZWxIZWlnaHQpICogc2lnbWFTcGFjZTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHN0ZXBMb2NhdGlvbiwgc3RlcCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihyYWRpdXNMb2NhdGlvbiwgcmFkaXVzKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKG9mZnNldExvY2F0aW9uLCBvZmZzZXQpO1xuICAgICAgICBnbC51bmlmb3JtMWYoc2lnbWFUZXhlbExvY2F0aW9uLCBzaWdtYVRleGVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFDb2xvcihzaWdtYUNvbG9yKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzaWdtYUNvbG9yTG9jYXRpb24sIHNpZ21hQ29sb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlU2lnbWFTcGFjZSwgdXBkYXRlU2lnbWFDb2xvciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZykge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgIH1cbiAgYDtcbiAgICAvLyBURkxpdGUgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQgYXMgZmxvYXQzMlxuICAgIGNvbnN0IHRmbGl0ZUlucHV0TWVtb3J5T2Zmc2V0ID0gdGZsaXRlLl9nZXRJbnB1dE1lbW9yeU9mZnNldCgpIC8gNDtcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCBvdXRwdXRQaXhlbENvdW50ID0gb3V0cHV0V2lkdGggKiBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGNvbnN0IG91dHB1dFBpeGVscyA9IG5ldyBVaW50OEFycmF5KG91dHB1dFBpeGVsQ291bnQgKiA0KTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgLy8gRG93bmxvYWRzIHBpeGVscyBhc3luY2hyb25vdXNseSBmcm9tIEdQVSB3aGlsZSByZW5kZXJpbmcgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgIC8vIFRoZSBwaXhlbHMgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlIG5leHQgZnJhbWUgcmVuZGVyIHdoaWNoIHJlc3VsdHNcbiAgICAgICAgLy8gaW4gb2Zmc2V0cyBpbiB0aGUgc2VnbWVudGF0aW9uIG91dHB1dCBidXQgaW5jcmVhc2VzIHRoZSBmcmFtZSByYXRlLlxuICAgICAgICByZWFkUGl4ZWxzQXN5bmMoZ2wsIDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG91dHB1dFBpeGVscyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3V0cHV0UGl4ZWxDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0ZmxpdGVJbmRleCA9IHRmbGl0ZUlucHV0TWVtb3J5T2Zmc2V0ICsgaSAqIDM7XG4gICAgICAgICAgICBjb25zdCBvdXRwdXRJbmRleCA9IGkgKiA0O1xuICAgICAgICAgICAgdGZsaXRlLkhFQVBGMzJbdGZsaXRlSW5kZXhdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4XSAvIDI1NTtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4ICsgMV0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXggKyAxXSAvIDI1NTtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4ICsgMl0gPSBvdXRwdXRQaXhlbHNbb3V0cHV0SW5kZXggKyAyXSAvIDI1NTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUob3V0cHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFNvZnRtYXhTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHRmbGl0ZSwgb3V0cHV0VGV4dHVyZSwgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRTZWdtZW50YXRpb247XG4gICAgaW4gdmVjMiB2X3RleENvb3JkO1xuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiBzZWdtZW50YXRpb24gPSB0ZXh0dXJlKHVfaW5wdXRTZWdtZW50YXRpb24sIHZfdGV4Q29vcmQpLnJnO1xuICAgICAgZmxvYXQgc2hpZnQgPSBtYXgoc2VnbWVudGF0aW9uLnIsIHNlZ21lbnRhdGlvbi5nKTtcbiAgICAgIGZsb2F0IGJhY2tncm91bmRFeHAgPSBleHAoc2VnbWVudGF0aW9uLnIgLSBzaGlmdCk7XG4gICAgICBmbG9hdCBwZXJzb25FeHAgPSBleHAoc2VnbWVudGF0aW9uLmcgLSBzaGlmdCk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQodmVjMygwLjApLCBwZXJzb25FeHAgLyAoYmFja2dyb3VuZEV4cCArIHBlcnNvbkV4cCkpO1xuICAgIH1cbiAgYDtcbiAgICAvLyBURkxpdGUgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQgYXMgZmxvYXQzMlxuICAgIGNvbnN0IHRmbGl0ZU91dHB1dE1lbW9yeU9mZnNldCA9IHRmbGl0ZS5fZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0KCkgLyA0O1xuICAgIGNvbnN0IHsgd2lkdGg6IHNlZ21lbnRhdGlvbldpZHRoLCBoZWlnaHQ6IHNlZ21lbnRhdGlvbkhlaWdodCB9ID0gc2VnbWVudGF0aW9uQ29uZmlnO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVBpcGVsaW5lU3RhZ2VQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGNvbnN0IGlucHV0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfaW5wdXRTZWdtZW50YXRpb24nKTtcbiAgICBjb25zdCBpbnB1dFRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SRzMyRiwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgY29uc3QgZnJhbWVCdWZmZXIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgb3V0cHV0VGV4dHVyZSwgMCk7XG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRMb2NhdGlvbiwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBzZWdtZW50YXRpb25XaWR0aCwgc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCwgZ2wuUkcsIGdsLkZMT0FULCB0ZmxpdGUuSEVBUEYzMiwgdGZsaXRlT3V0cHV0TWVtb3J5T2Zmc2V0KTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoaW5wdXRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVuZGVyLCBjbGVhblVwIH07XG59XG5cbmZ1bmN0aW9uIGJ1aWxkV2ViR0wyUGlwZWxpbmUodmlkZW9Tb3VyY2UsIGJhY2tncm91bmRJbWFnZSwgYmx1ckxldmVsLCBiYWNrZ3JvdW5kRmlsdGVyLCBjYW52YXMsIHRmbGl0ZSwgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wyJyk7XG4gICAgaWYgKCFnbClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJHTDIgaXMgbm90IHN1cHBvcnRlZCcpO1xuICAgIGlmIChnbC5pc0NvbnRleHRMb3N0KCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wyIGNvbnRleHQgd2FzIGxvc3QnKTtcbiAgICBjb25zdCB7IHdpZHRoOiBmcmFtZVdpZHRoLCBoZWlnaHQ6IGZyYW1lSGVpZ2h0IH0gPSB2aWRlb1NvdXJjZTtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIGluIHZlYzIgYV9wb3NpdGlvbjtcbiAgICBpbiB2ZWMyIGFfdGV4Q29vcmQ7XG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhX3Bvc2l0aW9uLCAwLjAsIDEuMCk7XG4gICAgICB2X3RleENvb3JkID0gYV90ZXhDb29yZDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCB2ZXJ0ZXhBcnJheSA9IGdsLmNyZWF0ZVZlcnRleEFycmF5KCk7XG4gICAgZ2wuYmluZFZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICBjb25zdCBwb3NpdGlvbkJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbkJ1ZmZlcik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWy0xLjAsIC0xLjAsIDEuMCwgLTEuMCwgLTEuMCwgMS4wLCAxLjAsIDEuMF0pLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgY29uc3QgdGV4Q29vcmRCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFswLjAsIDAuMCwgMS4wLCAwLjAsIDAuMCwgMS4wLCAxLjAsIDEuMF0pLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgLy8gV2UgZG9uJ3QgdXNlIHRleFN0b3JhZ2UyRCBoZXJlIGJlY2F1c2UgdGV4SW1hZ2UyRCBzZWVtcyBmYXN0ZXJcbiAgICAvLyB0byB1cGxvYWQgdmlkZW8gdGV4dHVyZSB0aGFuIHRleFN1YkltYWdlMkQgZXZlbiB0aG91Z2ggdGhlIGxhdHRlclxuICAgIC8vIGlzIHN1cHBvc2VkIHRvIGJlIHRoZSByZWNvbW1lbmRlZCB3YXk6XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dlYkdMX0FQSS9XZWJHTF9iZXN0X3ByYWN0aWNlcyN1c2VfdGV4c3RvcmFnZV90b19jcmVhdGVfdGV4dHVyZXNcbiAgICBjb25zdCBpbnB1dEZyYW1lVGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfUywgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01JTl9GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NQUdfRklMVEVSLCBnbC5ORUFSRVNUKTtcbiAgICAvLyBUT0RPIFJlbmFtZSBzZWdtZW50YXRpb24gYW5kIHBlcnNvbiBtYXNrIHRvIGJlIG1vcmUgc3BlY2lmaWNcbiAgICBjb25zdCBzZWdtZW50YXRpb25UZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgIGNvbnN0IHBlcnNvbk1hc2tUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIGZyYW1lV2lkdGgsIGZyYW1lSGVpZ2h0KTtcbiAgICBjb25zdCByZXNpemluZ1N0YWdlID0gYnVpbGRSZXNpemluZ1N0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgdGZsaXRlLCBzZWdtZW50YXRpb25Db25maWcpO1xuICAgIGNvbnN0IGxvYWRTZWdtZW50YXRpb25TdGFnZSA9IGJ1aWxkU29mdG1heFN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgdGZsaXRlLCBzZWdtZW50YXRpb25UZXh0dXJlLCBzZWdtZW50YXRpb25Db25maWcpO1xuICAgIGNvbnN0IGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UgPSBidWlsZEpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBzZWdtZW50YXRpb25UZXh0dXJlLCBwZXJzb25NYXNrVGV4dHVyZSwgY2FudmFzLCBzZWdtZW50YXRpb25Db25maWcpO1xuICAgIGNvbnN0IGJhY2tncm91bmRTdGFnZSA9IGJhY2tncm91bmRGaWx0ZXIgPT09ICdibHVyJ1xuICAgICAgICA/IGJ1aWxkQmFja2dyb3VuZEJsdXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIGJsdXJMZXZlbCB8fCAnaGlnaCcpXG4gICAgICAgIDogYnVpbGRCYWNrZ3JvdW5kSW1hZ2VTdGFnZShnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBwZXJzb25NYXNrVGV4dHVyZSwgYmFja2dyb3VuZEltYWdlLCBjYW52YXMpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICAgICAgLy8gdGV4SW1hZ2UyRCBzZWVtcyBmYXN0ZXIgdGhhbiB0ZXhTdWJJbWFnZTJEIHRvIHVwbG9hZFxuICAgICAgICAvLyB2aWRlbyB0ZXh0dXJlXG4gICAgICAgIGdsLnRleEltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgZ2wuUkdCQSwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdmlkZW9Tb3VyY2UpO1xuICAgICAgICBnbC5iaW5kVmVydGV4QXJyYXkodmVydGV4QXJyYXkpO1xuICAgICAgICByZXNpemluZ1N0YWdlLnJlbmRlcigpO1xuICAgICAgICB0ZmxpdGUuX3J1bkluZmVyZW5jZSgpO1xuICAgICAgICBsb2FkU2VnbWVudGF0aW9uU3RhZ2UucmVuZGVyKCk7XG4gICAgICAgIGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UucmVuZGVyKCk7XG4gICAgICAgIGJhY2tncm91bmRTdGFnZS5yZW5kZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlUG9zdFByb2Nlc3NpbmdDb25maWcoKSB7XG4gICAgICAgIGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UudXBkYXRlU2lnbWFTcGFjZSgxKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS51cGRhdGVTaWdtYUNvbG9yKDAuMSk7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2VTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLjUsIDAuNzVdKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUxpZ2h0V3JhcHBpbmcoMC4zKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUJsZW5kTW9kZSgnc2NyZWVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2JsdXInKSB7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kQmx1clN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEJsdXJTdGFnZS51cGRhdGVDb3ZlcmFnZShbMC41LCAwLjc1XSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUT0RPIEhhbmRsZSBubyBiYWNrZ3JvdW5kIGluIGEgc2VwYXJhdGUgcGlwZWxpbmUgcGF0aFxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVDb3ZlcmFnZShbMCwgMC45OTk5XSk7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2VTdGFnZS51cGRhdGVMaWdodFdyYXBwaW5nKDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFuVXAoKSB7XG4gICAgICAgIGJhY2tncm91bmRTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBsb2FkU2VnbWVudGF0aW9uU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICByZXNpemluZ1N0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShwZXJzb25NYXNrVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoc2VnbWVudGF0aW9uVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVRleHR1cmUoaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVCdWZmZXIodGV4Q29vcmRCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVCdWZmZXIocG9zaXRpb25CdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcih2ZXJ0ZXhTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIHVwZGF0ZVBvc3RQcm9jZXNzaW5nQ29uZmlnLCBjbGVhblVwIH07XG59XG5cbnZhciBTZWdtZW50YXRpb25MZXZlbDtcbihmdW5jdGlvbiAoU2VnbWVudGF0aW9uTGV2ZWwpIHtcbiAgICBTZWdtZW50YXRpb25MZXZlbFtcIkxPV1wiXSA9IFwibG93XCI7XG4gICAgU2VnbWVudGF0aW9uTGV2ZWxbXCJISUdIXCJdID0gXCJoaWdoXCI7XG59KShTZWdtZW50YXRpb25MZXZlbCB8fCAoU2VnbWVudGF0aW9uTGV2ZWwgPSB7fSkpO1xuY29uc3QgZ2V0U2VnbWVudGF0aW9uUGFyYW1zID0gKGxldmVsKSA9PiB7XG4gICAgaWYgKGxldmVsID09PSBTZWdtZW50YXRpb25MZXZlbC5ISUdIKSB7XG4gICAgICAgIHJldHVybiB7IHdpZHRoOiAyNTYsIGhlaWdodDogMTQ0IH07XG4gICAgfVxuICAgIHJldHVybiB7IHdpZHRoOiAxNjAsIGhlaWdodDogOTYgfTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlcmVyKHRmbGl0ZSwgdmlkZW9Tb3VyY2UsIHRhcmdldENhbnZhcywgb3B0aW9ucywgb25FcnJvcikge1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZEZpbHRlciwgYmFja2dyb3VuZEltYWdlLCBiYWNrZ3JvdW5kQmx1ckxldmVsLCBzZWdtZW50YXRpb25MZXZlbCA9IFNlZ21lbnRhdGlvbkxldmVsLkhJR0gsIGZwcyA9IDMwLCB9ID0gb3B0aW9ucztcbiAgICBpZiAoYmFja2dyb3VuZEZpbHRlciA9PT0gJ2ltYWdlJyAmJiAhYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYmFja2dyb3VuZEltYWdlIGVsZW1lbnQgaXMgcmVxdWlyZWQgd2hlbiBiYWNrZ3JvdW5kRmlsdGVyIGlzIGltYWdlYCk7XG4gICAgfVxuICAgIGNvbnN0IHBpcGVsaW5lID0gYnVpbGRXZWJHTDJQaXBlbGluZSh2aWRlb1NvdXJjZSwgYmFja2dyb3VuZEltYWdlLCBiYWNrZ3JvdW5kQmx1ckxldmVsLCBiYWNrZ3JvdW5kRmlsdGVyLCB0YXJnZXRDYW52YXMsIHRmbGl0ZSwgZ2V0U2VnbWVudGF0aW9uUGFyYW1zKHNlZ21lbnRhdGlvbkxldmVsKSk7XG4gICAgY29uc3QgaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBwaXBlbGluZS5yZW5kZXIoKTtcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgcGlwZWxpbmUudXBkYXRlUG9zdFByb2Nlc3NpbmdDb25maWcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIG9uRXJyb3I/LihlcnJvcik7XG4gICAgICAgIH1cbiAgICB9LCAxMDAwIC8gKGZwcyA8PSAwID8gMzAgOiBmcHMpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkaXNwb3NlOiAoKSA9PiB7XG4gICAgICAgICAgICBwaXBlbGluZS5jbGVhblVwKCk7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgfSxcbiAgICB9O1xufVxuXG5jb25zdCBjcmVhdGVURkxpdGVTSU1ETW9kdWxlID0gKF9fTW9kdWxlKSA9PiB7XG4gIF9fTW9kdWxlID0gX19Nb2R1bGUgfHwge307XG5cbiAgdmFyIF9zY3JpcHREaXIgPVxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdFxuICAgICAgPyBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIE1vZHVsZSA9IHR5cGVvZiBfX01vZHVsZSAhPSAndW5kZWZpbmVkJyA/IF9fTW9kdWxlIDoge307XG4gIHZhciByZWFkeVByb21pc2VSZXNvbHZlLCByZWFkeVByb21pc2VSZWplY3Q7XG4gIE1vZHVsZVsncmVhZHknXSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZWFkeVByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcbiAgICByZWFkeVByb21pc2VSZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuICB2YXIgbW9kdWxlT3ZlcnJpZGVzID0gT2JqZWN0LmFzc2lnbih7fSwgTW9kdWxlKTtcbiAgdmFyIHRoaXNQcm9ncmFtID0gJy4vdGhpcy5wcm9ncmFtJztcbiAgdmFyIHF1aXRfID0gKHN0YXR1cywgdG9UaHJvdykgPT4ge1xuICAgIHRocm93IHRvVGhyb3c7XG4gIH07XG4gIHZhciBFTlZJUk9OTUVOVF9JU19XRUIgPSB0cnVlO1xuICB2YXIgc2NyaXB0RGlyZWN0b3J5ID0gJyc7XG5cbiAgZnVuY3Rpb24gbG9jYXRlRmlsZShwYXRoKSB7XG4gICAgaWYgKE1vZHVsZVsnbG9jYXRlRmlsZSddKSB7XG4gICAgICByZXR1cm4gTW9kdWxlWydsb2NhdGVGaWxlJ10ocGF0aCwgc2NyaXB0RGlyZWN0b3J5KTtcbiAgICB9XG4gICAgcmV0dXJuIHNjcmlwdERpcmVjdG9yeSArIHBhdGg7XG4gIH1cblxuICB2YXIgcmVhZEJpbmFyeTtcbiAge1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuY3VycmVudFNjcmlwdCkge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG4gICAgfVxuICAgIGlmIChfc2NyaXB0RGlyKSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBfc2NyaXB0RGlyO1xuICAgIH1cbiAgICBpZiAoc2NyaXB0RGlyZWN0b3J5LmluZGV4T2YoJ2Jsb2I6JykgIT09IDApIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IHNjcmlwdERpcmVjdG9yeS5zdWJzdHIoXG4gICAgICAgIDAsXG4gICAgICAgIHNjcmlwdERpcmVjdG9yeS5yZXBsYWNlKC9bPyNdLiovLCAnJykubGFzdEluZGV4T2YoJy8nKSArIDEsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSAnJztcbiAgICB9XG4gIH1cbiAgdmFyIG91dCA9IE1vZHVsZVsncHJpbnQnXSB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICB2YXIgZXJyID0gTW9kdWxlWydwcmludEVyciddIHx8IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpO1xuICBPYmplY3QuYXNzaWduKE1vZHVsZSwgbW9kdWxlT3ZlcnJpZGVzKTtcbiAgbW9kdWxlT3ZlcnJpZGVzID0gbnVsbDtcbiAgaWYgKE1vZHVsZVsnYXJndW1lbnRzJ10pIE1vZHVsZVsnYXJndW1lbnRzJ107XG4gIGlmIChNb2R1bGVbJ3RoaXNQcm9ncmFtJ10pIHRoaXNQcm9ncmFtID0gTW9kdWxlWyd0aGlzUHJvZ3JhbSddO1xuICBpZiAoTW9kdWxlWydxdWl0J10pIHF1aXRfID0gTW9kdWxlWydxdWl0J107XG4gIHZhciB3YXNtQmluYXJ5O1xuICBpZiAoTW9kdWxlWyd3YXNtQmluYXJ5J10pIHdhc21CaW5hcnkgPSBNb2R1bGVbJ3dhc21CaW5hcnknXTtcbiAgdmFyIG5vRXhpdFJ1bnRpbWUgPSBNb2R1bGVbJ25vRXhpdFJ1bnRpbWUnXSB8fCB0cnVlO1xuICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5ICE9ICdvYmplY3QnKSB7XG4gICAgYWJvcnQoJ25vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQnKTtcbiAgfVxuICB2YXIgd2FzbU1lbW9yeTtcbiAgdmFyIEFCT1JUID0gZmFsc2U7XG5cbiAgdmFyIFVURjhEZWNvZGVyID1cbiAgICB0eXBlb2YgVGV4dERlY29kZXIgIT0gJ3VuZGVmaW5lZCcgPyBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKSA6IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwT3JBcnJheSwgaWR4LCBtYXhCeXRlc1RvUmVhZCkge1xuICAgIHZhciBlbmRJZHggPSBpZHggKyBtYXhCeXRlc1RvUmVhZDtcbiAgICB2YXIgZW5kUHRyID0gaWR4O1xuICAgIHdoaWxlIChoZWFwT3JBcnJheVtlbmRQdHJdICYmICEoZW5kUHRyID49IGVuZElkeCkpICsrZW5kUHRyO1xuICAgIGlmIChlbmRQdHIgLSBpZHggPiAxNiAmJiBoZWFwT3JBcnJheS5idWZmZXIgJiYgVVRGOERlY29kZXIpIHtcbiAgICAgIHJldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcE9yQXJyYXkuc3ViYXJyYXkoaWR4LCBlbmRQdHIpKTtcbiAgICB9XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHdoaWxlIChpZHggPCBlbmRQdHIpIHtcbiAgICAgIHZhciB1MCA9IGhlYXBPckFycmF5W2lkeCsrXTtcbiAgICAgIGlmICghKHUwICYgMTI4KSkge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHUxID0gaGVhcE9yQXJyYXlbaWR4KytdICYgNjM7XG4gICAgICBpZiAoKHUwICYgMjI0KSA9PSAxOTIpIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKCh1MCAmIDMxKSA8PCA2KSB8IHUxKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgdTIgPSBoZWFwT3JBcnJheVtpZHgrK10gJiA2MztcbiAgICAgIGlmICgodTAgJiAyNDApID09IDIyNCkge1xuICAgICAgICB1MCA9ICgodTAgJiAxNSkgPDwgMTIpIHwgKHUxIDw8IDYpIHwgdTI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1MCA9XG4gICAgICAgICAgKCh1MCAmIDcpIDw8IDE4KSB8ICh1MSA8PCAxMikgfCAodTIgPDwgNikgfCAoaGVhcE9yQXJyYXlbaWR4KytdICYgNjMpO1xuICAgICAgfVxuICAgICAgaWYgKHUwIDwgNjU1MzYpIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNoID0gdTAgLSA2NTUzNjtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYgfCAoY2ggPj4gMTApLCA1NjMyMCB8IChjaCAmIDEwMjMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHZhciBidWZmZXIsIEhFQVA4LCBIRUFQVTgsIEhFQVBVMzI7XG5cbiAgZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmKSB7XG4gICAgYnVmZmVyID0gYnVmO1xuICAgIE1vZHVsZVsnSEVBUDgnXSA9IEhFQVA4ID0gbmV3IEludDhBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUDE2J10gPSBuZXcgSW50MTZBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUDMyJ10gPSBuZXcgSW50MzJBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUFU4J10gPSBIRUFQVTggPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUFUxNiddID0gbmV3IFVpbnQxNkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTMyJ10gPSBIRUFQVTMyID0gbmV3IFVpbnQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQRjMyJ10gPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQRjY0J10gPSBuZXcgRmxvYXQ2NEFycmF5KGJ1Zik7XG4gIH1cblxuICBNb2R1bGVbJ0lOSVRJQUxfTUVNT1JZJ10gfHwgMTY3NzcyMTY7XG4gIHZhciBfX0FUUFJFUlVOX18gPSBbXTtcbiAgdmFyIF9fQVRJTklUX18gPSBbXTtcbiAgdmFyIF9fQVRQT1NUUlVOX18gPSBbXTtcblxuICBmdW5jdGlvbiBrZWVwUnVudGltZUFsaXZlKCkge1xuICAgIHJldHVybiBub0V4aXRSdW50aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJlUnVuKCkge1xuICAgIGlmIChNb2R1bGVbJ3ByZVJ1biddKSB7XG4gICAgICBpZiAodHlwZW9mIE1vZHVsZVsncHJlUnVuJ10gPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgTW9kdWxlWydwcmVSdW4nXSA9IFtNb2R1bGVbJ3ByZVJ1biddXTtcbiAgICAgIHdoaWxlIChNb2R1bGVbJ3ByZVJ1biddLmxlbmd0aCkge1xuICAgICAgICBhZGRPblByZVJ1bihNb2R1bGVbJ3ByZVJ1biddLnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUFJFUlVOX18pO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdFJ1bnRpbWUoKSB7XG4gICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVElOSVRfXyk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0UnVuKCkge1xuICAgIGlmIChNb2R1bGVbJ3Bvc3RSdW4nXSkge1xuICAgICAgaWYgKHR5cGVvZiBNb2R1bGVbJ3Bvc3RSdW4nXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBNb2R1bGVbJ3Bvc3RSdW4nXSA9IFtNb2R1bGVbJ3Bvc3RSdW4nXV07XG4gICAgICB3aGlsZSAoTW9kdWxlWydwb3N0UnVuJ10ubGVuZ3RoKSB7XG4gICAgICAgIGFkZE9uUG9zdFJ1bihNb2R1bGVbJ3Bvc3RSdW4nXS5zaGlmdCgpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY2FsbFJ1bnRpbWVDYWxsYmFja3MoX19BVFBPU1RSVU5fXyk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPblByZVJ1bihjYikge1xuICAgIF9fQVRQUkVSVU5fXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uSW5pdChjYikge1xuICAgIF9fQVRJTklUX18udW5zaGlmdChjYik7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPblBvc3RSdW4oY2IpIHtcbiAgICBfX0FUUE9TVFJVTl9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgdmFyIHJ1bkRlcGVuZGVuY2llcyA9IDA7XG4gIHZhciBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGFkZFJ1bkRlcGVuZGVuY3koaWQpIHtcbiAgICBydW5EZXBlbmRlbmNpZXMrKztcbiAgICBpZiAoTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10pIHtcbiAgICAgIE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKHJ1bkRlcGVuZGVuY2llcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlUnVuRGVwZW5kZW5jeShpZCkge1xuICAgIHJ1bkRlcGVuZGVuY2llcy0tO1xuICAgIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgICAgTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10ocnVuRGVwZW5kZW5jaWVzKTtcbiAgICB9XG4gICAgaWYgKHJ1bkRlcGVuZGVuY2llcyA9PSAwKSB7XG4gICAgICBpZiAoZGVwZW5kZW5jaWVzRnVsZmlsbGVkKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGRlcGVuZGVuY2llc0Z1bGZpbGxlZDtcbiAgICAgICAgZGVwZW5kZW5jaWVzRnVsZmlsbGVkID0gbnVsbDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhYm9ydCh3aGF0KSB7XG4gICAge1xuICAgICAgaWYgKE1vZHVsZVsnb25BYm9ydCddKSB7XG4gICAgICAgIE1vZHVsZVsnb25BYm9ydCddKHdoYXQpO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGF0ID0gJ0Fib3J0ZWQoJyArIHdoYXQgKyAnKSc7XG4gICAgZXJyKHdoYXQpO1xuICAgIEFCT1JUID0gdHJ1ZTtcbiAgICB3aGF0ICs9ICcuIEJ1aWxkIHdpdGggLXNBU1NFUlRJT05TIGZvciBtb3JlIGluZm8uJztcbiAgICB2YXIgZSA9IG5ldyBXZWJBc3NlbWJseS5SdW50aW1lRXJyb3Iod2hhdCk7XG4gICAgcmVhZHlQcm9taXNlUmVqZWN0KGUpO1xuICAgIHRocm93IGU7XG4gIH1cblxuICB2YXIgZGF0YVVSSVByZWZpeCA9ICdkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsJztcblxuICBmdW5jdGlvbiBpc0RhdGFVUkkoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZmlsZW5hbWUuc3RhcnRzV2l0aChkYXRhVVJJUHJlZml4KTtcbiAgfVxuXG4gIHZhciB3YXNtQmluYXJ5RmlsZTtcbiAgd2FzbUJpbmFyeUZpbGUgPSAndGZsaXRlLXNpbWQud2FzbSc7XG4gIGlmICghaXNEYXRhVVJJKHdhc21CaW5hcnlGaWxlKSkge1xuICAgIHdhc21CaW5hcnlGaWxlID0gbG9jYXRlRmlsZSh3YXNtQmluYXJ5RmlsZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCaW5hcnkoZmlsZSkge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZmlsZSA9PSB3YXNtQmluYXJ5RmlsZSAmJiB3YXNtQmluYXJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh3YXNtQmluYXJ5KTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFkQmluYXJ5KSA7XG4gICAgICB0aHJvdyAnYm90aCBhc3luYyBhbmQgc3luYyBmZXRjaGluZyBvZiB0aGUgd2FzbSBmYWlsZWQnO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGFib3J0KGVycik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmluYXJ5UHJvbWlzZSgpIHtcbiAgICBpZiAoIXdhc21CaW5hcnkgJiYgKEVOVklST05NRU5UX0lTX1dFQikpIHtcbiAgICAgIGlmICh0eXBlb2YgZmV0Y2ggPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2VbJ29rJ10pIHtcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgIFwiZmFpbGVkIHRvIGxvYWQgd2FzbSBiaW5hcnkgZmlsZSBhdCAnXCIgKyB3YXNtQmluYXJ5RmlsZSArIFwiJ1wiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VbJ2FycmF5QnVmZmVyJ10oKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJpbmFyeSh3YXNtQmluYXJ5RmlsZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVXYXNtKCkge1xuICAgIHZhciBpbmZvID0ge1xuICAgICAgZW52OiBhc21MaWJyYXJ5QXJnLFxuICAgICAgd2FzaV9zbmFwc2hvdF9wcmV2aWV3MTogYXNtTGlicmFyeUFyZyxcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbmNlKGluc3RhbmNlLCBtb2R1bGUpIHtcbiAgICAgIHZhciBleHBvcnRzID0gaW5zdGFuY2UuZXhwb3J0cztcbiAgICAgIE1vZHVsZVsnYXNtJ10gPSBleHBvcnRzO1xuICAgICAgd2FzbU1lbW9yeSA9IE1vZHVsZVsnYXNtJ11bJ21lbW9yeSddO1xuICAgICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO1xuICAgICAgTW9kdWxlWydhc20nXVsnX19pbmRpcmVjdF9mdW5jdGlvbl90YWJsZSddO1xuICAgICAgYWRkT25Jbml0KE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pO1xuICAgICAgcmVtb3ZlUnVuRGVwZW5kZW5jeSgpO1xuICAgIH1cblxuICAgIGFkZFJ1bkRlcGVuZGVuY3koKTtcblxuICAgIGZ1bmN0aW9uIHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KHJlc3VsdCkge1xuICAgICAgcmVjZWl2ZUluc3RhbmNlKHJlc3VsdFsnaW5zdGFuY2UnXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlcikge1xuICAgICAgcmV0dXJuIGdldEJpbmFyeVByb21pc2UoKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJpbmFyeSwgaW5mbyk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChpbnN0YW5jZSkge1xuICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVjZWl2ZXIsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICBlcnIoJ2ZhaWxlZCB0byBhc3luY2hyb25vdXNseSBwcmVwYXJlIHdhc206ICcgKyByZWFzb24pO1xuICAgICAgICAgIGFib3J0KHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluc3RhbnRpYXRlQXN5bmMoKSB7XG4gICAgICBpZiAoXG4gICAgICAgICF3YXNtQmluYXJ5ICYmXG4gICAgICAgIHR5cGVvZiBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyA9PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpICYmXG4gICAgICAgIHR5cGVvZiBmZXRjaCA9PSAnZnVuY3Rpb24nXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZldGNoKHdhc21CaW5hcnlGaWxlLCB7IGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nIH0pLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcocmVzcG9uc2UsIGluZm8pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgIGVycignd2FzbSBzdHJlYW1pbmcgY29tcGlsZSBmYWlsZWQ6ICcgKyByZWFzb24pO1xuICAgICAgICAgICAgICBlcnIoJ2ZhbGxpbmcgYmFjayB0byBBcnJheUJ1ZmZlciBpbnN0YW50aWF0aW9uJyk7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5zdGFudGlhdGVBcnJheUJ1ZmZlcihyZWNlaXZlSW5zdGFudGlhdGlvblJlc3VsdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKE1vZHVsZVsnaW5zdGFudGlhdGVXYXNtJ10pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBleHBvcnRzID0gTW9kdWxlWydpbnN0YW50aWF0ZVdhc20nXShpbmZvLCByZWNlaXZlSW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gZXhwb3J0cztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyKCdNb2R1bGUuaW5zdGFudGlhdGVXYXNtIGNhbGxiYWNrIGZhaWxlZCB3aXRoIGVycm9yOiAnICsgZSk7XG4gICAgICAgIHJlYWR5UHJvbWlzZVJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFudGlhdGVBc3luYygpLmNhdGNoKHJlYWR5UHJvbWlzZVJlamVjdCk7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgZnVuY3Rpb24gRXhpdFN0YXR1cyhzdGF0dXMpIHtcbiAgICB0aGlzLm5hbWUgPSAnRXhpdFN0YXR1cyc7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1Byb2dyYW0gdGVybWluYXRlZCB3aXRoIGV4aXQoJyArIHN0YXR1cyArICcpJztcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbGxSdW50aW1lQ2FsbGJhY2tzKGNhbGxiYWNrcykge1xuICAgIHdoaWxlIChjYWxsYmFja3MubGVuZ3RoID4gMCkge1xuICAgICAgY2FsbGJhY2tzLnNoaWZ0KCkoTW9kdWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfX2RsaW5pdChtYWluX2Rzb19oYW5kbGUpIHt9XG5cbiAgdmFyIGRsb3Blbk1pc3NpbmdFcnJvciA9XG4gICAgJ1RvIHVzZSBkbG9wZW4sIHlvdSBuZWVkIGVuYWJsZSBkeW5hbWljIGxpbmtpbmcsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW1zY3JpcHRlbi1jb3JlL2Vtc2NyaXB0ZW4vd2lraS9MaW5raW5nJztcblxuICBmdW5jdGlvbiBfX2Rsb3Blbl9qcyhmaWxlbmFtZSwgZmxhZykge1xuICAgIGFib3J0KGRsb3Blbk1pc3NpbmdFcnJvcik7XG4gIH1cblxuICBmdW5jdGlvbiBfX2Rsc3ltX2pzKGhhbmRsZSwgc3ltYm9sKSB7XG4gICAgYWJvcnQoZGxvcGVuTWlzc2luZ0Vycm9yKTtcbiAgfVxuXG4gIHZhciBub3dJc01vbm90b25pYyA9IHRydWU7XG5cbiAgZnVuY3Rpb24gX19lbXNjcmlwdGVuX2dldF9ub3dfaXNfbW9ub3RvbmljKCkge1xuICAgIHJldHVybiBub3dJc01vbm90b25pYztcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fbW1hcF9qcyhsZW4sIHByb3QsIGZsYWdzLCBmZCwgb2ZmLCBhbGxvY2F0ZWQpIHtcbiAgICByZXR1cm4gLTUyO1xuICB9XG5cbiAgZnVuY3Rpb24gX19tdW5tYXBfanMoYWRkciwgbGVuLCBwcm90LCBmbGFncywgZmQsIG9mZnNldCkge31cblxuICBmdW5jdGlvbiBfYWJvcnQoKSB7XG4gICAgYWJvcnQoJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZGF0ZV9ub3coKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRIZWFwTWF4KCkge1xuICAgIHJldHVybiAyMTQ3NDgzNjQ4O1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fZ2V0X2hlYXBfbWF4KCkge1xuICAgIHJldHVybiBnZXRIZWFwTWF4KCk7XG4gIH1cblxuICB2YXIgX2Vtc2NyaXB0ZW5fZ2V0X25vdztcbiAgX2Vtc2NyaXB0ZW5fZ2V0X25vdyA9ICgpID0+IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX21lbWNweV9iaWcoZGVzdCwgc3JjLCBudW0pIHtcbiAgICBIRUFQVTguY29weVdpdGhpbihkZXN0LCBzcmMsIHNyYyArIG51bSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKHNpemUpIHtcbiAgICB0cnkge1xuICAgICAgd2FzbU1lbW9yeS5ncm93KChzaXplIC0gYnVmZmVyLmJ5dGVMZW5ndGggKyA2NTUzNSkgPj4+IDE2KTtcbiAgICAgIHVwZGF0ZUdsb2JhbEJ1ZmZlckFuZFZpZXdzKHdhc21NZW1vcnkuYnVmZmVyKTtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9yZXNpemVfaGVhcChyZXF1ZXN0ZWRTaXplKSB7XG4gICAgdmFyIG9sZFNpemUgPSBIRUFQVTgubGVuZ3RoO1xuICAgIHJlcXVlc3RlZFNpemUgPSByZXF1ZXN0ZWRTaXplID4+PiAwO1xuICAgIHZhciBtYXhIZWFwU2l6ZSA9IGdldEhlYXBNYXgoKTtcbiAgICBpZiAocmVxdWVzdGVkU2l6ZSA+IG1heEhlYXBTaXplKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCBhbGlnblVwID0gKHgsIG11bHRpcGxlKSA9PiB4ICsgKChtdWx0aXBsZSAtICh4ICUgbXVsdGlwbGUpKSAlIG11bHRpcGxlKTtcbiAgICBmb3IgKHZhciBjdXREb3duID0gMTsgY3V0RG93biA8PSA0OyBjdXREb3duICo9IDIpIHtcbiAgICAgIHZhciBvdmVyR3Jvd25IZWFwU2l6ZSA9IG9sZFNpemUgKiAoMSArIDAuMiAvIGN1dERvd24pO1xuICAgICAgb3Zlckdyb3duSGVhcFNpemUgPSBNYXRoLm1pbihcbiAgICAgICAgb3Zlckdyb3duSGVhcFNpemUsXG4gICAgICAgIHJlcXVlc3RlZFNpemUgKyAxMDA2NjMyOTYsXG4gICAgICApO1xuICAgICAgdmFyIG5ld1NpemUgPSBNYXRoLm1pbihcbiAgICAgICAgbWF4SGVhcFNpemUsXG4gICAgICAgIGFsaWduVXAoTWF0aC5tYXgocmVxdWVzdGVkU2l6ZSwgb3Zlckdyb3duSGVhcFNpemUpLCA2NTUzNiksXG4gICAgICApO1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gZW1zY3JpcHRlbl9yZWFsbG9jX2J1ZmZlcihuZXdTaXplKTtcbiAgICAgIGlmIChyZXBsYWNlbWVudCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIEVOViA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldEV4ZWN1dGFibGVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzUHJvZ3JhbSB8fCAnLi90aGlzLnByb2dyYW0nO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW52U3RyaW5ncygpIHtcbiAgICBpZiAoIWdldEVudlN0cmluZ3Muc3RyaW5ncykge1xuICAgICAgdmFyIGxhbmcgPVxuICAgICAgICAoXG4gICAgICAgICAgKHR5cGVvZiBuYXZpZ2F0b3IgPT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIG5hdmlnYXRvci5sYW5ndWFnZXMgJiZcbiAgICAgICAgICAgIG5hdmlnYXRvci5sYW5ndWFnZXNbMF0pIHx8XG4gICAgICAgICAgJ0MnXG4gICAgICAgICkucmVwbGFjZSgnLScsICdfJykgKyAnLlVURi04JztcbiAgICAgIHZhciBlbnYgPSB7XG4gICAgICAgIFVTRVI6ICd3ZWJfdXNlcicsXG4gICAgICAgIExPR05BTUU6ICd3ZWJfdXNlcicsXG4gICAgICAgIFBBVEg6ICcvJyxcbiAgICAgICAgUFdEOiAnLycsXG4gICAgICAgIEhPTUU6ICcvaG9tZS93ZWJfdXNlcicsXG4gICAgICAgIExBTkc6IGxhbmcsXG4gICAgICAgIF86IGdldEV4ZWN1dGFibGVOYW1lKCksXG4gICAgICB9O1xuICAgICAgZm9yICh2YXIgeCBpbiBFTlYpIHtcbiAgICAgICAgaWYgKEVOVlt4XSA9PT0gdW5kZWZpbmVkKSBkZWxldGUgZW52W3hdO1xuICAgICAgICBlbHNlIGVudlt4XSA9IEVOVlt4XTtcbiAgICAgIH1cbiAgICAgIHZhciBzdHJpbmdzID0gW107XG4gICAgICBmb3IgKHZhciB4IGluIGVudikge1xuICAgICAgICBzdHJpbmdzLnB1c2goeCArICc9JyArIGVudlt4XSk7XG4gICAgICB9XG4gICAgICBnZXRFbnZTdHJpbmdzLnN0cmluZ3MgPSBzdHJpbmdzO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0RW52U3RyaW5ncy5zdHJpbmdzO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1zaGFkb3dcbiAgZnVuY3Rpb24gd3JpdGVBc2NpaVRvTWVtb3J5KHN0ciwgYnVmZmVyLCBkb250QWRkTnVsbCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgICBIRUFQOFtidWZmZXIrKyA+PiAwXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICBIRUFQOFtidWZmZXIgPj4gMF0gPSAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vudmlyb25fZ2V0KF9fZW52aXJvbiwgZW52aXJvbl9idWYpIHtcbiAgICB2YXIgYnVmU2l6ZSA9IDA7XG4gICAgZ2V0RW52U3RyaW5ncygpLmZvckVhY2goZnVuY3Rpb24gKHN0cmluZywgaSkge1xuICAgICAgdmFyIHB0ciA9IGVudmlyb25fYnVmICsgYnVmU2l6ZTtcbiAgICAgIEhFQVBVMzJbKF9fZW52aXJvbiArIGkgKiA0KSA+PiAyXSA9IHB0cjtcbiAgICAgIHdyaXRlQXNjaWlUb01lbW9yeShzdHJpbmcsIHB0cik7XG4gICAgICBidWZTaXplICs9IHN0cmluZy5sZW5ndGggKyAxO1xuICAgIH0pO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gX2Vudmlyb25fc2l6ZXNfZ2V0KHBlbnZpcm9uX2NvdW50LCBwZW52aXJvbl9idWZfc2l6ZSkge1xuICAgIHZhciBzdHJpbmdzID0gZ2V0RW52U3RyaW5ncygpO1xuICAgIEhFQVBVMzJbcGVudmlyb25fY291bnQgPj4gMl0gPSBzdHJpbmdzLmxlbmd0aDtcbiAgICB2YXIgYnVmU2l6ZSA9IDA7XG4gICAgc3RyaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChzdHJpbmcpIHtcbiAgICAgIGJ1ZlNpemUgKz0gc3RyaW5nLmxlbmd0aCArIDE7XG4gICAgfSk7XG4gICAgSEVBUFUzMltwZW52aXJvbl9idWZfc2l6ZSA+PiAyXSA9IGJ1ZlNpemU7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBfcHJvY19leGl0KGNvZGUpIHtcbiAgICBpZiAoIWtlZXBSdW50aW1lQWxpdmUoKSkge1xuICAgICAgaWYgKE1vZHVsZVsnb25FeGl0J10pIE1vZHVsZVsnb25FeGl0J10oY29kZSk7XG4gICAgICBBQk9SVCA9IHRydWU7XG4gICAgfVxuICAgIHF1aXRfKGNvZGUsIG5ldyBFeGl0U3RhdHVzKGNvZGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4aXRKUyhzdGF0dXMsIGltcGxpY2l0KSB7XG4gICAgX3Byb2NfZXhpdChzdGF0dXMpO1xuICB9XG5cbiAgdmFyIF9leGl0ID0gZXhpdEpTO1xuXG4gIGZ1bmN0aW9uIF9mZF9jbG9zZShmZCkge1xuICAgIHJldHVybiA1MjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF9zZWVrKGZkLCBvZmZzZXRfbG93LCBvZmZzZXRfaGlnaCwgd2hlbmNlLCBuZXdPZmZzZXQpIHtcbiAgICByZXR1cm4gNzA7XG4gIH1cblxuICB2YXIgcHJpbnRDaGFyQnVmZmVycyA9IFtudWxsLCBbXSwgW11dO1xuXG4gIGZ1bmN0aW9uIHByaW50Q2hhcihzdHJlYW0sIGN1cnIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIHZhciBidWZmZXIgPSBwcmludENoYXJCdWZmZXJzW3N0cmVhbV07XG4gICAgaWYgKGN1cnIgPT09IDAgfHwgY3VyciA9PT0gMTApIHtcbiAgICAgIChzdHJlYW0gPT09IDEgPyBvdXQgOiBlcnIpKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwgMCkpO1xuICAgICAgYnVmZmVyLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGN1cnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF93cml0ZShmZCwgaW92LCBpb3ZjbnQsIHBudW0pIHtcbiAgICB2YXIgbnVtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlvdmNudDsgaSsrKSB7XG4gICAgICB2YXIgcHRyID0gSEVBUFUzMltpb3YgPj4gMl07XG4gICAgICB2YXIgbGVuID0gSEVBUFUzMlsoaW92ICsgNCkgPj4gMl07XG4gICAgICBpb3YgKz0gODtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgcHJpbnRDaGFyKGZkLCBIRUFQVThbcHRyICsgal0pO1xuICAgICAgfVxuICAgICAgbnVtICs9IGxlbjtcbiAgICB9XG4gICAgSEVBUFUzMltwbnVtID4+IDJdID0gbnVtO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tRGV2aWNlKCkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjcnlwdG8gPT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiBjcnlwdG9bJ2dldFJhbmRvbVZhbHVlcyddID09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHZhciByYW5kb21CdWZmZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIHJhbmRvbUJ1ZmZlclswXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHJldHVybiAoKSA9PiBhYm9ydCgncmFuZG9tRGV2aWNlJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICBmdW5jdGlvbiBfZ2V0ZW50cm9weShidWZmZXIsIHNpemUpIHtcbiAgICBpZiAoIV9nZXRlbnRyb3B5LnJhbmRvbURldmljZSkge1xuICAgICAgX2dldGVudHJvcHkucmFuZG9tRGV2aWNlID0gZ2V0UmFuZG9tRGV2aWNlKCk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBIRUFQOFsoYnVmZmVyICsgaSkgPj4gMF0gPSBfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgYXNtTGlicmFyeUFyZyA9IHtcbiAgICBfZGxpbml0OiBfX2RsaW5pdCxcbiAgICBfZGxvcGVuX2pzOiBfX2Rsb3Blbl9qcyxcbiAgICBfZGxzeW1fanM6IF9fZGxzeW1fanMsXG4gICAgX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWM6IF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYyxcbiAgICBfbW1hcF9qczogX19tbWFwX2pzLFxuICAgIF9tdW5tYXBfanM6IF9fbXVubWFwX2pzLFxuICAgIGFib3J0OiBfYWJvcnQsXG4gICAgZW1zY3JpcHRlbl9kYXRlX25vdzogX2Vtc2NyaXB0ZW5fZGF0ZV9ub3csXG4gICAgZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXg6IF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCxcbiAgICBlbXNjcmlwdGVuX2dldF9ub3c6IF9lbXNjcmlwdGVuX2dldF9ub3csXG4gICAgZW1zY3JpcHRlbl9tZW1jcHlfYmlnOiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFxuICAgIGVtc2NyaXB0ZW5fcmVzaXplX2hlYXA6IF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwLFxuICAgIGVudmlyb25fZ2V0OiBfZW52aXJvbl9nZXQsXG4gICAgZW52aXJvbl9zaXplc19nZXQ6IF9lbnZpcm9uX3NpemVzX2dldCxcbiAgICBleGl0OiBfZXhpdCxcbiAgICBmZF9jbG9zZTogX2ZkX2Nsb3NlLFxuICAgIGZkX3NlZWs6IF9mZF9zZWVrLFxuICAgIGZkX3dyaXRlOiBfZmRfd3JpdGUsXG4gICAgZ2V0ZW50cm9weTogX2dldGVudHJvcHksXG4gIH07XG4gIGNyZWF0ZVdhc20oKTtcbiAgKE1vZHVsZVsnX19fd2FzbV9jYWxsX2N0b3JzJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX3dhc21fY2FsbF9jdG9ycyddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSA9XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChNb2R1bGVbXG4gICAgICAgICdfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXG4gICAgICBdID1cbiAgICAgICAgTW9kdWxlWydhc20nXVsnZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dE1lbW9yeU9mZnNldCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0TWVtb3J5T2Zmc2V0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0SGVpZ2h0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRIZWlnaHQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRXaWR0aCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dENoYW5uZWxDb3VudCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0Q2hhbm5lbENvdW50J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dEhlaWdodCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dEhlaWdodCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRXaWR0aCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dFdpZHRoJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRDaGFubmVsQ291bnQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRDaGFubmVsQ291bnQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19sb2FkTW9kZWwnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2xvYWRNb2RlbCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2xvYWRNb2RlbCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX3J1bkluZmVyZW5jZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfcnVuSW5mZXJlbmNlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsncnVuSW5mZXJlbmNlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfbWFsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19tYWxsb2MnXSA9IE1vZHVsZVsnYXNtJ11bJ21hbGxvYyddKS5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmd1bWVudHMsXG4gICAgKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX19lcnJub19sb2NhdGlvbiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX19fZGxfc2V0ZXJyJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2RsX3NldGVyciddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fZGxfc2V0ZXJyJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1NhdmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tTYXZlJ10gPSBNb2R1bGVbJ2FzbSddWydzdGFja1NhdmUnXSkuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgYXJndW1lbnRzLFxuICAgICk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1Jlc3RvcmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tSZXN0b3JlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnc3RhY2tSZXN0b3JlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja0FsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ3N0YWNrQWxsb2MnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydzdGFja0FsbG9jJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2pqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2pqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppaWknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWlpJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfaWlpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWpqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfdmlpamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX3ZpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWlqamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF92aWlpampqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF92aWlpampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpamppaWlpJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfaWlqamlpaWknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2lpamppaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppamknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWppJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWppJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICB2YXIgY2FsbGVkUnVuO1xuICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBmdW5jdGlvbiBydW5DYWxsZXIoKSB7XG4gICAgaWYgKCFjYWxsZWRSdW4pIHJ1bigpO1xuICAgIGlmICghY2FsbGVkUnVuKSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBydW5DYWxsZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcnVuKGFyZ3MpIHtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcmVSdW4oKTtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvUnVuKCkge1xuICAgICAgaWYgKGNhbGxlZFJ1bikgcmV0dXJuO1xuICAgICAgY2FsbGVkUnVuID0gdHJ1ZTtcbiAgICAgIE1vZHVsZVsnY2FsbGVkUnVuJ10gPSB0cnVlO1xuICAgICAgaWYgKEFCT1JUKSByZXR1cm47XG4gICAgICBpbml0UnVudGltZSgpO1xuICAgICAgcmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO1xuICAgICAgaWYgKE1vZHVsZVsnb25SdW50aW1lSW5pdGlhbGl6ZWQnXSkgTW9kdWxlWydvblJ1bnRpbWVJbml0aWFsaXplZCddKCk7XG4gICAgICBwb3N0UnVuKCk7XG4gICAgfVxuXG4gICAgaWYgKE1vZHVsZVsnc2V0U3RhdHVzJ10pIHtcbiAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJ1J1bm5pbmcuLi4nKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBNb2R1bGVbJ3NldFN0YXR1cyddKCcnKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICAgIGRvUnVuKCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9SdW4oKTtcbiAgICB9XG4gIH1cblxuICBpZiAoTW9kdWxlWydwcmVJbml0J10pIHtcbiAgICBpZiAodHlwZW9mIE1vZHVsZVsncHJlSW5pdCddID09ICdmdW5jdGlvbicpXG4gICAgICBNb2R1bGVbJ3ByZUluaXQnXSA9IFtNb2R1bGVbJ3ByZUluaXQnXV07XG4gICAgd2hpbGUgKE1vZHVsZVsncHJlSW5pdCddLmxlbmd0aCA+IDApIHtcbiAgICAgIE1vZHVsZVsncHJlSW5pdCddLnBvcCgpKCk7XG4gICAgfVxuICB9XG4gIHJ1bigpO1xuXG4gIHJldHVybiBfX01vZHVsZS5yZWFkeTtcbn07XG5cbmNvbnN0IHZlcnNpb24gPSBcIjAuMS40XCI7XG5jb25zdCBwYWNrYWdlTmFtZSA9IFwiQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYlwiO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gbW9kdWxlIGlzIG5vdCBkZWNsYXJlZFxuLy8gVGhpcyBpcyBhIFdlYkFzc2VtYmx5IG1vZHVsZSBjb21waWxlZCBmcm9tIHRoZSBUZW5zb3JGbG93IExpdGUgQysrIGxpYnJhcnkuXG5jb25zdCBjcmVhdGVURkxpdGUgPSBjcmVhdGVURkxpdGVTSU1ETW9kdWxlO1xuY29uc3QgbG9hZFRGTGl0ZSA9IGFzeW5jIChvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7IGJhc2VQYXRoID0gYGh0dHBzOi8vdW5wa2cuY29tLyR7cGFja2FnZU5hbWV9QCR7dmVyc2lvbn0vdGZgLCB0ZkZpbGVQYXRoID0gYCR7YmFzZVBhdGh9L3RmbGl0ZS90ZmxpdGUtc2ltZC53YXNtYCwgbW9kZWxGaWxlUGF0aCA9IGAke2Jhc2VQYXRofS9tb2RlbHMvc2VnbV9mdWxsX3Y2NzkudGZsaXRlYCwgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgW3RmTGl0ZSwgbW9kZWxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjcmVhdGVURkxpdGUoeyBsb2NhdGVGaWxlOiAoKSA9PiB0ZkZpbGVQYXRoIH0pLFxuICAgICAgICBmZXRjaE1vZGVsKG1vZGVsRmlsZVBhdGgpLFxuICAgIF0pO1xuICAgIGNvbnN0IG1vZGVsQnVmZmVyT2Zmc2V0ID0gdGZMaXRlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCgpO1xuICAgIHRmTGl0ZS5IRUFQVTguc2V0KG5ldyBVaW50OEFycmF5KG1vZGVsKSwgbW9kZWxCdWZmZXJPZmZzZXQpO1xuICAgIHRmTGl0ZS5fbG9hZE1vZGVsKG1vZGVsLmJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiB0ZkxpdGU7XG59O1xubGV0IGxhc3RNb2RlbEZpbGVQYXRoID0gJyc7XG5sZXQgbW9kZWxGaWxlQ2FjaGU7XG5jb25zdCBmZXRjaE1vZGVsID0gYXN5bmMgKG1vZGVsRmlsZVBhdGgpID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IG1vZGVsRmlsZVBhdGggPT09IGxhc3RNb2RlbEZpbGVQYXRoICYmIG1vZGVsRmlsZUNhY2hlXG4gICAgICAgID8gbW9kZWxGaWxlQ2FjaGVcbiAgICAgICAgOiBhd2FpdCBmZXRjaChtb2RlbEZpbGVQYXRoKS50aGVuKChyKSA9PiByLmFycmF5QnVmZmVyKCkpO1xuICAgIC8vIENhY2hlIHRoZSBtb2RlbCBmaWxlIGZvciBmdXR1cmUgdXNlLlxuICAgIG1vZGVsRmlsZUNhY2hlID0gbW9kZWw7XG4gICAgbGFzdE1vZGVsRmlsZVBhdGggPSBtb2RlbEZpbGVQYXRoO1xuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbmV4cG9ydCB7IFNlZ21lbnRhdGlvbkxldmVsLCBjcmVhdGVSZW5kZXJlciwgaXNQbGF0Zm9ybVN1cHBvcnRlZCwgbG9hZFRGTGl0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* binding */ DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* binding */ DEFAULT_NAMESPACE),\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   mapToRegistry: () => (/* binding */ mapToRegistry),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* binding */ useCreateI18n),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\n\nconst DEFAULT_LANGUAGE = 'en';\nconst DEFAULT_NAMESPACE = 'stream-video';\nconst DEFAULT_CONFIG = {\n    debug: false,\n    currentLanguage: DEFAULT_LANGUAGE,\n    fallbackLanguage: false,\n};\nconst DEFAULT_TRANSLATIONS_REGISTRY = mapToRegistry({}, DEFAULT_NAMESPACE);\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    /** Simple logger function */\n    constructor(options = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            try {\n                this.t = await this.i18nInstance.init();\n            }\n            catch (e) {\n                console.error(`Failed to initialize translations: ${JSON.stringify(e)}`);\n            }\n            return this;\n        };\n        this.changeLanguage = async (language, onChange) => {\n            if (!this._checkIsInitialized())\n                return;\n            // i18next detects the language, if none provided, but it is better\n            // to show this detection here explicitly\n            const browserLanguage = typeof window !== 'undefined' && window.navigator\n                ? window.navigator.language\n                : undefined;\n            await this.i18nInstance.changeLanguage(language || browserLanguage);\n            onChange?.(this.currentLanguage);\n        };\n        this.registerTranslationsForLanguage = ({ lng, translations, }) => {\n            if (!this._checkIsInitialized())\n                return;\n            this.i18nInstance.addResourceBundle(lng, DEFAULT_NAMESPACE, translations, true, true);\n        };\n        this._checkIsInitialized = () => {\n            if (!this.i18nInstance.isInitialized) {\n                console.warn('I18n instance is not initialized. Call yourStreamI18nInstance.init().');\n            }\n            return this.i18nInstance.isInitialized;\n        };\n        const { debug = DEFAULT_CONFIG.debug, currentLanguage = DEFAULT_CONFIG.currentLanguage, fallbackLanguage = DEFAULT_CONFIG.fallbackLanguage, translationsOverrides, } = options;\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: DEFAULT_NAMESPACE,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: (key) => {\n                return key;\n            },\n            resources: DEFAULT_TRANSLATIONS_REGISTRY,\n        });\n        if (translationsOverrides) {\n            this.i18nInstance.on('initialized', () => {\n                Object.entries(translationsOverrides).forEach(([lng, translations]) => {\n                    this.registerTranslationsForLanguage({ lng, translations });\n                });\n            });\n        }\n    }\n    get currentLanguage() {\n        this._checkIsInitialized();\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const { i18n, t } = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: { t, i18n }, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => defaultTranslationFunction);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const { isInitialized } = i18n;\n        if (!isInitialized) {\n            i18n.init().then((_i18n) => setTranslationFn(() => _i18n.i18nInstance.t));\n            return;\n        }\n        if (language && i18n?.currentLanguage !== language) {\n            i18n.changeLanguage(language).catch((err) => {\n                console.log('Error while changing language', err);\n            });\n        }\n    }, [i18n, i18nInstance, language, translationsOverrides]);\n    return { i18n, t };\n};\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n *  @param PropsWithChildren<StreamVideoProps>\n *  @category Client State\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n *\n * @returns\n *\n * @category Client State\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n * @internal\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        const subscription = observable$.subscribe({\n            next: setValue,\n            error: (err) => {\n                console.log('An error occurred while reading an observable', err);\n                if (defaultValue)\n                    setValue(defaultValue);\n            },\n        });\n        return () => {\n            subscription.unsubscribe();\n        };\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n *\n * @category Call State\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n *\n * @category Call State\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n *\n * @category Call State\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n *\n * @category Call State\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n *\n * @category Call State\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n *\n * @category Call State\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n *\n * @category Call State\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n *\n * @category Call State\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n *\n * @category Call State\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n *\n * @category Call State\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @category Call State\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n *\n * @category Call State\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n *\n * @category Call State\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n *\n * @category Call State\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n *\n * @category Call State\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n *\n * @category Camera Manager State\n *\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => camera.listDevices(), [camera]);\n    const { state } = camera;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        camera,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        direction,\n        mediaStream,\n        devices,\n        hasBrowserPermission,\n        selectedDevice,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the microphone state of the current call.\n *\n * @category Microphone Manager State\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => microphone.listDevices(), [microphone]);\n    const { state } = microphone;\n    const status = useObservableValue(state.status$);\n    const optimisticStatus = useObservableValue(state.optimisticStatus$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    const isMute = status !== 'enabled';\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        microphone,\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        mediaStream,\n        devices,\n        selectedDevice,\n        hasBrowserPermission,\n        isSpeakingWhileMuted,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const devices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => speaker.listDevices(), [speaker]);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        devices,\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    const status = useObservableValue(screenShare.state.status$);\n    const pendingStatus = useObservableValue(screenShare.state.optimisticStatus$);\n    const mediaStream = useObservableValue(screenShare.state.mediaStream$);\n    const isMute = status !== 'enabled';\n    const optimisticStatus = pendingStatus ?? status;\n    const optimisticIsMute = optimisticStatus !== 'enabled';\n    return {\n        screenShare,\n        mediaStream,\n        status,\n        optimisticStatus,\n        isMute,\n        optimisticIsMute,\n    };\n};\n/**\n * Returns incoming video settings for the current call, including\n * global and per-participant manual video quality overrides.\n */\nconst useIncomingVideoSettings = () => {\n    const call = useCall();\n    const settings = useObservableValue(call.dynascaleManager.incomingVideoSettings$);\n    return settings;\n};\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIncomingVideoSettings: useIncomingVideoSettings,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.state;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n *\n * @category Client State\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n *\n * @category Client State\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n *\n * @category Call State\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtEO0FBQzhCO0FBQ2xEO0FBQytCOztBQUU3RCwwQkFBMEIsb0RBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QixZQUFZLHNEQUFHLCtCQUErQixpQ0FBaUM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsaURBQVU7QUFDckI7O0FBRUE7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxDQUFDLElBQUk7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGtCQUFrQjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELG9CQUFvQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2SkFBNko7QUFDN0ssNEJBQTRCLDhEQUFzQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELG1CQUFtQjtBQUM5RSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixvREFBYTtBQUN2QztBQUNBLENBQUM7QUFDRCw4QkFBOEIsK0JBQStCO0FBQzdELFlBQVks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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksYUFBYTtBQUN6QixxQkFBcUIsOENBQU87QUFDNUIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QixxQkFBcUIsOENBQU87QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGlCQUFpQjtBQUM3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0Isa0ZBQWtGO0FBQ3hHO0FBQ0EsWUFBWSxzQ0FBc0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msc0RBQUcsQ0FBQyx1REFBUSxJQUFJLG9CQUFvQjtBQUNwRTtBQUNBO0FBQ0EsNEJBQTRCLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDaEU7QUFDQSxlQUFlLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDbkQ7QUFDQTs7QUFFK1I7QUFDL1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly96b29tLy4vbm9kZV9tb2R1bGVzL0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MvZGlzdC9pbmRleC5lcy5qcz8yNzkxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpzeCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdC9qc3gtcnVudGltZSc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7XG5pbXBvcnQgeyBSeFV0aWxzLCBDYWxsU3RhdGUgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWNsaWVudCc7XG5cbmNvbnN0IFN0cmVhbUNhbGxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBBIHByb3ZpZGVyIGZvciB0aGUgY2FsbCBvYmplY3QuXG4gKi9cbmNvbnN0IFN0cmVhbUNhbGxQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbCwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFN0cmVhbUNhbGxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjYWxsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbi8qKlxuICogQSBob29rIHRvIGdldCB0aGUgY2FsbCBvYmplY3QgZnJvbSB0aGUgY2xvc2VzdCBwcm92aWRlci5cbiAqL1xuY29uc3QgdXNlQ2FsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1DYWxsQ29udGV4dCk7XG59O1xuXG5jb25zdCBtYXBUb1JlZ2lzdHJ5ID0gKHRyYW5zbGF0aW9uc01hcCwgbmFtZXNwYWNlKSA9PiBPYmplY3QuZW50cmllcyh0cmFuc2xhdGlvbnNNYXApLnJlZHVjZSgoYWNjLCBbbG5nLCB0cmFuc2xhdGlvbnNdKSA9PiB7XG4gICAgYWNjW2xuZ10gPSB7IFtuYW1lc3BhY2VdOiB0cmFuc2xhdGlvbnMgfTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuXG5jb25zdCBERUZBVUxUX0xBTkdVQUdFID0gJ2VuJztcbmNvbnN0IERFRkFVTFRfTkFNRVNQQUNFID0gJ3N0cmVhbS12aWRlbyc7XG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IHtcbiAgICBkZWJ1ZzogZmFsc2UsXG4gICAgY3VycmVudExhbmd1YWdlOiBERUZBVUxUX0xBTkdVQUdFLFxuICAgIGZhbGxiYWNrTGFuZ3VhZ2U6IGZhbHNlLFxufTtcbmNvbnN0IERFRkFVTFRfVFJBTlNMQVRJT05TX1JFR0lTVFJZID0gbWFwVG9SZWdpc3RyeSh7fSwgREVGQVVMVF9OQU1FU1BBQ0UpO1xuY29uc3QgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24gPSAoa2V5KSA9PiBrZXk7XG5jbGFzcyBTdHJlYW1JMThuIHtcbiAgICAvKiogU2ltcGxlIGxvZ2dlciBmdW5jdGlvbiAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICAvKiogVHJhbnNsYXRvciBmdW5jdGlvbiB0aGF0IGNvbnZlcnRzIHRoZSBwcm92aWRlZCBzdHJpbmcgaW50byBpdHMgZXF1aXZhbGVudCBpbiB0aGUgY3VycmVudCBsYW5ndWFnZS4gKi9cbiAgICAgICAgdGhpcy50ID0gZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb247XG4gICAgICAgIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ID0gYXdhaXQgdGhpcy5pMThuSW5zdGFuY2UuaW5pdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0cmFuc2xhdGlvbnM6ICR7SlNPTi5zdHJpbmdpZnkoZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jaGFuZ2VMYW5ndWFnZSA9IGFzeW5jIChsYW5ndWFnZSwgb25DaGFuZ2UpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgLy8gaTE4bmV4dCBkZXRlY3RzIHRoZSBsYW5ndWFnZSwgaWYgbm9uZSBwcm92aWRlZCwgYnV0IGl0IGlzIGJldHRlclxuICAgICAgICAgICAgLy8gdG8gc2hvdyB0aGlzIGRldGVjdGlvbiBoZXJlIGV4cGxpY2l0bHlcbiAgICAgICAgICAgIGNvbnN0IGJyb3dzZXJMYW5ndWFnZSA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3JcbiAgICAgICAgICAgICAgICA/IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlIHx8IGJyb3dzZXJMYW5ndWFnZSk7XG4gICAgICAgICAgICBvbkNoYW5nZT8uKHRoaXMuY3VycmVudExhbmd1YWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclRyYW5zbGF0aW9uc0Zvckxhbmd1YWdlID0gKHsgbG5nLCB0cmFuc2xhdGlvbnMsIH0pID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkKCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5pMThuSW5zdGFuY2UuYWRkUmVzb3VyY2VCdW5kbGUobG5nLCBERUZBVUxUX05BTUVTUEFDRSwgdHJhbnNsYXRpb25zLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fY2hlY2tJc0luaXRpYWxpemVkID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdJMThuIGluc3RhbmNlIGlzIG5vdCBpbml0aWFsaXplZC4gQ2FsbCB5b3VyU3RyZWFtSTE4bkluc3RhbmNlLmluaXQoKS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCB7IGRlYnVnID0gREVGQVVMVF9DT05GSUcuZGVidWcsIGN1cnJlbnRMYW5ndWFnZSA9IERFRkFVTFRfQ09ORklHLmN1cnJlbnRMYW5ndWFnZSwgZmFsbGJhY2tMYW5ndWFnZSA9IERFRkFVTFRfQ09ORklHLmZhbGxiYWNrTGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuaTE4bkluc3RhbmNlID0gaTE4bmV4dC5jcmVhdGVJbnN0YW5jZSh7XG4gICAgICAgICAgICBkZWJ1ZyxcbiAgICAgICAgICAgIGRlZmF1bHROUzogREVGQVVMVF9OQU1FU1BBQ0UsXG4gICAgICAgICAgICBmYWxsYmFja0xuZzogZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlLFxuICAgICAgICAgICAgbG5nOiBjdXJyZW50TGFuZ3VhZ2UsXG4gICAgICAgICAgICBuc1NlcGFyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiAoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNvdXJjZXM6IERFRkFVTFRfVFJBTlNMQVRJT05TX1JFR0lTVFJZLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uc092ZXJyaWRlcykge1xuICAgICAgICAgICAgdGhpcy5pMThuSW5zdGFuY2Uub24oJ2luaXRpYWxpemVkJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHRyYW5zbGF0aW9uc092ZXJyaWRlcykuZm9yRWFjaCgoW2xuZywgdHJhbnNsYXRpb25zXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVHJhbnNsYXRpb25zRm9yTGFuZ3VhZ2UoeyBsbmcsIHRyYW5zbGF0aW9ucyB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBjdXJyZW50TGFuZ3VhZ2UoKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrSXNJbml0aWFsaXplZCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pMThuSW5zdGFuY2UubGFuZ3VhZ2U7XG4gICAgfVxuICAgIGdldCBpc0luaXRpYWxpemVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pMThuSW5zdGFuY2UuaXNJbml0aWFsaXplZDtcbiAgICB9XG59XG5cbmNvbnN0IFN0cmVhbUkxOG5Db250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgdDogZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24sXG59KTtcbmNvbnN0IFN0cmVhbUkxOG5Qcm92aWRlciA9ICh7IGNoaWxkcmVuLCAuLi5jcmVhdGVJMThuUGFyYW1zIH0pID0+IHtcbiAgICBjb25zdCB7IGkxOG4sIHQgfSA9IHVzZUNyZWF0ZUkxOG4oY3JlYXRlSTE4blBhcmFtcyk7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtSTE4bkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgdCwgaTE4biB9LCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbmNvbnN0IHVzZUNyZWF0ZUkxOG4gPSAoeyBpMThuSW5zdGFuY2UsIGxhbmd1YWdlLCBmYWxsYmFja0xhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXMsIH0pID0+IHtcbiAgICBjb25zdCBbaTE4bl0gPSB1c2VTdGF0ZSgoKSA9PiBpMThuSW5zdGFuY2UgfHxcbiAgICAgICAgbmV3IFN0cmVhbUkxOG4oe1xuICAgICAgICAgICAgY3VycmVudExhbmd1YWdlOiBsYW5ndWFnZSxcbiAgICAgICAgICAgIGZhbGxiYWNrTGFuZ3VhZ2UsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbnNPdmVycmlkZXMsXG4gICAgICAgIH0pKTtcbiAgICBjb25zdCBbdCwgc2V0VHJhbnNsYXRpb25Gbl0gPSB1c2VTdGF0ZSgoKSA9PiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbik7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgeyBpc0luaXRpYWxpemVkIH0gPSBpMThuO1xuICAgICAgICBpZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICAgIGkxOG4uaW5pdCgpLnRoZW4oKF9pMThuKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IF9pMThuLmkxOG5JbnN0YW5jZS50KSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhbmd1YWdlICYmIGkxOG4/LmN1cnJlbnRMYW5ndWFnZSAhPT0gbGFuZ3VhZ2UpIHtcbiAgICAgICAgICAgIGkxOG4uY2hhbmdlTGFuZ3VhZ2UobGFuZ3VhZ2UpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igd2hpbGUgY2hhbmdpbmcgbGFuZ3VhZ2UnLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbaTE4biwgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzXSk7XG4gICAgcmV0dXJuIHsgaTE4biwgdCB9O1xufTtcbmNvbnN0IHVzZUkxOG4gPSAoKSA9PiB1c2VDb250ZXh0KFN0cmVhbUkxOG5Db250ZXh0KTtcblxuY29uc3QgU3RyZWFtVmlkZW9Db250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBTdHJlYW1WaWRlbyBpcyBhIHByb3ZpZGVyIGNvbXBvbmVudCB3aGljaCBzaG91bGQgYmUgdXNlZCB0byB3cmFwIHRoZSBlbnRpcmUgYXBwbGljYXRpb24uXG4gKiBJdCBwcm92aWRlcyB0aGUgY2xpZW50IG9iamVjdCB0byBhbGwgY2hpbGRyZW4gY29tcG9uZW50cyBhbmQgaW5pdGlhbGl6ZXMgdGhlIGkxOG4gaW5zdGFuY2UuXG4gKiAgQHBhcmFtIFByb3BzV2l0aENoaWxkcmVuPFN0cmVhbVZpZGVvUHJvcHM+XG4gKiAgQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCBTdHJlYW1WaWRlb1Byb3ZpZGVyID0gKHsgY2hpbGRyZW4sIGNsaWVudCwgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtVmlkZW9Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjbGllbnQsIGNoaWxkcmVuOiBqc3goU3RyZWFtSTE4blByb3ZpZGVyLCB7IGkxOG5JbnN0YW5jZTogaTE4bkluc3RhbmNlLCBsYW5ndWFnZTogbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlczogdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkgfSkpO1xufTtcbi8qKlxuICpcbiAqIEByZXR1cm5zXG4gKlxuICogQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCB1c2VTdHJlYW1WaWRlb0NsaWVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1WaWRlb0NvbnRleHQpO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGdpdmVuIG9ic2VydmFibGUuXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSQgdGhlIG9ic2VydmFibGUgdG8gcmVhZCBkYXRhIGZyb20uXG4gKiBAcGFyYW0gZGVmYXVsdFZhbHVlIGEgZGVmYXVsdCB2YWx1ZS4gVXNlZCB3aGVuIHRoZSBvYnNlcnZhYmxlIGRhdGEgY2FuJ3QgYmUgcmVhZCBvciBlbWl0cyBhbiBlcnJvci5cbiAqL1xuY29uc3QgdXNlT2JzZXJ2YWJsZVZhbHVlID0gKG9ic2VydmFibGUkLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZShvYnNlcnZhYmxlJCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBvYnNlcnZhYmxlJC5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgbmV4dDogc2V0VmFsdWUsXG4gICAgICAgICAgICBlcnJvcjogKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nIGFuIG9ic2VydmFibGUnLCBlcnIpO1xuICAgICAgICAgICAgICAgIGlmIChkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9O1xuICAgIH0sIFtkZWZhdWx0VmFsdWUsIG9ic2VydmFibGUkXSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB3ZSBhcmUgdXNpbmcgUmVhY3QgTmF0aXZlXG4gKi9cbmNvbnN0IGlzUmVhY3ROYXRpdmUgPSAoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIG5hdmlnYXRvci5wcm9kdWN0Py50b0xvd2VyQ2FzZSgpID09PSAncmVhY3RuYXRpdmUnO1xufTtcblxuLy8ga2luZC1vZiBtZW1vaXplZCwgdXNlZCBhcyBhIGRlZmF1bHQgdmFsdWVcbmNvbnN0IEVNUFRZX0RFVklDRVNfQVJSQVkgPSBPYmplY3QuZnJlZXplKFtdKTtcbi8qKlxuICogVXRpbGl0eSBob29rLCB3aGljaCBwcm92aWRlcyB0aGUgY3VycmVudCBjYWxsJ3Mgc3RhdGUuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgLy8gcmV0dXJuIGFuIGVtcHR5IGFuZCB1bmxpbmtlZCBDYWxsU3RhdGUgb2JqZWN0IGlmIHRoZXJlIGlzIG5vIGNhbGwgaW4gdGhlIHByb3ZpZGVyXG4gICAgLy8gdGhpcyBlbnN1cmVzIHRoYXQgdGhlIGhvb2tzIGFsd2F5cyByZXR1cm4gYSB2YWx1ZSBhbmQgbWFueSBudWxsIGNoZWNrcyBjYW4gYmUgYXZvaWRlZFxuICAgIGlmICghY2FsbCkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gJ1lvdSBhcmUgdXNpbmcgdXNlQ2FsbFN0YXRlKCkgb3V0c2lkZSBhIENhbGwgY29udGV4dC4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHdyYXAgeW91ciBjb21wb25lbnQgaW4gPFN0cmVhbUNhbGwgLz4gYW5kIHByb3ZpZGUgYSBcImNhbGxcIiBpbnN0YW5jZS4nO1xuICAgICAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbFN0YXRlKCk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsLnN0YXRlO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBiZWluZyByZWNvcmRlZC4gSXQgd2lsbCByZXR1cm4gYHRydWVgIGlmIHRoZSBjYWxsIGlzIGJlaW5nIHJlY29yZGVkLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWNvcmRpbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJlY29yZGluZyQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBicm9hZGNhc3RpbmcuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IGVncmVzcyA9IHVzZU9ic2VydmFibGVWYWx1ZShlZ3Jlc3MkKTtcbiAgICBpZiAoIWVncmVzcylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBlZ3Jlc3MuYnJvYWRjYXN0aW5nO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBsaXZlLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbExpdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBiYWNrc3RhZ2UkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBpc0JhY2tzdGFnZU9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGJhY2tzdGFnZSQpO1xuICAgIHJldHVybiAhaXNCYWNrc3RhZ2VPbjtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VycyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICovXG5jb25zdCB1c2VDYWxsQmxvY2tlZFVzZXJJZHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBibG9ja2VkVXNlcklkcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoYmxvY2tlZFVzZXJJZHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgY3JlYXRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbENyZWF0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNyZWF0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3JlYXRlZEF0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgd2hlbiB0aGlzIGNhbGwgd2FzIGVuZGVkLlxuICovXG5jb25zdCB1c2VDYWxsRW5kZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVuZGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVuZGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB0ZWxsaW5nIHdoZW4gdGhlIGNhbGwgaXMgc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICovXG5jb25zdCB1c2VDYWxsU3RhcnRzQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGFydHNBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhcnRzQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgdXBkYXRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbFVwZGF0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVwZGF0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUodXBkYXRlZEF0JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY2FsbCdzIGNyZWF0b3IuXG4gKi9cbmNvbnN0IHVzZUNhbGxDcmVhdGVkQnkgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjcmVhdGVkQnkkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNyZWF0ZWRCeSQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIGN1c3RvbSBkYXRhLlxuICovXG5jb25zdCB1c2VDYWxsQ3VzdG9tRGF0YSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGN1c3RvbSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3VzdG9tJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgRWdyZXNzIGluZm9ybWF0aW9uLlxuICovXG5jb25zdCB1c2VDYWxsRWdyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZWdyZXNzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShlZ3Jlc3MkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBJbmdyZXNzIGluZm9ybWF0aW9uLlxuICovXG5jb25zdCB1c2VDYWxsSW5ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGluZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGluZ3Jlc3MkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGRhdGEgZm9yIHRoZSBjdXJyZW50IGNhbGwgc2Vzc2lvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbFNlc3Npb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzZXNzaW9uJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3Mgc2V0dGluZ3MuXG4gKi9cbmNvbnN0IHVzZUNhbGxTZXR0aW5ncyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNldHRpbmdzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzZXR0aW5ncyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjYWxsIGhhcyB0cmFuc2NyaWJpbmcgZW5hYmxlZC5cbiAqL1xuY29uc3QgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRyYW5zY3JpYmluZyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUodHJhbnNjcmliaW5nJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIHdobyBoYXMgbWFya2VkIHRoaXMgY2FsbCBhcyBlbmRlZC5cbiAqL1xuY29uc3QgdXNlQ2FsbEVuZGVkQnkgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlbmRlZEJ5JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShlbmRlZEJ5JCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGVyZSBpc1xuICogYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIHdoaWNoIHNoYXJlcyB0aGVpciBzY3JlZW4uXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaGFzT25nb2luZ1NjcmVlblNoYXJlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShoYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKiBXaGVuIHN0YXRzIGdhdGhlcmluZyBpcyBlbmFibGVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGEgbmV3IHZhbHVlXG4gKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gKlxuICogQ29uc3VtZXJzIG9mIHRoaXMgb2JzZXJ2YWJsZSBjYW4gaW1wbGVtZW50IHRoZWlyIG93biBiYXRjaGluZyBsb2dpY1xuICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRzUmVwb3J0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFN0YXRzUmVwb3J0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxsU3RhdHNSZXBvcnQkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgZG9taW5hbnQgc3BlYWtlciBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZURvbWluYW50U3BlYWtlciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGRvbWluYW50U3BlYWtlciQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZG9taW5hbnRTcGVha2VyJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGNhbGwgbWVtYmVycy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsTWVtYmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lbWJlcnMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG1lbWJlcnMkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGN1cnJlbnQgY2FsbGluZyBzdGF0ZSBvZiB0aGUgY2FsbC4gRm9yIGV4YW1wbGUsIGBSSU5HSU5HYCBvciBgSk9JTkVEYC5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VDYWxsQ2FsbGluZ1N0YXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbGluZ1N0YXRlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjYWxsaW5nU3RhdGUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGFjdHVhbCBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IHNlc3Npb24uXG4gKiBVc2VmdWwgZm9yIGNhbGN1bGF0aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGFydGVkQXQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdGFydGVkQXQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXJ0ZWRBdCQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFydGljaXBhbnRzIHRoYXQgaGF2ZSBqb2luZWQgYW4gYWN0aXZlIGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucy5zb3J0QnkgLSBBIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICogTWFrZSBzdXJlIHRvIG1lbW9pemUgb3V0cHV0IG9mIHRoZSBgY29tYmluZUNvbXBhcmF0b3JzYCBmdW5jdGlvblxuICogKG9yIGtlZXAgaXQgb3V0IG9mIGNvbXBvbmVudCdzIHNjb3BlIGlmIHBvc3NpYmxlKSBiZWZvcmUgcGFzc2luZyBpdCBkb3duIHRvIHRoaXMgcHJvcGVydHkuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50cyA9ICh7IHNvcnRCeSwgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VPYnNlcnZhYmxlVmFsdWUocGFydGljaXBhbnRzJCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoc29ydEJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhcnRpY2lwYW50c10uc29ydChzb3J0QnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gICAgfSwgW3BhcnRpY2lwYW50cywgc29ydEJ5XSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBTdHJlYW1WaWRlb0xvY2FsUGFydGljaXBhbnQgb2JqZWN0LlxuICogSXQgc2lnbmFscyB0aGF0IEkgaGF2ZSBqb2luZWQgYSBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUxvY2FsUGFydGljaXBhbnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsb2NhbFBhcnRpY2lwYW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShsb2NhbFBhcnRpY2lwYW50JCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBvdGhlciBwYXJ0aWNpcGFudHMgdGhhbiBtZSB0aGF0IGhhdmUgam9pbmVkIGFuIGFjdGl2ZSBjYWxsLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZVJlbW90ZVBhcnRpY2lwYW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocmVtb3RlUGFydGljaXBhbnRzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgdXNlcnMgYXMgd2VsbCwgYW5kIGl0IGlzIGNvbXB1dGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlUGFydGljaXBhbnRDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Q291bnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHBhcnRpY2lwYW50Q291bnQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGFwcHJveGltYXRlIGFub255bW91cyBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGUgcmVndWxhciBwYXJ0aWNpcGFudHMgYXJlIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGNvdW50LiBJdCBpcyBjb21wdXRlZCBvbiB0aGUgc2VydmVyLlxuICpcbiAqIEBjYXRlZ29yeSBDYWxsIFN0YXRlXG4gKi9cbmNvbnN0IHVzZUFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBnZW5lcmF0ZWQgdGh1bWJuYWlsIG9mIHRoZSBjdXJyZW50IGNhbGwsIGlmIGVuYWJsZWQgaW4gc2V0dGluZ3MuXG4gKi9cbmNvbnN0IHVzZUNhbGxUaHVtYm5haWwgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0aHVtYm5haWxzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh0aHVtYm5haWxzJCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcmV0dXJucyB0aGUgbG9jYWwgcGFydGljaXBhbnQncyBvd24gY2FwYWJpbGl0aWVzLlxuICovXG5jb25zdCB1c2VPd25DYXBhYmlsaXRpZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvd25DYXBhYmlsaXRpZXMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG93bkNhcGFiaWxpdGllcyQpO1xufTtcbi8qKlxuICogSG9vayB0aGF0IHJldHVybnMgdHJ1ZSBpZiB0aGUgbG9jYWwgcGFydGljaXBhbnQgaGFzIGFsbCB0aGUgZ2l2ZW4gcGVybWlzc2lvbnMuXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byBjaGVjay5cbiAqL1xuY29uc3QgdXNlSGFzUGVybWlzc2lvbnMgPSAoLi4ucGVybWlzc2lvbnMpID0+IHtcbiAgICBjb25zdCBjYXBhYmlsaXRpZXMgPSB1c2VPd25DYXBhYmlsaXRpZXMoKTtcbiAgICByZXR1cm4gcGVybWlzc2lvbnMuZXZlcnkoKHBlcm1pc3Npb24pID0+IGNhcGFiaWxpdGllcz8uaW5jbHVkZXMocGVybWlzc2lvbikpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FtZXJhIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IENhbWVyYSBNYW5hZ2VyIFN0YXRlXG4gKlxuICovXG5jb25zdCB1c2VDYW1lcmFTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgY2FtZXJhIH0gPSBjYWxsO1xuICAgIGNvbnN0IGRldmljZXMkID0gdXNlTWVtbygoKSA9PiBjYW1lcmEubGlzdERldmljZXMoKSwgW2NhbWVyYV0pO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbWVyYTtcbiAgICBjb25zdCBzdGF0dXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3RhdHVzJCk7XG4gICAgY29uc3Qgb3B0aW1pc3RpY1N0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCk7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmRpcmVjdGlvbiQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCBkZXZpY2VzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGRldmljZXMkLCBFTVBUWV9ERVZJQ0VTX0FSUkFZKTtcbiAgICBjb25zdCBoYXNCcm93c2VyUGVybWlzc2lvbiA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5oYXNCcm93c2VyUGVybWlzc2lvbiQpO1xuICAgIGNvbnN0IGlzTXV0ZSA9IHN0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIGNvbnN0IG9wdGltaXN0aWNJc011dGUgPSBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FtZXJhLFxuICAgICAgICBzdGF0dXMsXG4gICAgICAgIG9wdGltaXN0aWNTdGF0dXMsXG4gICAgICAgIGlzRW5hYmxlZDogc3RhdHVzID09PSAnZW5hYmxlZCcsXG4gICAgICAgIGRpcmVjdGlvbixcbiAgICAgICAgbWVkaWFTdHJlYW0sXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLFxuICAgICAgICBzZWxlY3RlZERldmljZSxcbiAgICAgICAgaXNNdXRlLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaWNyb3Bob25lIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKlxuICogQGNhdGVnb3J5IE1pY3JvcGhvbmUgTWFuYWdlciBTdGF0ZVxuICovXG5jb25zdCB1c2VNaWNyb3Bob25lU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUgfSA9IGNhbGw7XG4gICAgY29uc3QgZGV2aWNlcyQgPSB1c2VNZW1vKCgpID0+IG1pY3JvcGhvbmUubGlzdERldmljZXMoKSwgW21pY3JvcGhvbmVdKTtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBtaWNyb3Bob25lO1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zdGF0dXMkKTtcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5tZWRpYVN0cmVhbSQpO1xuICAgIGNvbnN0IHNlbGVjdGVkRGV2aWNlID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNlbGVjdGVkRGV2aWNlJCk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVWYWx1ZShkZXZpY2VzJCwgRU1QVFlfREVWSUNFU19BUlJBWSk7XG4gICAgY29uc3QgaGFzQnJvd3NlclBlcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaGFzQnJvd3NlclBlcm1pc3Npb24kKTtcbiAgICBjb25zdCBpc1NwZWFraW5nV2hpbGVNdXRlZCA9IHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5zcGVha2luZ1doaWxlTXV0ZWQkKTtcbiAgICBjb25zdCBpc011dGUgPSBzdGF0dXMgIT09ICdlbmFibGVkJztcbiAgICBjb25zdCBvcHRpbWlzdGljSXNNdXRlID0gb3B0aW1pc3RpY1N0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pY3JvcGhvbmUsXG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgb3B0aW1pc3RpY1N0YXR1cyxcbiAgICAgICAgaXNFbmFibGVkOiBzdGF0dXMgPT09ICdlbmFibGVkJyxcbiAgICAgICAgbWVkaWFTdHJlYW0sXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBoYXNCcm93c2VyUGVybWlzc2lvbixcbiAgICAgICAgaXNTcGVha2luZ1doaWxlTXV0ZWQsXG4gICAgICAgIGlzTXV0ZSxcbiAgICAgICAgb3B0aW1pc3RpY0lzTXV0ZSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3BlYWtlciBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIE5vdGU6IFRoaXMgaG9vayBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCB1c2VTcGVha2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyk7XG4gICAgfVxuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBzcGVha2VyIH0gPSBjYWxsO1xuICAgIGNvbnN0IGRldmljZXMkID0gdXNlTWVtbygoKSA9PiBzcGVha2VyLmxpc3REZXZpY2VzKCksIFtzcGVha2VyXSk7XG4gICAgY29uc3QgZGV2aWNlcyA9IHVzZU9ic2VydmFibGVWYWx1ZShkZXZpY2VzJCwgRU1QVFlfREVWSUNFU19BUlJBWSk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNwZWFrZXIsXG4gICAgICAgIGRldmljZXMsXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZDogc3BlYWtlci5zdGF0ZS5pc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgU2NyZWVuIFNoYXJlIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZVNjcmVlblNoYXJlU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHNjcmVlblNoYXJlIH0gPSBjYWxsO1xuICAgIGNvbnN0IHN0YXR1cyA9IHVzZU9ic2VydmFibGVWYWx1ZShzY3JlZW5TaGFyZS5zdGF0ZS5zdGF0dXMkKTtcbiAgICBjb25zdCBwZW5kaW5nU3RhdHVzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMkKTtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHVzZU9ic2VydmFibGVWYWx1ZShzY3JlZW5TaGFyZS5zdGF0ZS5tZWRpYVN0cmVhbSQpO1xuICAgIGNvbnN0IGlzTXV0ZSA9IHN0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIGNvbnN0IG9wdGltaXN0aWNTdGF0dXMgPSBwZW5kaW5nU3RhdHVzID8/IHN0YXR1cztcbiAgICBjb25zdCBvcHRpbWlzdGljSXNNdXRlID0gb3B0aW1pc3RpY1N0YXR1cyAhPT0gJ2VuYWJsZWQnO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNjcmVlblNoYXJlLFxuICAgICAgICBtZWRpYVN0cmVhbSxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc011dGUsXG4gICAgICAgIG9wdGltaXN0aWNJc011dGUsXG4gICAgfTtcbn07XG4vKipcbiAqIFJldHVybnMgaW5jb21pbmcgdmlkZW8gc2V0dGluZ3MgZm9yIHRoZSBjdXJyZW50IGNhbGwsIGluY2x1ZGluZ1xuICogZ2xvYmFsIGFuZCBwZXItcGFydGljaXBhbnQgbWFudWFsIHZpZGVvIHF1YWxpdHkgb3ZlcnJpZGVzLlxuICovXG5jb25zdCB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3MgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IHVzZU9ic2VydmFibGVWYWx1ZShjYWxsLmR5bmFzY2FsZU1hbmFnZXIuaW5jb21pbmdWaWRlb1NldHRpbmdzJCk7XG4gICAgcmV0dXJuIHNldHRpbmdzO1xufTtcblxudmFyIENhbGxTdGF0ZUhvb2tzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50OiB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50LFxuICAgIHVzZUNhbGxCbG9ja2VkVXNlcklkczogdXNlQ2FsbEJsb2NrZWRVc2VySWRzLFxuICAgIHVzZUNhbGxDYWxsaW5nU3RhdGU6IHVzZUNhbGxDYWxsaW5nU3RhdGUsXG4gICAgdXNlQ2FsbENyZWF0ZWRBdDogdXNlQ2FsbENyZWF0ZWRBdCxcbiAgICB1c2VDYWxsQ3JlYXRlZEJ5OiB1c2VDYWxsQ3JlYXRlZEJ5LFxuICAgIHVzZUNhbGxDdXN0b21EYXRhOiB1c2VDYWxsQ3VzdG9tRGF0YSxcbiAgICB1c2VDYWxsRWdyZXNzOiB1c2VDYWxsRWdyZXNzLFxuICAgIHVzZUNhbGxFbmRlZEF0OiB1c2VDYWxsRW5kZWRBdCxcbiAgICB1c2VDYWxsRW5kZWRCeTogdXNlQ2FsbEVuZGVkQnksXG4gICAgdXNlQ2FsbEluZ3Jlc3M6IHVzZUNhbGxJbmdyZXNzLFxuICAgIHVzZUNhbGxNZW1iZXJzOiB1c2VDYWxsTWVtYmVycyxcbiAgICB1c2VDYWxsU2Vzc2lvbjogdXNlQ2FsbFNlc3Npb24sXG4gICAgdXNlQ2FsbFNldHRpbmdzOiB1c2VDYWxsU2V0dGluZ3MsXG4gICAgdXNlQ2FsbFN0YXJ0ZWRBdDogdXNlQ2FsbFN0YXJ0ZWRBdCxcbiAgICB1c2VDYWxsU3RhcnRzQXQ6IHVzZUNhbGxTdGFydHNBdCxcbiAgICB1c2VDYWxsU3RhdGU6IHVzZUNhbGxTdGF0ZSxcbiAgICB1c2VDYWxsU3RhdHNSZXBvcnQ6IHVzZUNhbGxTdGF0c1JlcG9ydCxcbiAgICB1c2VDYWxsVGh1bWJuYWlsOiB1c2VDYWxsVGh1bWJuYWlsLFxuICAgIHVzZUNhbGxVcGRhdGVkQXQ6IHVzZUNhbGxVcGRhdGVkQXQsXG4gICAgdXNlQ2FtZXJhU3RhdGU6IHVzZUNhbWVyYVN0YXRlLFxuICAgIHVzZURvbWluYW50U3BlYWtlcjogdXNlRG9taW5hbnRTcGVha2VyLFxuICAgIHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZTogdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlLFxuICAgIHVzZUhhc1Blcm1pc3Npb25zOiB1c2VIYXNQZXJtaXNzaW9ucyxcbiAgICB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3M6IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyxcbiAgICB1c2VJc0NhbGxITFNCcm9hZGNhc3RpbmdJblByb2dyZXNzOiB1c2VJc0NhbGxITFNCcm9hZGNhc3RpbmdJblByb2dyZXNzLFxuICAgIHVzZUlzQ2FsbExpdmU6IHVzZUlzQ2FsbExpdmUsXG4gICAgdXNlSXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VJc0NhbGxUcmFuc2NyaWJpbmdJblByb2dyZXNzOiB1c2VJc0NhbGxUcmFuc2NyaWJpbmdJblByb2dyZXNzLFxuICAgIHVzZUxvY2FsUGFydGljaXBhbnQ6IHVzZUxvY2FsUGFydGljaXBhbnQsXG4gICAgdXNlTWljcm9waG9uZVN0YXRlOiB1c2VNaWNyb3Bob25lU3RhdGUsXG4gICAgdXNlT3duQ2FwYWJpbGl0aWVzOiB1c2VPd25DYXBhYmlsaXRpZXMsXG4gICAgdXNlUGFydGljaXBhbnRDb3VudDogdXNlUGFydGljaXBhbnRDb3VudCxcbiAgICB1c2VQYXJ0aWNpcGFudHM6IHVzZVBhcnRpY2lwYW50cyxcbiAgICB1c2VSZW1vdGVQYXJ0aWNpcGFudHM6IHVzZVJlbW90ZVBhcnRpY2lwYW50cyxcbiAgICB1c2VTY3JlZW5TaGFyZVN0YXRlOiB1c2VTY3JlZW5TaGFyZVN0YXRlLFxuICAgIHVzZVNwZWFrZXJTdGF0ZTogdXNlU3BlYWtlclN0YXRlXG59KTtcblxuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYWNjZXNzIHRvIGNsaWVudCdzIHN0YXRlIHN0b3JlLlxuICovXG5jb25zdCB1c2VTdG9yZSA9ICgpID0+IHtcbiAgICBjb25zdCBjbGllbnQgPSB1c2VTdHJlYW1WaWRlb0NsaWVudCgpO1xuICAgIGlmICghY2xpZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3RyZWFtVmlkZW9DbGllbnQgaXNuJ3QgaW5pdGlhbGl6ZWQgb3IgdGhpcyBob29rIGlzIGNhbGxlZCBvdXRzaWRlIG9mIDxTdHJlYW1WaWRlbz4gY29udGV4dC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsaWVudC5zdGF0ZTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIG5vdGlmaWNhdGlvbnMgYWJvdXQgY3JlYXRlZCBjYWxscy5cbiAqIEluIHRoZSByaW5nIGNhbGwgc2V0dGluZ3MsIHRoZXNlIGNhbGxzIGNhbiBiZSBvdXRnb2luZyAoSSBoYXZlIGNhbGxlZCBzb21lYm9keSlcbiAqIG9yIGluY29taW5nIChzb21lYm9keSBoYXMgY2FsbGVkIG1lKS5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2xpZW50IFN0YXRlXG4gKi9cbmNvbnN0IHVzZUNhbGxzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbHMkIH0gPSB1c2VTdG9yZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgY29ubmVjdGVkIHVzZXIuXG4gKlxuICogQGNhdGVnb3J5IENsaWVudCBTdGF0ZVxuICovXG5jb25zdCB1c2VDb25uZWN0ZWRVc2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY29ubmVjdGVkVXNlciQgfSA9IHVzZVN0b3JlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjb25uZWN0ZWRVc2VyJCk7XG59O1xuXG4vKipcbiAqIEEgaG9vay1hbGlrZSBmdW5jdGlvbiB0aGF0IGV4cG9zZXMgYWxsIGNhbGwgc3RhdGUgaG9va3MuXG4gKlxuICogQGNhdGVnb3J5IENhbGwgU3RhdGVcbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRlSG9va3MgPSAoKSA9PiBDYWxsU3RhdGVIb29rcztcblxuY29uc3QgUmVzdHJpY3RlZCA9ICh7IGNhblJlcXVlc3RPbmx5LCBoYXNQZXJtaXNzaW9uc09ubHksIHJlcXVpcmVkR3JhbnRzLCByZXF1aXJlQWxsID0gdHJ1ZSwgY2hpbGRyZW4sIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFNldHRpbmdzLCB1c2VPd25DYXBhYmlsaXRpZXMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgb3duQ2FwYWJpbGl0aWVzID0gdXNlT3duQ2FwYWJpbGl0aWVzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9ucyA9IHJlcXVpcmVkR3JhbnRzW3JlcXVpcmVBbGwgPyAnZXZlcnknIDogJ3NvbWUnXSgoY2FwYWJpbGl0eSkgPT4gb3duQ2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhjYXBhYmlsaXR5KSk7XG4gICAgaWYgKGhhc1Blcm1pc3Npb25zT25seSlcbiAgICAgICAgcmV0dXJuIGhhc1Blcm1pc3Npb25zID8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSA6IG51bGw7XG4gICAgY29uc3QgY2FuUmVxdWVzdCA9IHJlcXVpcmVkR3JhbnRzLnNvbWUoKGNhcGFiaWxpdHkpID0+IGNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KGNhcGFiaWxpdHksIHNldHRpbmdzKSk7XG4gICAgaWYgKGNhblJlcXVlc3RPbmx5KVxuICAgICAgICByZXR1cm4gY2FuUmVxdWVzdCA/IGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkgOiBudWxsO1xuICAgIGlmIChoYXNQZXJtaXNzaW9ucyB8fCBjYW5SZXF1ZXN0KVxuICAgICAgICByZXR1cm4ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KTtcbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB7IERFRkFVTFRfTEFOR1VBR0UsIERFRkFVTFRfTkFNRVNQQUNFLCBSZXN0cmljdGVkLCBTdHJlYW1DYWxsUHJvdmlkZXIsIFN0cmVhbUkxOG4sIFN0cmVhbUkxOG5Qcm92aWRlciwgU3RyZWFtVmlkZW9Qcm92aWRlciwgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24sIG1hcFRvUmVnaXN0cnksIHVzZUNhbGwsIHVzZUNhbGxTdGF0ZUhvb2tzLCB1c2VDYWxscywgdXNlQ29ubmVjdGVkVXNlciwgdXNlQ3JlYXRlSTE4biwgdXNlSTE4biwgdXNlU3RvcmUsIHVzZVN0cmVhbVZpZGVvQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   BlockListOptionsBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.BlockListOptionsBehaviorEnum),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   ChannelConfigWithInfoAutomodBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodBehaviorEnum),\n/* harmony export */   ChannelConfigWithInfoAutomodEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoAutomodEnum),\n/* harmony export */   ChannelConfigWithInfoBlocklistBehaviorEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ChannelConfigWithInfoBlocklistBehaviorEnum),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DEFAULT_LANGUAGE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_LANGUAGE),\n/* harmony export */   DEFAULT_NAMESPACE: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_NAMESPACE),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceInfo),\n/* harmony export */   getLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogLevel),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getOSInfo),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   mapToRegistry: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.mapToRegistry),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useCreateI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCreateI18n),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will persist the device settings to local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistDevicePreferences = (key) => {\n    const { useMicrophoneState, useCameraState, useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const mic = useMicrophoneState();\n    const camera = useCameraState();\n    const speaker = useSpeakerState();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        try {\n            const preferences = {\n                mic: {\n                    selectedDeviceId: mic.selectedDevice || defaultDevice,\n                    muted: mic.isMute,\n                },\n                camera: {\n                    selectedDeviceId: camera.selectedDevice || defaultDevice,\n                    muted: camera.isMute,\n                },\n                speaker: {\n                    selectedDeviceId: speaker.selectedDevice || defaultDevice,\n                    muted: false,\n                },\n            };\n            window.localStorage.setItem(key, JSON.stringify(preferences));\n        }\n        catch (err) {\n            console.warn('Failed to save device preferences', err);\n        }\n    }, [\n        call,\n        camera.isMute,\n        camera.selectedDevice,\n        key,\n        mic.isMute,\n        mic.selectedDevice,\n        speaker.selectedDevice,\n    ]);\n};\n/**\n * This hook will apply the device settings from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst useApplyDevicePreferences = (key) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        if (call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT)\n            return;\n        const apply = async () => {\n            const initMic = async (setting) => {\n                await call.microphone.select(parseDeviceId(setting.selectedDeviceId));\n                if (setting.muted) {\n                    await call.microphone.disable();\n                }\n                else {\n                    await call.microphone.enable();\n                }\n            };\n            const initCamera = async (setting) => {\n                await call.camera.select(parseDeviceId(setting.selectedDeviceId));\n                if (setting.muted) {\n                    await call.camera.disable();\n                }\n                else {\n                    await call.camera.enable();\n                }\n            };\n            const initSpeaker = (setting) => {\n                call.speaker.select(parseDeviceId(setting.selectedDeviceId) ?? '');\n            };\n            let preferences = null;\n            try {\n                preferences = JSON.parse(window.localStorage.getItem(key));\n            }\n            catch (err) {\n                console.warn('Failed to load device preferences', err);\n            }\n            if (preferences) {\n                await initMic(preferences.mic);\n                await initCamera(preferences.camera);\n                initSpeaker(preferences.speaker);\n            }\n        };\n        apply().catch((err) => {\n            console.warn('Failed to apply device preferences', err);\n        });\n    }, [call, key]);\n};\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    useApplyDevicePreferences(key);\n    usePersistDevicePreferences(key);\n};\nconst parseDeviceId = (deviceId) => deviceId !== defaultDevice ? deviceId : undefined;\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useToggleCallRecording = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useIsCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        document?.addEventListener('click', handleClick, { capture: true });\n        document?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            document?.removeEventListener('click', handleClick, { capture: true });\n            document?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const [pictureInPictureElement, setPictureInPictureElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setPictureInPictureElement(document.pictureInPictureElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    const togglePictureInPicture = () => {\n        if (videoElement && pictureInPictureElement !== videoElement) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: pictureInPictureElement === videoElement\n                        ? t('Leave')\n                        : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: t('Video is disabled') }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"video-placeholder\", className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst Video$1 = ({ enabled, trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !enabled || !isPublishingTrack || isInvisible;\n    const mirrorVideo = isLocalParticipant && trackType === 'videoTrack';\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = 'high', tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel('high');\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister();\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                renderer?.dispose();\n                videoRef.current && (videoRef.current.srcObject = null);\n                outputStream && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [backgroundBlurLevel, backgroundFilter, backgroundImage, tfLite]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ disabled, caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                    'str-video__composite-button__button-group--disabled': disabled,\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, disabled: disabled, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = useToggleCallRecording();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = useToggleCallRecording();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = useToggleCallRecording();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : caption ?? t('Record call');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = useToggleCallRecording();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '',\n    ':raise-hand:': '',\n    ':fireworks:': '',\n    ':dislike:': '',\n    ':heart:': '',\n    ':smile:': '',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId: selectedDeviceFromProps, title, type, onChange, } = props;\n    const { close } = useMenuContext();\n    // sometimes the browser (Chrome) will report the system-default device\n    // with an id of 'default'. In case when it doesn't, we'll select the first\n    // available device.\n    let selectedDeviceId = selectedDeviceFromProps;\n    if (devices.length > 0 &&\n        !devices.find((d) => d.deviceId === selectedDeviceId)) {\n        selectedDeviceId = devices[0].deviceId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), !devices.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--default`, label: \"Default\", name: type, defaultChecked: true, value: \"default\" })) : (devices.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        onChange?.(e.target.value);\n                        close?.();\n                    }, name: type, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n            }))] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId: selectedDeviceFromProps, title, onChange, icon, } = props;\n    // sometimes the browser (Chrome) will report the system-default device\n    // with an id of 'default'. In case when it doesn't, we'll select the first\n    // available device.\n    let selectedDeviceId = selectedDeviceFromProps;\n    if (devices.length > 0 &&\n        !devices.find((d) => d.deviceId === selectedDeviceId)) {\n        selectedDeviceId = devices[0].deviceId;\n    }\n    const selectedIndex = devices.findIndex((d) => d.deviceId === selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        onChange?.(devices[index].deviceId);\n    }, [devices, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: devices[selectedIndex]?.label, handleSelect: handleSelect, children: devices.map((device) => {\n                    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.deviceId === selectedDeviceId || devices.length === 1 }, device.deviceId));\n                }) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, placeholder, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon, placeholder: placeholder }));\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : caption ?? t('Mic'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : caption ?? t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nconst CallStatsLatencyChart = (0,react__WEBPACK_IMPORTED_MODULE_3__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stream-io\"), __webpack_require__.e(\"vendor-chunks/chart.js\"), __webpack_require__.e(\"vendor-chunks/react-chartjs-2\"), __webpack_require__.e(\"vendor-chunks/@kurkle\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./latency-chart-Bj5OSYzg.es.js */ \"(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\")));\nvar Status;\n(function (Status) {\n    Status[\"GOOD\"] = \"Good\";\n    Status[\"OK\"] = \"Ok\";\n    Status[\"BAD\"] = \"Bad\";\n})(Status || (Status = {}));\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400, showCodecInfo = false, LatencyChartSuspenseFallback = null, } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Suspense, { fallback: LatencyChartSuspenseFallback, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: `${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`, value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = (props) => {\n    const { children, status } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Status.GOOD,\n            'str-video__call-stats__tag--ok': status === Status.OK,\n            'str-video__call-stats__tag--bad': status === Status.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? toStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toStatus = (config) => {\n    const { value, lowBound, highBound } = config;\n    if (value <= lowBound)\n        return Status.GOOD;\n    if (value >= lowBound && value <= highBound)\n        return Status.OK;\n    if (value >= highBound)\n        return Status.BAD;\n    return Status.GOOD;\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst formatCodec = (callStatsReport) => {\n    const { codec } = callStatsReport.publisherStats;\n    if (!codec)\n        return '';\n    const [, name] = codec.split('/');\n    return name ? ` (${name})` : '';\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nconst SearchResults = ({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) => {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n};\n\nconst useSearch = ({ debounceInterval, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFn(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchFn, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst DEFAULT_DEBOUNCE_SEARCH_INTERVAL = 200;\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = () => {\n        call?.muteAllUsers('audio');\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(participants.filter((participant) => {\n            return participant.name.match(queryRegExp);\n        }));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(blockedUsers.filter((blockedUser) => {\n            return blockedUser.match(queryRegExp);\n        }));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((_isSupportedByBrowser) => setIsSupportedByBrowser(_isSupportedByBrowser))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init())\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((err) => console.error(`Can't initialize noise suppression`, err));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: {\n            isSupported,\n            isEnabled,\n            setEnabled: (enabledOrSetter) => {\n                if (!noiseCancellation)\n                    return;\n                const enable = typeof enabledOrSetter === 'function'\n                    ? enabledOrSetter(isEnabled)\n                    : enabledOrSetter;\n                if (enable) {\n                    noiseCancellation.enable();\n                }\n                else {\n                    noiseCancellation.disable();\n                }\n            },\n        }, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => call.leave({ reject: true }), disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable();\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const { useIncomingVideoSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, participant: participant, trackType: trackType, refs: videoRefs, enabled: isLocalParticipant ||\n                        trackType !== 'videoTrack' ||\n                        isParticipantVideoEnabled(participant.sessionId), autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useRemoteParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const Overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps } = props;\n    const FloatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: Overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: FloatingParticipantOverlay || Overlay, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, VideoPlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(excludeLocalParticipant ? remoteParticipants : participants, groupSize), [excludeLocalParticipant, remoteParticipants, participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: selectedGroup, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUI, VideoPlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, excludeLocalParticipant = false, pageArrowsVisible = true, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    const [participantInSpotlight, ...otherParticipants] = excludeLocalParticipant\n        ? remoteParticipants\n        : allParticipants;\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = allParticipants.length === 2;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder })) }), participantsWithAppliedLimit.length > 0 && participantsBarPosition && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, muteAudio: true }) }, participant.sessionId)))] }) }), pageArrowsVisible && isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), pageArrowsVisible && isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, layoutProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.join().catch((e) => {\n            console.error('Failed to join call', e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...layoutProps }) }));\n};\n\nconst [major, minor, patch] = (\"1.5.0\").split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEwWDtBQUNsVjtBQUMySTtBQUNuSTtBQUNRO0FBQ2tJO0FBQ2lHO0FBQ25RO0FBQ2M7QUFDeUQ7O0FBRS9GLGlCQUFpQixnREFBZ0Q7QUFDakUsaUJBQWlCLHdFQUFPO0FBQ3hCLDRDQUE0QywrQ0FBUTtBQUNwRCxZQUFZLG9CQUFvQjtBQUNoQyxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksc0RBQUcsWUFBWSxtSUFBbUk7QUFDOUo7QUFDQTs7QUFFQTtBQUNBLFlBQVksMkJBQTJCO0FBQ3ZDLFlBQVksc0RBQUcsQ0FBQyx1REFBUSxJQUFJO0FBQzVCO0FBQ0E7QUFDQSxvQkFBb0IsaURBQWlEO0FBQ3JFLGtDQUFrQyxpRUFBUTtBQUMxQyx1RUFBdUUsc0RBQUcsVUFBVSxrRUFBa0U7QUFDdEosNkNBQTZDLDRFQUFtQjtBQUNoRTtBQUNBLDJDQUEyQyxzREFBRyxVQUFVLDZFQUE2RTtBQUNySSxvQkFBb0IsdURBQUksQ0FBQywyQ0FBVSxJQUFJLDZEQUE2RDtBQUNwRyxTQUFTLEdBQUc7QUFDWjtBQUNBOztBQUVBLCtCQUErQixvREFBYTtBQUM1Qyx3Q0FBd0MsaURBQVU7O0FBRWxELCtCQUErQixnRUFBZ0U7QUFDL0YsWUFBWSxnQ0FBZ0Msd0JBQXdCLGFBQWEsRUFBRSwr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QUFRO0FBQ3BDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxlQUFlLHNCQUFzQixzREFBRyxxQkFBcUIsZ0JBQWdCLEdBQUc7QUFDL0Y7O0FBRUE7QUFDQSxtRUFBVTtBQUNWLFVBQVUsOERBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFK3VEO0FBQ2h2RCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcz9hNWU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc0F1ZGlvLCBoYXNTY3JlZW5TaGFyZUF1ZGlvLCBDYWxsaW5nU3RhdGUsIGhhc1ZpZGVvLCBoYXNTY3JlZW5TaGFyZSwgT3duQ2FwYWJpbGl0eSwgQnJvd3NlcnMsIFZpc2liaWxpdHlTdGF0ZSwgZ2V0TG9nZ2VyLCBkaXNwb3NlT2ZNZWRpYVN0cmVhbSwgaXNQaW5uZWQsIG5hbWUsIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSwgU2Z1TW9kZWxzLCBwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0LCBjb21iaW5lQ29tcGFyYXRvcnMsIHNjcmVlblNoYXJpbmcsIHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0LCBDYWxsVHlwZXMsIGRlZmF1bHRTb3J0UHJlc2V0LCBzZXRTZGtJbmZvIH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnQHN0cmVhbS1pby92aWRlby1jbGllbnQnO1xuaW1wb3J0IHsgdXNlQ2FsbCwgdXNlQ2FsbFN0YXRlSG9va3MsIHVzZUkxOG4sIFJlc3RyaWN0ZWQsIHVzZUNvbm5lY3RlZFVzZXIsIFN0cmVhbUNhbGxQcm92aWRlciwgU3RyZWFtVmlkZW9Qcm92aWRlciwgdXNlU3RyZWFtVmlkZW9DbGllbnQgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzJztcbmV4cG9ydCAqIGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIEZyYWdtZW50IGFzIEZyYWdtZW50JDEsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZU1lbW8sIGlzVmFsaWRFbGVtZW50LCBmb3J3YXJkUmVmLCB1c2VMYXlvdXRFZmZlY3QsIGxhenksIFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRmxvYXRpbmcsIG9mZnNldCwgc2hpZnQsIGZsaXAsIHNpemUsIGF1dG9VcGRhdGUsIEZsb2F0aW5nT3ZlcmxheSwgRmxvYXRpbmdQb3J0YWwsIGFycm93LCBGbG9hdGluZ0Fycm93LCB1c2VMaXN0SXRlbSwgdXNlTGlzdE5hdmlnYXRpb24sIHVzZVR5cGVhaGVhZCwgdXNlQ2xpY2ssIHVzZURpc21pc3MsIHVzZVJvbGUsIHVzZUludGVyYWN0aW9ucywgRmxvYXRpbmdGb2N1c01hbmFnZXIsIEZsb2F0aW5nTGlzdCwgdXNlSG92ZXIgfSBmcm9tICdAZmxvYXRpbmctdWkvcmVhY3QnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybVN1cHBvcnRlZCwgbG9hZFRGTGl0ZSwgY3JlYXRlUmVuZGVyZXIgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViJztcblxuY29uc3QgQXVkaW8gPSAoeyBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IFthdWRpb0VsZW1lbnQsIHNldEF1ZGlvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB7IHVzZXJJZCwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWF1ZGlvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuYmluZEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXA/LigpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBzZXNzaW9uSWQsIGF1ZGlvRWxlbWVudCwgdHJhY2tUeXBlXSk7XG4gICAgcmV0dXJuIChqc3goXCJhdWRpb1wiLCB7IGF1dG9QbGF5OiB0cnVlLCAuLi5yZXN0LCByZWY6IHNldEF1ZGlvRWxlbWVudCwgXCJkYXRhLXVzZXItaWRcIjogdXNlcklkLCBcImRhdGEtc2Vzc2lvbi1pZFwiOiBzZXNzaW9uSWQsIFwiZGF0YS10cmFjay10eXBlXCI6IHRyYWNrVHlwZSB9KSk7XG59O1xuQXVkaW8uZGlzcGxheU5hbWUgPSAnQXVkaW8nO1xuXG5jb25zdCBQYXJ0aWNpcGFudHNBdWRpbyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBhdWRpb1Byb3BzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IGF1ZGlvU3RyZWFtLCBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgICAgICAgICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2tFbGVtZW50ID0gaGFzQXVkaW9UcmFjayAmJiBhdWRpb1N0cmVhbSAmJiAoanN4KEF1ZGlvLCB7IC4uLmF1ZGlvUHJvcHMsIHRyYWNrVHlwZTogXCJhdWRpb1RyYWNrXCIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSk7XG4gICAgICAgICAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblNoYXJlQXVkaW9UcmFja0VsZW1lbnQgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgJiZcbiAgICAgICAgICAgICAgICBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtICYmIChqc3goQXVkaW8sIHsgLi4uYXVkaW9Qcm9wcywgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50JDEsIHsgY2hpbGRyZW46IFthdWRpb1RyYWNrRWxlbWVudCwgc2NyZWVuU2hhcmVBdWRpb1RyYWNrRWxlbWVudF0gfSwgc2Vzc2lvbklkKSk7XG4gICAgICAgIH0pIH0pKTtcbn07XG5QYXJ0aWNpcGFudHNBdWRpby5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudHNBdWRpbyc7XG5cbmNvbnN0IFBhcnRpY2lwYW50Vmlld0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG5jb25zdCB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0ID0gKCkgPT4gdXNlQ29udGV4dChQYXJ0aWNpcGFudFZpZXdDb250ZXh0KTtcblxuY29uc3QgdXNlRmxvYXRpbmdVSVByZXNldCA9ICh7IG1pZGRsZXdhcmUgPSBbXSwgcGxhY2VtZW50LCBzdHJhdGVneSwgb2Zmc2V0OiBvZmZzZXRJblB4ID0gMTAsIH0pID0+IHtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHVwZGF0ZSwgZWxlbWVudHM6IHsgZG9tUmVmZXJlbmNlLCBmbG9hdGluZyB9LCBjb250ZXh0LCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgICAgICBvZmZzZXQob2Zmc2V0SW5QeCksXG4gICAgICAgICAgICBzaGlmdCgpLFxuICAgICAgICAgICAgZmxpcCgpLFxuICAgICAgICAgICAgc2l6ZSh7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgYXBwbHk6ICh7IGF2YWlsYWJsZUhlaWdodCwgZWxlbWVudHMgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnRzLmZsb2F0aW5nLnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IGAke2F2YWlsYWJsZUhlaWdodH1weGAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC4uLm1pZGRsZXdhcmUsXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgLy8gaGFuZGxlIHdpbmRvdyByZXNpemluZ1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZG9tUmVmZXJlbmNlIHx8ICFmbG9hdGluZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGF1dG9VcGRhdGUoZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlXSk7XG4gICAgcmV0dXJuIHsgcmVmcywgeCwgeSwgZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgc3RyYXRlZ3ksIGNvbnRleHQgfTtcbn07XG5cbmNvbnN0IGRlZmF1bHREZXZpY2UgPSAnZGVmYXVsdCc7XG4vKipcbiAqIFRoaXMgaG9vayB3aWxsIHBlcnNpc3QgdGhlIGRldmljZSBzZXR0aW5ncyB0byBsb2NhbCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UuXG4gKi9cbmNvbnN0IHVzZVBlcnNpc3REZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkpID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSwgdXNlQ2FtZXJhU3RhdGUsIHVzZVNwZWFrZXJTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IG1pYyA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIGNvbnN0IGNhbWVyYSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3Qgc3BlYWtlciA9IHVzZVNwZWFrZXJTdGF0ZSgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0ge1xuICAgICAgICAgICAgICAgIG1pYzoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERldmljZUlkOiBtaWMuc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICAgICAgICAgICAgICAgICAgbXV0ZWQ6IG1pYy5pc011dGUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjYW1lcmE6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJZDogY2FtZXJhLnNlbGVjdGVkRGV2aWNlIHx8IGRlZmF1bHREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkOiBjYW1lcmEuaXNNdXRlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3BlYWtlcjoge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZERldmljZUlkOiBzcGVha2VyLnNlbGVjdGVkRGV2aWNlIHx8IGRlZmF1bHREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIG11dGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHByZWZlcmVuY2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBkZXZpY2UgcHJlZmVyZW5jZXMnLCBlcnIpO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBjYWxsLFxuICAgICAgICBjYW1lcmEuaXNNdXRlLFxuICAgICAgICBjYW1lcmEuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljLmlzTXV0ZSxcbiAgICAgICAgbWljLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBzcGVha2VyLnNlbGVjdGVkRGV2aWNlLFxuICAgIF0pO1xufTtcbi8qKlxuICogVGhpcyBob29rIHdpbGwgYXBwbHkgdGhlIGRldmljZSBzZXR0aW5ncyBmcm9tIGxvY2FsIHN0b3JhZ2UuXG4gKlxuICogQHBhcmFtIGtleSB0aGUga2V5IHRvIHVzZSBmb3IgbG9jYWwgc3RvcmFnZS5cbiAqL1xuY29uc3QgdXNlQXBwbHlEZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgYXBwbHkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbml0TWljID0gYXN5bmMgKHNldHRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsLm1pY3JvcGhvbmUuc2VsZWN0KHBhcnNlRGV2aWNlSWQoc2V0dGluZy5zZWxlY3RlZERldmljZUlkKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcubXV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGwubWljcm9waG9uZS5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgaW5pdENhbWVyYSA9IGFzeW5jIChzZXR0aW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuc2VsZWN0KHBhcnNlRGV2aWNlSWQoc2V0dGluZy5zZWxlY3RlZERldmljZUlkKSk7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcubXV0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbC5jYW1lcmEuZW5hYmxlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGluaXRTcGVha2VyID0gKHNldHRpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsLnNwZWFrZXIuc2VsZWN0KHBhcnNlRGV2aWNlSWQoc2V0dGluZy5zZWxlY3RlZERldmljZUlkKSA/PyAnJyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbGV0IHByZWZlcmVuY2VzID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGRldmljZSBwcmVmZXJlbmNlcycsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlZmVyZW5jZXMpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBpbml0TWljKHByZWZlcmVuY2VzLm1pYyk7XG4gICAgICAgICAgICAgICAgYXdhaXQgaW5pdENhbWVyYShwcmVmZXJlbmNlcy5jYW1lcmEpO1xuICAgICAgICAgICAgICAgIGluaXRTcGVha2VyKHByZWZlcmVuY2VzLnNwZWFrZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhcHBseSgpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGFwcGx5IGRldmljZSBwcmVmZXJlbmNlcycsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjYWxsLCBrZXldKTtcbn07XG4vKipcbiAqIFRoaXMgaG9vayB3aWxsIGFwcGx5IGFuZCBwZXJzaXN0IHRoZSBkZXZpY2UgcHJlZmVyZW5jZXMgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UuXG4gKi9cbmNvbnN0IHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzID0gKGtleSA9ICdAc3RyZWFtLWlvL2RldmljZS1wcmVmZXJlbmNlcycpID0+IHtcbiAgICB1c2VBcHBseURldmljZVByZWZlcmVuY2VzKGtleSk7XG4gICAgdXNlUGVyc2lzdERldmljZVByZWZlcmVuY2VzKGtleSk7XG59O1xuY29uc3QgcGFyc2VEZXZpY2VJZCA9IChkZXZpY2VJZCkgPT4gZGV2aWNlSWQgIT09IGRlZmF1bHREZXZpY2UgPyBkZXZpY2VJZCA6IHVuZGVmaW5lZDtcblxuY29uc3QgU0NST0xMX1RIUkVTSE9MRCA9IDEwO1xuLyoqXG4gKiBIb29rIHdoaWNoIG9ic2VydmVzIGVsZW1lbnQncyBzY3JvbGwgcG9zaXRpb24gYW5kIHJldHVybnMgdGV4dCB2YWx1ZSBiYXNlZCBvbiB0aGVcbiAqIHBvc2l0aW9uIG9mIHRoZSBzY3JvbGxiYXIgKGB0b3BgLCBgYm90dG9tYCwgYGJldHdlZW5gIGFuZCBgbnVsbGAgaWYgbm8gc2Nyb2xsYmFyIGlzIGF2YWlsYWJsZSlcbiAqL1xuY29uc3QgdXNlVmVydGljYWxTY3JvbGxQb3NpdGlvbiA9IChzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGQgPSBTQ1JPTExfVEhSRVNIT0xEKSA9PiB7XG4gICAgY29uc3QgW3Njcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNjcm9sbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc1ZlcnRpY2FsU2Nyb2xsYmFyID0gZWxlbWVudC5zY3JvbGxIZWlnaHQgPiBlbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIGlmICghaGFzVmVydGljYWxTY3JvbGxiYXIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKG51bGwpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZVRvcCA9IGVsZW1lbnQuc2Nyb2xsVG9wIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlVG9wKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbigndG9wJyk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlQm90dG9tID0gTWF0aC5hYnMoZWxlbWVudC5zY3JvbGxIZWlnaHQgLSBlbGVtZW50LnNjcm9sbFRvcCAtIGVsZW1lbnQuY2xpZW50SGVpZ2h0KSA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZUJvdHRvbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ2JvdHRvbScpO1xuICAgICAgICAgICAgc2V0U2Nyb2xsUG9zaXRpb24oJ2JldHdlZW4nKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJlc2l6ZU9ic2VydmVyLm9ic2VydmUoc2Nyb2xsRWxlbWVudCk7XG4gICAgICAgIHNjcm9sbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBzY3JvbGxFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICAgICAgcmVzaXplT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9O1xuICAgIH0sIFtzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGRdKTtcbiAgICByZXR1cm4gc2Nyb2xsUG9zaXRpb247XG59O1xuY29uc3QgdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uID0gKHNjcm9sbEVsZW1lbnQsIHRocmVzaG9sZCA9IFNDUk9MTF9USFJFU0hPTEQpID0+IHtcbiAgICBjb25zdCBbc2Nyb2xsUG9zaXRpb24sIHNldFNjcm9sbFBvc2l0aW9uXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghc2Nyb2xsRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY3JvbGxFbGVtZW50O1xuICAgICAgICAgICAgY29uc3QgaGFzSG9yaXpvbnRhbFNjcm9sbGJhciA9IGVsZW1lbnQuc2Nyb2xsV2lkdGggPiBlbGVtZW50LmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgaWYgKCFoYXNIb3Jpem9udGFsU2Nyb2xsYmFyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVTdGFydCA9IGVsZW1lbnQuc2Nyb2xsTGVmdCA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZVN0YXJ0KVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignc3RhcnQnKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVFbmQgPSBNYXRoLmFicyhlbGVtZW50LnNjcm9sbFdpZHRoIC0gZWxlbWVudC5zY3JvbGxMZWZ0IC0gZWxlbWVudC5jbGllbnRXaWR0aCkgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVFbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdlbmQnKTtcbiAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKCdiZXR3ZWVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkXSk7XG4gICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uO1xufTtcblxuY29uc3QgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlSXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzID0gdXNlSXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcygpO1xuICAgIGNvbnN0IFtpc0F3YWl0aW5nUmVzcG9uc2UsIHNldElzQXdhaXRpbmdSZXNwb25zZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgLy8gVE9ETzogYWRkIHBlcm1pc3Npb25zXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gd2Ugd2FpdCB1bnRpbCBjYWxsLnJlY29yZGluZ19zdGFydGVkL3N0b3BwZWQgZXZlbnQgdG8gZmxpcHMgdGhlXG4gICAgICAgIC8vIGBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzYCBzdGF0ZSB2YXJpYWJsZS5cbiAgICAgICAgLy8gT25jZSB0aGUgZmxpcCBoYXBwZW5zLCB3ZSByZW1vdmUgdGhlIGxvYWRpbmcgaW5kaWNhdG9yXG4gICAgICAgIHNldElzQXdhaXRpbmdSZXNwb25zZSgoaXNBd2FpdGluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQXdhaXRpbmcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIGlzQXdhaXRpbmc7XG4gICAgICAgIH0pO1xuICAgIH0sIFtpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzXSk7XG4gICAgY29uc3QgdG9nZ2xlQ2FsbFJlY29yZGluZyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldElzQXdhaXRpbmdSZXNwb25zZSh0cnVlKTtcbiAgICAgICAgICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbD8uc3RvcFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FsbD8uc3RhcnRSZWNvcmRpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHN0YXJ0IHJlY29yZGluZ2AsIGUpO1xuICAgICAgICB9XG4gICAgfSwgW2NhbGwsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICByZXR1cm4geyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfTtcbn07XG5cbmNvbnN0IHVzZVJlcXVlc3RQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHVzZUhhc1Blcm1pc3Npb25zKHBlcm1pc3Npb24pO1xuICAgIGNvbnN0IFtpc0F3YWl0aW5nUGVybWlzc2lvbiwgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb25dID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUT0RPOiBsb2FkIHdpdGggcG9zc2libHkgcGVuZGluZyBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4gc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbilcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXF1ZXN0UGVybWlzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgY2FuUmVxdWVzdFBlcm1pc3Npb24gPSAhIWNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KHBlcm1pc3Npb24pO1xuICAgICAgICBpZiAoaXNBd2FpdGluZ1Blcm1pc3Npb24gfHwgIWNhblJlcXVlc3RQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbih0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGw/LnJlcXVlc3RQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZXF1ZXN0UGVybWlzc2lvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sIFtjYWxsLCBoYXNQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiwgcGVybWlzc2lvbl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uLFxuICAgICAgICBoYXNQZXJtaXNzaW9uLFxuICAgICAgICBjYW5SZXF1ZXN0UGVybWlzc2lvbjogISFjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uKSxcbiAgICAgICAgaXNBd2FpdGluZ1Blcm1pc3Npb24sXG4gICAgfTtcbn07XG5cbnZhciBNZW51VmlzdWFsVHlwZTtcbihmdW5jdGlvbiAoTWVudVZpc3VhbFR5cGUpIHtcbiAgICBNZW51VmlzdWFsVHlwZVtcIlBPUlRBTFwiXSA9IFwicG9ydGFsXCI7XG4gICAgTWVudVZpc3VhbFR5cGVbXCJNRU5VXCJdID0gXCJtZW51XCI7XG59KShNZW51VmlzdWFsVHlwZSB8fCAoTWVudVZpc3VhbFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBVc2VkIHRvIHByb3ZpZGUgdXRpbGl0eSBBUElzIHRvIHRoZSBjb21wb25lbnRzIHJlbmRlcmVkIGluc2lkZSB0aGUgcG9ydGFsLlxuICovXG5jb25zdCBNZW51Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuLyoqXG4gKiBBY2Nlc3MgdG8gdGhlIGNsb3NlcyBNZW51Q29udGV4dC5cbiAqL1xuY29uc3QgdXNlTWVudUNvbnRleHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoTWVudUNvbnRleHQpO1xufTtcbmNvbnN0IE1lbnVQb3J0YWwgPSAoeyBjaGlsZHJlbiwgcmVmcywgfSkgPT4ge1xuICAgIGNvbnN0IHBvcnRhbElkID0gdXNlTWVtbygoKSA9PiBgc3RyLXZpZGVvLXBvcnRhbC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgaWQ6IHBvcnRhbElkLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wb3J0YWxcIiB9KSwganN4KEZsb2F0aW5nT3ZlcmxheSwgeyBjaGlsZHJlbjoganN4KEZsb2F0aW5nUG9ydGFsLCB7IGlkOiBwb3J0YWxJZCwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BvcnRhbC1jb250ZW50XCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgTWVudVRvZ2dsZSA9ICh7IFRvZ2dsZUJ1dHRvbiwgcGxhY2VtZW50ID0gJ3RvcC1zdGFydCcsIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJywgb2Zmc2V0LCB2aXN1YWxUeXBlID0gTWVudVZpc3VhbFR5cGUuTUVOVSwgY2hpbGRyZW4sIG9uVG9nZ2xlLCB9KSA9PiB7XG4gICAgY29uc3QgW21lbnVTaG93biwgc2V0TWVudVNob3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0b2dnbGVIYW5kbGVyID0gdXNlUmVmKG9uVG9nZ2xlKTtcbiAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQgPSBvblRvZ2dsZTtcbiAgICBjb25zdCB7IGZsb2F0aW5nLCBkb21SZWZlcmVuY2UsIHJlZnMsIHgsIHkgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBvZmZzZXQsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghZmxvYXRpbmcgJiYgZG9tUmVmZXJlbmNlPy5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgc2V0TWVudVNob3duKHRydWUpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmxvYXRpbmcgJiYgIWZsb2F0aW5nPy5jb250YWlucyhldmVudC50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgc2V0TWVudVNob3duKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/LihmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5rZXkgJiYgLy8ga2V5IGNhbiBiZSB1bmRlZmluZWQgaW4gc29tZSBicm93c2Vyc1xuICAgICAgICAgICAgICAgIGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpID09PSAnZXNjYXBlJyAmJlxuICAgICAgICAgICAgICAgICFldmVudC5hbHRLZXkgJiZcbiAgICAgICAgICAgICAgICAhZXZlbnQuY3RybEtleSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljaywgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgICAgICBkb2N1bWVudD8uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGhhbmRsZUtleURvd24pO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIH07XG4gICAgfSwgW2Zsb2F0aW5nLCBkb21SZWZlcmVuY2VdKTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFttZW51U2hvd24gJiYgKGpzeChNZW51Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjbG9zZTogKCkgPT4gc2V0TWVudVNob3duKGZhbHNlKSB9LCBjaGlsZHJlbjogdmlzdWFsVHlwZSA9PT0gTWVudVZpc3VhbFR5cGUuUE9SVEFMID8gKGpzeChNZW51UG9ydGFsLCB7IHJlZnM6IHJlZnMsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkgOiB2aXN1YWxUeXBlID09PSBNZW51VmlzdWFsVHlwZS5NRU5VID8gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbnUtY29udGFpbmVyXCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogeCA/PyAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIH0sIHJvbGU6IFwibWVudVwiLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpIDogbnVsbCB9KSksIGpzeChUb2dnbGVCdXR0b24sIHsgbWVudVNob3duOiBtZW51U2hvd24sIHJlZjogcmVmcy5zZXRSZWZlcmVuY2UgfSldIH0pKTtcbn07XG5cbmNvbnN0IEdlbmVyaWNNZW51ID0gKHsgY2hpbGRyZW4sIG9uSXRlbUNsaWNrLCB9KSA9PiB7XG4gICAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHJldHVybiAoanN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19nZW5lcmljLW1lbnVcIiwgcmVmOiByZWYsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICBpZiAob25JdGVtQ2xpY2sgJiZcbiAgICAgICAgICAgICAgICBlLnRhcmdldCAhPT0gcmVmLmN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICByZWYuY3VycmVudD8uY29udGFpbnMoZS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgb25JdGVtQ2xpY2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuY29uc3QgR2VuZXJpY01lbnVCdXR0b25JdGVtID0gKHsgY2hpbGRyZW4sIC4uLnJlc3QgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19nZW5lcmljLW1lbnUtLWl0ZW1cIiwgY2hpbGRyZW46IGpzeChcImJ1dHRvblwiLCB7IC4uLnJlc3QsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSk7XG59O1xuXG5jb25zdCBJY29uID0gKHsgY2xhc3NOYW1lLCBpY29uIH0pID0+IChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2ljb24nLCBpY29uICYmIGBzdHItdmlkZW9fX2ljb24tLSR7aWNvbn1gLCBjbGFzc05hbWUpIH0pKTtcblxuY29uc3QgUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCwgcGFydGljaXBhbnRWaWV3RWxlbWVudCwgdmlkZW9FbGVtZW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgW2Z1bGxzY3JlZW5Nb2RlT24sIHNldEZ1bGxzY3JlZW5Nb2RlT25dID0gdXNlU3RhdGUoISFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCk7XG4gICAgY29uc3QgW3BpY3R1cmVJblBpY3R1cmVFbGVtZW50LCBzZXRQaWN0dXJlSW5QaWN0dXJlRWxlbWVudF0gPSB1c2VTdGF0ZShkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHBpbiwgc2Vzc2lvbklkLCB1c2VySWQgfSA9IHBhcnRpY2lwYW50O1xuICAgIGNvbnN0IGhhc0F1ZGlvVHJhY2sgPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzVmlkZW9UcmFjayA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNTY3JlZW5TaGFyZVRyYWNrID0gaGFzU2NyZWVuU2hhcmUocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlQXVkaW9UcmFjayA9IGhhc1NjcmVlblNoYXJlQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGJsb2NrVXNlciA9ICgpID0+IGNhbGw/LmJsb2NrVXNlcih1c2VySWQpO1xuICAgIGNvbnN0IG11dGVBdWRpbyA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ2F1ZGlvJyk7XG4gICAgY29uc3QgbXV0ZVZpZGVvID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAndmlkZW8nKTtcbiAgICBjb25zdCBtdXRlU2NyZWVuU2hhcmUgPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdzY3JlZW5zaGFyZScpO1xuICAgIGNvbnN0IG11dGVTY3JlZW5TaGFyZUF1ZGlvID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnc2NyZWVuc2hhcmVfYXVkaW8nKTtcbiAgICBjb25zdCBncmFudFBlcm1pc3Npb24gPSAocGVybWlzc2lvbikgPT4gKCkgPT4ge1xuICAgICAgICBjYWxsPy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgZ3JhbnRfcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCByZXZva2VQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+ICgpID0+IHtcbiAgICAgICAgY2FsbD8udXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIHJldm9rZV9wZXJtaXNzaW9uczogW3Blcm1pc3Npb25dLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVBhcnRpY2lwYW50UGluID0gKCkgPT4ge1xuICAgICAgICBpZiAocGluKSB7XG4gICAgICAgICAgICBjYWxsPy51bnBpbihzZXNzaW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2FsbD8ucGluKHNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHBpbkZvckV2ZXJ5b25lID0gKCkgPT4ge1xuICAgICAgICBjYWxsXG4gICAgICAgICAgICA/LnBpbkZvckV2ZXJ5b25lKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcGluIHBhcnRpY2lwYW50ICR7dXNlcklkfWAsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdW5waW5Gb3JFdmVyeW9uZSA9ICgpID0+IHtcbiAgICAgICAgY2FsbFxuICAgICAgICAgICAgPy51bnBpbkZvckV2ZXJ5b25lKHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25JZCxcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdW5waW4gcGFydGljaXBhbnQgJHt1c2VySWR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVGdWxsc2NyZWVuTW9kZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFmdWxsc2NyZWVuTW9kZU9uKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydGljaXBhbnRWaWV3RWxlbWVudD8ucmVxdWVzdEZ1bGxzY3JlZW4oKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICB9O1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIC8vIGhhbmRsZXMgdGhlIGNhc2Ugd2hlbiBmdWxsc2NyZWVuIG1vZGUgaXMgdG9nZ2xlZCBleHRlcm5hbGx5LFxuICAgICAgICAvLyBlLmcuLCBieSBwcmVzc2luZyBFU0Mga2V5IG9yIHNvbWUgb3RoZXIga2V5Ym9hcmQgc2hvcnRjdXRcbiAgICAgICAgY29uc3QgaGFuZGxlRnVsbHNjcmVlbkNoYW5nZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW5Nb2RlT24oISFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBpUCA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldFBpY3R1cmVJblBpY3R1cmVFbGVtZW50KGRvY3VtZW50LnBpY3R1cmVJblBpY3R1cmVFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGVhdmVwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdmlkZW9FbGVtZW50XSk7XG4gICAgY29uc3QgdG9nZ2xlUGljdHVyZUluUGljdHVyZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKHZpZGVvRWxlbWVudCAmJiBwaWN0dXJlSW5QaWN0dXJlRWxlbWVudCAhPT0gdmlkZW9FbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdmlkZW9FbGVtZW50XG4gICAgICAgICAgICAgICAgLnJlcXVlc3RQaWN0dXJlSW5QaWN0dXJlKClcbiAgICAgICAgICAgICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmV4aXRQaWN0dXJlSW5QaWN0dXJlKCkuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gICAgfTtcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpIHx8IHt9O1xuICAgIHJldHVybiAoanN4cyhHZW5lcmljTWVudSwgeyBvbkl0ZW1DbGljazogY2xvc2UsIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlUGFydGljaXBhbnRQaW4sIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHBpbiA/IHQoJ1VucGluJykgOiB0KCdQaW4nKV0gfSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuUElOX0ZPUl9FVkVSWU9ORV0sIGNoaWxkcmVuOiBbanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiBwaW4gJiYgIXBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1BpbiBmb3IgZXZlcnlvbmUnKV0gfSksIGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHVucGluRm9yRXZlcnlvbmUsIGRpc2FibGVkOiAhcGluIHx8IHBpbi5pc0xvY2FsUGluLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwicGluXCIgfSksIHQoJ1VucGluIGZvciBldmVyeW9uZScpXSB9KV0gfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBibG9ja1VzZXIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJub3QtYWxsb3dlZFwiIH0pLCB0KCdCbG9jaycpXSB9KSB9KSwganN4cyhSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5NVVRFX1VTRVJTXSwgY2hpbGRyZW46IFtoYXNWaWRlb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlVmlkZW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjYW1lcmEtb2ZmLW91dGxpbmVcIiB9KSwgdCgnVHVybiBvZmYgdmlkZW8nKV0gfSkpLCBoYXNTY3JlZW5TaGFyZVRyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlU2NyZWVuU2hhcmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIHQoJ1R1cm4gb2ZmIHNjcmVlbiBzaGFyZScpXSB9KSksIGhhc0F1ZGlvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVBdWRpbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcIm5vLWF1ZGlvXCIgfSksIHQoJ011dGUgYXVkaW8nKV0gfSkpLCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgJiYgKGpzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IG11dGVTY3JlZW5TaGFyZUF1ZGlvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm8tYXVkaW9cIiB9KSwgdCgnTXV0ZSBzY3JlZW4gc2hhcmUgYXVkaW8nKV0gfSkpXSB9KSwgcGFydGljaXBhbnRWaWV3RWxlbWVudCAmJiAoanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB0b2dnbGVGdWxsc2NyZWVuTW9kZSwgY2hpbGRyZW46IHQoJ3t7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuJywge1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb246IGZ1bGxzY3JlZW5Nb2RlT24gPyB0KCdMZWF2ZScpIDogdCgnRW50ZXInKSxcbiAgICAgICAgICAgICAgICB9KSB9KSksIHZpZGVvRWxlbWVudCAmJiBkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRW5hYmxlZCAmJiAoanN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlLCBjaGlsZHJlbjogdCgne3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBwaWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0xlYXZlJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdCgnRW50ZXInKSxcbiAgICAgICAgICAgICAgICB9KSB9KSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuVVBEQVRFX0NBTExfUEVSTUlTU0lPTlNdLCBjaGlsZHJlbjogW2pzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyksIGNoaWxkcmVuOiB0KCdBbGxvdyBhdWRpbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pLCBjaGlsZHJlbjogdCgnQWxsb3cgdmlkZW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSksIGNoaWxkcmVuOiB0KCdBbGxvdyBzY3JlZW4gc2hhcmluZycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgYXVkaW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyksIGNoaWxkcmVuOiB0KCdEaXNhYmxlIHZpZGVvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgc2NyZWVuIHNoYXJpbmcnKSB9KV0gfSldIH0pKTtcbn07XG5cbmNvbnN0IGlzQ29tcG9uZW50VHlwZSA9IChlbGVtZW50T3JDb21wb25lbnQpID0+IHtcbiAgICByZXR1cm4gZWxlbWVudE9yQ29tcG9uZW50ID09PSBudWxsXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiAhaXNWYWxpZEVsZW1lbnQoZWxlbWVudE9yQ29tcG9uZW50KTtcbn07XG5cbmNvbnN0IGNodW5rID0gKGFycmF5LCBzaXplKSA9PiB7XG4gICAgY29uc3QgY2h1bmtDb3VudCA9IE1hdGguY2VpbChhcnJheS5sZW5ndGggLyBzaXplKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY2h1bmtDb3VudCB9LCAoXywgaW5kZXgpID0+IGFycmF5LnNsaWNlKHNpemUgKiBpbmRleCwgc2l6ZSAqIGluZGV4ICsgc2l6ZSkpO1xufTtcblxuY29uc3QgYXBwbHlFbGVtZW50VG9SZWYgPSAocmVmLCBlbGVtZW50KSA9PiB7XG4gICAgaWYgKCFyZWYpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHJlZihlbGVtZW50KTtcbiAgICByZWYuY3VycmVudCA9IGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBFeHRlbmRzIHZpZGVvIGVsZW1lbnQgd2l0aCBgc3RyZWFtYCBwcm9wZXJ0eVxuICogKGBzcmNPYmplY3RgKSB0byByZWFjdGl2ZWx5IGhhbmRsZSBzdHJlYW0gY2hhbmdlc1xuICovXG5jb25zdCBCYXNlVmlkZW8gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEJhc2VWaWRlbyh7IHN0cmVhbSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQgfHwgIXN0cmVhbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHN0cmVhbSA9PT0gdmlkZW9FbGVtZW50LnNyY09iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgaWYgKEJyb3dzZXJzLmlzU2FmYXJpKCkgfHwgQnJvd3NlcnMuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggYW5kIFNhZmFyaSBoYXZlIHNvbWUgdGltaW5nIGlzc3VlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcInZpZGVvXCIsIHsgYXV0b1BsYXk6IHRydWUsIHBsYXlzSW5saW5lOiB0cnVlLCAuLi5yZXN0LCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhcHBseUVsZW1lbnRUb1JlZihyZWYsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9IH0pKTtcbn0pO1xuXG5jb25zdCBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIoeyBwYXJ0aWNpcGFudCwgc3R5bGUgfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbmFtZSA9IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyXCIsIHN0eWxlOiBzdHlsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbKCFwYXJ0aWNpcGFudC5pbWFnZSB8fCBlcnJvcikgJiZcbiAgICAgICAgICAgICAgICAobmFtZSA/IChqc3goSW5pdGlhbHNGYWxsYmFjaywgeyBuYW1lOiBuYW1lIH0pKSA6IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9fbm8tdmlkZW8tbGFiZWxcIiwgY2hpbGRyZW46IHQoJ1ZpZGVvIGlzIGRpc2FibGVkJykgfSkpKSwgcGFydGljaXBhbnQuaW1hZ2UgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBcInZpZGVvLXBsYWNlaG9sZGVyXCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyX19hdmF0YXJcIiwgc3JjOiBwYXJ0aWNpcGFudC5pbWFnZSB9KSldIH0pKTtcbn0pO1xuY29uc3QgSW5pdGlhbHNGYWxsYmFjayA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5pdGlhbHMgPSBuYW1lXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5zbGljZSgwLCAyKVxuICAgICAgICAubWFwKChuKSA9PiBuWzBdKVxuICAgICAgICAuam9pbignJyk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9faW5pdGlhbHMtZmFsbGJhY2tcIiwgY2hpbGRyZW46IGluaXRpYWxzIH0pKTtcbn07XG5cbmNvbnN0IFZpZGVvJDEgPSAoeyBlbmFibGVkLCB0cmFja1R5cGUsIHBhcnRpY2lwYW50LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIgPSBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciwgcmVmcywgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQsIHZpZGVvU3RyZWFtLCBzY3JlZW5TaGFyZVN0cmVhbSwgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUsIGlzTG9jYWxQYXJ0aWNpcGFudCwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gc3RhcnQgd2l0aCB0cnVlLCB3aWxsIGZsaXAgb25jZSB0aGUgdmlkZW8gc3RhcnRzIHBsYXlpbmdcbiAgICBjb25zdCBbaXNWaWRlb1BhdXNlZCwgc2V0SXNWaWRlb1BhdXNlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbaXNXaWRlTW9kZSwgc2V0SXNXaWRlTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBzdHJlYW0gPSB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICA/IHZpZGVvU3RyZWFtXG4gICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgID8gc2NyZWVuU2hhcmVTdHJlYW1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhdmlkZW9FbGVtZW50IHx8IHRyYWNrVHlwZSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kVmlkZW9FbGVtZW50KHZpZGVvRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cD8uKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIHRyYWNrVHlwZSwgc2Vzc2lvbklkLCB2aWRlb0VsZW1lbnRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXN0cmVhbSB8fCAhdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICAgIGlmICghdHJhY2spXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBsYXlQYXVzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzVmlkZW9QYXVzZWQodmlkZW9FbGVtZW50LnBhdXNlZCk7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoID0gMCwgaGVpZ2h0ID0gMCB9ID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgIHNldElzV2lkZU1vZGUod2lkdGggPj0gaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGxheWJhY2sgbWF5IGhhdmUgc3RhcnRlZCBiZWZvcmUgd2UgaGFkIGEgY2hhbmNlIHRvXG4gICAgICAgIC8vIGF0dGFjaCB0aGUgJ3BsYXkvcGF1c2UnIGV2ZW50IGxpc3RlbmVyLCBzbyB3ZSBzZXQgdGhlIHN0YXRlXG4gICAgICAgIC8vIGhlcmUgdG8gbWFrZSBzdXJlIGl0J3MgaW4gc3luY1xuICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHZpZGVvRWxlbWVudC5wYXVzZWQpO1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSAncGF1c2UnIHN0YXRlIG9uY2Ugd2UgdW5tb3VudCB0aGUgdmlkZW8gZWxlbWVudFxuICAgICAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh0cnVlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGlzUHVibGlzaGluZ1RyYWNrID0gdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgPyBoYXNWaWRlbyhwYXJ0aWNpcGFudClcbiAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgPyBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgaXNJbnZpc2libGUgPSB0cmFja1R5cGUgPT09ICdub25lJyB8fFxuICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8uW3RyYWNrVHlwZV0gPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEU7XG4gICAgY29uc3QgaGFzTm9WaWRlb09ySW52aXNpYmxlID0gIWVuYWJsZWQgfHwgIWlzUHVibGlzaGluZ1RyYWNrIHx8IGlzSW52aXNpYmxlO1xuICAgIGNvbnN0IG1pcnJvclZpZGVvID0gaXNMb2NhbFBhcnRpY2lwYW50ICYmIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmVUcmFjayA9IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyFoYXNOb1ZpZGVvT3JJbnZpc2libGUgJiYgKGpzeChcInZpZGVvXCIsIHsgLi4ucmVzdCwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvJywgY2xhc3NOYW1lLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1ub3QtcGxheWluZyc6IGlzVmlkZW9QYXVzZWQsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS10YWxsJzogIWlzV2lkZU1vZGUsXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLS1taXJyb3InOiBtaXJyb3JWaWRlbyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLXNjcmVlbi1zaGFyZSc6IGlzU2NyZWVuU2hhcmVUcmFjayxcbiAgICAgICAgICAgICAgICB9KSwgXCJkYXRhLXVzZXItaWRcIjogdXNlcklkLCBcImRhdGEtc2Vzc2lvbi1pZFwiOiBzZXNzaW9uSWQsIHJlZjogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICByZWZzPy5zZXRWaWRlb0VsZW1lbnQ/LihlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9IH0pKSwgKGhhc05vVmlkZW9PckludmlzaWJsZSB8fCBpc1ZpZGVvUGF1c2VkKSAmJiBWaWRlb1BsYWNlaG9sZGVyICYmIChqc3goVmlkZW9QbGFjZWhvbGRlciwgeyBzdHlsZTogeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9LCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIHJlZjogcmVmcz8uc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSkpXSB9KSk7XG59O1xuVmlkZW8kMS5kaXNwbGF5TmFtZSA9ICdWaWRlbyc7XG5cbmNvbnN0IHVzZVRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSAoeyB0cmFja2VkRWxlbWVudCwgZHluYXNjYWxlTWFuYWdlcjogcHJvcHNEeW5hc2NhbGVNYW5hZ2VyLCBzZXNzaW9uSWQsIHRyYWNrVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbWFuYWdlciA9IHByb3BzRHluYXNjYWxlTWFuYWdlciA/PyBjYWxsPy5keW5hc2NhbGVNYW5hZ2VyO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdHJhY2tlZEVsZW1lbnQgfHwgIW1hbmFnZXIgfHwgIWNhbGwgfHwgdHJhY2tUeXBlID09PSAnbm9uZScpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVub2JzZXJ2ZSA9IG1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eSh0cmFja2VkRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3RyYWNrZWRFbGVtZW50LCBtYW5hZ2VyLCBjYWxsLCBzZXNzaW9uSWQsIHRyYWNrVHlwZV0pO1xufTtcblxuY29uc3QgQXZhdGFyID0gKHsgaW1hZ2VTcmMsIG5hbWUsIHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyghaW1hZ2VTcmMgfHwgZXJyb3IpICYmIG5hbWUgJiYgKGpzeChBdmF0YXJGYWxsYmFjaywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCBuYW1lczogW25hbWVdIH0pKSwgaW1hZ2VTcmMgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBcImF2YXRhclwiLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYXZhdGFyJywgY2xhc3NOYW1lKSwgc3JjOiBpbWFnZVNyYywgc3R5bGU6IHN0eWxlLCAuLi5yZXN0IH0pKV0gfSkpO1xufTtcbmNvbnN0IEF2YXRhckZhbGxiYWNrID0gKHsgY2xhc3NOYW1lLCBuYW1lcywgc3R5bGUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19hdmF0YXItLWluaXRpYWxzLWZhbGxiYWNrJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbbmFtZXNbMF1bMF0sIG5hbWVzWzFdPy5bMF1dIH0pIH0pKTtcbn07XG5cbi8qKlxuICogVGhlIGNvbnRleHQgZm9yIHRoZSBiYWNrZ3JvdW5kIGZpbHRlcnMuXG4gKi9cbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgYmFja2dyb3VuZCBmaWx0ZXJzIGNvbnRleHQgQVBJLlxuICovXG5jb25zdCB1c2VCYWNrZ3JvdW5kRmlsdGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUJhY2tncm91bmRGaWx0ZXJzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbi8qKlxuICogQSBwcm92aWRlciBjb21wb25lbnQgdGhhdCBlbmFibGVzIHRoZSB1c2Ugb2YgYmFja2dyb3VuZCBmaWx0ZXJzIGluIHlvdXIgYXBwLlxuICpcbiAqIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgdGhlIGBAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViYCBwYWNrYWdlIGluc3RhbGxlZFxuICogaW4geW91ciBwcm9qZWN0IGJlZm9yZSB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnNQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGJhY2tncm91bmRJbWFnZXMgPSBbXSwgYmFja2dyb3VuZEZpbHRlcjogYmdGaWx0ZXJGcm9tUHJvcHMgPSB1bmRlZmluZWQsIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgYmFja2dyb3VuZEJsdXJMZXZlbDogYmdCbHVyTGV2ZWxGcm9tUHJvcHMgPSAnaGlnaCcsIHRmRmlsZVBhdGgsIG1vZGVsRmlsZVBhdGgsIGJhc2VQYXRoLCBvbkVycm9yLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2JhY2tncm91bmRGaWx0ZXIsIHNldEJhY2tncm91bmRGaWx0ZXJdID0gdXNlU3RhdGUoYmdGaWx0ZXJGcm9tUHJvcHMpO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kSW1hZ2UsIHNldEJhY2tncm91bmRJbWFnZV0gPSB1c2VTdGF0ZShiZ0ltYWdlRnJvbVByb3BzKTtcbiAgICBjb25zdCBbYmFja2dyb3VuZEJsdXJMZXZlbCwgc2V0QmFja2dyb3VuZEJsdXJMZXZlbF0gPSB1c2VTdGF0ZShiZ0JsdXJMZXZlbEZyb21Qcm9wcyk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kSW1hZ2VGaWx0ZXIgPSB1c2VDYWxsYmFjaygoaW1hZ2VVcmwpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignaW1hZ2UnKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEltYWdlKGltYWdlVXJsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlciA9IHVzZUNhbGxiYWNrKChibHVyTGV2ZWwgPSAnaGlnaCcpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignYmx1cicpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKGJsdXJMZXZlbCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEJhY2tncm91bmRJbWFnZSh1bmRlZmluZWQpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKCdoaWdoJyk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZCwgc2V0SXNTdXBwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzUGxhdGZvcm1TdXBwb3J0ZWQoKS50aGVuKHNldElzU3VwcG9ydGVkKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgW3RmTGl0ZSwgc2V0VGZMaXRlXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIGxvYWQgVEZMaXRlIGlmIHRoZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWRURkxpdGUoeyBiYXNlUGF0aCwgbW9kZWxGaWxlUGF0aCwgdGZGaWxlUGF0aCB9KVxuICAgICAgICAgICAgLnRoZW4oc2V0VGZMaXRlKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFRGTGl0ZScsIGVycikpO1xuICAgIH0sIFtiYXNlUGF0aCwgaXNTdXBwb3J0ZWQsIG1vZGVsRmlsZVBhdGgsIHRmRmlsZVBhdGhdKTtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcikgPT4ge1xuICAgICAgICBnZXRMb2dnZXIoWydmaWx0ZXJzJ10pKCd3YXJuJywgJ0ZpbHRlciBlbmNvdW50ZXJlZCBhbiBlcnJvciBhbmQgd2lsbCBiZSBkaXNhYmxlZCcpO1xuICAgICAgICBkaXNhYmxlQmFja2dyb3VuZEZpbHRlcigpO1xuICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgIH0sIFtkaXNhYmxlQmFja2dyb3VuZEZpbHRlciwgb25FcnJvcl0pO1xuICAgIHJldHVybiAoanN4cyhCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgaXNSZWFkeTogISF0ZkxpdGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgIGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlcixcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZEltYWdlRmlsdGVyLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlcyxcbiAgICAgICAgICAgIHRmRmlsZVBhdGgsXG4gICAgICAgICAgICBtb2RlbEZpbGVQYXRoLFxuICAgICAgICAgICAgYmFzZVBhdGgsXG4gICAgICAgICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICAgICAgfSwgY2hpbGRyZW46IFtjaGlsZHJlbiwgdGZMaXRlICYmIGpzeChCYWNrZ3JvdW5kRmlsdGVycywgeyB0ZkxpdGU6IHRmTGl0ZSB9KV0gfSkpO1xufTtcbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGFydCB9ID0gdXNlUmVuZGVyZXIocHJvcHMudGZMaXRlKTtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIG9uRXJyb3IgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgaGFuZGxlRXJyb3JSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICBoYW5kbGVFcnJvclJlZi5jdXJyZW50ID0gb25FcnJvcjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWJhY2tncm91bmRGaWx0ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdW5yZWdpc3RlciB9ID0gY2FsbC5jYW1lcmEucmVnaXN0ZXJGaWx0ZXIoKG1zKSA9PiBzdGFydChtcywgKGVycm9yKSA9PiBoYW5kbGVFcnJvclJlZi5jdXJyZW50Py4oZXJyb3IpKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRGaWx0ZXIsIGNhbGwsIHN0YXJ0XSk7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xufTtcbmNvbnN0IHVzZVJlbmRlcmVyID0gKHRmTGl0ZSkgPT4ge1xuICAgIGNvbnN0IHsgYmFja2dyb3VuZEZpbHRlciwgYmFja2dyb3VuZEJsdXJMZXZlbCwgYmFja2dyb3VuZEltYWdlIH0gPSB1c2VCYWNrZ3JvdW5kRmlsdGVycygpO1xuICAgIGNvbnN0IHZpZGVvUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNhbnZhc1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBiZ0ltYWdlUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IFt2aWRlb1NpemUsIHNldFZpZGVvU2l6ZV0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHdpZHRoOiAxOTIwLFxuICAgICAgICBoZWlnaHQ6IDEwODAsXG4gICAgfSk7XG4gICAgY29uc3Qgc3RhcnQgPSB1c2VDYWxsYmFjaygobXMsIG9uRXJyb3IpID0+IHtcbiAgICAgICAgbGV0IG91dHB1dFN0cmVhbTtcbiAgICAgICAgbGV0IHJlbmRlcmVyO1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWJhY2tncm91bmRGaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyBmaWx0ZXIgc3BlY2lmaWVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHZpZGVvRWwgPSB2aWRlb1JlZi5jdXJyZW50O1xuICAgICAgICAgICAgY29uc3QgY2FudmFzRWwgPSBjYW52YXNSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGJnSW1hZ2VFbCA9IGJnSW1hZ2VSZWYuY3VycmVudDtcbiAgICAgICAgICAgIGlmICghdmlkZW9FbCB8fCAhY2FudmFzRWwgfHwgKGJhY2tncm91bmRJbWFnZSAmJiAhYmdJbWFnZUVsKSkge1xuICAgICAgICAgICAgICAgIC8vIFlvdSBzaG91bGQgc3RhcnQgcmVuZGVyZXIgaW4gZWZmZWN0IG9yIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignUmVuZGVyZXIgc3RhcnRlZCBiZWZvcmUgZWxlbWVudHMgYXJlIHJlYWR5JykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpZGVvRWwuc3JjT2JqZWN0ID0gbXM7XG4gICAgICAgICAgICB2aWRlb0VsLnBsYXkoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbdHJhY2tdID0gbXMuZ2V0VmlkZW9UcmFja3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ05vIHZpZGVvIHRyYWNrcyBpbiBpbnB1dCBtZWRpYSBzdHJlYW0nKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tTZXR0aW5ncyA9IHRyYWNrLmdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgZmx1c2hTeW5jKCgpID0+IHNldFZpZGVvU2l6ZSh7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0cmFja1NldHRpbmdzLndpZHRoID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdHJhY2tTZXR0aW5ncy5oZWlnaHQgPz8gMCxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIgPSBjcmVhdGVSZW5kZXJlcih0ZkxpdGUsIHZpZGVvRWwsIGNhbnZhc0VsLCB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRGaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRCbHVyTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUVsID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gPSBjYW52YXNFbC5jYXB0dXJlU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXRTdHJlYW0pO1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ0NvdWxkIG5vdCBwbGF5IHRoZSBzb3VyY2UgdmlkZW8gc3RyZWFtJykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICAgICAgc3RvcDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyPy5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgdmlkZW9SZWYuY3VycmVudCAmJiAodmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBudWxsKTtcbiAgICAgICAgICAgICAgICBvdXRwdXRTdHJlYW0gJiYgZGlzcG9zZU9mTWVkaWFTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgdGZMaXRlXSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc1wiLCBjaGlsZHJlbjogW2pzeChcInZpZGVvXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8nLCB2aWRlb1NpemUuaGVpZ2h0ID4gdmlkZW9TaXplLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8tLXRhbGwnKSwgcmVmOiB2aWRlb1JlZiwgcGxheXNJbmxpbmU6IHRydWUsIG11dGVkOiB0cnVlLCBjb250cm9sczogZmFsc2UsIC4uLnZpZGVvU2l6ZSB9KSwgYmFja2dyb3VuZEltYWdlICYmIChqc3goXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX2JhY2tncm91bmQtaW1hZ2VcIiwgYWx0OiBcIkJhY2tncm91bmRcIiwgcmVmOiBiZ0ltYWdlUmVmLCBzcmM6IGJhY2tncm91bmRJbWFnZSwgLi4udmlkZW9TaXplIH0pKSwganN4KFwiY2FudmFzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX190YXJnZXQtY2FudmFzXCIsIC4uLnZpZGVvU2l6ZSwgcmVmOiBjYW52YXNSZWYgfSldIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgfTtcbn07XG5cbmNvbnN0IEljb25CdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgaWNvbiwgZW5hYmxlZCwgdmFyaWFudCwgb25DbGljaywgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgIFtgc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLXZhcmlhbnQtJHt2YXJpYW50fWBdOiB2YXJpYW50LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1jb250cm9sc19fYnV0dG9uLS1lbmFibGVkJzogZW5hYmxlZCxcbiAgICAgICAgfSksIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBvbkNsaWNrPy4oZSk7XG4gICAgICAgIH0sIHJlZjogcmVmLCAuLi5yZXN0LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogaWNvbiB9KSB9KSk7XG59KTtcblxuY29uc3QgQ29tcG9zaXRlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBDb21wb3NpdGVCdXR0b24oeyBkaXNhYmxlZCwgY2FwdGlvbiwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgYWN0aXZlLCBNZW51LCBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0LCB0aXRsZSwgVG9nZ2xlTWVudUJ1dHRvbiA9IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uLCB2YXJpYW50LCBvbkNsaWNrLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RCdXR0b25Qcm9wcyB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbi0tY2FwdGlvbic6IGNhcHRpb24sXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1tZW51JzogTWVudSxcbiAgICAgICAgfSksIHRpdGxlOiB0aXRsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1wcmltYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUtc2Vjb25kYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s/LihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRpc2FibGVkOiBkaXNhYmxlZCwgLi4ucmVzdEJ1dHRvblByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSksIE1lbnUgJiYgKGpzeChNZW51VG9nZ2xlLCB7IG9mZnNldDogbWVudU9mZnNldCwgcGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBUb2dnbGVCdXR0b246IFRvZ2dsZU1lbnVCdXR0b24sIG9uVG9nZ2xlOiBvbk1lbnVUb2dnbGUsIGNoaWxkcmVuOiBpc0NvbXBvbmVudFR5cGUoTWVudSkgPyBqc3goTWVudSwge30pIDogTWVudSB9KSldIH0pLCBjYXB0aW9uICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19jYXB0aW9uXCIsIGNoaWxkcmVuOiBjYXB0aW9uIH0pKV0gfSkpO1xufSk7XG5jb25zdCBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFRvZ2dsZU1lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uLS1hY3RpdmUnOiBtZW51U2hvd24sXG4gICAgICAgIH0pLCBpY29uOiBtZW51U2hvd24gPyAnY2FyZXQtZG93bicgOiAnY2FyZXQtdXAnLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVGV4dEJ1dHRvbiA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IC4uLnJlc3QsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3RleHQtYnV0dG9uXCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBBY2NlcHRDYWxsQnV0dG9uID0gKHsgZGlzYWJsZWQsIG9uQWNjZXB0LCBvbkNsaWNrLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgICAgICAgICAgb25BY2NlcHQ/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uQWNjZXB0LCBjYWxsXSk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGljb246IFwiY2FsbC1hY2NlcHRcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJhY2NlcHQtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpc1Zpc2libGUsIG1lc3NhZ2UsIGNoaWxkcmVuLCB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGUsIHBsYWNlbWVudCA9ICd0b3AnLCBpY29uQ2xhc3NOYW1lID0gJ3N0ci12aWRlb19fbm90aWZpY2F0aW9uX19pY29uJywgY2xvc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzVmlzaWJsZSB8fCAhdmlzaWJpbGl0eVRpbWVvdXQgfHwgIXJlc2V0SXNWaXNpYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNldElzVmlzaWJsZSgpO1xuICAgICAgICB9LCB2aXNpYmlsaXR5VGltZW91dCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSwgW2lzVmlzaWJsZSwgcmVzZXRJc1Zpc2libGUsIHZpc2liaWxpdHlUaW1lb3V0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtpc1Zpc2libGUgJiYgKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25cIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbaWNvbkNsYXNzTmFtZSAmJiBqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm90aWZpY2F0aW9uX19tZXNzYWdlXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pLCBjbG9zZSA/IChqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLWNsb3NlIHN0ci12aWRlb19fbm90aWZpY2F0aW9uX19jbG9zZVwiLCBvbkNsaWNrOiBjbG9zZSB9KSkgOiBudWxsXSB9KSksIGNoaWxkcmVuXSB9KSk7XG59O1xuXG5jb25zdCBQZXJtaXNzaW9uTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9uLCBpc0F3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VBcHByb3ZlZCwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VSZXZva2VkLCB2aXNpYmlsaXR5VGltZW91dCA9IDM1MDAsIGNoaWxkcmVuLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdXNlSGFzUGVybWlzc2lvbnMocGVybWlzc2lvbik7XG4gICAgY29uc3QgcHJldkhhc1Blcm1pc3Npb24gPSB1c2VSZWYoaGFzUGVybWlzc2lvbik7XG4gICAgY29uc3QgW3Nob3dOb3RpZmljYXRpb24sIHNldFNob3dOb3RpZmljYXRpb25dID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbiAmJiAhcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbignZ3JhbnRlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWhhc1Blcm1pc3Npb24gJiYgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbigncmV2b2tlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXNldElzVmlzaWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNob3dOb3RpZmljYXRpb24odW5kZWZpbmVkKSwgW10pO1xuICAgIGlmIChpc0F3YWl0aW5nQXBwcm92YWwpIHtcbiAgICAgICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogaXNBd2FpdGluZ0FwcHJvdmFsICYmICFoYXNQZXJtaXNzaW9uLCBtZXNzYWdlOiBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogISFzaG93Tm90aWZpY2F0aW9uLCB2aXNpYmlsaXR5VGltZW91dDogdmlzaWJpbGl0eVRpbWVvdXQsIHJlc2V0SXNWaXNpYmxlOiByZXNldElzVmlzaWJsZSwgbWVzc2FnZTogc2hvd05vdGlmaWNhdGlvbiA9PT0gJ2dyYW50ZWQnID8gbWVzc2FnZUFwcHJvdmVkIDogbWVzc2FnZVJldm9rZWQsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgcGxhY2VtZW50LCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBpc1NwZWFraW5nV2hpbGVNdXRlZCB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLicpO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpc1Zpc2libGU6IGlzU3BlYWtpbmdXaGlsZU11dGVkLCBwbGFjZW1lbnQ6IHBsYWNlbWVudCB8fCAndG9wLXN0YXJ0JywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJlY29yZGluZ0luUHJvZ3Jlc3NOb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGNvbnN0IFtpc1Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0ID8/IHQoJ1JlY29yZGluZyBpbiBwcm9ncmVzcy4uLicpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpY29uQ2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLXJlY29yZGluZy1vblwiLCBpc1Zpc2libGU6IGlzVmlzaWJsZSwgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBjbG9zZTogKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gKHsgY2xhc3NOYW1lLCB0eXBlID0gJ3NwaW5uZXInLCB0ZXh0LCB0b29sdGlwLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yJywgY2xhc3NOYW1lKSwgdGl0bGU6IHRvb2x0aXAsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yX19pY29uJywgdHlwZSkgfSksIHRleHQgJiYganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yLXRleHRcIiwgY2hpbGRyZW46IHRleHQgfSldIH0pKTtcbn07XG5cbmNvbnN0IFRvb2x0aXAgPSAoeyBjaGlsZHJlbiwgcmVmZXJlbmNlRWxlbWVudCwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCA9ICd0b3AnLCB2aXNpYmxlID0gZmFsc2UsIH0pID0+IHtcbiAgICBjb25zdCBhcnJvd1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5LCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICAgICAgbWlkZGxld2FyZTogW2Fycm93KHsgZWxlbWVudDogYXJyb3dSZWYgfSldLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZnMuc2V0UmVmZXJlbmNlKHJlZmVyZW5jZUVsZW1lbnQpO1xuICAgIH0sIFtyZWZlcmVuY2VFbGVtZW50LCByZWZzXSk7XG4gICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdG9vbHRpcCcsIHRvb2x0aXBDbGFzc05hbWUpLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goRmxvYXRpbmdBcnJvdywgeyByZWY6IGFycm93UmVmLCBjb250ZXh0OiBjb250ZXh0LCBmaWxsOiBcInZhcigtLXN0ci12aWRlb19fdG9vbHRpcC0tYmFja2dyb3VuZC1jb2xvcilcIiB9KSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IHVzZUVudGVyTGVhdmVIYW5kbGVycyA9ICh7IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCB9ID0ge30pID0+IHtcbiAgICBjb25zdCBbdG9vbHRpcFZpc2libGUsIHNldFRvb2x0aXBWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUodHJ1ZSk7XG4gICAgICAgIG9uTW91c2VFbnRlcj8uKGUpO1xuICAgIH0sIFtvbk1vdXNlRW50ZXJdKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUoZmFsc2UpO1xuICAgICAgICBvbk1vdXNlTGVhdmU/LihlKTtcbiAgICB9LCBbb25Nb3VzZUxlYXZlXSk7XG4gICAgcmV0dXJuIHsgaGFuZGxlTW91c2VFbnRlciwgaGFuZGxlTW91c2VMZWF2ZSwgdG9vbHRpcFZpc2libGUgfTtcbn07XG5cbi8vIHRvZG86IGR1cGxpY2F0ZSBvZiBDYWxsUGFydGljaXBhbnRMaXN0LnRzeCNNZWRpYUluZGljYXRvciAtIHJlZmFjdG9yIHRvIGEgc2luZ2xlIGNvbXBvbmVudFxuY29uc3QgV2l0aFRvb2x0aXAgPSAoeyB0aXRsZSwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCwgdG9vbHRpcERpc2FibGVkLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgeyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9ID0gdXNlRW50ZXJMZWF2ZUhhbmRsZXJzKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBBbmNob3IsIHNldFRvb2x0aXBBbmNob3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSA9ICF0b29sdGlwRGlzYWJsZWQgJiYgQm9vbGVhbih0aXRsZSkgJiYgdG9vbHRpcFZpc2libGU7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFRvb2x0aXAsIHsgcmVmZXJlbmNlRWxlbWVudDogdG9vbHRpcEFuY2hvciwgdmlzaWJsZTogdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSwgdG9vbHRpcENsYXNzTmFtZTogdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudDogdG9vbHRpcFBsYWNlbWVudCwgY2hpbGRyZW46IHRpdGxlIHx8ICcnIH0pLCBqc3goXCJkaXZcIiwgeyByZWY6IHNldFRvb2x0aXBBbmNob3IsIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLCAuLi5wcm9wcyB9KV0gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkRW5kQ29uZmlybWF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgdG9nZ2xlQ2FsbFJlY29yZGluZywgaXNBd2FpdGluZ1Jlc3BvbnNlIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19jb25maXJtYXRpb25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJyZWNvcmRpbmctb25cIiB9KSwganN4KFwiaDJcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkaW5nXCIsIGNoaWxkcmVuOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCBlbmQgdGhlIHJlY29yZGluZz8nKSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2FjdGlvbnNcIiwgY2hpbGRyZW46IFtqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIG9uQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogdCgnQ2FuY2VsJykgfSksIGpzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyBqc3goTG9hZGluZ0luZGljYXRvciwge30pIDogdCgnRW5kIHJlY29yZGluZycpIH0pXSB9KV0gfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiAoanN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiB0cnVlLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IFwicmVjb3JkaW5nLXN0b3AtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSB9KSk7XG59KTtcbmNvbnN0IFJlY29yZENhbGxDb25maXJtYXRpb25CdXR0b24gPSAoeyBjYXB0aW9uLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBpZiAoaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBdLCBjaGlsZHJlbjoganN4KE1lbnVUb2dnbGUsIHsgVG9nZ2xlQnV0dG9uOiBUb2dnbGVFbmRSZWNvcmRpbmdNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5QT1JUQUwsIGNoaWxkcmVuOiBqc3goUmVjb3JkRW5kQ29uZmlybWF0aW9uLCB7fSkgfSkgfSkpO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9IGlzQXdhaXRpbmdSZXNwb25zZVxuICAgICAgICA/IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpXG4gICAgICAgIDogY2FwdGlvbiA/PyB0KCdSZWNvcmQgY2FsbCcpO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RBUlRfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgIF0sIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IHRpdGxlLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogXCJyZWNvcmRpbmctc3RhcnQtYnV0dG9uXCIsIG9uQ2xpY2s6IGlzQXdhaXRpbmdSZXNwb25zZSA/IHVuZGVmaW5lZCA6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyAoanN4KExvYWRpbmdJbmRpY2F0b3IsIHt9KSkgOiAoanN4KEljb24sIHsgaWNvbjogXCJyZWNvcmRpbmctb2ZmXCIgfSkpIH0pIH0pIH0pKTtcbn07XG5jb25zdCBSZWNvcmRDYWxsQnV0dG9uID0gKHsgY2FwdGlvbiB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBsZXQgdGl0bGUgPSBjYXB0aW9uID8/IHQoJ1JlY29yZCBjYWxsJyk7XG4gICAgaWYgKGlzQXdhaXRpbmdSZXNwb25zZSkge1xuICAgICAgICB0aXRsZSA9IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NcbiAgICAgICAgICAgID8gdCgnV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi4nKVxuICAgICAgICAgICAgOiB0KCdXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RhcnQuLi4nKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgXSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICA/ICdyZWNvcmRpbmctc3RvcC1idXR0b24nXG4gICAgICAgICAgICAgICAgOiAncmVjb3JkaW5nLXN0YXJ0LWJ1dHRvbicsIHRpdGxlOiB0aXRsZSwgb25DbGljazogaXNBd2FpdGluZ1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IChqc3goTG9hZGluZ0luZGljYXRvciwge30pKSA6IChqc3goSWNvbiwgeyBpY29uOiBpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzID8gJ3JlY29yZGluZy1vbicgOiAncmVjb3JkaW5nLW9mZicgfSkpIH0pIH0pKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwID0ge1xuICAgICc6bGlrZTonOiAn8J+RjScsXG4gICAgJzpyYWlzZS1oYW5kOic6ICfinIsnLFxuICAgICc6ZmlyZXdvcmtzOic6ICfwn46JJyxcbiAgICAnOmRpc2xpa2U6JzogJ/CfkY4nLFxuICAgICc6aGVhcnQ6JzogJ+KdpO+4jycsXG4gICAgJzpzbWlsZTonOiAn8J+YgCcsXG59O1xuY29uc3QgUmVhY3Rpb24gPSAoeyBwYXJ0aWNpcGFudDogeyByZWFjdGlvbiwgc2Vzc2lvbklkIH0sIGhpZGVBZnRlclRpbWVvdXRJbk1zID0gNTUwMCwgZW1vamlSZWFjdGlvbk1hcCA9IGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIXJlYWN0aW9uKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNhbGwucmVzZXRSZWFjdGlvbihzZXNzaW9uSWQpO1xuICAgICAgICB9LCBoaWRlQWZ0ZXJUaW1lb3V0SW5Ncyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgaGlkZUFmdGVyVGltZW91dEluTXMsIHJlYWN0aW9uLCBzZXNzaW9uSWRdKTtcbiAgICBpZiAoIXJlYWN0aW9uKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCB7IGVtb2ppX2NvZGU6IGVtb2ppQ29kZSB9ID0gcmVhY3Rpb247XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvblwiLCBjaGlsZHJlbjoganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9uX19lbW9qaVwiLCBjaGlsZHJlbjogZW1vamlDb2RlICYmIGVtb2ppUmVhY3Rpb25NYXBbZW1vamlDb2RlXSB9KSB9KSk7XG59O1xuXG5jb25zdCBkZWZhdWx0UmVhY3Rpb25zID0gW1xuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpsaWtlOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gT0w6IHVzZSBgcHJvbXB0YCB0eXBlP1xuICAgICAgICB0eXBlOiAncmFpc2VkLWhhbmQnLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOnJhaXNlLWhhbmQ6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpmaXJld29ya3M6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpkaXNsaWtlOicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIHR5cGU6ICdyZWFjdGlvbicsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6aGVhcnQ6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpzbWlsZTonLFxuICAgIH0sXG5dO1xuY29uc3QgUmVhY3Rpb25zQnV0dG9uID0gKHsgcmVhY3Rpb25zID0gZGVmYXVsdFJlYWN0aW9ucywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkNSRUFURV9SRUFDVElPTl0sIGNoaWxkcmVuOiBqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwidG9wXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbiwgdmlzdWFsVHlwZTogTWVudVZpc3VhbFR5cGUuTUVOVSwgY2hpbGRyZW46IGpzeChEZWZhdWx0UmVhY3Rpb25zTWVudSwgeyByZWFjdGlvbnM6IHJlYWN0aW9ucyB9KSB9KSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlUmVhY3Rpb25zTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdCgnUmVhY3Rpb25zJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiBtZW51U2hvd24sIHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJyZWFjdGlvbnNcIiB9KSB9KSB9KSk7XG59KTtcbmNvbnN0IERlZmF1bHRSZWFjdGlvbnNNZW51ID0gKHsgcmVhY3Rpb25zLCBsYXlvdXQgPSAnaG9yaXpvbnRhbCcsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgY2xvc2UgfSA9IHVzZU1lbnVDb250ZXh0KCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcmVhY3Rpb25zLW1lbnUnLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudS0taG9yaXpvbnRhbCc6IGxheW91dCA9PT0gJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fcmVhY3Rpb25zLW1lbnUtLXZlcnRpY2FsJzogbGF5b3V0ID09PSAndmVydGljYWwnLFxuICAgICAgICB9KSwgY2hpbGRyZW46IHJlYWN0aW9ucy5tYXAoKHJlYWN0aW9uKSA9PiAoanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25zLW1lbnVfX2J1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbD8uc2VuZFJlYWN0aW9uKHJlYWN0aW9uKTtcbiAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogcmVhY3Rpb24uZW1vamlfY29kZSAmJiBkZWZhdWx0RW1vamlSZWFjdGlvbk1hcFtyZWFjdGlvbi5lbW9qaV9jb2RlXSB9LCByZWFjdGlvbi5lbW9qaV9jb2RlKSkpIH0pKTtcbn07XG5cbi8qKlxuICogV3JhcHMgYW4gZXZlbnQgaGFuZGxlciwgc2lsZW5jaW5nIGFuZCBsb2dnaW5nIGV4Y2VwdGlvbnMgKGV4Y2x1ZGluZyB0aGUgTm90QWxsb3dlZEVycm9yXG4gKiBET01FeGNlcHRpb24sIHdoaWNoIGlzIGEgbm9ybWFsIHNpdHVhdGlvbiBoYW5kbGVkIGJ5IHRoZSBTREspXG4gKlxuICogQHBhcmFtIHByb3BzIGNvbXBvbmVudCBwcm9wcywgaW5jbHVkaW5nIHRoZSBvbkVycm9yIGNhbGxiYWNrXG4gKiBAcGFyYW0gaGFuZGxlciBldmVudCBoYW5kbGVyIHRvIHdyYXBcbiAqL1xuY29uc3QgY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyID0gKHByb3BzLCBoYW5kbGVyKSA9PiB7XG4gICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsncmVhY3Qtc2RrJ10pO1xuICAgIHJldHVybiBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAocHJvcHMub25FcnJvcikge1xuICAgICAgICAgICAgICAgIHByb3BzLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNOb3RBbGxvd2VkRXJyb3IoZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdDYWxsIGNvbnRyb2wgaGFuZGxlciBmYWlsZWQnLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmZ1bmN0aW9uIGlzTm90QWxsb3dlZEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uICYmIGVycm9yLm5hbWUgPT09ICdOb3RBbGxvd2VkRXJyb3InO1xufVxuXG5jb25zdCBTY3JlZW5TaGFyZUJ1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUsIHVzZVNjcmVlblNoYXJlU3RhdGUsIHVzZUNhbGxTZXR0aW5ncyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nID0gdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlKCk7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpO1xuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmluZ0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcuZW5hYmxlZDtcbiAgICBjb25zdCB7IHNjcmVlblNoYXJlLCBvcHRpbWlzdGljSXNNdXRlIH0gPSB1c2VTY3JlZW5TaGFyZVN0YXRlKCk7XG4gICAgY29uc3QgYW1JU2NyZWVuU2hhcmluZyA9ICFvcHRpbWlzdGljSXNNdXRlO1xuICAgIGNvbnN0IGRpc2FibGVTY3JlZW5TaGFyZUJ1dHRvbiA9ICFhbUlTY3JlZW5TaGFyaW5nICYmXG4gICAgICAgIChpc1NvbWVvbmVTY3JlZW5TaGFyaW5nIHx8IGlzU2NyZWVuU2hhcmluZ0FsbG93ZWQgPT09IGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBzY3JlZW5TaGFyZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUsIGlzQXdhaXRpbmdBcHByb3ZhbDogaXNBd2FpdGluZ1Blcm1pc3Npb24sIG1lc3NhZ2VBcHByb3ZlZDogdCgnWW91IGNhbiBub3cgc2hhcmUgeW91ciBzY3JlZW4uJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciBzY3JlZW4uJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6IGNhcHRpb24gPz8gdCgnU2hhcmUgc2NyZWVuJyksIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNTb21lb25lU2NyZWVuU2hhcmluZyB8fCBhbUlTY3JlZW5TaGFyaW5nLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInByaW1hcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICA/ICdzY3JlZW4tc2hhcmUtc3RvcC1idXR0b24nXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdzY3JlZW4tc2hhcmUtc3RhcnQtYnV0dG9uJywgZGlzYWJsZWQ6IGRpc2FibGVTY3JlZW5TaGFyZUJ1dHRvbiwgb25DbGljazogaGFuZGxlQ2xpY2ssIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nID8gJ3NjcmVlbi1zaGFyZS1vbicgOiAnc2NyZWVuLXNoYXJlLW9mZicgfSkgfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgU2VsZWN0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuY29uc3QgU2VsZWN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgaWNvbiwgZGVmYXVsdFNlbGVjdGVkTGFiZWwsIGRlZmF1bHRTZWxlY3RlZEluZGV4LCBoYW5kbGVTZWxlY3Q6IGhhbmRsZVNlbGVjdFByb3AsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFthY3RpdmVJbmRleCwgc2V0QWN0aXZlSW5kZXhdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3NlbGVjdGVkSW5kZXgsIHNldFNlbGVjdGVkSW5kZXhdID0gdXNlU3RhdGUoZGVmYXVsdFNlbGVjdGVkSW5kZXgpO1xuICAgIGNvbnN0IFtzZWxlY3RlZExhYmVsLCBzZXRTZWxlY3RlZExhYmVsXSA9IHVzZVN0YXRlKGRlZmF1bHRTZWxlY3RlZExhYmVsKTtcbiAgICBjb25zdCB7IHJlZnMsIGNvbnRleHQgfSA9IHVzZUZsb2F0aW5nKHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tLXN0YXJ0JyxcbiAgICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IHNldElzT3BlbixcbiAgICAgICAgd2hpbGVFbGVtZW50c01vdW50ZWQ6IGF1dG9VcGRhdGUsXG4gICAgICAgIG1pZGRsZXdhcmU6IFtmbGlwKCldLFxuICAgIH0pO1xuICAgIGNvbnN0IGVsZW1lbnRzUmVmID0gdXNlUmVmKFtdKTtcbiAgICBjb25zdCBsYWJlbHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbiAgICAgICAgaGFuZGxlU2VsZWN0UHJvcChpbmRleCB8fCAwKTtcbiAgICAgICAgc2V0SXNPcGVuKGZhbHNlKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZExhYmVsKGxhYmVsc1JlZi5jdXJyZW50W2luZGV4XSk7XG4gICAgICAgIH1cbiAgICB9LCBbaGFuZGxlU2VsZWN0UHJvcF0pO1xuICAgIGNvbnN0IGhhbmRsZVR5cGVhaGVhZE1hdGNoID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGlmIChpc09wZW4pIHtcbiAgICAgICAgICAgIHNldEFjdGl2ZUluZGV4KGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhhbmRsZVNlbGVjdChpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGxpc3ROYXYgPSB1c2VMaXN0TmF2aWdhdGlvbihjb250ZXh0LCB7XG4gICAgICAgIGxpc3RSZWY6IGVsZW1lbnRzUmVmLFxuICAgICAgICBhY3RpdmVJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgb25OYXZpZ2F0ZTogc2V0QWN0aXZlSW5kZXgsXG4gICAgfSk7XG4gICAgY29uc3QgdHlwZWFoZWFkID0gdXNlVHlwZWFoZWFkKGNvbnRleHQsIHtcbiAgICAgICAgbGlzdFJlZjogbGFiZWxzUmVmLFxuICAgICAgICBhY3RpdmVJbmRleCxcbiAgICAgICAgc2VsZWN0ZWRJbmRleCxcbiAgICAgICAgb25NYXRjaDogaGFuZGxlVHlwZWFoZWFkTWF0Y2gsXG4gICAgfSk7XG4gICAgY29uc3QgY2xpY2sgPSB1c2VDbGljayhjb250ZXh0KTtcbiAgICBjb25zdCBkaXNtaXNzID0gdXNlRGlzbWlzcyhjb250ZXh0KTtcbiAgICBjb25zdCByb2xlID0gdXNlUm9sZShjb250ZXh0LCB7IHJvbGU6ICdsaXN0Ym94JyB9KTtcbiAgICBjb25zdCB7IGdldFJlZmVyZW5jZVByb3BzLCBnZXRGbG9hdGluZ1Byb3BzLCBnZXRJdGVtUHJvcHMgfSA9IHVzZUludGVyYWN0aW9ucyhbbGlzdE5hdiwgdHlwZWFoZWFkLCBjbGljaywgZGlzbWlzcywgcm9sZV0pO1xuICAgIGNvbnN0IHNlbGVjdENvbnRleHQgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBnZXRJdGVtUHJvcHMsXG4gICAgICAgIGhhbmRsZVNlbGVjdCxcbiAgICB9KSwgW2FjdGl2ZUluZGV4LCBzZWxlY3RlZEluZGV4LCBnZXRJdGVtUHJvcHMsIGhhbmRsZVNlbGVjdF0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkXCIsIHJlZjogcmVmcy5zZXRSZWZlcmVuY2UsIHRhYkluZGV4OiAwLCAuLi5nZXRSZWZlcmVuY2VQcm9wcygpLCBjaGlsZHJlbjogW2pzeHMoXCJsYWJlbFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkX19sYWJlbFwiLCBjaGlsZHJlbjogW2ljb24gJiYgKGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLXNlbGVjdGVkX19pY29uXCIsIGljb246IGljb24gfSkpLCBzZWxlY3RlZExhYmVsXSB9KSwganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2NoZXZyb25cIiwgaWNvbjogaXNPcGVuID8gJ2NoZXZyb24tdXAnIDogJ2NoZXZyb24tZG93bicgfSldIH0pLCBqc3goU2VsZWN0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc2VsZWN0Q29udGV4dCwgY2hpbGRyZW46IGlzT3BlbiAmJiAoanN4KEZsb2F0aW5nRm9jdXNNYW5hZ2VyLCB7IGNvbnRleHQ6IGNvbnRleHQsIG1vZGFsOiBmYWxzZSwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWxpc3RcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCAuLi5nZXRGbG9hdGluZ1Byb3BzKCksIGNoaWxkcmVuOiBqc3goRmxvYXRpbmdMaXN0LCB7IGVsZW1lbnRzUmVmOiBlbGVtZW50c1JlZiwgbGFiZWxzUmVmOiBsYWJlbHNSZWYsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSB9KSkgfSldIH0pKTtcbn07XG5jb25zdCBEcm9wRG93blNlbGVjdE9wdGlvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgc2VsZWN0ZWQsIGxhYmVsLCBpY29uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGdldEl0ZW1Qcm9wcywgaGFuZGxlU2VsZWN0IH0gPSB1c2VDb250ZXh0KFNlbGVjdENvbnRleHQpO1xuICAgIGNvbnN0IHsgcmVmLCBpbmRleCB9ID0gdXNlTGlzdEl0ZW0oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZHJvcGRvd24tb3B0aW9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZHJvcGRvd24tb3B0aW9uLS1zZWxlY3RlZCc6IHNlbGVjdGVkLFxuICAgICAgICB9KSwgcmVmOiByZWYsIC4uLmdldEl0ZW1Qcm9wcyh7XG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBoYW5kbGVTZWxlY3QoaW5kZXgpLFxuICAgICAgICB9KSwgY2hpbGRyZW46IFtpY29uICYmIGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWljb25cIiwgaWNvbjogaWNvbiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2Ryb3Bkb3duLWxhYmVsXCIsIGNoaWxkcmVuOiBsYWJlbCB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgaWNvbiwgaGFuZGxlU2VsZWN0LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChTZWxlY3QsIHsgaWNvbjogaWNvbiwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGRlZmF1bHRTZWxlY3RlZEluZGV4OiBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgZGVmYXVsdFNlbGVjdGVkTGFiZWw6IGRlZmF1bHRTZWxlY3RlZExhYmVsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JPcHRpb24gPSAoeyBkaXNhYmxlZCwgaWQsIGxhYmVsLCBvbkNoYW5nZSwgbmFtZSwgc2VsZWN0ZWQsIGRlZmF1bHRDaGVja2VkLCB2YWx1ZSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbi0tZGlzYWJsZWQnOiBkaXNhYmxlZCxcbiAgICAgICAgfSksIGh0bWxGb3I6IGlkLCBjaGlsZHJlbjogW2pzeChcImlucHV0XCIsIHsgdHlwZTogXCJyYWRpb1wiLCBuYW1lOiBuYW1lLCBvbkNoYW5nZTogb25DaGFuZ2UsIHZhbHVlOiB2YWx1ZSwgaWQ6IGlkLCBjaGVja2VkOiBzZWxlY3RlZCwgZGVmYXVsdENoZWNrZWQ6IGRlZmF1bHRDaGVja2VkLCBkaXNhYmxlZDogZGlzYWJsZWQgfSksIGxhYmVsXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JMaXN0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzLCB0aXRsZSwgdHlwZSwgb25DaGFuZ2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIC8vIHNvbWV0aW1lcyB0aGUgYnJvd3NlciAoQ2hyb21lKSB3aWxsIHJlcG9ydCB0aGUgc3lzdGVtLWRlZmF1bHQgZGV2aWNlXG4gICAgLy8gd2l0aCBhbiBpZCBvZiAnZGVmYXVsdCcuIEluIGNhc2Ugd2hlbiBpdCBkb2Vzbid0LCB3ZSdsbCBzZWxlY3QgdGhlIGZpcnN0XG4gICAgLy8gYXZhaWxhYmxlIGRldmljZS5cbiAgICBsZXQgc2VsZWN0ZWREZXZpY2VJZCA9IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzO1xuICAgIGlmIChkZXZpY2VzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgIWRldmljZXMuZmluZCgoZCkgPT4gZC5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZCkpIHtcbiAgICAgICAgc2VsZWN0ZWREZXZpY2VJZCA9IGRldmljZXNbMF0uZGV2aWNlSWQ7XG4gICAgfVxuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLWtpbmRcIiwgY2hpbGRyZW46IFt0aXRsZSAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pKSwgIWRldmljZXMubGVuZ3RoID8gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLWRlZmF1bHRgLCBsYWJlbDogXCJEZWZhdWx0XCIsIG5hbWU6IHR5cGUsIGRlZmF1bHRDaGVja2VkOiB0cnVlLCB2YWx1ZTogXCJkZWZhdWx0XCIgfSkpIDogKGRldmljZXMubWFwKChkZXZpY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLSR7ZGV2aWNlLmRldmljZUlkfWAsIHZhbHVlOiBkZXZpY2UuZGV2aWNlSWQsIGxhYmVsOiBkZXZpY2UubGFiZWwsIG9uQ2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/LihlLnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG5hbWU6IHR5cGUsIHNlbGVjdGVkOiBkZXZpY2UuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQgfHwgZGV2aWNlcy5sZW5ndGggPT09IDEgfSwgZGV2aWNlLmRldmljZUlkKSk7XG4gICAgICAgICAgICB9KSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckRyb3Bkb3duID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXZpY2VzID0gW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlRnJvbVByb3BzLCB0aXRsZSwgb25DaGFuZ2UsIGljb24sIH0gPSBwcm9wcztcbiAgICAvLyBzb21ldGltZXMgdGhlIGJyb3dzZXIgKENocm9tZSkgd2lsbCByZXBvcnQgdGhlIHN5c3RlbS1kZWZhdWx0IGRldmljZVxuICAgIC8vIHdpdGggYW4gaWQgb2YgJ2RlZmF1bHQnLiBJbiBjYXNlIHdoZW4gaXQgZG9lc24ndCwgd2UnbGwgc2VsZWN0IHRoZSBmaXJzdFxuICAgIC8vIGF2YWlsYWJsZSBkZXZpY2UuXG4gICAgbGV0IHNlbGVjdGVkRGV2aWNlSWQgPSBzZWxlY3RlZERldmljZUZyb21Qcm9wcztcbiAgICBpZiAoZGV2aWNlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICFkZXZpY2VzLmZpbmQoKGQpID0+IGQuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQpKSB7XG4gICAgICAgIHNlbGVjdGVkRGV2aWNlSWQgPSBkZXZpY2VzWzBdLmRldmljZUlkO1xuICAgIH1cbiAgICBjb25zdCBzZWxlY3RlZEluZGV4ID0gZGV2aWNlcy5maW5kSW5kZXgoKGQpID0+IGQuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQpO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgICBvbkNoYW5nZT8uKGRldmljZXNbaW5kZXhdLmRldmljZUlkKTtcbiAgICB9LCBbZGV2aWNlcywgb25DaGFuZ2VdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1raW5kXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pLCBqc3goRHJvcERvd25TZWxlY3QsIHsgaWNvbjogaWNvbiwgZGVmYXVsdFNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIGRlZmF1bHRTZWxlY3RlZExhYmVsOiBkZXZpY2VzW3NlbGVjdGVkSW5kZXhdPy5sYWJlbCwgaGFuZGxlU2VsZWN0OiBoYW5kbGVTZWxlY3QsIGNoaWxkcmVuOiBkZXZpY2VzLm1hcCgoZGV2aWNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoanN4KERyb3BEb3duU2VsZWN0T3B0aW9uLCB7IGljb246IGljb24sIGxhYmVsOiBkZXZpY2UubGFiZWwsIHNlbGVjdGVkOiBkZXZpY2UuZGV2aWNlSWQgPT09IHNlbGVjdGVkRGV2aWNlSWQgfHwgZGV2aWNlcy5sZW5ndGggPT09IDEgfSwgZGV2aWNlLmRldmljZUlkKSk7XG4gICAgICAgICAgICAgICAgfSkgfSldIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdmlzdWFsVHlwZSA9ICdsaXN0JywgaWNvbiwgcGxhY2Vob2xkZXIsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIGlmICh2aXN1YWxUeXBlID09PSAnbGlzdCcpIHtcbiAgICAgICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3Rvckxpc3QsIHsgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3JEcm9wZG93biwgeyAuLi5yZXN0LCBpY29uOiBpY29uLCBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzIHx8IFtdLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgdHlwZTogXCJhdWRpb2lucHV0XCIsIG9uQ2hhbmdlOiBhc3luYyAoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IG1pY3JvcGhvbmUuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcIm1pY1wiIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0ID0gKHsgdGl0bGUsIHZpc3VhbFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVNwZWFrZXJTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IHNwZWFrZXIsIHNlbGVjdGVkRGV2aWNlLCBkZXZpY2VzLCBpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZCB9ID0gdXNlU3BlYWtlclN0YXRlKCk7XG4gICAgaWYgKCFpc0RldmljZVNlbGVjdGlvblN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcywgdHlwZTogXCJhdWRpb291dHB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgc3BlYWtlci5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwic3BlYWtlclwiIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNlbGVjdG9yVmlkZW8gPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBjYW1lcmEsIGRldmljZXMsIHNlbGVjdGVkRGV2aWNlIH0gPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMgfHwgW10sIHR5cGU6IFwidmlkZW9pbnB1dFwiLCBzZWxlY3RlZERldmljZUlkOiBzZWxlY3RlZERldmljZSwgb25DaGFuZ2U6IGFzeW5jIChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY2FtZXJhLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJjYW1lcmFcIiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZXR0aW5ncyA9ICh7IHZpc3VhbFR5cGUgPSBNZW51VmlzdWFsVHlwZS5NRU5VLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goTWVudVRvZ2dsZSwgeyBwbGFjZW1lbnQ6IFwiYm90dG9tLWVuZFwiLCBUb2dnbGVCdXR0b246IFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbiwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgY2hpbGRyZW46IGpzeChNZW51LCB7fSkgfSkpO1xufTtcbmNvbnN0IE1lbnUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzXCIsIGNoaWxkcmVuOiBbanN4KERldmljZVNlbGVjdG9yVmlkZW8sIHsgdGl0bGU6IHQoJ1NlbGVjdCBhIENhbWVyYScpIH0pLCBqc3goRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCB7IHRpdGxlOiB0KCdTZWxlY3QgYSBNaWMnKSB9KSwganN4KERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQsIHsgdGl0bGU6IHQoJ1NlbGVjdCBTcGVha2VycycpIH0pXSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19idXR0b24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2J1dHRvbi0tYWN0aXZlJzogbWVudVNob3duLFxuICAgICAgICB9KSwgdGl0bGU6IHQoJ1RvZ2dsZSBkZXZpY2UgbWVudScpLCBpY29uOiBcImRldmljZS1zZXR0aW5nc1wiLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVG9nZ2xlQXVkaW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gbWljcm9waG9uZS50b2dnbGUoKSk7XG4gICAgcmV0dXJuIChqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKVxuICAgICAgICAgICAgOiBjYXB0aW9uID8/IHQoJ01pYycpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgY2xhc3NOYW1lOiBjbHN4KCFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAnc3RyLXZpZGVvX19kZXZpY2UtdW5hdmFpbGFibGUnKSwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlXG4gICAgICAgICAgICAgICAgPyAncHJldmlldy1hdWRpby11bm11dGUtYnV0dG9uJ1xuICAgICAgICAgICAgICAgIDogJ3ByZXZpZXctYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiAhb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMnIDogJ21pYy1vZmYnIH0pLCAhaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdDaGVjayB5b3VyIGJyb3dzZXIgYXVkaW8gcGVybWlzc2lvbnMnKSwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdmlzdWFsVHlwZTogXCJsaXN0XCIgfSksIG1lbnVQbGFjZW1lbnQgPSAndG9wJywgb25NZW51VG9nZ2xlLCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiwgcmVxdWVzdFBlcm1pc3Npb24sIGlzQXdhaXRpbmdQZXJtaXNzaW9uIH0gPSB1c2VSZXF1ZXN0UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pO1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIGNvbnN0IFt0b29sdGlwRGlzYWJsZWQsIHNldFRvb2x0aXBEaXNhYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIocHJvcHMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7XG4gICAgICAgICAgICBhd2FpdCByZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfQVVESU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNwZWFrLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLicpLCBtZXNzYWdlUmV2b2tlZDogdCgnWW91IGNhbiBubyBsb25nZXIgc3BlYWsuJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIG1pYyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnTWljJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGUgPyAnYXVkaW8tdW5tdXRlLWJ1dHRvbicgOiAnYXVkaW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgbWVudU9mZnNldDogMTYsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdtaWMtb2ZmJyA6ICdtaWMnIH0pLCAoIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uKSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgY2hpbGRyZW46IFwiIVwiIH0pKV0gfSkgfSkgfSkgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JWaWRlbywgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgb3B0aW1pc3RpY0lzTXV0ZSwgaGFzQnJvd3NlclBlcm1pc3Npb24gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgKCkgPT4gY2FtZXJhLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IGNhcHRpb24gPz8gdCgnVmlkZW8nKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIGNsYXNzTmFtZTogY2xzeCghaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgJ3N0ci12aWRlb19fZGV2aWNlLXVuYXZhaWxhYmxlJyksIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZVxuICAgICAgICAgICAgICAgID8gJ3ByZXZpZXctdmlkZW8tdW5tdXRlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdwcmV2aWV3LXZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24sIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogIW9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhJyA6ICdjYW1lcmEtb2ZmJyB9KSwgIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCB0aXRsZTogdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJyksIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyk7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBjYWxsU2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWQgPSBjYWxsU2V0dGluZ3M/LnZpZGVvLmVuYWJsZWQ7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEudG9nZ2xlKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChQZXJtaXNzaW9uTm90aWZpY2F0aW9uLCB7IHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkuU0VORF9WSURFTywgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLicpLCBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbDogdCgnQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLicpLCBjaGlsZHJlbjoganN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICA/IHQoJ1lvdSBoYXZlIG5vIHBlcm1pc3Npb24gdG8gc2hhcmUgeW91ciB2aWRlbycpXG4gICAgICAgICAgICAgICAgICAgIDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICFpc1B1Ymxpc2hpbmdWaWRlb0FsbG93ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ1ZpZGVvIHB1Ymxpc2hpbmcgaXMgZGlzYWJsZWQgYnkgdGhlIHN5c3RlbScpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjYXB0aW9uIHx8IHQoJ1ZpZGVvJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaGFzUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlID8gJ3ZpZGVvLXVubXV0ZS1idXR0b24nIDogJ3ZpZGVvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQ6IDE2LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IG9wdGltaXN0aWNJc011dGUgPyAnY2FtZXJhLW9mZicgOiAnY2FtZXJhJyB9KSwgKCFoYXNCcm93c2VyUGVybWlzc2lvbiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCkgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIGNoaWxkcmVuOiBcIiFcIiB9KSldIH0pIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEVuZENhbGxNZW51ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBvbkxlYXZlLCBvbkVuZCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLWNhbGxfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fbGVhdmVcIiwgdHlwZTogXCJidXR0b25cIiwgXCJkYXRhLXRlc3RpZFwiOiBcImxlYXZlLWNhbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uTGVhdmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uX19pY29uIHN0ci12aWRlb19fZW5kLWNhbGxfX2xlYXZlLWljb25cIiwgaWNvbjogXCJsb2dvdXRcIiB9KSwgdCgnTGVhdmUgY2FsbCcpXSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkVORF9DQUxMXSwgY2hpbGRyZW46IGpzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kXCIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJlbmQtY2FsbC1mb3ItYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkVuZCwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b25fX2ljb24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kLWljb25cIiwgaWNvbjogXCJjYWxsLWVuZFwiIH0pLCB0KCdFbmQgY2FsbCBmb3IgYWxsJyldIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdMZWF2ZSBjYWxsJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgaWNvbjogbWVudVNob3duID8gJ2Nsb3NlJyA6ICdjYWxsLWVuZCcsIHZhcmlhbnQ6IG1lbnVTaG93biA/ICdhY3RpdmUnIDogJ2RhbmdlcicsIFwiZGF0YS10ZXN0aWRcIjogXCJsZWF2ZS1jYWxsLWJ1dHRvblwiLCByZWY6IHJlZiB9KSB9KSk7XG59KTtcbmNvbnN0IENhbmNlbENhbGxDb25maXJtQnV0dG9uID0gKHsgb25DbGljaywgb25MZWF2ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaGFuZGxlTGVhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgY29uc3QgaGFuZGxlRW5kQ2FsbCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuZW5kQ2FsbCgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIHJldHVybiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBUb2dnbGVCdXR0b246IENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KEVuZENhbGxNZW51LCB7IG9uRW5kOiBoYW5kbGVFbmRDYWxsLCBvbkxlYXZlOiBoYW5kbGVMZWF2ZSB9KSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbEJ1dHRvbiA9ICh7IGRpc2FibGVkLCBjYXB0aW9uLCBvbkNsaWNrLCBvbkxlYXZlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwubGVhdmUoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWVuZFwiLCB2YXJpYW50OiBcImRhbmdlclwiLCB0aXRsZTogY2FwdGlvbiA/PyB0KCdMZWF2ZSBjYWxsJyksIFwiZGF0YS10ZXN0aWRcIjogXCJjYW5jZWwtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgQ2FsbENvbnRyb2xzID0gKHsgb25MZWF2ZSB9KSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IFtqc3goU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCB7IGNoaWxkcmVuOiBqc3goVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCB7fSkgfSksIGpzeChUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIHt9KSwganN4KFJlYWN0aW9uc0J1dHRvbiwge30pLCBqc3goU2NyZWVuU2hhcmVCdXR0b24sIHt9KSwganN4KFJlY29yZENhbGxCdXR0b24sIHt9KSwganN4KENhbmNlbENhbGxCdXR0b24sIHsgb25MZWF2ZTogb25MZWF2ZSB9KV0gfSkpO1xuXG5jb25zdCBDYWxsU3RhdHNMYXRlbmN5Q2hhcnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzJykpO1xudmFyIFN0YXR1cztcbihmdW5jdGlvbiAoU3RhdHVzKSB7XG4gICAgU3RhdHVzW1wiR09PRFwiXSA9IFwiR29vZFwiO1xuICAgIFN0YXR1c1tcIk9LXCJdID0gXCJPa1wiO1xuICAgIFN0YXR1c1tcIkJBRFwiXSA9IFwiQmFkXCI7XG59KShTdGF0dXMgfHwgKFN0YXR1cyA9IHt9KSk7XG5jb25zdCBDYWxsU3RhdHMgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxhdGVuY3lMb3dCb3VuZCA9IDc1LCBsYXRlbmN5SGlnaEJvdW5kID0gNDAwLCBzaG93Q29kZWNJbmZvID0gZmFsc2UsIExhdGVuY3lDaGFydFN1c3BlbnNlRmFsbGJhY2sgPSBudWxsLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2xhdGVuY3lCdWZmZXIsIHNldExhdGVuY3lCdWZmZXJdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogMjAgfSwgKF8sIGkpID0+ICh7IHg6IG5vdyArIGksIHk6IDAgfSkpO1xuICAgIH0pO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IFtwdWJsaXNoQml0cmF0ZSwgc2V0UHVibGlzaEJpdHJhdGVdID0gdXNlU3RhdGUoJy0nKTtcbiAgICBjb25zdCBbc3Vic2NyaWJlQml0cmF0ZSwgc2V0U3Vic2NyaWJlQml0cmF0ZV0gPSB1c2VTdGF0ZSgnLScpO1xuICAgIGNvbnN0IHByZXZpb3VzU3RhdHMgPSB1c2VSZWYoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTdGF0c1JlcG9ydCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsU3RhdHNSZXBvcnQgPSB1c2VDYWxsU3RhdHNSZXBvcnQoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGxTdGF0c1JlcG9ydClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCFwcmV2aW91c1N0YXRzLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHMuY3VycmVudCA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCA9IHByZXZpb3VzU3RhdHMuY3VycmVudDtcbiAgICAgICAgc2V0UHVibGlzaEJpdHJhdGUoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVB1Ymxpc2hCaXRyYXRlKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0U3Vic2NyaWJlQml0cmF0ZSgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlU3Vic2NyaWJlQml0cmF0ZShwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldExhdGVuY3lCdWZmZXIoKGxhdGVuY3lCdWYpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld0xhdGVuY3lCdWZmZXIgPSBsYXRlbmN5QnVmLnNsaWNlKC0xOSk7XG4gICAgICAgICAgICBuZXdMYXRlbmN5QnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGNhbGxTdGF0c1JlcG9ydC50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgeTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0xhdGVuY3lCdWZmZXI7XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2aW91c1N0YXRzLmN1cnJlbnQgPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgfSwgW2NhbGxTdGF0c1JlcG9ydF0pO1xuICAgIGNvbnN0IGxhdGVuY3lDb21wYXJpc29uID0ge1xuICAgICAgICBsb3dCb3VuZDogbGF0ZW5jeUxvd0JvdW5kLFxuICAgICAgICBoaWdoQm91bmQ6IGxhdGVuY3lIaWdoQm91bmQsXG4gICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQ/LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyB8fCAwLFxuICAgIH07XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzXCIsIGNoaWxkcmVuOiBjYWxsU3RhdHNSZXBvcnQgJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImgzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faGVhZGluZ1wiLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2ljb25cIiwgaWNvbjogXCJjYWxsLWxhdGVuY3lcIiB9KSwgdCgnQ2FsbCBMYXRlbmN5JyldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ1ZlcnkgaGlnaCBsYXRlbmN5IHZhbHVlcyBtYXkgcmVkdWNlIGNhbGwgcXVhbGl0eSwgY2F1c2UgbGFnLCBhbmQgbWFrZSB0aGUgY2FsbCBsZXNzIGVuam95YWJsZS4nKSB9KV0gfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2xhdGVuY3ljaGFydFwiLCBjaGlsZHJlbjoganN4KFN1c3BlbnNlLCB7IGZhbGxiYWNrOiBMYXRlbmN5Q2hhcnRTdXNwZW5zZUZhbGxiYWNrLCBjaGlsZHJlbjoganN4KENhbGxTdGF0c0xhdGVuY3lDaGFydCwgeyB2YWx1ZXM6IGxhdGVuY3lCdWZmZXIgfSkgfSkgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiaDNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkaW5nXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faWNvblwiLCBpY29uOiBcIm5ldHdvcmstcXVhbGl0eVwiIH0pLCB0KCdDYWxsIHBlcmZvcm1hbmNlJyldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ1JldmlldyB0aGUga2V5IGRhdGEgcG9pbnRzIGJlbG93IHRvIGFzc2VzcyBjYWxsIHBlcmZvcm1hbmNlJykgfSldIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1jb250YWluZXJcIiwgY2hpbGRyZW46IFtqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlZ2lvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LmRhdGFjZW50ZXIgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnTGF0ZW5jeScpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5Nc30gbXMuYCwgY29tcGFyaXNvbjogbGF0ZW5jeUNvbXBhcmlzb24gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2ZSBqaXR0ZXInKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMuYXZlcmFnZUppdHRlckluTXN9IG1zLmAsIGNvbXBhcmlzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ubGF0ZW5jeUNvbXBhcmlzb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBqaXR0ZXInKSwgdmFsdWU6IGAke2NhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlSml0dGVySW5Nc30gbXMuYCwgY29tcGFyaXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXRlbmN5Q29tcGFyaXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5hdmVyYWdlSml0dGVySW5NcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IGAke3QoJ1B1Ymxpc2ggcmVzb2x1dGlvbicpfSR7c2hvd0NvZGVjSW5mbyA/IGZvcm1hdENvZGVjKGNhbGxTdGF0c1JlcG9ydCkgOiAnJ31gLCB2YWx1ZTogdG9GcmFtZVNpemUoY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzKSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIHF1YWxpdHkgZHJvcCByZWFzb24nKSwgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2aW5nIHJlc29sdXRpb24nKSwgdmFsdWU6IHRvRnJhbWVTaXplKGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMpIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmUgcXVhbGl0eSBkcm9wIHJlYXNvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5xdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUHVibGlzaCBiaXRyYXRlJyksIHZhbHVlOiBwdWJsaXNoQml0cmF0ZSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZpbmcgYml0cmF0ZScpLCB2YWx1ZTogc3Vic2NyaWJlQml0cmF0ZSB9KV0gfSldIH0pKSB9KSk7XG59O1xuY29uc3QgU3RhdENhcmRFeHBsYW5hdGlvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZGVzY3JpcHRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgeyByZWZzLCBmbG9hdGluZ1N0eWxlcywgY29udGV4dCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBvcGVuOiBpc09wZW4sXG4gICAgICAgIG9uT3BlbkNoYW5nZTogc2V0SXNPcGVuLFxuICAgIH0pO1xuICAgIGNvbnN0IGhvdmVyID0gdXNlSG92ZXIoY29udGV4dCk7XG4gICAgY29uc3QgeyBnZXRSZWZlcmVuY2VQcm9wcywgZ2V0RmxvYXRpbmdQcm9wcyB9ID0gdXNlSW50ZXJhY3Rpb25zKFtob3Zlcl0pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25cIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgLi4uZ2V0UmVmZXJlbmNlUHJvcHMoKSwgY2hpbGRyZW46IGpzeChJY29uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtZXhwbGFuYXRpb25fX2ljb25cIiwgaWNvbjogXCJpbmZvXCIgfSkgfSksIGlzT3BlbiAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvbl9fZGVzY3JpcHRpb25cIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZTogZmxvYXRpbmdTdHlsZXMsIC4uLmdldEZsb2F0aW5nUHJvcHMoKSwgY2hpbGRyZW46IGRlc2NyaXB0aW9uIH0pKV0gfSkpO1xufTtcbmNvbnN0IFN0YXRzVGFnID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgc3RhdHVzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWcnLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLWdvb2QnOiBzdGF0dXMgPT09IFN0YXR1cy5HT09ELFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1vayc6IHN0YXR1cyA9PT0gU3RhdHVzLk9LLFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnLS1iYWQnOiBzdGF0dXMgPT09IFN0YXR1cy5CQUQsXG4gICAgICAgIH0pLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fdGFnX190ZXh0XCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSB9KSk7XG59O1xuY29uc3QgU3RhdENhcmQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGxhYmVsLCB2YWx1ZSwgZGVzY3JpcHRpb24sIGNvbXBhcmlzb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHN0YXR1cyA9IGNvbXBhcmlzb24gPyB0b1N0YXR1cyhjb21wYXJpc29uKSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtY29udGVudFwiLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWxhYmVsXCIsIGNoaWxkcmVuOiBbbGFiZWwsIGRlc2NyaXB0aW9uICYmIGpzeChTdGF0Q2FyZEV4cGxhbmF0aW9uLCB7IGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB9KV0gfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtdmFsdWVcIiwgY2hpbGRyZW46IHZhbHVlIH0pXSB9KSwgc3RhdHVzICYmIGpzeChTdGF0c1RhZywgeyBzdGF0dXM6IHN0YXR1cywgY2hpbGRyZW46IHQoc3RhdHVzKSB9KV0gfSkpO1xufTtcbmNvbnN0IHRvU3RhdHVzID0gKGNvbmZpZykgPT4ge1xuICAgIGNvbnN0IHsgdmFsdWUsIGxvd0JvdW5kLCBoaWdoQm91bmQgfSA9IGNvbmZpZztcbiAgICBpZiAodmFsdWUgPD0gbG93Qm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuR09PRDtcbiAgICBpZiAodmFsdWUgPj0gbG93Qm91bmQgJiYgdmFsdWUgPD0gaGlnaEJvdW5kKVxuICAgICAgICByZXR1cm4gU3RhdHVzLk9LO1xuICAgIGlmICh2YWx1ZSA+PSBoaWdoQm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuQkFEO1xuICAgIHJldHVybiBTdGF0dXMuR09PRDtcbn07XG5jb25zdCB0b0ZyYW1lU2l6ZSA9IChzdGF0cykgPT4ge1xuICAgIGNvbnN0IHsgaGlnaGVzdEZyYW1lV2lkdGg6IHcsIGhpZ2hlc3RGcmFtZUhlaWdodDogaCwgaGlnaGVzdEZyYW1lc1BlclNlY29uZDogZnBzLCB9ID0gc3RhdHM7XG4gICAgbGV0IHNpemUgPSBgLWA7XG4gICAgaWYgKHcgJiYgaCkge1xuICAgICAgICBzaXplID0gYCR7d314JHtofWA7XG4gICAgICAgIGlmIChmcHMpIHtcbiAgICAgICAgICAgIHNpemUgKz0gYEAke2Zwc31mcHMuYDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc2l6ZTtcbn07XG5jb25zdCBmb3JtYXRDb2RlYyA9IChjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IGNvZGVjIH0gPSBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHM7XG4gICAgaWYgKCFjb2RlYylcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIGNvbnN0IFssIG5hbWVdID0gY29kZWMuc3BsaXQoJy8nKTtcbiAgICByZXR1cm4gbmFtZSA/IGAgKCR7bmFtZX0pYCA6ICcnO1xufTtcbmNvbnN0IGNhbGN1bGF0ZVB1Ymxpc2hCaXRyYXRlID0gKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IHB1Ymxpc2hlclN0YXRzOiB7IHRvdGFsQnl0ZXNTZW50OiBwcmV2aW91c1RvdGFsQnl0ZXNTZW50LCB0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wLCB9LCB9ID0gcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgeyBwdWJsaXNoZXJTdGF0czogeyB0b3RhbEJ5dGVzU2VudCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNTZW50ID0gdG90YWxCeXRlc1NlbnQgLSBwcmV2aW91c1RvdGFsQnl0ZXNTZW50O1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNTZW50ICogOCkgLyB0aW1lRWxhcHNlZCkudG9GaXhlZCgyKX0ga2Jwc2A7XG59O1xuY29uc3QgY2FsY3VsYXRlU3Vic2NyaWJlQml0cmF0ZSA9IChwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KSA9PiB7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyU3RhdHM6IHsgdG90YWxCeXRlc1JlY2VpdmVkOiBwcmV2aW91c1RvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wOiBwcmV2aW91c1RpbWVzdGFtcCwgfSwgfSA9IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlclN0YXRzOiB7IHRvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNSZWNlaXZlZCA9IHRvdGFsQnl0ZXNSZWNlaXZlZCAtIHByZXZpb3VzVG90YWxCeXRlc1JlY2VpdmVkO1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNSZWNlaXZlZCAqIDgpIC8gdGltZUVsYXBzZWQpLnRvRml4ZWQoMil9IGticHNgO1xufTtcblxuY29uc3QgQ2FsbFN0YXRzQnV0dG9uID0gKCkgPT4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3AtZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgY2hpbGRyZW46IGpzeChDYWxsU3RhdHMsIHt9KSB9KSk7XG5jb25zdCBUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVNZW51QnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIG1lbnVTaG93biB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgY2FwdGlvbjogY2FwdGlvbiwgdGl0bGU6IGNhcHRpb24gfHwgdCgnU3RhdGlzdGljcycpLCBcImRhdGEtdGVzdGlkXCI6IFwic3RhdHMtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInN0YXRzXCIgfSkgfSkpO1xufSk7XG5cbmNvbnN0IFRvZ2dsZUF1ZGlvT3V0cHV0QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiBjYXB0aW9uIHx8IHQoJ1NwZWFrZXJzJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBjYXB0aW9uOiBjYXB0aW9uLCBcImRhdGEtdGVzdGlkXCI6IFwiYXVkaW8tb3V0cHV0LWJ1dHRvblwiLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwic3BlYWtlclwiIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEJsb2NrZWRVc2VyTGlzdGluZyA9ICh7IGRhdGEgfSkgPT4ge1xuICAgIGlmICghZGF0YS5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nXCIsIGNoaWxkcmVuOiBkYXRhLm1hcCgodXNlcklkKSA9PiAoanN4KEJsb2NrZWRVc2VyTGlzdGluZ0l0ZW0sIHsgdXNlcklkOiB1c2VySWQgfSwgdXNlcklkKSkpIH0pIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlckxpc3RpbmdJdGVtID0gKHsgdXNlcklkIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHVuYmxvY2tVc2VyQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAodXNlcklkKVxuICAgICAgICAgICAgY2FsbD8udW5ibG9ja1VzZXIodXNlcklkKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIGNoaWxkcmVuOiB1c2VySWQgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiB1bmJsb2NrVXNlckNsaWNrSGFuZGxlciwgY2hpbGRyZW46IFwiVW5ibG9ja1wiIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyID0gKHsgb25DbG9zZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlXCIsIGNoaWxkcmVuOiBbdCgnUGFydGljaXBhbnRzJyksICcgJywganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGUtY291bnRcIiwgY2hpbGRyZW46IFtcIltcIiwgcGFydGljaXBhbnRzLmxlbmd0aCwgXCJdXCJdIH0pLCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50ID4gMCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZS1hbm9ueW1vdXNcIiwgY2hpbGRyZW46IHQoJ0Fub255bW91cycsIHsgY291bnQ6IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgfSkgfSkpXSB9KSwganN4KEljb25CdXR0b24sIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX2Nsb3NlLWJ1dHRvblwiLCBpY29uOiBcImNsb3NlXCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtID0gKHsgcGFydGljaXBhbnQsIERpc3BsYXlOYW1lID0gRGVmYXVsdERpc3BsYXlOYW1lLCB9KSA9PiB7XG4gICAgY29uc3QgaXNBdWRpb09uID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGlzVmlkZW9PbiA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBpc1Bpbm5lZE9uID0gaXNQaW5uZWQocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChBdmF0YXIsIHsgbmFtZTogcGFydGljaXBhbnQubmFtZSwgaW1hZ2VTcmM6IHBhcnRpY2lwYW50LmltYWdlIH0pLCBqc3goRGlzcGxheU5hbWUsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19tZWRpYS1pbmRpY2F0b3ItZ3JvdXBcIiwgY2hpbGRyZW46IFtqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IGlzQXVkaW9PbiA/IHQoJ01pY3JvcGhvbmUgb24nKSA6IHQoJ01pY3JvcGhvbmUgb2ZmJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCBgc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tJHtpc0F1ZGlvT24gPyAnbWljJyA6ICdtaWMtb2ZmJ31gKSB9KSwganN4KE1lZGlhSW5kaWNhdG9yLCB7IHRpdGxlOiBpc1ZpZGVvT24gPyB0KCdDYW1lcmEgb24nKSA6IHQoJ0NhbWVyYSBvZmYnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi0ke2lzVmlkZW9PbiA/ICdjYW1lcmEnIDogJ2NhbWVyYS1vZmYnfWApIH0pLCBpc1Bpbm5lZE9uICYmIChqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IHQoJ1Bpbm5lZCcpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLXBpbm5lZCcpIH0pKSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6ICdub25lJyB9LCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCB7fSkgfSkgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgTWVkaWFJbmRpY2F0b3IgPSAocHJvcHMpID0+IChqc3goV2l0aFRvb2x0aXAsIHsgLi4ucHJvcHMgfSkpO1xuY29uc3QgRGVmYXVsdERpc3BsYXlOYW1lID0gKHsgcGFydGljaXBhbnQgfSkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RlZFVzZXIgPSB1c2VDb25uZWN0ZWRVc2VyKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVGbGFnID0gcGFydGljaXBhbnQudXNlcklkID09PSBjb25uZWN0ZWRVc2VyPy5pZCA/IHQoJ01lJykgOiAnJztcbiAgICBjb25zdCBuYW1lT3JJZCA9IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICBsZXQgZGlzcGxheU5hbWU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudC5uYW1lKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbWVGbGFnIHx8IG5hbWVPcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVGbGFnKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gYCR7bmFtZU9ySWR9ICgke21lRmxhZ30pYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbmFtZU9ySWQ7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIHRpdGxlOiBkaXNwbGF5TmFtZSwgY2hpbGRyZW46IGRpc3BsYXlOYW1lIH0pKTtcbn07XG5jb25zdCBUb2dnbGVCdXR0b24kMiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlQnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4ganN4KEljb25CdXR0b24sIHsgZW5hYmxlZDogcHJvcHMubWVudVNob3duLCBpY29uOiBcImVsbGlwc2lzXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgPSAoeyBkYXRhLCB9KSA9PiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZ1wiLCBjaGlsZHJlbjogZGF0YS5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSkgfSkpO1xuXG5jb25zdCBFbXB0eVBhcnRpY2lwYW50U2VhcmNoTGlzdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtLWVtcHR5XCIsIGNoaWxkcmVuOiB0KCdObyBwYXJ0aWNpcGFudHMgZm91bmQnKSB9KSk7XG59O1xuXG5jb25zdCBTZWFyY2hJbnB1dCA9ICh7IGV4aXRTZWFyY2gsIGlzQWN0aXZlLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBbaW5wdXRFbGVtZW50LCBzZXRJbnB1dEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdlc2NhcGUnKVxuICAgICAgICAgICAgICAgIGV4aXRTZWFyY2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIH07XG4gICAgfSwgW2V4aXRTZWFyY2gsIGlucHV0RWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2NvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY29udGFpbmVyLS1hY3RpdmUnOiBpc0FjdGl2ZSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwgeyBwbGFjZWhvbGRlcjogXCJTZWFyY2hcIiwgLi4ucmVzdCwgcmVmOiBzZXRJbnB1dEVsZW1lbnQgfSksIGlzQWN0aXZlID8gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY2xlYXItYnRuXCIsIG9uQ2xpY2s6IGV4aXRTZWFyY2gsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19pY29uLS1hY3RpdmVcIiB9KSB9KSkgOiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9faWNvblwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgU2VhcmNoUmVzdWx0cyA9ICh7IEVtcHR5U2VhcmNoUmVzdWx0Q29tcG9uZW50LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yJDEgPSBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMsIFNlYXJjaFJlc3VsdExpc3QsIH0pID0+IHtcbiAgICBpZiAoc2VhcmNoUXVlcnlJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLXJlc3VsdHMtLWxvYWRpbmdcIiwgY2hpbGRyZW46IGpzeChMb2FkaW5nSW5kaWNhdG9yJDEsIHt9KSB9KSk7XG4gICAgfVxuICAgIGlmICghc2VhcmNoUmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGpzeChFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudCwge30pO1xuICAgIH1cbiAgICByZXR1cm4ganN4KFNlYXJjaFJlc3VsdExpc3QsIHsgZGF0YTogc2VhcmNoUmVzdWx0cyB9KTtcbn07XG5cbmNvbnN0IHVzZVNlYXJjaCA9ICh7IGRlYm91bmNlSW50ZXJ2YWwsIHNlYXJjaEZuLCBzZWFyY2hRdWVyeSA9ICcnLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFJlc3VsdHMsIHNldFNlYXJjaFJlc3VsdHNdID0gdXNlU3RhdGUoW10pO1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzZWFyY2hRdWVyeS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyhmYWxzZSk7XG4gICAgICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKFtdKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZWFyY2hRdWVyeUluUHJvZ3Jlc3ModHJ1ZSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHNlYXJjaEZuKHNlYXJjaFF1ZXJ5KTtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2hSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzZXRTZWFyY2hRdWVyeUluUHJvZ3Jlc3MoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkZWJvdW5jZUludGVydmFsKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfTtcbiAgICB9LCBbZGVib3VuY2VJbnRlcnZhbCwgc2VhcmNoRm4sIHNlYXJjaFF1ZXJ5XSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VhcmNoUXVlcnlJblByb2dyZXNzLFxuICAgICAgICBzZWFyY2hSZXN1bHRzLFxuICAgIH07XG59O1xuXG5jb25zdCBVc2VyTGlzdFR5cGVzID0ge1xuICAgIGFjdGl2ZTogJ0FjdGl2ZSB1c2VycycsXG4gICAgYmxvY2tlZDogJ0Jsb2NrZWQgdXNlcnMnLFxufTtcbmNvbnN0IERFRkFVTFRfREVCT1VOQ0VfU0VBUkNIX0lOVEVSVkFMID0gMjAwO1xuY29uc3QgQ2FsbFBhcnRpY2lwYW50c0xpc3QgPSAoeyBvbkNsb3NlLCBhY3RpdmVVc2Vyc1NlYXJjaEZuLCBibG9ja2VkVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbCwgfSkgPT4ge1xuICAgIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoJycpO1xuICAgIGNvbnN0IFt1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZV0gPSB1c2VTdGF0ZSgnYWN0aXZlJyk7XG4gICAgY29uc3QgZXhpdFNlYXJjaCA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNlYXJjaFF1ZXJ5KCcnKSwgW10pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RcIiwgY2hpbGRyZW46IFtqc3goQ2FsbFBhcnRpY2lwYW50TGlzdEhlYWRlciwgeyBvbkNsb3NlOiBvbkNsb3NlIH0pLCBqc3goU2VhcmNoSW5wdXQsIHsgdmFsdWU6IHNlYXJjaFF1ZXJ5LCBvbkNoYW5nZTogKHsgY3VycmVudFRhcmdldCB9KSA9PiBzZXRTZWFyY2hRdWVyeShjdXJyZW50VGFyZ2V0LnZhbHVlKSwgZXhpdFNlYXJjaDogZXhpdFNlYXJjaCwgaXNBY3RpdmU6ICEhc2VhcmNoUXVlcnkgfSksIGpzeChDYWxsUGFydGljaXBhbnRMaXN0Q29udGVudEhlYWRlciwgeyB1c2VyTGlzdFR5cGU6IHVzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlOiBzZXRVc2VyTGlzdFR5cGUgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50XCIsIGNoaWxkcmVuOiBbdXNlckxpc3RUeXBlID09PSAnYWN0aXZlJyAmJiAoanN4KEFjdGl2ZVVzZXJzU2VhcmNoUmVzdWx0cywgeyBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksIGFjdGl2ZVVzZXJzU2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm4sIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgfSkpLCB1c2VyTGlzdFR5cGUgPT09ICdibG9ja2VkJyAmJiAoanN4KEJsb2NrZWRVc2Vyc1NlYXJjaFJlc3VsdHMsIHsgc2VhcmNoUXVlcnk6IHNlYXJjaFF1ZXJ5LCBibG9ja2VkVXNlcnNTZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm4sIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgfSkpXSB9KV0gfSkpO1xufTtcbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RDb250ZW50SGVhZGVyID0gKHsgdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGUsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IG11dGVBbGwgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/Lm11dGVBbGxVc2VycygnYXVkaW8nKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnQtaGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudC1oZWFkZXItdGl0bGVcIiwgY2hpbGRyZW46IHVzZXJMaXN0VHlwZSA9PT0gJ2FjdGl2ZScgJiYgKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5NVVRFX1VTRVJTXSwgaGFzUGVybWlzc2lvbnNPbmx5OiB0cnVlLCBjaGlsZHJlbjoganN4KFRleHRCdXR0b24sIHsgb25DbGljazogbXV0ZUFsbCwgY2hpbGRyZW46IFwiTXV0ZSBhbGxcIiB9KSB9KSkgfSksIGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlQnV0dG9uJDEsIGNoaWxkcmVuOiBqc3goR2VuZXJpY01lbnUsIHsgY2hpbGRyZW46IE9iamVjdC5rZXlzKFVzZXJMaXN0VHlwZXMpLm1hcCgobHQpID0+IChqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IFwiYXJpYS1zZWxlY3RlZFwiOiBsdCA9PT0gdXNlckxpc3RUeXBlLCBvbkNsaWNrOiAoKSA9PiBzZXRVc2VyTGlzdFR5cGUobHQpLCBjaGlsZHJlbjogVXNlckxpc3RUeXBlc1tsdF0gfSwgbHQpKSkgfSkgfSldIH0pKTtcbn07XG5jb25zdCBBY3RpdmVVc2Vyc1NlYXJjaFJlc3VsdHMgPSAoeyBzZWFyY2hRdWVyeSwgYWN0aXZlVXNlcnNTZWFyY2hGbjogYWN0aXZlVXNlcnNTZWFyY2hGbkZyb21Qcm9wcywgZGVib3VuY2VTZWFyY2hJbnRlcnZhbCA9IERFRkFVTFRfREVCT1VOQ0VfU0VBUkNIX0lOVEVSVkFMLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKHsgc29ydEJ5OiBuYW1lIH0pO1xuICAgIGNvbnN0IGFjdGl2ZVVzZXJzU2VhcmNoRm4gPSB1c2VDYWxsYmFjaygocXVlcnlTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnlSZWdFeHAgPSBuZXcgUmVnRXhwKHF1ZXJ5U3RyaW5nLCAnaScpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBhcnRpY2lwYW50cy5maWx0ZXIoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcGFydGljaXBhbnQubmFtZS5tYXRjaChxdWVyeVJlZ0V4cCk7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbcGFydGljaXBhbnRzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzID8/IGFjdGl2ZVVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogcGFydGljaXBhbnRzLCBTZWFyY2hSZXN1bHRMaXN0OiBDYWxsUGFydGljaXBhbnRMaXN0aW5nIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlcnNTZWFyY2hSZXN1bHRzID0gKHsgYmxvY2tlZFVzZXJzU2VhcmNoRm46IGJsb2NrZWRVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsID0gREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwsIHNlYXJjaFF1ZXJ5LCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYWxsQmxvY2tlZFVzZXJJZHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgYmxvY2tlZFVzZXJzID0gdXNlQ2FsbEJsb2NrZWRVc2VySWRzKCk7XG4gICAgY29uc3QgYmxvY2tlZFVzZXJzU2VhcmNoRm4gPSB1c2VDYWxsYmFjaygocXVlcnlTdHJpbmcpID0+IHtcbiAgICAgICAgY29uc3QgcXVlcnlSZWdFeHAgPSBuZXcgUmVnRXhwKHF1ZXJ5U3RyaW5nLCAnaScpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGJsb2NrZWRVc2Vycy5maWx0ZXIoKGJsb2NrZWRVc2VyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYmxvY2tlZFVzZXIubWF0Y2gocXVlcnlSZWdFeHApO1xuICAgICAgICB9KSk7XG4gICAgfSwgW2Jsb2NrZWRVc2Vyc10pO1xuICAgIGNvbnN0IHsgc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzIH0gPSB1c2VTZWFyY2goe1xuICAgICAgICBzZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYmxvY2tlZFVzZXJzU2VhcmNoRm4sXG4gICAgICAgIGRlYm91bmNlSW50ZXJ2YWw6IGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwsXG4gICAgICAgIHNlYXJjaFF1ZXJ5LFxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFNlYXJjaFJlc3VsdHMsIHsgRW1wdHlTZWFyY2hSZXN1bHRDb21wb25lbnQ6IEVtcHR5UGFydGljaXBhbnRTZWFyY2hMaXN0LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3M6IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0czogc2VhcmNoUXVlcnkgPyBzZWFyY2hSZXN1bHRzIDogYmxvY2tlZFVzZXJzLCBTZWFyY2hSZXN1bHRMaXN0OiBCbG9ja2VkVXNlckxpc3RpbmcgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUJ1dHRvbiQxID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZmlsdGVyXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQcmV2aWV3ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIHN0eWxlIH0gPSBwcm9wcztcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFRodW1ibmFpbCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB0aHVtYm5haWwgPSB1c2VDYWxsVGh1bWJuYWlsKCk7XG4gICAgY29uc3QgW2ltYWdlUmVmLCBzZXRJbWFnZVJlZl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWltYWdlUmVmIHx8ICFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kQ2FsbFRodW1ibmFpbEVsZW1lbnQoaW1hZ2VSZWYpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtpbWFnZVJlZiwgY2FsbF0pO1xuICAgIGlmICghdGh1bWJuYWlsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChcImltZ1wiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLXByZXZpZXcnLCBjbGFzc05hbWUpLCBzdHlsZTogc3R5bGUsIGFsdDogXCJDYWxsIFByZXZpZXcgVGh1bWJuYWlsXCIsIHJlZjogc2V0SW1hZ2VSZWYgfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIgPSAoeyBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpdGxlXCIsIGNoaWxkcmVuOiBbanN4KFwic3BhblwiLCB7IGNoaWxkcmVuOiB0KCdDYWxsIFJlY29yZGluZ3MnKSB9KSwgY2FsbFJlY29yZGluZ3MubGVuZ3RoID8ganN4cyhcInNwYW5cIiwgeyBjaGlsZHJlbjogW1wiKFwiLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGgsIFwiKVwiXSB9KSA6IG51bGxdIH0pLCBvblJlZnJlc2ggJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwicmVmcmVzaFwiLCB0aXRsZTogdCgnUmVmcmVzaCcpLCBvbkNsaWNrOiBvblJlZnJlc2ggfSkpXSB9KSk7XG59O1xuXG5jb25zdCBkYXRlRm9ybWF0ID0gKGRhdGUpID0+IHtcbiAgICBjb25zdCBmb3JtYXQgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICByZXR1cm4gZm9ybWF0LnRvVGltZVN0cmluZygpLnNwbGl0KCcgJylbMF07XG59O1xuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3RJdGVtID0gKHsgcmVjb3JkaW5nLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2ZpbGVuYW1lXCIsIGNoaWxkcmVuOiByZWNvcmRpbmcuZmlsZW5hbWUgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RhYmxlLWNlbGwgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBkYXRlRm9ybWF0KHJlY29yZGluZy5zdGFydF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLmVuZF90aW1lKSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIsIGNoaWxkcmVuOiBqc3goXCJhXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbicsICdzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3QtaXRlbV9fYWN0aW9uLWJ1dHRvbi0tZG93bmxvYWQnKSwgcm9sZTogXCJidXR0b25cIiwgaHJlZjogcmVjb3JkaW5nLnVybCwgZG93bmxvYWQ6IHJlY29yZGluZy5maWxlbmFtZSwgdGl0bGU6IFwiRG93bmxvYWQgdGhlIHJlY29yZGluZ1wiLCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogXCJkb3dubG9hZFwiIH0pIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nID0gKCkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3Rpbmcgc3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nLS1lbXB0eVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWljb24tZW1wdHlcIiB9KSwganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLXRleHQtZW1wdHlcIiwgY2hpbGRyZW46IFwiTm8gcmVjb3JkaW5ncyBhdmFpbGFibGVcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgTG9hZGluZ0NhbGxSZWNvcmRpbmdMaXN0aW5nID0gKHsgY2FsbFJlY29yZGluZ3MsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIHsgcmVjb3JkaW5nOiByZWNvcmRpbmcgfSwgcmVjb3JkaW5nLmZpbGVuYW1lKSkpLCBqc3goTG9hZGluZ0luZGljYXRvciwgeyB0ZXh0OiBcIlJlY29yZGluZyBnZXR0aW5nIHJlYWR5XCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxSZWNvcmRpbmdMaXN0ID0gKHsgY2FsbFJlY29yZGluZ3MsIENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyOiBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxID0gQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbTogQ2FsbFJlY29yZGluZ0xpc3RJdGVtJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0sIEVtcHR5Q2FsbFJlY29yZGluZ0xpc3QgPSBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBsb2FkaW5nLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QgPSBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIG9uUmVmcmVzaCwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RcIiwgY2hpbGRyZW46IFtqc3goQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIkMSwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MsIG9uUmVmcmVzaDogb25SZWZyZXNoIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0aW5nXCIsIGNoaWxkcmVuOiBsb2FkaW5nID8gKGpzeChMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3QsIHsgY2FsbFJlY29yZGluZ3M6IGNhbGxSZWNvcmRpbmdzIH0pKSA6IGNhbGxSZWNvcmRpbmdzLmxlbmd0aCA/IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBqc3hzKFwibGlcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19pdGVtXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IFwiTmFtZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIlN0YXJ0IHRpbWVcIiB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogXCJFbmQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19kb3dubG9hZFwiIH0pXSB9KSB9KSwganN4KFwidWxcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19saXN0XCIsIGNoaWxkcmVuOiBjYWxsUmVjb3JkaW5ncy5tYXAoKHJlY29yZGluZykgPT4gKGpzeChDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSkgfSldIH0pKSA6IChqc3goRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCwge30pKSB9KV0gfSkpO1xufTtcblxuY29uc3QgTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbi8qKlxuICogRXhwb3NlcyB0aGUgTm9pc2VDYW5jZWxsYXRpb24gQVBJLlxuICogVGhyb3dzIGFuIGVycm9yIGlmIHVzZWQgb3V0c2lkZSA8Tm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlciAvPi5cbiAqL1xuY29uc3QgdXNlTm9pc2VDYW5jZWxsYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoTm9pc2VDYW5jZWxsYXRpb25Db250ZXh0KTtcbiAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1c2VOb2lzZUNhbmNlbGxhdGlvbiBtdXN0IGJlIHVzZWQgd2l0aGluIGEgTm9pc2VDYW5jZWxsYXRpb25Qcm92aWRlcicpO1xuICAgIH1cbiAgICByZXR1cm4gY29udGV4dDtcbn07XG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgbm9pc2VDYW5jZWxsYXRpb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsU2V0dGluZ3MsIHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3Qgbm9pc2VDYW5jZWxsYXRpb25BbGxvd2VkID0gISEoc2V0dGluZ3MgJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uICYmXG4gICAgICAgIHNldHRpbmdzLmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbi5tb2RlICE9PVxuICAgICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkRJU0FCTEVEKTtcbiAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5FTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OKTtcbiAgICBjb25zdCBbaXNTdXBwb3J0ZWRCeUJyb3dzZXIsIHNldElzU3VwcG9ydGVkQnlCcm93c2VyXSA9IHVzZVN0YXRlKHVuZGVmaW5lZCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbm9pc2VDYW5jZWxsYXRpb24uaXNTdXBwb3J0ZWQoKTtcbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXIocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgIC50aGVuKChfaXNTdXBwb3J0ZWRCeUJyb3dzZXIpID0+IHNldElzU3VwcG9ydGVkQnlCcm93c2VyKF9pc1N1cHBvcnRlZEJ5QnJvd3NlcikpXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYENhbid0IGRldGVybWluZSBpZiBub2lzZSBjYW5jZWxsYXRpb24gaXMgc3VwcG9ydGVkYCwgZXJyKSk7XG4gICAgICAgIH1cbiAgICB9LCBbbm9pc2VDYW5jZWxsYXRpb25dKTtcbiAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkQnlCcm93c2VyICYmIGhhc0NhcGFiaWxpdHkgJiYgbm9pc2VDYW5jZWxsYXRpb25BbGxvd2VkO1xuICAgIGNvbnN0IFtpc0VuYWJsZWQsIHNldElzRW5hYmxlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgZGVpbml0ID0gdXNlUmVmKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFpc1N1cHBvcnRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBub2lzZUNhbmNlbGxhdGlvbi5vbignY2hhbmdlJywgKHYpID0+IHNldElzRW5hYmxlZCh2KSk7XG4gICAgICAgIGNvbnN0IGluaXQgPSAoZGVpbml0LmN1cnJlbnQgfHwgUHJvbWlzZS5yZXNvbHZlKCkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBub2lzZUNhbmNlbGxhdGlvbi5pbml0KCkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjYWxsLm1pY3JvcGhvbmUuZW5hYmxlTm9pc2VDYW5jZWxsYXRpb24obm9pc2VDYW5jZWxsYXRpb24pKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoYENhbid0IGluaXRpYWxpemUgbm9pc2Ugc3VwcHJlc3Npb25gLCBlcnIpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRlaW5pdC5jdXJyZW50ID0gaW5pdFxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGNhbGwubWljcm9waG9uZS5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBub2lzZUNhbmNlbGxhdGlvbi5kaXNwb3NlKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzU3VwcG9ydGVkLCBub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIHJldHVybiAoanN4KE5vaXNlQ2FuY2VsbGF0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZToge1xuICAgICAgICAgICAgaXNTdXBwb3J0ZWQsXG4gICAgICAgICAgICBpc0VuYWJsZWQsXG4gICAgICAgICAgICBzZXRFbmFibGVkOiAoZW5hYmxlZE9yU2V0dGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFub2lzZUNhbmNlbGxhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuYWJsZSA9IHR5cGVvZiBlbmFibGVkT3JTZXR0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBlbmFibGVkT3JTZXR0ZXIoaXNFbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICA6IGVuYWJsZWRPclNldHRlcjtcbiAgICAgICAgICAgICAgICBpZiAoZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmVuYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZGlzYWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBSaW5naW5nQ2FsbENvbnRyb2xzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGxDYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBidXR0b25zRGlzYWJsZWQgPSBjYWxsQ2FsbGluZ1N0YXRlICE9PSBDYWxsaW5nU3RhdGUuUklOR0lORztcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BlbmRpbmctY2FsbC1jb250cm9sc1wiLCBjaGlsZHJlbjogY2FsbC5pc0NyZWF0ZWRCeU1lID8gKGpzeChDYW5jZWxDYWxsQnV0dG9uLCB7IGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSkpIDogKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goQWNjZXB0Q2FsbEJ1dHRvbiwgeyBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pLCBqc3goQ2FuY2VsQ2FsbEJ1dHRvbiwgeyBvbkNsaWNrOiAoKSA9PiBjYWxsLmxlYXZlKHsgcmVqZWN0OiB0cnVlIH0pLCBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pXSB9KSkgfSkpO1xufTtcblxuY29uc3QgQ0FMTElOR19TVEFURV9UT19MQUJFTCA9IHtcbiAgICBbQ2FsbGluZ1N0YXRlLkpPSU5JTkddOiAnSm9pbmluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HXTogJ1JpbmdpbmcnLFxuICAgIFtDYWxsaW5nU3RhdGUuTUlHUkFUSU5HXTogJ01pZ3JhdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkddOiAnUmUtY29ubmVjdGluZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXTogJ0ZhaWxlZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5PRkZMSU5FXTogJ05vIGludGVybmV0IGNvbm5lY3Rpb24nLFxuICAgIFtDYWxsaW5nU3RhdGUuSURMRV06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuVU5LTk9XTl06ICcnLFxuICAgIFtDYWxsaW5nU3RhdGUuSk9JTkVEXTogJ0pvaW5lZCcsXG4gICAgW0NhbGxpbmdTdGF0ZS5MRUZUXTogJ0xlZnQgY2FsbCcsXG59O1xuY29uc3QgUmluZ2luZ0NhbGwgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTZWxmID0gZmFsc2UsIHRvdGFsTWVtYmVyc1RvU2hvdyA9IDMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlLCB1c2VDYWxsTWVtYmVycyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4gICAgY29uc3QgbWVtYmVycyA9IHVzZUNhbGxNZW1iZXJzKCk7XG4gICAgY29uc3QgY29ubmVjdGVkVXNlciA9IHVzZUNvbm5lY3RlZFVzZXIoKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIC8vIHRha2UgdGhlIGZpcnN0IE4gbWVtYmVycyB0byBzaG93IHRoZWlyIGF2YXRhcnNcbiAgICBjb25zdCBtZW1iZXJzVG9TaG93ID0gKG1lbWJlcnMgfHwgW10pXG4gICAgICAgIC5zbGljZSgwLCB0b3RhbE1lbWJlcnNUb1Nob3cpXG4gICAgICAgIC5tYXAoKHsgdXNlciB9KSA9PiB1c2VyKVxuICAgICAgICAuZmlsdGVyKCh1c2VyKSA9PiB1c2VyLmlkICE9PSBjb25uZWN0ZWRVc2VyPy5pZCB8fCBpbmNsdWRlU2VsZik7XG4gICAgaWYgKGluY2x1ZGVTZWxmICYmXG4gICAgICAgICFtZW1iZXJzVG9TaG93LmZpbmQoKHVzZXIpID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKSkge1xuICAgICAgICAvLyBpZiB0aGUgY3VycmVudCB1c2VyIGlzIG5vdCBpbiB0aGUgaW5pdGlhbCBiYXRjaCBvZiBtZW1iZXJzLFxuICAgICAgICAvLyByZXBsYWNlIHRoZSBmaXJzdCBpdGVtIGluIG1lbWJlcnNUb1Nob3cgYXJyYXkgd2l0aCB0aGUgY3VycmVudCB1c2VyXG4gICAgICAgIGNvbnN0IHNlbGYgPSBtZW1iZXJzLmZpbmQoKHsgdXNlciB9KSA9PiB1c2VyLmlkID09PSBjb25uZWN0ZWRVc2VyPy5pZCk7XG4gICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICBtZW1iZXJzVG9TaG93LnNwbGljZSgwLCAxLCBzZWxmLnVzZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZUxhYmVsID0gQ0FMTElOR19TVEFURV9UT19MQUJFTFtjYWxsaW5nU3RhdGVdO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWwgc3RyLXZpZGVvX19jYWxsLXBhbmVsLS1yaW5naW5nXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbF9fbWVtYmVycy1saXN0XCIsIGNoaWxkcmVuOiBtZW1iZXJzVG9TaG93Lm1hcCgodXNlcikgPT4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXItYm94XCIsIGNoaWxkcmVuOiBbanN4KEF2YXRhciwgeyBuYW1lOiB1c2VyLm5hbWUsIGltYWdlU3JjOiB1c2VyLmltYWdlIH0pLCB1c2VyLm5hbWUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX21lbWJlcl9kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX25hbWVcIiwgY2hpbGRyZW46IHVzZXIubmFtZSB9KSB9KSldIH0sIHVzZXIuaWQpKSkgfSksIGNhbGxpbmdTdGF0ZUxhYmVsICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19jYWxsaW5nLXN0YXRlLWxhYmVsXCIsIGNoaWxkcmVuOiB0KGNhbGxpbmdTdGF0ZUxhYmVsKSB9KSksIFtDYWxsaW5nU3RhdGUuUklOR0lORywgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkgJiYgKGpzeChSaW5naW5nQ2FsbENvbnRyb2xzLCB7fSkpXSB9KSk7XG59O1xuXG5jb25zdCBieU5hbWVPcklkID0gKGEsIGIpID0+IHtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPCBiLm5hbWUpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICBpZiAoYS5uYW1lICYmIGIubmFtZSAmJiBhLm5hbWUgPiBiLm5hbWUpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmIChhLmlkIDwgYi5pZClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLmlkID4gYi5pZClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgcmV0dXJuIDA7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VMb2NhbFBhcnRpY2lwYW50LCB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBsb2NhbFBhcnRpY2lwYW50ID0gdXNlTG9jYWxQYXJ0aWNpcGFudCgpO1xuICAgIGNvbnN0IFtleHBhbmRlZCwgc2V0RXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtwZXJtaXNzaW9uUmVxdWVzdHMsIHNldFBlcm1pc3Npb25SZXF1ZXN0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zID0gdXNlSGFzUGVybWlzc2lvbnMoT3duQ2FwYWJpbGl0eS5VUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyk7XG4gICAgY29uc3QgbG9jYWxVc2VySWQgPSBsb2NhbFBhcnRpY2lwYW50Py51c2VySWQ7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsIHx8ICFjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLm9uKCdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnVzZXIuaWQgIT09IGxvY2FsVXNlcklkKSB7XG4gICAgICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gWy4uLnJlcXVlc3RzLCBldmVudF0uc29ydCgoYSwgYikgPT4gYnlOYW1lT3JJZChhLnVzZXIsIGIudXNlcikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSwgW2NhbGwsIGNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucywgbG9jYWxVc2VySWRdKTtcbiAgICBjb25zdCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uID0gKHJlcXVlc3QsIHR5cGUpID0+IHtcbiAgICAgICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdncmFudCc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LmdyYW50UGVybWlzc2lvbnModXNlci5pZCwgcGVybWlzc2lvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyZXZva2UnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5yZXZva2VQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0UGVybWlzc2lvblJlcXVlc3RzKChyZXF1ZXN0cykgPT4gcmVxdWVzdHMuZmlsdGVyKChyKSA9PiByICE9PSByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJyxcbiAgICAgICAgc3RyYXRlZ3k6ICdhYnNvbHV0ZScsXG4gICAgfSk7XG4gICAgLy8gZG9uJ3QgcmVuZGVyIGFueXRoaW5nIGlmIHRoZXJlIGFyZSBubyBwZXJtaXNzaW9uIHJlcXVlc3RzXG4gICAgaWYgKHBlcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c19fbm90aWZpY2F0aW9uXCIsIGNoaWxkcmVuOiBbanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25fX21lc3NhZ2VcIiwgY2hpbGRyZW46IFtwZXJtaXNzaW9uUmVxdWVzdHMubGVuZ3RoLCBcIiBwZW5kaW5nIHBlcm1pc3Npb24gcmVxdWVzdHNcIl0gfSksIGpzeChCdXR0b24sIHsgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEV4cGFuZGVkKChlKSA9PiAhZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogZXhwYW5kZWQgPyAnSGlkZSByZXF1ZXN0cycgOiAnU2hvdyByZXF1ZXN0cycgfSldIH0pLCBleHBhbmRlZCAmJiAoanN4KFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgeyByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBzdHJhdGVneSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgfSwgcGVybWlzc2lvblJlcXVlc3RzOiBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb246IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gfSkpXSB9KSk7XG59O1xuY29uc3QgUGVybWlzc2lvblJlcXVlc3RMaXN0ID0gZm9yd2FyZFJlZihmdW5jdGlvbiBQZXJtaXNzaW9uUmVxdWVzdExpc3QocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgcGVybWlzc2lvblJlcXVlc3RzLCBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHMtbGlzdFwiLCByZWY6IHJlZiwgLi4ucmVzdCwgY2hpbGRyZW46IHBlcm1pc3Npb25SZXF1ZXN0cy5tYXAoKHJlcXVlc3QsIHJlcUluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHVzZXIsIHBlcm1pc3Npb25zIH0gPSByZXF1ZXN0O1xuICAgICAgICAgICAgcmV0dXJuIChqc3goRnJhZ21lbnQkMSwgeyBjaGlsZHJlbjogcGVybWlzc2lvbnMubWFwKChwZXJtaXNzaW9uKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdFwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fbWVzc2FnZVwiLCBjaGlsZHJlbjogbWVzc2FnZUZvclBlcm1pc3Npb24odXNlci5uYW1lIHx8IHVzZXIuaWQsIHBlcm1pc3Npb24sIHQpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1hbGxvd1wiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdncmFudCcpLCBjaGlsZHJlbjogdCgnQWxsb3cnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ3Jldm9rZScpLCBjaGlsZHJlbjogdCgnUmV2b2tlJykgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLXJlamVjdFwiLCB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiBoYW5kbGVVcGRhdGVQZXJtaXNzaW9uKHJlcXVlc3QsICdkaXNtaXNzJyksIGNoaWxkcmVuOiB0KCdEaXNtaXNzJykgfSldIH0sIHBlcm1pc3Npb24pKSkgfSwgYCR7dXNlci5pZH0vJHtyZXFJbmRleH1gKSk7XG4gICAgICAgIH0pIH0pKTtcbn0pO1xuY29uc3QgQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBjbGFzc05hbWUsIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiYnV0dG9uXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uJywgY2xhc3NOYW1lKSwgLi4ucmVzdCB9KSk7XG59O1xuY29uc3QgbWVzc2FnZUZvclBlcm1pc3Npb24gPSAodXNlck5hbWUsIHBlcm1pc3Npb24sIHQpID0+IHtcbiAgICBzd2l0Y2ggKHBlcm1pc3Npb24pIHtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVhaycsIHsgdXNlck5hbWUgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRTpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuJywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyBwZXJtaXNzaW9uOiB7eyBwZXJtaXNzaW9uIH19Jywge1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICB9XG59O1xuXG5jb25zdCBTdHJlYW1UaGVtZSA9ICh7IGFzOiBDb21wb25lbnQgPSAnZGl2JywgY2xhc3NOYW1lLCBjaGlsZHJlbiwgLi4ucHJvcHMgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KENvbXBvbmVudCwgeyAuLi5wcm9wcywgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW8nLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fZGlzYWJsZWQtdmlkZW8tcHJldmlld1wiLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdE5vQ2FtZXJhUHJldmlldyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHJfdmlkZW9fX3ZpZGVvLXByZXZpZXdfX25vLWNhbWVyYS1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdObyBjYW1lcmEgZm91bmQnKSB9KSk7XG59O1xuY29uc3QgVmlkZW9QcmV2aWV3ID0gKHsgY2xhc3NOYW1lLCBtaXJyb3IgPSB0cnVlLCBEaXNhYmxlZFZpZGVvUHJldmlldyA9IERlZmF1bHREaXNhYmxlZFZpZGVvUHJldmlldywgTm9DYW1lcmFQcmV2aWV3ID0gRGVmYXVsdE5vQ2FtZXJhUHJldmlldywgU3RhcnRpbmdDYW1lcmFQcmV2aWV3ID0gTG9hZGluZ0luZGljYXRvciwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlQ2FtZXJhU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBkZXZpY2VzLCBzdGF0dXMsIGlzTXV0ZSwgbWVkaWFTdHJlYW0gfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgbGV0IGNvbnRlbnRzO1xuICAgIGlmIChpc011dGUgJiYgZGV2aWNlcz8ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRlbnRzID0ganN4KE5vQ2FtZXJhUHJldmlldywge30pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgICBjb25zdCBsb2FkaW5nID0gIW1lZGlhU3RyZWFtO1xuICAgICAgICBjb250ZW50cyA9IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbbWVkaWFTdHJlYW0gJiYgKGpzeChCYXNlVmlkZW8sIHsgc3RyZWFtOiBtZWRpYVN0cmVhbSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1taXJyb3InOiBtaXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LS1sb2FkaW5nJzogbG9hZGluZyxcbiAgICAgICAgICAgICAgICAgICAgfSkgfSkpLCBsb2FkaW5nICYmIGpzeChTdGFydGluZ0NhbWVyYVByZXZpZXcsIHt9KV0gfSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goRGlzYWJsZWRWaWRlb1ByZXZpZXcsIHt9KTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldy1jb250YWluZXInLCBjbGFzc05hbWUpLCBjaGlsZHJlbjogY29udGVudHMgfSkpO1xufTtcblxuY29uc3QgVG9nZ2xlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiBqc3goSWNvbkJ1dHRvbiwgeyBlbmFibGVkOiBwcm9wcy5tZW51U2hvd24sIGljb246IFwiZWxsaXBzaXNcIiwgcmVmOiByZWYgfSk7XG59KTtcbmNvbnN0IERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXkgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBzdG9wU2NyZWVuU2hhcmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnNjcmVlblNoYXJlLmRpc2FibGUoKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5XCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJzY3JlZW4tc2hhcmUtb2ZmXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fdGl0bGVcIiwgY2hpbGRyZW46IHQoJ1lvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlbicpIH0pLCBqc3hzKFwiYnV0dG9uXCIsIHsgb25DbGljazogc3RvcFNjcmVlblNoYXJlLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zY3JlZW4tc2hhcmUtb3ZlcmxheV9fYnV0dG9uXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJjbG9zZVwiIH0pLCBcIiBcIiwgdCgnU3RvcCBTY3JlZW4gU2hhcmluZycpXSB9KV0gfSkpO1xufTtcbmNvbnN0IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgbWVudVBsYWNlbWVudCA9ICdib3R0b20tc3RhcnQnLCBzaG93TWVudUJ1dHRvbiA9IHRydWUsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51OiBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxID0gUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBpc1NjcmVlblNoYXJpbmcgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgaWYgKHBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICBpc1NjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaycpIHtcbiAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIHt9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2hvd01lbnVCdXR0b24gJiYgKGpzeChNZW51VG9nZ2xlLCB7IHN0cmF0ZWd5OiBcImZpeGVkXCIsIHBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24sIGNoaWxkcmVuOiBqc3goUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnUkMSwge30pIH0pKSwganN4KFJlYWN0aW9uLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSwganN4KFBhcnRpY2lwYW50RGV0YWlscywgeyBpbmRpY2F0b3JzVmlzaWJsZTogaW5kaWNhdG9yc1Zpc2libGUgfSldIH0pKTtcbn07XG5jb25zdCBQYXJ0aWNpcGFudERldGFpbHMgPSAoeyBpbmRpY2F0b3JzVmlzaWJsZSA9IHRydWUsIH0pID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyBpc0xvY2FsUGFydGljaXBhbnQsIGNvbm5lY3Rpb25RdWFsaXR5LCBwaW4sIHNlc3Npb25JZCwgbmFtZSwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nID0gISFjb25uZWN0aW9uUXVhbGl0eSAmJlxuICAgICAgICBTZnVNb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlbY29ubmVjdGlvblF1YWxpdHldLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGNhblVucGluID0gISFwaW4gJiYgcGluLmlzTG9jYWxQaW47XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc1wiLCBjaGlsZHJlbjoganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lXCIsIGNoaWxkcmVuOiBbbmFtZSB8fCB1c2VySWQsIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNBdWRpb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tYXVkaW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmICFoYXNWaWRlb1RyYWNrICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tdmlkZW8tbXV0ZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGNhblVucGluICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIG1vbnN0cm9zaXR5IG9uY2Ugd2UgaGF2ZSBhIHByb3BlciBkZXNpZ25cbiAgICAgICAgICAgICAgICAgICAgICAgIGpzeChcInNwYW5cIiwgeyB0aXRsZTogdCgnVW5waW4nKSwgb25DbGljazogKCkgPT4gY2FsbD8udW5waW4oc2Vzc2lvbklkKSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fbmFtZS0tcGlubmVkXCIgfSkpLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiBqc3goU3BlZWNoSW5kaWNhdG9yLCB7fSldIH0pIH0pLCBpbmRpY2F0b3JzVmlzaWJsZSAmJiAoanN4KE5vdGlmaWNhdGlvbiwgeyBpc1Zpc2libGU6IGlzTG9jYWxQYXJ0aWNpcGFudCAmJlxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uUXVhbGl0eSA9PT0gU2Z1TW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5LlBPT1IsIG1lc3NhZ2U6IHQoJ1Bvb3IgY29ubmVjdGlvbiBxdWFsaXR5JyksIGNoaWxkcmVuOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eScsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX2Nvbm5lY3Rpb24tcXVhbGl0eS0tJHtjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nfWApLCB0aXRsZTogY29ubmVjdGlvblF1YWxpdHlBc1N0cmluZyB9KSkgfSkpXSB9KSk7XG59O1xuY29uc3QgU3BlZWNoSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyIH0gPSBwYXJ0aWNpcGFudDtcbiAgICByZXR1cm4gKGpzeHMoXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3InLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3ItLXNwZWFraW5nJywgaXNEb21pbmFudFNwZWFrZXIgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tZG9taW5hbnQnKSwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSksIGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBQYXJ0aWNpcGFudFZpZXcgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFBhcnRpY2lwYW50Vmlldyh7IHBhcnRpY2lwYW50LCB0cmFja1R5cGUgPSAndmlkZW9UcmFjaycsIG11dGVBdWRpbywgcmVmczogeyBzZXRWaWRlb0VsZW1lbnQsIHNldFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50IH0gPSB7fSwgY2xhc3NOYW1lLCBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgfSwgcmVmKSB7XG4gICAgY29uc3QgeyBpc0xvY2FsUGFydGljaXBhbnQsIGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgIGNvbnN0IGhhc0F1ZGlvVHJhY2sgPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzVmlkZW9UcmFjayA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBbdHJhY2tlZEVsZW1lbnQsIHNldFRyYWNrZWRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjb250ZXh0VmlkZW9FbGVtZW50LCBzZXRDb250ZXh0VmlkZW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjb250ZXh0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQsIHNldENvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBUT0RPOiBhbGxvdyB0byBwYXNzIGN1c3RvbSBWaWV3cG9ydFRyYWNrZXIgaW5zdGFuY2UgZnJvbSBwcm9wc1xuICAgIHVzZVRyYWNrRWxlbWVudFZpc2liaWxpdHkoe1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRyYWNrZWRFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgfSk7XG4gICAgY29uc3QgeyB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkIH0gPSB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHBhcnRpY2lwYW50LFxuICAgICAgICBwYXJ0aWNpcGFudFZpZXdFbGVtZW50OiB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdmlkZW9FbGVtZW50OiBjb250ZXh0VmlkZW9FbGVtZW50LFxuICAgICAgICB2aWRlb1BsYWNlaG9sZGVyRWxlbWVudDogY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgfSksIFtcbiAgICAgICAgY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICBdKTtcbiAgICBjb25zdCB2aWRlb1JlZnMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHNldFZpZGVvRWxlbWVudDogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH0pLCBbc2V0VmlkZW9FbGVtZW50LCBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcInBhcnRpY2lwYW50LXZpZXdcIiwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgYXBwbHlFbGVtZW50VG9SZWYocmVmLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHNldFRyYWNrZWRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldycsIGlzRG9taW5hbnRTcGVha2VyICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLWRvbWluYW50LXNwZWFrZXInLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLXNwZWFraW5nJywgIWhhc1ZpZGVvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tdmlkZW8nLCAhaGFzQXVkaW9UcmFjayAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1uby1hdWRpbycsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBqc3hzKFBhcnRpY2lwYW50Vmlld0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHBhcnRpY2lwYW50Vmlld0NvbnRleHRWYWx1ZSwgY2hpbGRyZW46IFshaXNMb2NhbFBhcnRpY2lwYW50ICYmICFtdXRlQXVkaW8gJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtoYXNBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwiYXVkaW9UcmFja1wiIH0pKSwgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwic2NyZWVuU2hhcmVBdWRpb1RyYWNrXCIgfSkpXSB9KSksIGpzeChWaWRlbyQxLCB7IFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlOiB0cmFja1R5cGUsIHJlZnM6IHZpZGVvUmVmcywgZW5hYmxlZDogaXNMb2NhbFBhcnRpY2lwYW50IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja1R5cGUgIT09ICd2aWRlb1RyYWNrJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQYXJ0aWNpcGFudFZpZGVvRW5hYmxlZChwYXJ0aWNpcGFudC5zZXNzaW9uSWQpLCBhdXRvUGxheTogdHJ1ZSB9KSwgaXNDb21wb25lbnRUeXBlKFBhcnRpY2lwYW50Vmlld1VJKSA/IChqc3goUGFydGljaXBhbnRWaWV3VUksIHt9KSkgOiAoUGFydGljaXBhbnRWaWV3VUkpXSB9KSB9KSk7XG59KTtcblBhcnRpY2lwYW50Vmlldy5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudFZpZXcnO1xuXG4vLyByZS1leHBvcnRpbmcgdGhlIFN0cmVhbUNhbGxQcm92aWRlciBhcyBTdHJlYW1DYWxsXG5jb25zdCBTdHJlYW1DYWxsID0gU3RyZWFtQ2FsbFByb3ZpZGVyO1xuU3RyZWFtQ2FsbC5kaXNwbGF5TmFtZSA9ICdTdHJlYW1DYWxsJztcblxudmFyIEpvaW5pbmcgPSBcIkpvaW5pbmdcIjtcbnZhciBNaWMgPSBcIk1pY1wiO1xudmFyIFJpbmdpbmcgPSBcIlJpbmdpbmdcIjtcbnZhciBTcGVha2VycyA9IFwiU3BlYWtlcnNcIjtcbnZhciBWaWRlbyA9IFwiVmlkZW9cIjtcbnZhciBMaXZlID0gXCJMaXZlXCI7XG52YXIgUmVhY3Rpb25zID0gXCJSZWFjdGlvbnNcIjtcbnZhciBTdGF0aXN0aWNzID0gXCJTdGF0aXN0aWNzXCI7XG52YXIgSW52aXRlID0gXCJJbnZpdGVcIjtcbnZhciBKb2luID0gXCJKb2luXCI7XG52YXIgWW91ID0gXCJZb3VcIjtcbnZhciBNZSA9IFwiTWVcIjtcbnZhciBVbmtub3duID0gXCJVbmtub3duXCI7XG52YXIgUmVmcmVzaCA9IFwiUmVmcmVzaFwiO1xudmFyIEFsbG93ID0gXCJBbGxvd1wiO1xudmFyIFJldm9rZSA9IFwiUmV2b2tlXCI7XG52YXIgRGlzbWlzcyA9IFwiRGlzbWlzc1wiO1xudmFyIFBpbm5lZCA9IFwiUGlubmVkXCI7XG52YXIgVW5waW4gPSBcIlVucGluXCI7XG52YXIgUGluID0gXCJQaW5cIjtcbnZhciBCbG9jayA9IFwiQmxvY2tcIjtcbnZhciBFbnRlciA9IFwiRW50ZXJcIjtcbnZhciBMZWF2ZSA9IFwiTGVhdmVcIjtcbnZhciBQYXJ0aWNpcGFudHMgPSBcIlBhcnRpY2lwYW50c1wiO1xudmFyIEFub255bW91cyA9IFwiLCBhbmQgKHt7IGNvdW50IH19KSBhbm9ueW1vdXNcIjtcbnZhciBlbiA9IHtcblx0Sm9pbmluZzogSm9pbmluZyxcblx0TWljOiBNaWMsXG5cdFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvblwiOiBcIk5vIGludGVybmV0IGNvbm5lY3Rpb25cIixcblx0XCJSZS1jb25uZWN0aW5nXCI6IFwiUmUtY29ubmVjdGluZ1wiLFxuXHRSaW5naW5nOiBSaW5naW5nLFxuXHRcIlNjcmVlbiBTaGFyZVwiOiBcIlNjcmVlbiBTaGFyZVwiLFxuXHRcIlNlbGVjdCBhIENhbWVyYVwiOiBcIlNlbGVjdCBhIENhbWVyYVwiLFxuXHRcIlNlbGVjdCBhIE1pY1wiOiBcIlNlbGVjdCBhIE1pY1wiLFxuXHRcIlNlbGVjdCBTcGVha2Vyc1wiOiBcIlNlbGVjdCBTcGVha2Vyc1wiLFxuXHRTcGVha2VyczogU3BlYWtlcnMsXG5cdFZpZGVvOiBWaWRlbyxcblx0XCJZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuXCI6IFwiWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLlwiLFxuXHRMaXZlOiBMaXZlLFxuXHRcIllvdSBjYW4gbm93IHNwZWFrLlwiOiBcIllvdSBjYW4gbm93IHNwZWFrLlwiLFxuXHRcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzcGVhay5cIjogXCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuXCIsXG5cdFwiWW91IGNhbiBubyBsb25nZXIgc3BlYWsuXCI6IFwiWW91IGNhbiBubyBsb25nZXIgc3BlYWsuXCIsXG5cdFwiWW91IGNhbiBub3cgc2hhcmUgeW91ciB2aWRlby5cIjogXCJZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLlwiLFxuXHRcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSB5b3VyIHZpZGVvLlwiLFxuXHRcIllvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciB2aWRlby5cIixcblx0XCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLlwiOiBcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdG9wLi4uXCIsXG5cdFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uXCI6IFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0YXJ0Li4uXCIsXG5cdFwiUmVjb3JkIGNhbGxcIjogXCJSZWNvcmQgY2FsbFwiLFxuXHRSZWFjdGlvbnM6IFJlYWN0aW9ucyxcblx0U3RhdGlzdGljczogU3RhdGlzdGljcyxcblx0XCJZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHNjcmVlbi5cIjogXCJZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHNjcmVlbi5cIixcblx0XCJBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgc2NyZWVuLlwiOiBcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSBzY3JlZW4uXCIsXG5cdFwiWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciBzY3JlZW4uXCI6IFwiWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciBzY3JlZW4uXCIsXG5cdFwiU2hhcmUgc2NyZWVuXCI6IFwiU2hhcmUgc2NyZWVuXCIsXG5cdFwiSW5jb21pbmcgQ2FsbC4uLlwiOiBcIkluY29taW5nIENhbGwuLi5cIixcblx0XCJDYWxsaW5nLi4uXCI6IFwiQ2FsbGluZy4uLlwiLFxuXHRcIk11dGUgQWxsXCI6IFwiTXV0ZSBBbGxcIixcblx0SW52aXRlOiBJbnZpdGUsXG5cdEpvaW46IEpvaW4sXG5cdFlvdTogWW91LFxuXHRNZTogTWUsXG5cdFVua25vd246IFVua25vd24sXG5cdFwiVG9nZ2xlIGRldmljZSBtZW51XCI6IFwiVG9nZ2xlIGRldmljZSBtZW51XCIsXG5cdFwiQ2FsbCBSZWNvcmRpbmdzXCI6IFwiQ2FsbCBSZWNvcmRpbmdzXCIsXG5cdFJlZnJlc2g6IFJlZnJlc2gsXG5cdFwiQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zXCI6IFwiQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zXCIsXG5cdFwiVmlkZW8gcHVibGlzaGluZyBpcyBkaXNhYmxlZCBieSB0aGUgc3lzdGVtXCI6IFwiVmlkZW8gcHVibGlzaGluZyBpcyBkaXNhYmxlZCBieSB0aGUgc3lzdGVtXCIsXG5cdFwiWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIHZpZGVvXCI6IFwiWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIHZpZGVvXCIsXG5cdFwiWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvXCI6IFwiWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIGF1ZGlvXCIsXG5cdFwiWW91IGFyZSBwcmVzZW50aW5nIHlvdXIgc2NyZWVuXCI6IFwiWW91IGFyZSBwcmVzZW50aW5nIHlvdXIgc2NyZWVuXCIsXG5cdFwiU3RvcCBTY3JlZW4gU2hhcmluZ1wiOiBcIlN0b3AgU2NyZWVuIFNoYXJpbmdcIixcblx0QWxsb3c6IEFsbG93LFxuXHRSZXZva2U6IFJldm9rZSxcblx0RGlzbWlzczogRGlzbWlzcyxcblx0XCJNaWNyb3Bob25lIG9uXCI6IFwiTWljcm9waG9uZSBvblwiLFxuXHRcIk1pY3JvcGhvbmUgb2ZmXCI6IFwiTWljcm9waG9uZSBvZmZcIixcblx0XCJDYW1lcmEgb25cIjogXCJDYW1lcmEgb25cIixcblx0XCJDYW1lcmEgb2ZmXCI6IFwiQ2FtZXJhIG9mZlwiLFxuXHRcIk5vIGNhbWVyYSBmb3VuZFwiOiBcIk5vIGNhbWVyYSBmb3VuZFwiLFxuXHRcIlZpZGVvIGlzIGRpc2FibGVkXCI6IFwiVmlkZW8gaXMgZGlzYWJsZWRcIixcblx0UGlubmVkOiBQaW5uZWQsXG5cdFVucGluOiBVbnBpbixcblx0UGluOiBQaW4sXG5cdFwiUGluIGZvciBldmVyeW9uZVwiOiBcIlBpbiBmb3IgZXZlcnlvbmVcIixcblx0XCJVbnBpbiBmb3IgZXZlcnlvbmVcIjogXCJVbnBpbiBmb3IgZXZlcnlvbmVcIixcblx0QmxvY2s6IEJsb2NrLFxuXHRcIlR1cm4gb2ZmIHZpZGVvXCI6IFwiVHVybiBvZmYgdmlkZW9cIixcblx0XCJUdXJuIG9mZiBzY3JlZW4gc2hhcmVcIjogXCJUdXJuIG9mZiBzY3JlZW4gc2hhcmVcIixcblx0XCJNdXRlIGF1ZGlvXCI6IFwiTXV0ZSBhdWRpb1wiLFxuXHRcIk11dGUgc2NyZWVuIHNoYXJlIGF1ZGlvXCI6IFwiTXV0ZSBzY3JlZW4gc2hhcmUgYXVkaW9cIixcblx0XCJBbGxvdyBhdWRpb1wiOiBcIkFsbG93IGF1ZGlvXCIsXG5cdFwiQWxsb3cgdmlkZW9cIjogXCJBbGxvdyB2aWRlb1wiLFxuXHRcIkFsbG93IHNjcmVlbiBzaGFyaW5nXCI6IFwiQWxsb3cgc2NyZWVuIHNoYXJpbmdcIixcblx0XCJEaXNhYmxlIGF1ZGlvXCI6IFwiRGlzYWJsZSBhdWRpb1wiLFxuXHRcIkRpc2FibGUgdmlkZW9cIjogXCJEaXNhYmxlIHZpZGVvXCIsXG5cdFwiRGlzYWJsZSBzY3JlZW4gc2hhcmluZ1wiOiBcIkRpc2FibGUgc2NyZWVuIHNoYXJpbmdcIixcblx0RW50ZXI6IEVudGVyLFxuXHRMZWF2ZTogTGVhdmUsXG5cdFwiTGVhdmUgY2FsbFwiOiBcIkxlYXZlIGNhbGxcIixcblx0XCJFbmQgY2FsbCBmb3IgYWxsXCI6IFwiRW5kIGNhbGwgZm9yIGFsbFwiLFxuXHRcInt7IGRpcmVjdGlvbiB9fSBmdWxsc2NyZWVuXCI6IFwie3sgZGlyZWN0aW9uIH19IGZ1bGxzY3JlZW5cIixcblx0XCJ7eyBkaXJlY3Rpb24gfX0gcGljdHVyZS1pbi1waWN0dXJlXCI6IFwie3sgZGlyZWN0aW9uIH19IHBpY3R1cmUtaW4tcGljdHVyZVwiLFxuXHRcIkRvbWluYW50IFNwZWFrZXJcIjogXCJEb21pbmFudCBTcGVha2VyXCIsXG5cdFwiUG9vciBjb25uZWN0aW9uIHF1YWxpdHlcIjogXCJQb29yIGNvbm5lY3Rpb24gcXVhbGl0eS4gUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbi5cIixcblx0UGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudHMsXG5cdEFub255bW91czogQW5vbnltb3VzLFxuXHRcIk5vIHBhcnRpY2lwYW50cyBmb3VuZFwiOiBcIk5vIHBhcnRpY2lwYW50cyBmb3VuZFwiLFxuXHRcIlBhcnRpY2lwYW50cyAoe3sgbnVtYmVyT2ZQYXJ0aWNpcGFudHMgfX0pXCI6IFwiUGFydGljaXBhbnRzICh7eyBudW1iZXJPZlBhcnRpY2lwYW50cyB9fSlcIixcblx0XCJ7eyB1c2VyTmFtZSB9fSBpcyBzaGFyaW5nIHRoZWlyIHNjcmVlblwiOiBcInt7IHVzZXJOYW1lIH19IGlzIHNoYXJpbmcgdGhlaXIgc2NyZWVuXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVha1wiOiBcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc3BlYWtcIixcblx0XCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNoYXJlIHRoZWlyIGNhbWVyYVwiOiBcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhXCIsXG5cdFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBwcmVzZW50IHRoZWlyIHNjcmVlblwiOiBcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW5cIixcblx0XCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHBlcm1pc3Npb246IHt7IHBlcm1pc3Npb24gfX1cIjogXCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHBlcm1pc3Npb246IHt7IHBlcm1pc3Npb24gfX1cIlxufTtcblxuY29uc3QgdHJhbnNsYXRpb25zID0geyBlbiB9O1xuXG5jb25zdCBTdHJlYW1WaWRlbyA9IChwcm9wcykgPT4ge1xuICAgIHJldHVybiAoanN4KFN0cmVhbVZpZGVvUHJvdmlkZXIsIHsgdHJhbnNsYXRpb25zT3ZlcnJpZGVzOiB0cmFuc2xhdGlvbnMsIC4uLnByb3BzIH0pKTtcbn07XG5TdHJlYW1WaWRlby5kaXNwbGF5TmFtZSA9ICdTdHJlYW1WaWRlbyc7XG5cbmNvbnN0IHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQgPSAoY2FsbCkgPT4ge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkocGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNldFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGxdKTtcbn07XG5jb25zdCB1c2VTcGVha2VyTGF5b3V0U29ydFByZXNldCA9IChjYWxsLCBpc09uZU9uT25lQ2FsbCkgPT4ge1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgLy8gYWx3YXlzIHNob3cgdGhlIHJlbW90ZSBwYXJ0aWNpcGFudCBpbiB0aGUgc3BvdGxpZ2h0XG4gICAgICAgIGlmIChpc09uZU9uT25lQ2FsbCkge1xuICAgICAgICAgICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoY29tYmluZUNvbXBhcmF0b3JzKHNjcmVlblNoYXJpbmcsIGxvZ2dlZEluKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsLnNldFNvcnRQYXJ0aWNpcGFudHNCeShzcGVha2VyTGF5b3V0U29ydFByZXNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0U29ydFByZXNldChjYWxsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbCwgaXNPbmVPbk9uZUNhbGxdKTtcbn07XG5jb25zdCByZXNldFNvcnRQcmVzZXQgPSAoY2FsbCkgPT4ge1xuICAgIC8vIHJlc2V0IHRoZSBzb3J0aW5nIHRvIHRoZSBkZWZhdWx0IGZvciB0aGUgY2FsbCB0eXBlXG4gICAgY29uc3QgY2FsbENvbmZpZyA9IENhbGxUeXBlcy5nZXQoY2FsbC50eXBlKTtcbiAgICBjYWxsLnNldFNvcnRQYXJ0aWNpcGFudHNCeShjYWxsQ29uZmlnLm9wdGlvbnMuc29ydFBhcnRpY2lwYW50c0J5IHx8IGRlZmF1bHRTb3J0UHJlc2V0KTtcbn07XG5jb25zdCBsb2dnZWRJbiA9IChhLCBiKSA9PiB7XG4gICAgaWYgKGEuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAoYi5pc0xvY2FsUGFydGljaXBhbnQpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IExpdmVzdHJlYW1MYXlvdXQgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cywgdXNlUmVtb3RlUGFydGljaXBhbnRzLCB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbY3VycmVudFNwZWFrZXJdID0gcGFydGljaXBhbnRzO1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IGhhc09uZ29pbmdTY3JlZW5TaGFyZSA9IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSgpO1xuICAgIGNvbnN0IHByZXNlbnRlciA9IGhhc09uZ29pbmdTY3JlZW5TaGFyZVxuICAgICAgICA/IHBhcnRpY2lwYW50cy5maW5kKGhhc1NjcmVlblNoYXJlKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgIGNvbnN0IE92ZXJsYXkgPSAoanN4KFBhcnRpY2lwYW50T3ZlcmxheSwgeyBzaG93UGFydGljaXBhbnRDb3VudDogcHJvcHMuc2hvd1BhcnRpY2lwYW50Q291bnQsIHNob3dEdXJhdGlvbjogcHJvcHMuc2hvd0R1cmF0aW9uLCBzaG93TGl2ZUJhZGdlOiBwcm9wcy5zaG93TGl2ZUJhZGdlLCBzaG93U3BlYWtlck5hbWU6IHByb3BzLnNob3dTcGVha2VyTmFtZSB9KSk7XG4gICAgY29uc3QgeyBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IEZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5ID0gaGFzT25nb2luZ1NjcmVlblNoYXJlICYmIChqc3goUGFydGljaXBhbnRPdmVybGF5XG4gICAgLy8gdGhlc2UgZWxlbWVudHMgYXJlbid0IG5lZWRlZCBmb3IgdGhlIHZpZGVvIGZlZWRcbiAgICAsIHsgXG4gICAgICAgIC8vIHRoZXNlIGVsZW1lbnRzIGFyZW4ndCBuZWVkZWQgZm9yIHRoZSB2aWRlbyBmZWVkXG4gICAgICAgIHNob3dQYXJ0aWNpcGFudENvdW50OiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dQYXJ0aWNpcGFudENvdW50ID8/IGZhbHNlLCBzaG93RHVyYXRpb246IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd0R1cmF0aW9uID8/IGZhbHNlLCBzaG93TGl2ZUJhZGdlOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dMaXZlQmFkZ2UgPz8gZmFsc2UsIHNob3dTcGVha2VyTmFtZTogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93U3BlYWtlck5hbWUgPz8gdHJ1ZSB9KSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJiBwcmVzZW50ZXIgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3NjcmVlbi1zaGFyZVwiLCBwYXJ0aWNpcGFudDogcHJlc2VudGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogT3ZlcmxheSwgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlVHJhY2tcIiwgbXV0ZUF1ZGlvIC8vIGF1ZGlvIGlzIHJlbmRlcmVkIGJ5IFBhcnRpY2lwYW50c0F1ZGlvXG4gICAgICAgICAgICAgICAgOiB0cnVlIH0pKSwgY3VycmVudFNwZWFrZXIgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgY2xhc3NOYW1lOiBjbHN4KGhhc09uZ29pbmdTY3JlZW5TaGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbHN4KCdzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19mbG9hdGluZy1wYXJ0aWNpcGFudCcsIGBzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19mbG9hdGluZy1wYXJ0aWNpcGFudC0tJHtmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnBvc2l0aW9uID8/ICd0b3AtcmlnaHQnfWApKSwgcGFydGljaXBhbnQ6IGN1cnJlbnRTcGVha2VyLCBQYXJ0aWNpcGFudFZpZXdVSTogRmxvYXRpbmdQYXJ0aWNpcGFudE92ZXJsYXkgfHwgT3ZlcmxheSwgbXV0ZUF1ZGlvIC8vIGF1ZGlvIGlzIHJlbmRlcmVkIGJ5IFBhcnRpY2lwYW50c0F1ZGlvXG4gICAgICAgICAgICAgICAgOiB0cnVlIH0pKV0gfSkpO1xufTtcbmNvbnN0IFBhcnRpY2lwYW50T3ZlcmxheSA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZW5hYmxlRnVsbFNjcmVlbiA9IHRydWUsIHNob3dQYXJ0aWNpcGFudENvdW50ID0gdHJ1ZSwgc2hvd0R1cmF0aW9uID0gdHJ1ZSwgc2hvd0xpdmVCYWRnZSA9IHRydWUsIHNob3dTcGVha2VyTmFtZSA9IGZhbHNlLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRDb3VudCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudENvdW50ID0gdXNlUGFydGljaXBhbnRDb3VudCgpO1xuICAgIGNvbnN0IGR1cmF0aW9uID0gdXNlVXBkYXRlQ2FsbER1cmF0aW9uKCk7XG4gICAgY29uc3QgdG9nZ2xlRnVsbFNjcmVlbiA9IHVzZVRvZ2dsZUZ1bGxTY3JlZW4oKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19vdmVybGF5XCIsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX292ZXJsYXlfX2JhclwiLCBjaGlsZHJlbjogW3Nob3dMaXZlQmFkZ2UgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fbGl2ZS1iYWRnZVwiLCBjaGlsZHJlbjogdCgnTGl2ZScpIH0pKSwgc2hvd1BhcnRpY2lwYW50Q291bnQgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fdmlld2Vycy1jb3VudFwiLCBjaGlsZHJlbjogcGFydGljaXBhbnRDb3VudCB9KSksIHNob3dTcGVha2VyTmFtZSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19zcGVha2VyLW5hbWVcIiwgdGl0bGU6IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8ICcnLCBjaGlsZHJlbjogcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgJycgfSkpLCBzaG93RHVyYXRpb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZHVyYXRpb25cIiwgY2hpbGRyZW46IGZvcm1hdER1cmF0aW9uKGR1cmF0aW9uKSB9KSksIGVuYWJsZUZ1bGxTY3JlZW4gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZ28tZnVsbHNjcmVlblwiLCBvbkNsaWNrOiB0b2dnbGVGdWxsU2NyZWVuIH0pKV0gfSkgfSkpO1xufTtcbkxpdmVzdHJlYW1MYXlvdXQuZGlzcGxheU5hbWUgPSAnTGl2ZXN0cmVhbUxheW91dCc7XG5jb25zdCB1c2VVcGRhdGVDYWxsRHVyYXRpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgeyB1c2VJc0NhbGxMaXZlLCB1c2VDYWxsU2Vzc2lvbiB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBpc0NhbGxMaXZlID0gdXNlSXNDYWxsTGl2ZSgpO1xuICAgIGNvbnN0IHNlc3Npb24gPSB1c2VDYWxsU2Vzc2lvbigpO1xuICAgIGNvbnN0IFtkdXJhdGlvbiwgc2V0RHVyYXRpb25dID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlc3Npb24gfHwgIXNlc3Npb24ubGl2ZV9zdGFydGVkX2F0KVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGNvbnN0IGxpdmVTdGFydFRpbWUgPSBuZXcgRGF0ZShzZXNzaW9uLmxpdmVfc3RhcnRlZF9hdCk7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gbGl2ZVN0YXJ0VGltZS5nZXRUaW1lKCkpIC8gMTAwMCk7XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpc0NhbGxMaXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgIHNldER1cmF0aW9uKChkKSA9PiBkICsgMSk7XG4gICAgICAgIH0sIDEwMDApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIH07XG4gICAgfSwgW2lzQ2FsbExpdmVdKTtcbiAgICByZXR1cm4gZHVyYXRpb247XG59O1xuY29uc3QgdXNlVG9nZ2xlRnVsbFNjcmVlbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Vmlld0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbaXNGdWxsc2NyZWVuLCBzZXRJc0Z1bGxzY3JlZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChpc0Z1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNGdWxsc2NyZWVuKGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFydGljaXBhbnRWaWV3RWxlbWVudD8ucmVxdWVzdEZ1bGxzY3JlZW4oKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJc0Z1bGxzY3JlZW4odHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIFtpc0Z1bGxzY3JlZW4sIHBhcnRpY2lwYW50Vmlld0VsZW1lbnRdKTtcbn07XG5jb25zdCBmb3JtYXREdXJhdGlvbiA9IChkdXJhdGlvbkluTXMpID0+IHtcbiAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkdXJhdGlvbkluTXMgLyA4NjQwMCk7XG4gICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uSW5NcyAvIDM2MDApO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChkdXJhdGlvbkluTXMgJSAzNjAwKSAvIDYwKTtcbiAgICBjb25zdCBzZWNvbmRzID0gZHVyYXRpb25Jbk1zICUgNjA7XG4gICAgcmV0dXJuIGAke2RheXMgPyBkYXlzICsgJyAnIDogJyd9JHtob3VycyA/IGhvdXJzICsgJzonIDogJyd9JHttaW51dGVzIDwgMTAgPyAnMCcgOiAnJ30ke21pbnV0ZXN9OiR7c2Vjb25kcyA8IDEwID8gJzAnIDogJyd9JHtzZWNvbmRzfWA7XG59O1xuXG5jb25zdCBHUk9VUF9TSVpFID0gMTY7XG5jb25zdCBQYWdpbmF0ZWRHcmlkTGF5b3V0R3JvdXAgPSAoeyBncm91cCwgVmlkZW9QbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUksIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX2dyb3VwJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0LS1vbmUnOiBncm91cC5sZW5ndGggPT09IDEsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLXR3by1mb3VyJzogZ3JvdXAubGVuZ3RoID49IDIgJiYgZ3JvdXAubGVuZ3RoIDw9IDQsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLWZpdmUtbmluZSc6IGdyb3VwLmxlbmd0aCA+PSA1ICYmIGdyb3VwLmxlbmd0aCA8PSA5LFxuICAgICAgICB9KSwgY2hpbGRyZW46IGdyb3VwLm1hcCgocGFydGljaXBhbnQpID0+IChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCwgbXV0ZUF1ZGlvOiB0cnVlLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUkgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpIH0pKTtcbn07XG5jb25zdCBQYWdpbmF0ZWRHcmlkTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBncm91cFNpemUgPSAocHJvcHMuZ3JvdXBTaXplIHx8IDApID4gMFxuICAgICAgICA/IHByb3BzLmdyb3VwU2l6ZSB8fCBHUk9VUF9TSVpFXG4gICAgICAgIDogR1JPVVBfU0laRSwgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPSBmYWxzZSwgcGFnZUFycm93c1Zpc2libGUgPSB0cnVlLCBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtwYWdlLCBzZXRQYWdlXSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIHNldFBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCxdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cywgdXNlUmVtb3RlUGFydGljaXBhbnRzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IHJlbW90ZVBhcnRpY2lwYW50cyA9IHVzZVJlbW90ZVBhcnRpY2lwYW50cygpO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW3BhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIC8vIG9ubHkgdXNlZCB0byByZW5kZXIgdmlkZW8gZWxlbWVudHNcbiAgICBjb25zdCBwYXJ0aWNpcGFudEdyb3VwcyA9IHVzZU1lbW8oKCkgPT4gY2h1bmsoZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPyByZW1vdGVQYXJ0aWNpcGFudHMgOiBwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZSksIFtleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCwgcmVtb3RlUGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZV0pO1xuICAgIGNvbnN0IHBhZ2VDb3VudCA9IHBhcnRpY2lwYW50R3JvdXBzLmxlbmd0aDtcbiAgICAvLyB1cGRhdGUgcGFnZSB3aGVuIHBhZ2UgY291bnQgaXMgcmVkdWNlZCBhbmQgc2VsZWN0ZWQgcGFnZSBubyBsb25nZXIgZXhpc3RzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UgPiBwYWdlQ291bnQgLSAxKSB7XG4gICAgICAgICAgICBzZXRQYWdlKE1hdGgubWF4KDAsIHBhZ2VDb3VudCAtIDEpKTtcbiAgICAgICAgfVxuICAgIH0sIFtwYWdlLCBwYWdlQ291bnRdKTtcbiAgICBjb25zdCBzZWxlY3RlZEdyb3VwID0gcGFydGljaXBhbnRHcm91cHNbcGFnZV07XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX3dyYXBwZXJcIiwgcmVmOiBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBbanN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFnaW5hdGVkLWdyaWQtbGF5b3V0XCIsIGNoaWxkcmVuOiBbcGFnZUFycm93c1Zpc2libGUgJiYgcGFnZUNvdW50ID4gMSAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGRpc2FibGVkOiBwYWdlID09PSAwLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlKChjdXJyZW50UGFnZSkgPT4gTWF0aC5tYXgoMCwgY3VycmVudFBhZ2UgLSAxKSkgfSkpLCBzZWxlY3RlZEdyb3VwICYmIChqc3goUGFnaW5hdGVkR3JpZExheW91dEdyb3VwLCB7IGdyb3VwOiBzZWxlY3RlZEdyb3VwLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUkgfSkpLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBwYWdlQ291bnQgPiAxICYmIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogcGFnZSA9PT0gcGFnZUNvdW50IC0gMSwgaWNvbjogXCJjYXJldC1yaWdodFwiLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlKChjdXJyZW50UGFnZSkgPT4gTWF0aC5taW4ocGFnZUNvdW50IC0gMSwgY3VycmVudFBhZ2UgKyAxKSkgfSkpXSB9KV0gfSkpO1xufTtcblBhZ2luYXRlZEdyaWRMYXlvdXQuZGlzcGxheU5hbWUgPSAnUGFnaW5hdGVkR3JpZExheW91dCc7XG5cbmNvbnN0IHVzZUNhbGN1bGF0ZUhhcmRMaW1pdCA9IChcbi8qKlxuICogRWxlbWVudCB0aGF0IHN0cmV0Y2hlcyB0byAxMDAlIG9mIHRoZSB3aG9sZSBsYXlvdXQgY29tcG9uZW50XG4gKi9cbndyYXBwZXJFbGVtZW50LCBcbi8qKlxuICogRWxlbWVudCB0aGF0IGRpcmVjdGx5IGhvc3RzIGluZGl2aWR1YWwgYFBhcnRpY2lwYW50Vmlld2AgKG9yIHdyYXBwZXIpIGVsZW1lbnRzXG4gKi9cbmhvc3RFbGVtZW50LCBsaW1pdCkgPT4ge1xuICAgIGNvbnN0IFtjYWxjdWxhdGVkTGltaXQsIHNldENhbGN1bGF0ZWRMaW1pdF0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHZlcnRpY2FsOiB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInID8gbGltaXQgOiBudWxsLFxuICAgICAgICBob3Jpem9udGFsOiB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInID8gbGltaXQgOiBudWxsLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaG9zdEVsZW1lbnQgfHxcbiAgICAgICAgICAgICF3cmFwcGVyRWxlbWVudCB8fFxuICAgICAgICAgICAgdHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdHlwZW9mIGxpbWl0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNoaWxkV2lkdGggPSBudWxsO1xuICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBudWxsO1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFydCBzaG91bGQgaWRlYWxseSBydW4gYXMgbGl0dGxlIHRpbWVzIGFzIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBnZXQgY2hpbGQgbWVhc3VyZW1lbnRzIGFuZCBkaXNjb25uZWN0XG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBjb25zaWRlciBkeW5hbWljYWxseSBzaXplZCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdGhpcyBob29rIGlzIGZvciBTcGVha2VyTGF5b3V0IHVzZSBvbmx5LCB3aGVyZSBjaGlsZHJlbiBpbiB0aGUgYmFyIGFyZSBmaXhlZCBzaXplXG4gICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBob3N0RWxlbWVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZEhlaWdodCA9IGNoaWxkLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRXaWR0aCA9IGNoaWxkLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoaG9zdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIHN0YXRlIGF0IHsgdmVydGljYWw6IDEsIGhvcml6b250YWw6IDEgfVxuICAgICAgICAgICAgLy8gdW50aWwgd2UgZ2V0IHRoZSBwcm9wZXIgY2hpbGQgbWVhc3VyZW1lbnRzXG4gICAgICAgICAgICBpZiAoY2hpbGRIZWlnaHQgPT09IG51bGwgfHwgY2hpbGRXaWR0aCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IE1hdGguZmxvb3Iod3JhcHBlckVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gY2hpbGRIZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbCA9IE1hdGguZmxvb3Iod3JhcHBlckVsZW1lbnQuY2xpZW50V2lkdGggLyBjaGlsZFdpZHRoKTtcbiAgICAgICAgICAgIHNldENhbGN1bGF0ZWRMaW1pdCgocHYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHYudmVydGljYWwgIT09IHZlcnRpY2FsIHx8IHB2Lmhvcml6b250YWwgIT09IGhvcml6b250YWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZlcnRpY2FsLCBob3Jpem9udGFsIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHdyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShob3N0RWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2hvc3RFbGVtZW50LCBsaW1pdCwgd3JhcHBlckVsZW1lbnRdKTtcbiAgICByZXR1cm4gY2FsY3VsYXRlZExpbWl0O1xufTtcblxuY29uc3QgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJQmFyID0gKCkgPT4gKGpzeChEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIHsgbWVudVBsYWNlbWVudDogXCJ0b3AtZW5kXCIgfSkpO1xuY29uc3QgU3BlYWtlckxheW91dCA9ICh7IFBhcnRpY2lwYW50Vmlld1VJQmFyID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJQmFyLCBQYXJ0aWNpcGFudFZpZXdVSVNwb3RsaWdodCA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgVmlkZW9QbGFjZWhvbGRlciwgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPSAnYm90dG9tJywgcGFydGljaXBhbnRzQmFyTGltaXQsIGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIHBhZ2VBcnJvd3NWaXNpYmxlID0gdHJ1ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZVJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRJblNwb3RsaWdodCwgLi4ub3RoZXJQYXJ0aWNpcGFudHNdID0gZXhjbHVkZUxvY2FsUGFydGljaXBhbnRcbiAgICAgICAgPyByZW1vdGVQYXJ0aWNpcGFudHNcbiAgICAgICAgOiBhbGxQYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgW3BhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50LCBzZXRQYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRzQmFyRWxlbWVudCwgc2V0UGFydGljaXBhbnRzQmFyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbYnV0dG9uc1dyYXBwZXJFbGVtZW50LCBzZXRCdXR0b25zV3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgaXNTcGVha2VyU2NyZWVuU2hhcmluZyA9IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgaGFzU2NyZWVuU2hhcmUocGFydGljaXBhbnRJblNwb3RsaWdodCk7XG4gICAgY29uc3QgaGFyZExpbWl0ID0gdXNlQ2FsY3VsYXRlSGFyZExpbWl0KGJ1dHRvbnNXcmFwcGVyRWxlbWVudCwgcGFydGljaXBhbnRzQmFyRWxlbWVudCwgcGFydGljaXBhbnRzQmFyTGltaXQpO1xuICAgIGNvbnN0IGlzVmVydGljYWwgPSBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ2xlZnQnIHx8IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAncmlnaHQnO1xuICAgIGNvbnN0IGlzSG9yaXpvbnRhbCA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uID09PSAndG9wJyB8fCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ2JvdHRvbSc7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCB8fCAhY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuc2V0Vmlld3BvcnQocGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYW51cCgpO1xuICAgIH0sIFtwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgY2FsbF0pO1xuICAgIGNvbnN0IGlzT25lT25PbmVDYWxsID0gYWxsUGFydGljaXBhbnRzLmxlbmd0aCA9PT0gMjtcbiAgICB1c2VTcGVha2VyTGF5b3V0U29ydFByZXNldChjYWxsLCBpc09uZU9uT25lQ2FsbCk7XG4gICAgbGV0IHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cztcbiAgICBjb25zdCBoYXJkTGltaXRUb0FwcGx5ID0gaXNWZXJ0aWNhbFxuICAgICAgICA/IGhhcmRMaW1pdC52ZXJ0aWNhbFxuICAgICAgICA6IGhhcmRMaW1pdC5ob3Jpem9udGFsO1xuICAgIGlmICh0eXBlb2YgcGFydGljaXBhbnRzQmFyTGltaXQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIGhhcmRMaW1pdFRvQXBwbHkgIT09IG51bGwpIHtcbiAgICAgICAgcGFydGljaXBhbnRzV2l0aEFwcGxpZWRMaW1pdCA9IG90aGVyUGFydGljaXBhbnRzLnNsaWNlKDAsIFxuICAgICAgICAvLyBzdWJ0cmFjdCAxIGlmIHNwZWFrZXIgaXMgc2hhcmluZyBzY3JlZW4gYXNcbiAgICAgICAgLy8gdGhhdCBvbmUgaXMgcmVuZGVyZWQgaW5kZXBlbmRlbnRseSBmcm9tIG90aGVyUGFydGljaXBhbnRzIGFycmF5XG4gICAgICAgIGhhcmRMaW1pdFRvQXBwbHkgLSAoaXNTcGVha2VyU2NyZWVuU2hhcmluZyA/IDEgOiAwKSk7XG4gICAgfVxuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFtqc3goUGFydGljaXBhbnRzQXVkaW8sIHsgcGFydGljaXBhbnRzOiByZW1vdGVQYXJ0aWNpcGFudHMgfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlYWtlci1sYXlvdXQnLCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICBgc3RyLXZpZGVvX19zcGVha2VyLWxheW91dC0tdmFyaWFudC0ke3BhcnRpY2lwYW50c0JhclBvc2l0aW9ufWApLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19zcG90bGlnaHRcIiwgY2hpbGRyZW46IHBhcnRpY2lwYW50SW5TcG90bGlnaHQgJiYgKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50SW5TcG90bGlnaHQsIG11dGVBdWRpbzogdHJ1ZSwgdHJhY2tUeXBlOiBpc1NwZWFrZXJTY3JlZW5TaGFyaW5nID8gJ3NjcmVlblNoYXJlVHJhY2snIDogJ3ZpZGVvVHJhY2snLCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUlTcG90bGlnaHQsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIgfSkpIH0pLCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0Lmxlbmd0aCA+IDAgJiYgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gJiYgKGpzeHMoXCJkaXZcIiwgeyByZWY6IHNldEJ1dHRvbnNXcmFwcGVyRWxlbWVudCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItYnV0dG9ucy13cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItd3JhcHBlclwiLCByZWY6IHNldFBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50LCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IHJlZjogc2V0UGFydGljaXBhbnRzQmFyRWxlbWVudCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXJcIiwgY2hpbGRyZW46IFtpc1NwZWFrZXJTY3JlZW5TaGFyaW5nICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnQtdGlsZVwiLCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnRJblNwb3RsaWdodCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBtdXRlQXVkaW86IHRydWUgfSkgfSwgcGFydGljaXBhbnRJblNwb3RsaWdodC5zZXNzaW9uSWQpKSwgcGFydGljaXBhbnRzV2l0aEFwcGxpZWRMaW1pdC5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50LXRpbGVcIiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUlCYXIsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIG11dGVBdWRpbzogdHJ1ZSB9KSB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSldIH0pIH0pLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBpc1ZlcnRpY2FsICYmIChqc3goVmVydGljYWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKSwgcGFnZUFycm93c1Zpc2libGUgJiYgaXNIb3Jpem9udGFsICYmIChqc3goSG9yaXpvbnRhbFNjcm9sbEJ1dHRvbnMsIHsgc2Nyb2xsV3JhcHBlcjogcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfSkpXSB9KSldIH0pXSB9KSk7XG59O1xuU3BlYWtlckxheW91dC5kaXNwbGF5TmFtZSA9ICdTcGVha2VyTGF5b3V0JztcbmNvbnN0IEhvcml6b250YWxTY3JvbGxCdXR0b25zID0gKHsgc2Nyb2xsV3JhcHBlciwgfSkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFBvc2l0aW9uID0gdXNlSG9yaXpvbnRhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFN0YXJ0Q2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IGxlZnQ6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEVuZENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAxNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW3Njcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnc3RhcnQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxTdGFydENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC1sZWZ0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tbGVmdFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdlbmQnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxFbmRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtcmlnaHRcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1yaWdodFwiIH0pKV0gfSkpO1xufTtcbmNvbnN0IFZlcnRpY2FsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24oc2Nyb2xsV3JhcHBlcik7XG4gICAgY29uc3Qgc2Nyb2xsVG9wQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogLTE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgY29uc3Qgc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBzY3JvbGxXcmFwcGVyPy5zY3JvbGxCeSh7IHRvcDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3RvcCcgJiYgKGpzeChJY29uQnV0dG9uLCB7IG9uQ2xpY2s6IHNjcm9sbFRvcENsaWNrSGFuZGxlciwgaWNvbjogXCJjYXJldC11cFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLXRvcFwiIH0pKSwgc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICdib3R0b20nICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxCb3R0b21DbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtZG93blwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWJvdHRvbVwiIH0pKV0gfSkpO1xufTtcblxuY29uc3QgTGl2ZXN0cmVhbVBsYXllciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFR5cGUsIGNhbGxJZCwgbGF5b3V0UHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNsaWVudCA9IHVzZVN0cmVhbVZpZGVvQ2xpZW50KCk7XG4gICAgY29uc3QgW2NhbGwsIHNldENhbGxdID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNsaWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgbXlDYWxsID0gY2xpZW50LmNhbGwoY2FsbFR5cGUsIGNhbGxJZCk7XG4gICAgICAgIHNldENhbGwobXlDYWxsKTtcbiAgICAgICAgbXlDYWxsLmpvaW4oKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGpvaW4gY2FsbCcsIGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG15Q2FsbC5sZWF2ZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxlYXZlIGNhbGwnLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0Q2FsbCh1bmRlZmluZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsSWQsIGNhbGxUeXBlLCBjbGllbnRdKTtcbiAgICByZXR1cm4gKGpzeChTdHJlYW1DYWxsLCB7IGNhbGw6IGNhbGwsIGNoaWxkcmVuOiBqc3goTGl2ZXN0cmVhbUxheW91dCwgeyAuLi5sYXlvdXRQcm9wcyB9KSB9KSk7XG59O1xuXG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSAoXCIxLjUuMFwiKS5zcGxpdCgnLicpO1xuc2V0U2RrSW5mbyh7XG4gICAgdHlwZTogU2Z1TW9kZWxzLlNka1R5cGUuUkVBQ1QsXG4gICAgbWFqb3IsXG4gICAgbWlub3IsXG4gICAgcGF0Y2gsXG59KTtcblxuZXhwb3J0IHsgQWNjZXB0Q2FsbEJ1dHRvbiwgQXVkaW8sIEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEJhY2tncm91bmRGaWx0ZXJzUHJvdmlkZXIsIEJhc2VWaWRlbywgQ2FsbENvbnRyb2xzLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSwgQ2FsbFBhcnRpY2lwYW50c0xpc3QsIENhbGxQcmV2aWV3LCBDYWxsUmVjb3JkaW5nTGlzdCwgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgQ2FsbFN0YXRzLCBDYWxsU3RhdHNCdXR0b24sIENhbmNlbENhbGxCdXR0b24sIENhbmNlbENhbGxDb25maXJtQnV0dG9uLCBDb21wb3NpdGVCdXR0b24sIERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgRGVmYXVsdFJlYWN0aW9uc01lbnUsIERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyLCBEZXZpY2VTZWxlY3RvciwgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCBEZXZpY2VTZWxlY3RvclZpZGVvLCBEZXZpY2VTZXR0aW5ncywgRHJvcERvd25TZWxlY3QsIERyb3BEb3duU2VsZWN0T3B0aW9uLCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBHZW5lcmljTWVudSwgR2VuZXJpY01lbnVCdXR0b25JdGVtLCBJY29uLCBJY29uQnV0dG9uLCBMaXZlc3RyZWFtTGF5b3V0LCBMaXZlc3RyZWFtUGxheWVyLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIExvYWRpbmdJbmRpY2F0b3IsIE1lbnVUb2dnbGUsIE1lbnVWaXN1YWxUeXBlLCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyLCBOb3RpZmljYXRpb24sIFBhZ2luYXRlZEdyaWRMYXlvdXQsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCBQYXJ0aWNpcGFudERldGFpbHMsIFBhcnRpY2lwYW50VmlldywgUGFydGljaXBhbnRWaWV3Q29udGV4dCwgUGFydGljaXBhbnRzQXVkaW8sIFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgUGVybWlzc2lvblJlcXVlc3RzLCBSZWFjdGlvbnNCdXR0b24sIFJlY29yZENhbGxCdXR0b24sIFJlY29yZENhbGxDb25maXJtYXRpb25CdXR0b24sIFJlY29yZGluZ0luUHJvZ3Jlc3NOb3RpZmljYXRpb24sIFJpbmdpbmdDYWxsLCBSaW5naW5nQ2FsbENvbnRyb2xzLCBTY3JlZW5TaGFyZUJ1dHRvbiwgU2VhcmNoSW5wdXQsIFNlYXJjaFJlc3VsdHMsIFNwZWFrZXJMYXlvdXQsIFNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbiwgU3BlZWNoSW5kaWNhdG9yLCBTdGF0Q2FyZCwgU3RyZWFtQ2FsbCwgU3RyZWFtVGhlbWUsIFN0cmVhbVZpZGVvLCBUZXh0QnV0dG9uLCBUb2dnbGVBdWRpb091dHB1dEJ1dHRvbiwgVG9nZ2xlQXVkaW9QcmV2aWV3QnV0dG9uLCBUb2dnbGVBdWRpb1B1Ymxpc2hpbmdCdXR0b24sIFRvZ2dsZVZpZGVvUHJldmlld0J1dHRvbiwgVG9nZ2xlVmlkZW9QdWJsaXNoaW5nQnV0dG9uLCBUb29sdGlwLCBWaWRlbyQxIGFzIFZpZGVvLCBWaWRlb1ByZXZpZXcsIFdpdGhUb29sdGlwLCBkZWZhdWx0UmVhY3Rpb25zLCB0cmFuc2xhdGlvbnMsIHVzZUJhY2tncm91bmRGaWx0ZXJzLCB1c2VIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24sIHVzZU1lbnVDb250ZXh0LCB1c2VOb2lzZUNhbmNlbGxhdGlvbiwgdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCwgdXNlUGVyc2lzdGVkRGV2aWNlUHJlZmVyZW5jZXMsIHVzZVJlcXVlc3RQZXJtaXNzaW9uLCB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5LCB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallStatsLatencyChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"(ssr)/./node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/./node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n// NOTE: this is a side effect by definition, but this component is\n// isolated in a separate chunk, and it won't affect the rest of the app.\n// See CallStats.tsx for more details.\nchart_js__WEBPACK_IMPORTED_MODULE_2__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_2__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_2__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getLineOptions(max), [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\nconst getLineOptions = (max) => ({\n    maintainAspectRatio: false,\n    animation: { duration: 0 },\n    elements: {\n        line: { borderWidth: 1 },\n        point: { radius: 2 },\n    },\n    scales: {\n        y: {\n            position: 'right',\n            stacked: true,\n            min: 0,\n            max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n            grid: { display: true, color: '#979ca0' },\n            ticks: { stepSize: 30 },\n        },\n        x: {\n            grid: { display: false },\n            ticks: { display: false },\n        },\n    },\n});\n\n\n//# sourceMappingURL=latency-chart-Bj5OSYzg.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7QUFDZ0Q7QUFDakQ7QUFDUDs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsMkNBQUssVUFBVSxtREFBYSxFQUFFLGlEQUFXLEVBQUUsaURBQVcsRUFBRSxrREFBWTtBQUNwRTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsR0FBRyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPO0FBQzNCLFlBQVksc0RBQUcsVUFBVSxtRUFBbUUsc0RBQUcsQ0FBQyxpREFBSSxJQUFJLGdGQUFnRixHQUFHO0FBQzNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxpQkFBaUIsV0FBVztBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRCxxQkFBcUIsY0FBYztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDLHFCQUFxQixnQkFBZ0I7QUFDckMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDOztBQUUyQztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzPzI1NmEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgQ2hhcnQsIENhdGVnb3J5U2NhbGUsIExpbmVhclNjYWxlLCBMaW5lRWxlbWVudCwgUG9pbnRFbGVtZW50IH0gZnJvbSAnY2hhcnQuanMnO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gJ3JlYWN0LWNoYXJ0anMtMic7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBOT1RFOiB0aGlzIGlzIGEgc2lkZSBlZmZlY3QgYnkgZGVmaW5pdGlvbiwgYnV0IHRoaXMgY29tcG9uZW50IGlzXG4vLyBpc29sYXRlZCBpbiBhIHNlcGFyYXRlIGNodW5rLCBhbmQgaXQgd29uJ3QgYWZmZWN0IHRoZSByZXN0IG9mIHRoZSBhcHAuXG4vLyBTZWUgQ2FsbFN0YXRzLnRzeCBmb3IgbW9yZSBkZXRhaWxzLlxuQ2hhcnQucmVnaXN0ZXIoQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIExpbmVFbGVtZW50LCBQb2ludEVsZW1lbnQpO1xuY29uc3QgQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZXMgfSA9IHByb3BzO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGxhYmVsczogdmFsdWVzLm1hcCgocG9pbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwb2ludC54ICogMTAwMCk7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRIb3VycygpfToke2RhdGUuZ2V0TWludXRlcygpfWA7XG4gICAgICAgIH0pLFxuICAgICAgICBkYXRhc2V0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlcy5tYXAoKHBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgeSB9ID0gcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMGUyYTEnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGUyYTEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IGdldExpbmVPcHRpb25zKG1heCksIFttYXhdKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHMtbGluZS1jaGFydC1jb250YWluZXJcIiwgY2hpbGRyZW46IGpzeChMaW5lLCB7IG9wdGlvbnM6IG9wdGlvbnMsIGRhdGE6IGRhdGEsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2xhdGVuY3ljaGFydFwiIH0pIH0pKTtcbn07XG5jb25zdCBnZXRMaW5lT3B0aW9ucyA9IChtYXgpID0+ICh7XG4gICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgYW5pbWF0aW9uOiB7IGR1cmF0aW9uOiAwIH0sXG4gICAgZWxlbWVudHM6IHtcbiAgICAgICAgbGluZTogeyBib3JkZXJXaWR0aDogMSB9LFxuICAgICAgICBwb2ludDogeyByYWRpdXM6IDIgfSxcbiAgICB9LFxuICAgIHNjYWxlczoge1xuICAgICAgICB5OiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4KDE4MCwgTWF0aC5jZWlsKChtYXggKyAxMCkgLyAxMCkgKiAxMCksXG4gICAgICAgICAgICBncmlkOiB7IGRpc3BsYXk6IHRydWUsIGNvbG9yOiAnIzk3OWNhMCcgfSxcbiAgICAgICAgICAgIHRpY2tzOiB7IHN0ZXBTaXplOiAzMCB9LFxuICAgICAgICB9LFxuICAgICAgICB4OiB7XG4gICAgICAgICAgICBncmlkOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG4gICAgICAgICAgICB0aWNrczogeyBkaXNwbGF5OiBmYWxzZSB9LFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuZXhwb3J0IHsgQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhdGVuY3ktY2hhcnQtQmo1T1NZemcuZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"431ee9fb29fb\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcz82YzQ3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiNDMxZWU5ZmIyOWZiXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@stream-io/node-sdk/dist/index.es.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamChannel: () => (/* binding */ StreamChannel),\n/* harmony export */   StreamChatClient: () => (/* binding */ StreamChatClient),\n/* harmony export */   StreamClient: () => (/* binding */ StreamClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(action-browser)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\n\n\nconst OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings',\n};\n\nfunction JWTUserToken(apiSecret, payload) {\n    // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if (jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ == null || jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign == null) {\n        throw Error(`Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.`);\n    }\n    const opts = Object.assign({\n        algorithm: 'HS256',\n        noTimestamp: true,\n    });\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret, jwtOptions = {}) {\n    const payload = {\n        server: true,\n    };\n    const opts = Object.assign({ algorithm: 'HS256', noTimestamp: true }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\nclass StreamError extends Error {\n    constructor(message, metadata, code, errorOptions) {\n        super(message, errorOptions);\n        this.metadata = metadata;\n        this.code = code;\n    }\n}\n\nconst getRateLimitFromResponseHeader = (responseHeaders) => {\n    const rateLimit = responseHeaders.has('x-ratelimit-limit')\n        ? +responseHeaders.get('x-ratelimit-limit')\n        : undefined;\n    const rateLimitRemaining = responseHeaders.has('x-ratelimit-remaining')\n        ? +responseHeaders.get('x-ratelimit-remaining')\n        : undefined;\n    const rateLimitReset = responseHeaders.has('x-ratelimit-reset')\n        ? new Date(+responseHeaders.get('x-ratelimit-reset') * 1000)\n        : undefined;\n    const result = {\n        rateLimit,\n        rateLimitRemaining,\n        rateLimitReset,\n    };\n    return result;\n};\n\nclass BaseApi {\n    constructor(apiConfig) {\n        this.apiConfig = apiConfig;\n        this.sendRequest = (method, url, pathParams, queryParams, body) => __awaiter(this, void 0, void 0, function* () {\n            queryParams = queryParams !== null && queryParams !== void 0 ? queryParams : {};\n            queryParams.api_key = this.apiConfig.apiKey;\n            const encodedParams = this.queryParamsStringify(queryParams);\n            if (pathParams) {\n                Object.keys(pathParams).forEach((paramName) => {\n                    url = url.replace(`{${paramName}}`, pathParams[paramName]);\n                });\n            }\n            url += `?${encodedParams}`;\n            const clientRequestId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const headers = {\n                Authorization: this.apiConfig.token,\n                'stream-auth-type': 'jwt',\n                'Content-Type': 'application/json',\n                'X-Stream-Client': 'stream-node-' + \"0.4.4\",\n                'Accept-Encoding': 'gzip',\n                'x-client-request-id': clientRequestId,\n            };\n            const signal = AbortSignal.timeout(this.apiConfig.timeout);\n            try {\n                const response = yield fetch(`${this.apiConfig.baseUrl}${url}`, {\n                    signal,\n                    method,\n                    body: JSON.stringify(body),\n                    headers,\n                });\n                const responseHeaders = response.headers;\n                const metadata = {\n                    clientRequestId,\n                    responseHeaders,\n                    responseCode: response.status,\n                    rateLimit: getRateLimitFromResponseHeader(responseHeaders),\n                };\n                if (response.status < 200 || response.status >= 300) {\n                    let error;\n                    try {\n                        error = (yield response.json());\n                    }\n                    catch (_) {\n                        throw new StreamError(`Stream error: ${response.status} - ${response.statusText}`, metadata, response.status);\n                    }\n                    throw new StreamError(`Stream error code ${error.code}: ${error.message}`, metadata, error.code, undefined);\n                }\n                const responseBody = (yield response.json());\n                return { body: responseBody, metadata };\n            }\n            catch (error) {\n                if (error instanceof StreamError) {\n                    throw error;\n                }\n                const metadata = {\n                    clientRequestId,\n                    responseCode: error.status,\n                };\n                if (error.name === 'AbortError' || error.name === 'TimeoutError') {\n                    throw new StreamError(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`, metadata, undefined, error);\n                }\n                else {\n                    throw new StreamError(`The request failed due to an unexpected error`, metadata, error);\n                }\n            }\n        });\n        this.queryParamsStringify = (params) => {\n            const newParams = [];\n            for (const k in params) {\n                const param = params[k];\n                if (Array.isArray(param)) {\n                    newParams.push(`${k}=${encodeURIComponent(param.join(','))}`);\n                }\n                else if (param instanceof Date) {\n                    newParams.push(param.toISOString());\n                }\n                else if (typeof param === 'object') {\n                    newParams.push(`${k}=${encodeURIComponent(JSON.stringify(param))}`);\n                }\n                else {\n                    if (typeof param === 'string' ||\n                        typeof param === 'number' ||\n                        typeof param === 'boolean') {\n                        newParams.push(`${k}=${encodeURIComponent(param)}`);\n                    }\n                }\n            }\n            return newParams.join('&');\n        };\n    }\n}\n\nconst decoders = {};\nconst decodeDatetimeType = (input) => new Date(Math.floor(input / 1000000));\ndecoders.DatetimeType = decodeDatetimeType;\nconst decode = (typeMappings, input) => {\n    if (!input || Object.keys(typeMappings).length === 0)\n        return input;\n    Object.keys(typeMappings).forEach((key) => {\n        if (input[key] != null) {\n            if (typeMappings[key]) {\n                const decoder = decoders[typeMappings[key].type];\n                if (decoder) {\n                    if (typeMappings[key].isSingle) {\n                        input[key] = decoder(input[key]);\n                    }\n                    else {\n                        Object.keys(input[key]).forEach((k) => {\n                            input[key][k] = decoder(input[key][k]);\n                        });\n                    }\n                }\n            }\n        }\n    });\n    return input;\n};\ndecoders.ActionLog = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'UserObject', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActionLogResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AppResponseFields = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallType', isSingle: false },\n        channel_configs: { type: 'ChannelConfig', isSingle: false },\n        push_notifications: { type: 'PushNotificationFields', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AutomodDetails = (input) => {\n    const typeMappings = {\n        result: { type: 'MessageModerationResult', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Ban = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        target: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BanResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        banned_by: { type: 'UserResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockListResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockUsersResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        blocked_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipantResponse = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecording = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        session: { type: 'CallSessionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionResponse = (input) => {\n    const typeMappings = {\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportSummaryResponse = (input) => {\n    const typeMappings = {\n        first_stats_time: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscription = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallType = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Channel = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        invites: { type: 'ChannelMember', isSingle: false },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfig', isSingle: true },\n        config_overrides: { type: 'ChannelConfig', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        truncated_by: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfigWithInfo = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        mute_expires_at: { type: 'DatetimeType', isSingle: true },\n        truncated_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfigWithInfo', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        truncated_by: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadState', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadState', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTypeConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Command = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ConfigResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        velocity_filter_config: { type: 'VelocityFilterConfig', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateGuestResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateRoleResponse = (input) => {\n    const typeMappings = {\n        role: { type: 'Role', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomCheckResponse = (input) => {\n    const typeMappings = {\n        scored_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCallResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Device = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EgressRTMPResponse = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'WSEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ExportUserResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'Message', isSingle: false },\n        reactions: { type: 'Reaction', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag2 = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagDetails = (input) => {\n    const typeMappings = {\n        automod: { type: 'AutomodDetails', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagFeedback = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FullUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetApplicationResponse = (input) => {\n    const typeMappings = {\n        app: { type: 'AppResponseFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockedUsersResponse = (input) => {\n    const typeMappings = {\n        blocks: { type: 'BlockedUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommandResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetExportChannelsStatusResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetManyMessagesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'Message', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageWithChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'Reaction', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetRepliesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        history: { type: 'ReviewQueueItem', isSingle: false },\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetTaskResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetThreadResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadStateResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetUserModerationReportResponse = (input) => {\n    const typeMappings = {\n        user_blocks: { type: 'UserBlock', isSingle: false },\n        user_mutes: { type: 'UserMute', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GoLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTask = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        history: { type: 'ImportTaskHistory', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTaskHistory = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklists: { type: 'BlockListResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCallTypeResponse = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallTypeResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListChannelTypesResponse = (input) => {\n    const typeMappings = {\n        channel_types: { type: 'ChannelTypeConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCommandsResponse = (input) => {\n    const typeMappings = {\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListDevicesResponse = (input) => {\n    const typeMappings = {\n        devices: { type: 'Device', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListImportsResponse = (input) => {\n    const typeMappings = {\n        import_tasks: { type: 'ImportTask', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListPushProvidersResponse = (input) => {\n    const typeMappings = {\n        push_providers: { type: 'PushProviderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRecordingsResponse = (input) => {\n    const typeMappings = {\n        recordings: { type: 'CallRecording', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRolesResponse = (input) => {\n    const typeMappings = {\n        roles: { type: 'Role', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListTranscriptionsResponse = (input) => {\n    const typeMappings = {\n        transcriptions: { type: 'CallTranscription', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MarkReadResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'MessageReadEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Message = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'UserObject', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserObject', isSingle: false },\n        pinned_by: { type: 'UserObject', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlagResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        approved_at: { type: 'DatetimeType', isSingle: true },\n        rejected_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        details: { type: 'FlagDetails', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        moderation_feedback: { type: 'FlagFeedback', isSingle: true },\n        moderation_result: { type: 'MessageModerationResult', isSingle: true },\n        reviewed_by: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageHistoryEntryResponse = (input) => {\n    const typeMappings = {\n        message_updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageModerationResult = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageWithChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationUsageStats = (input) => {\n    const typeMappings = {\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteChannelResponse = (input) => {\n    const typeMappings = {\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        channel_mute: { type: 'ChannelMute', isSingle: true },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteResponse = (input) => {\n    const typeMappings = {\n        mutes: { type: 'UserMute', isSingle: false },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.NullTime = (input) => {\n    const typeMappings = {\n        value: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUser = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMute', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Poll = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVote', isSingle: false },\n        own_votes: { type: 'PollVote', isSingle: false },\n        created_by: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponse = (input) => {\n    const typeMappings = {\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        own_votes: { type: 'PollVoteResponseData', isSingle: false },\n        created_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVote = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponse = (input) => {\n    const typeMappings = {\n        vote: { type: 'PollVoteResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVotesResponse = (input) => {\n    const typeMappings = {\n        votes: { type: 'PollVoteResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationFields = (input) => {\n    const typeMappings = {\n        providers: { type: 'PushProvider', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettings = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettingsResponse = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProvider = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProviderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBannedUsersResponse = (input) => {\n    const typeMappings = {\n        bans: { type: 'BanResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallStatsResponse = (input) => {\n    const typeMappings = {\n        reports: { type: 'CallStatsReportSummaryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallsResponse = (input) => {\n    const typeMappings = {\n        calls: { type: 'CallStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryChannelsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'ChannelStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'QueryFeedModerationTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'MessageFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageHistoryResponse = (input) => {\n    const typeMappings = {\n        message_history: { type: 'MessageHistoryEntryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationLogsResponse = (input) => {\n    const typeMappings = {\n        l_og_s: { type: 'ActionLogResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryPollsResponse = (input) => {\n    const typeMappings = {\n        polls: { type: 'PollResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'ReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReviewQueueResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ReviewQueueItem', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryThreadsResponse = (input) => {\n    const typeMappings = {\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsageStatsResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ModerationUsageStats', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Reaction = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionGroupResponse = (input) => {\n    const typeMappings = {\n        first_reaction_at: { type: 'DatetimeType', isSingle: true },\n        last_reaction_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionRemovalResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Read = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReadStateResponse = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItem = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLog', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag2', isSingle: false },\n        completed_at: { type: 'NullTime', isSingle: true },\n        reviewed_at: { type: 'NullTime', isSingle: true },\n        assigned_to: { type: 'UserObject', isSingle: true },\n        entity_creator: { type: 'UserObject', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Role = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResult = (input) => {\n    const typeMappings = {\n        message: { type: 'SearchResultMessage', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResultMessage = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'UserObject', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserObject', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        pinned_by: { type: 'UserObject', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StopLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SubmitActionResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadParticipant = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_thread_message_at: { type: 'DatetimeType', isSingle: true },\n        left_thread_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        parent_message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadState = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'Message', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'Read', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        parent_message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadStateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'MessageResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'Read', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.TruncateChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsBatchResponse = (input) => {\n    const typeMappings = {\n        counts_by_user: { type: 'UnreadCountsResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsChannel = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsThread = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelPartialResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMemberResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMemberPartialResponse = (input) => {\n    const typeMappings = {\n        channel_member: { type: 'ChannelMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessagePartialResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'Message', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateThreadPartialResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertModerationTemplateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushProviderResponse = (input) => {\n    const typeMappings = {\n        push_provider: { type: 'PushProviderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserBlock = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserObject', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMuteResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserObject = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        push_notifications: { type: 'PushNotificationSettings', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'Device', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VelocityFilterConfig = (input) => {\n    const typeMappings = {\n        rule: { type: 'VelocityFilterConfigRule', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VelocityFilterConfigRule = (input) => {\n    const typeMappings = {\n        timeout: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WSEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserObject', isSingle: true },\n        me: { type: 'OwnUser', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        poll_vote: { type: 'PollVote', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserObject', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WrappedUnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\n\nclass CommonApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.getApp = () => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const response = yield this.sendRequest('GET', '/api/v2/app', undefined, undefined);\n            (_a = decoders.GetApplicationResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateApp = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                async_url_enrich_enabled: request === null || request === void 0 ? void 0 : request.async_url_enrich_enabled,\n                auto_translation_enabled: request === null || request === void 0 ? void 0 : request.auto_translation_enabled,\n                before_message_send_hook_url: request === null || request === void 0 ? void 0 : request.before_message_send_hook_url,\n                cdn_expiration_seconds: request === null || request === void 0 ? void 0 : request.cdn_expiration_seconds,\n                channel_hide_members_only: request === null || request === void 0 ? void 0 : request.channel_hide_members_only,\n                custom_action_handler_url: request === null || request === void 0 ? void 0 : request.custom_action_handler_url,\n                disable_auth_checks: request === null || request === void 0 ? void 0 : request.disable_auth_checks,\n                disable_permissions_checks: request === null || request === void 0 ? void 0 : request.disable_permissions_checks,\n                enforce_unique_usernames: request === null || request === void 0 ? void 0 : request.enforce_unique_usernames,\n                feeds_moderation_enabled: request === null || request === void 0 ? void 0 : request.feeds_moderation_enabled,\n                feeds_v2_region: request === null || request === void 0 ? void 0 : request.feeds_v2_region,\n                image_moderation_enabled: request === null || request === void 0 ? void 0 : request.image_moderation_enabled,\n                migrate_permissions_to_v2: request === null || request === void 0 ? void 0 : request.migrate_permissions_to_v2,\n                moderation_enabled: request === null || request === void 0 ? void 0 : request.moderation_enabled,\n                moderation_webhook_url: request === null || request === void 0 ? void 0 : request.moderation_webhook_url,\n                multi_tenant_enabled: request === null || request === void 0 ? void 0 : request.multi_tenant_enabled,\n                permission_version: request === null || request === void 0 ? void 0 : request.permission_version,\n                reminders_interval: request === null || request === void 0 ? void 0 : request.reminders_interval,\n                reminders_max_members: request === null || request === void 0 ? void 0 : request.reminders_max_members,\n                revoke_tokens_issued_before: request === null || request === void 0 ? void 0 : request.revoke_tokens_issued_before,\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n                video_provider: request === null || request === void 0 ? void 0 : request.video_provider,\n                webhook_url: request === null || request === void 0 ? void 0 : request.webhook_url,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                image_moderation_block_labels: request === null || request === void 0 ? void 0 : request.image_moderation_block_labels,\n                image_moderation_labels: request === null || request === void 0 ? void 0 : request.image_moderation_labels,\n                user_search_disallowed_roles: request === null || request === void 0 ? void 0 : request.user_search_disallowed_roles,\n                webhook_events: request === null || request === void 0 ? void 0 : request.webhook_events,\n                agora_options: request === null || request === void 0 ? void 0 : request.agora_options,\n                apn_config: request === null || request === void 0 ? void 0 : request.apn_config,\n                async_moderation_config: request === null || request === void 0 ? void 0 : request.async_moderation_config,\n                datadog_info: request === null || request === void 0 ? void 0 : request.datadog_info,\n                file_upload_config: request === null || request === void 0 ? void 0 : request.file_upload_config,\n                firebase_config: request === null || request === void 0 ? void 0 : request.firebase_config,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                hms_options: request === null || request === void 0 ? void 0 : request.hms_options,\n                huawei_config: request === null || request === void 0 ? void 0 : request.huawei_config,\n                image_upload_config: request === null || request === void 0 ? void 0 : request.image_upload_config,\n                push_config: request === null || request === void 0 ? void 0 : request.push_config,\n                xiaomi_config: request === null || request === void 0 ? void 0 : request.xiaomi_config,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/app', undefined, undefined, body);\n            (_b = decoders.Response) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listBlockLists = () => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists', undefined, undefined);\n            (_c = decoders.ListBlockListResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                words: request === null || request === void 0 ? void 0 : request.words,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/blocklists', undefined, undefined, body);\n            (_d = decoders.Response) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_e = decoders.Response) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/blocklists/{name}', pathParams, undefined);\n            (_f = decoders.GetBlockListResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateBlockList = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                words: request === null || request === void 0 ? void 0 : request.words,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/blocklists/{name}', pathParams, undefined, body);\n            (_g = decoders.Response) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkPush = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const body = {\n                apn_template: request === null || request === void 0 ? void 0 : request.apn_template,\n                firebase_data_template: request === null || request === void 0 ? void 0 : request.firebase_data_template,\n                firebase_template: request === null || request === void 0 ? void 0 : request.firebase_template,\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                push_provider_type: request === null || request === void 0 ? void 0 : request.push_provider_type,\n                skip_devices: request === null || request === void 0 ? void 0 : request.skip_devices,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_push', undefined, undefined, body);\n            (_h = decoders.CheckPushResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSNS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const body = {\n                sns_key: request === null || request === void 0 ? void 0 : request.sns_key,\n                sns_secret: request === null || request === void 0 ? void 0 : request.sns_secret,\n                sns_topic_arn: request === null || request === void 0 ? void 0 : request.sns_topic_arn,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sns', undefined, undefined, body);\n            (_j = decoders.CheckSNSResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkSQS = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                sqs_key: request === null || request === void 0 ? void 0 : request.sqs_key,\n                sqs_secret: request === null || request === void 0 ? void 0 : request.sqs_secret,\n                sqs_url: request === null || request === void 0 ? void 0 : request.sqs_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/check_sqs', undefined, undefined, body);\n            (_k = decoders.CheckSQSResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const queryParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/devices', undefined, queryParams);\n            (_l = decoders.Response) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listDevices = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/devices', undefined, queryParams);\n            (_m = decoders.ListDevicesResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createDevice = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n                push_provider_name: request === null || request === void 0 ? void 0 : request.push_provider_name,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voip_token: request === null || request === void 0 ? void 0 : request.voip_token,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/devices', undefined, undefined, body);\n            (_o = decoders.Response) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/export/users', undefined, undefined, body);\n            (_p = decoders.ExportUsersResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listExternalStorage = () => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage', undefined, undefined);\n            (_q = decoders.ListExternalStorageResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/external_storage', undefined, undefined, body);\n            (_r = decoders.CreateExternalStorageResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/external_storage/{name}', pathParams, undefined);\n            (_s = decoders.DeleteExternalStorageResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                bucket: request === null || request === void 0 ? void 0 : request.bucket,\n                storage_type: request === null || request === void 0 ? void 0 : request.storage_type,\n                gcs_credentials: request === null || request === void 0 ? void 0 : request.gcs_credentials,\n                path: request === null || request === void 0 ? void 0 : request.path,\n                aws_s3: request === null || request === void 0 ? void 0 : request.aws_s3,\n                azure_blob: request === null || request === void 0 ? void 0 : request.azure_blob,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/external_storage/{name}', pathParams, undefined, body);\n            (_t = decoders.UpdateExternalStorageResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.checkExternalStorage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/external_storage/{name}/check', pathParams, undefined);\n            (_u = decoders.CheckExternalStorageResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createGuest = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const body = {\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/guest', undefined, undefined, body);\n            (_v = decoders.CreateGuestResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImportURL = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const body = {\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/import_urls', undefined, undefined, body);\n            (_w = decoders.CreateImportURLResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listImports = () => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const response = yield this.sendRequest('GET', '/api/v2/imports', undefined, undefined);\n            (_x = decoders.ListImportsResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const body = {\n                mode: request === null || request === void 0 ? void 0 : request.mode,\n                path: request === null || request === void 0 ? void 0 : request.path,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/imports', undefined, undefined, body);\n            (_y = decoders.CreateImportResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getImport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/imports/{id}', pathParams, undefined);\n            (_z = decoders.GetImportResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOG = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/og', undefined, queryParams);\n            (_0 = decoders.GetOGResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPermissions = () => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const response = yield this.sendRequest('GET', '/api/v2/permissions', undefined, undefined);\n            (_1 = decoders.ListPermissionsResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPermission = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/permissions/{id}', pathParams, undefined);\n            (_2 = decoders.GetCustomPermissionResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listPushProviders = () => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const response = yield this.sendRequest('GET', '/api/v2/push_providers', undefined, undefined);\n            (_3 = decoders.ListPushProvidersResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertPushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const body = {\n                push_provider: request === null || request === void 0 ? void 0 : request.push_provider,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/push_providers', undefined, undefined, body);\n            (_4 = decoders.UpsertPushProviderResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePushProvider = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/push_providers/{type}/{name}', pathParams, undefined);\n            (_5 = decoders.Response) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getRateLimits = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const queryParams = {\n                server_side: request === null || request === void 0 ? void 0 : request.server_side,\n                android: request === null || request === void 0 ? void 0 : request.android,\n                ios: request === null || request === void 0 ? void 0 : request.ios,\n                web: request === null || request === void 0 ? void 0 : request.web,\n                endpoints: request === null || request === void 0 ? void 0 : request.endpoints,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/rate_limits', undefined, queryParams);\n            (_6 = decoders.GetRateLimitsResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRoles = () => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const response = yield this.sendRequest('GET', '/api/v2/roles', undefined, undefined);\n            (_7 = decoders.ListRolesResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/roles', undefined, undefined, body);\n            (_8 = decoders.CreateRoleResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRole = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/roles/{name}', pathParams, undefined);\n            (_9 = decoders.Response) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getTask = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/tasks/{id}', pathParams, undefined);\n            (_10 = decoders.GetTaskResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users', undefined, queryParams);\n            (_11 = decoders.QueryUsersResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsersPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/users', undefined, undefined, body);\n            (_12 = decoders.UpdateUsersResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const body = {\n                users: request === null || request === void 0 ? void 0 : request.users,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users', undefined, undefined, body);\n            (_13 = decoders.UpdateUsersResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getBlockedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/block', undefined, queryParams);\n            (_14 = decoders.GetBlockedUsersResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/block', undefined, undefined, body);\n            (_15 = decoders.BlockUsersResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_channels_deleted: request === null || request === void 0 ? void 0 : request.mark_channels_deleted,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/deactivate', undefined, undefined, body);\n            (_16 = decoders.DeactivateUsersResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                calls: request === null || request === void 0 ? void 0 : request.calls,\n                conversations: request === null || request === void 0 ? void 0 : request.conversations,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                new_call_owner_id: request === null || request === void 0 ? void 0 : request.new_call_owner_id,\n                new_channel_owner_id: request === null || request === void 0 ? void 0 : request.new_channel_owner_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/delete', undefined, undefined, body);\n            (_17 = decoders.DeleteUsersResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                restore_channels: request === null || request === void 0 ? void 0 : request.restore_channels,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/reactivate', undefined, undefined, body);\n            (_18 = decoders.ReactivateUsersResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.restoreUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/restore', undefined, undefined, body);\n            (_19 = decoders.Response) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const body = {\n                blocked_user_id: request === null || request === void 0 ? void 0 : request.blocked_user_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/unblock', undefined, undefined, body);\n            (_20 = decoders.UnblockUsersResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                mark_messages_deleted: request === null || request === void 0 ? void 0 : request.mark_messages_deleted,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/deactivate', pathParams, undefined, body);\n            (_21 = decoders.DeactivateUserResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/users/{user_id}/export', pathParams, undefined);\n            (_22 = decoders.ExportUserResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.reactivateUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                created_by_id: request === null || request === void 0 ? void 0 : request.created_by_id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                restore_messages: request === null || request === void 0 ? void 0 : request.restore_messages,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/users/{user_id}/reactivate', pathParams, undefined, body);\n            (_23 = decoders.ReactivateUserResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass VideoApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/members', undefined, undefined, body);\n            (_a = decoders.QueryCallMembersResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/stats', undefined, undefined, body);\n            (_b = decoders.QueryCallStatsResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const queryParams = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                video: request === null || request === void 0 ? void 0 : request.video,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}', pathParams, queryParams);\n            (_c = decoders.GetCallResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                starts_at: request === null || request === void 0 ? void 0 : request.starts_at,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                settings_override: request === null || request === void 0 ? void 0 : request.settings_override,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_d = decoders.UpdateCallResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                members_limit: request === null || request === void 0 ? void 0 : request.members_limit,\n                notify: request === null || request === void 0 ? void 0 : request.notify,\n                ring: request === null || request === void 0 ? void 0 : request.ring,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                data: request === null || request === void 0 ? void 0 : request.data,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            (_e = decoders.GetOrCreateCallResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.blockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/block', pathParams, undefined, body);\n            (_f = decoders.BlockUserResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/delete', pathParams, undefined, body);\n            (_g = decoders.DeleteCallResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendCallEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/event', pathParams, undefined, body);\n            (_h = decoders.SendCallEventResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.collectUserFeedback = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const body = {\n                rating: request === null || request === void 0 ? void 0 : request.rating,\n                sdk: request === null || request === void 0 ? void 0 : request.sdk,\n                sdk_version: request === null || request === void 0 ? void 0 : request.sdk_version,\n                user_session_id: request === null || request === void 0 ? void 0 : request.user_session_id,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/feedback/{session}', pathParams, undefined, body);\n            (_j = decoders.CollectUserFeedbackResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.goLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_storage_name: request === null || request === void 0 ? void 0 : request.recording_storage_name,\n                start_hls: request === null || request === void 0 ? void 0 : request.start_hls,\n                start_recording: request === null || request === void 0 ? void 0 : request.start_recording,\n                start_rtmp_broadcasts: request === null || request === void 0 ? void 0 : request.start_rtmp_broadcasts,\n                start_transcription: request === null || request === void 0 ? void 0 : request.start_transcription,\n                transcription_storage_name: request === null || request === void 0 ? void 0 : request.transcription_storage_name,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/go_live', pathParams, undefined, body);\n            (_k = decoders.GoLiveResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.endCall = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mark_ended', pathParams, undefined);\n            (_l = decoders.EndCallResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                update_members: request === null || request === void 0 ? void 0 : request.update_members,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/members', pathParams, undefined, body);\n            (_m = decoders.UpdateCallMembersResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                audio: request === null || request === void 0 ? void 0 : request.audio,\n                mute_all_users: request === null || request === void 0 ? void 0 : request.mute_all_users,\n                muted_by_id: request === null || request === void 0 ? void 0 : request.muted_by_id,\n                screenshare: request === null || request === void 0 ? void 0 : request.screenshare,\n                screenshare_audio: request === null || request === void 0 ? void 0 : request.screenshare_audio,\n                video: request === null || request === void 0 ? void 0 : request.video,\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n                muted_by: request === null || request === void 0 ? void 0 : request.muted_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mute_users', pathParams, undefined, body);\n            (_o = decoders.MuteUsersResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoPin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/pin', pathParams, undefined, body);\n            (_p = decoders.PinResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listRecordings = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/recordings', pathParams, undefined);\n            (_q = decoders.ListRecordingsResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                broadcasts: request === null || request === void 0 ? void 0 : request.broadcasts,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts', pathParams, undefined, body);\n            (_r = decoders.StartRTMPBroadcastsResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopAllRTMPBroadcasts = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop', pathParams, undefined);\n            (_s = decoders.StopAllRTMPBroadcastsResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRTMPBroadcast = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop', pathParams, undefined, body);\n            (_t = decoders.StopRTMPBroadcastsResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_broadcasting', pathParams, undefined);\n            (_u = decoders.StartHLSBroadcastingResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                recording_external_storage: request === null || request === void 0 ? void 0 : request.recording_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_recording', pathParams, undefined, body);\n            (_v = decoders.StartRecordingResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.startTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                transcription_external_storage: request === null || request === void 0 ? void 0 : request.transcription_external_storage,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_transcription', pathParams, undefined, body);\n            (_w = decoders.StartTranscriptionResponse) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/stats/{session}', pathParams, undefined);\n            (_x = decoders.GetCallStatsResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopHLSBroadcasting = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_broadcasting', pathParams, undefined);\n            (_y = decoders.StopHLSBroadcastingResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopLive = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_live', pathParams, undefined);\n            (_z = decoders.StopLiveResponse) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_recording', pathParams, undefined);\n            (_0 = decoders.StopRecordingResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.stopTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_transcription', pathParams, undefined);\n            (_1 = decoders.StopTranscriptionResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listTranscriptions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/transcriptions', pathParams, undefined);\n            (_2 = decoders.ListTranscriptionsResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unblockUser = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unblock', pathParams, undefined, body);\n            (_3 = decoders.UnblockUserResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.videoUnpin = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                session_id: request === null || request === void 0 ? void 0 : request.session_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unpin', pathParams, undefined, body);\n            (_4 = decoders.UnpinResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateUserPermissions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                grant_permissions: request === null || request === void 0 ? void 0 : request.grant_permissions,\n                revoke_permissions: request === null || request === void 0 ? void 0 : request.revoke_permissions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/user_permissions', pathParams, undefined, body);\n            (_5 = decoders.UpdateUserPermissionsResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteRecording = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}', pathParams, undefined);\n            (_6 = decoders.DeleteRecordingResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteTranscription = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                session: request === null || request === void 0 ? void 0 : request.session,\n                filename: request === null || request === void 0 ? void 0 : request.filename,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}', pathParams, undefined);\n            (_7 = decoders.DeleteTranscriptionResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryCalls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calls', undefined, undefined, body);\n            (_8 = decoders.QueryCallsResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCallTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes', undefined, undefined);\n            (_9 = decoders.ListCallTypeResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/video/calltypes', undefined, undefined, body);\n            (_10 = decoders.CreateCallTypeResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_11 = decoders.Response) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            (_12 = decoders.GetCallTypeResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCallType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                external_storage: request === null || request === void 0 ? void 0 : request.external_storage,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n                notification_settings: request === null || request === void 0 ? void 0 : request.notification_settings,\n                settings: request === null || request === void 0 ? void 0 : request.settings,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/video/calltypes/{name}', pathParams, undefined, body);\n            (_13 = decoders.UpdateCallTypeResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getEdges = () => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const response = yield this.sendRequest('GET', '/api/v2/video/edges', undefined, undefined);\n            (_14 = decoders.GetEdgesResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass CallApi {\n    constructor(videoApi, type, id) {\n        this.videoApi = videoApi;\n        this.type = type;\n        this.id = id;\n        this.get = (request) => {\n            return this.videoApi.getCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            return this.videoApi.updateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            return this.videoApi.getOrCreateCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.blockUser = (request) => {\n            return this.videoApi.blockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.delete = (request) => {\n            return this.videoApi.deleteCall(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendCallEvent = (request) => {\n            return this.videoApi.sendCallEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.collectUserFeedback = (request) => {\n            return this.videoApi.collectUserFeedback(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.goLive = (request) => {\n            return this.videoApi.goLive(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.end = () => {\n            return this.videoApi.endCall({ id: this.id, type: this.type });\n        };\n        this.updateCallMembers = (request) => {\n            return this.videoApi.updateCallMembers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.muteUsers = (request) => {\n            return this.videoApi.muteUsers(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoPin = (request) => {\n            return this.videoApi.videoPin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.listRecordings = () => {\n            return this.videoApi.listRecordings({ id: this.id, type: this.type });\n        };\n        this.startRTMPBroadcasts = (request) => {\n            return this.videoApi.startRTMPBroadcasts(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopAllRTMPBroadcasts = () => {\n            return this.videoApi.stopAllRTMPBroadcasts({\n                id: this.id,\n                type: this.type,\n            });\n        };\n        this.stopRTMPBroadcast = (request) => {\n            return this.videoApi.stopRTMPBroadcast(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startHLSBroadcasting = () => {\n            return this.videoApi.startHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.startRecording = (request) => {\n            return this.videoApi.startRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.startTranscription = (request) => {\n            return this.videoApi.startTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getCallStats = (request) => {\n            return this.videoApi.getCallStats(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.stopHLSBroadcasting = () => {\n            return this.videoApi.stopHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.stopLive = () => {\n            return this.videoApi.stopLive({ id: this.id, type: this.type });\n        };\n        this.stopRecording = () => {\n            return this.videoApi.stopRecording({ id: this.id, type: this.type });\n        };\n        this.stopTranscription = () => {\n            return this.videoApi.stopTranscription({ id: this.id, type: this.type });\n        };\n        this.listTranscriptions = () => {\n            return this.videoApi.listTranscriptions({ id: this.id, type: this.type });\n        };\n        this.unblockUser = (request) => {\n            return this.videoApi.unblockUser(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.videoUnpin = (request) => {\n            return this.videoApi.videoUnpin(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateUserPermissions = (request) => {\n            return this.videoApi.updateUserPermissions(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteRecording = (request) => {\n            return this.videoApi.deleteRecording(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteTranscription = (request) => {\n            return this.videoApi.deleteTranscription(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamCall extends CallApi {\n    constructor() {\n        super(...arguments);\n        this.create = this.getOrCreate;\n        this.queryMembers = (request) => {\n            return this.videoApi.queryCallMembers(Object.assign({ id: this.id, type: this.type }, (request !== null && request !== void 0 ? request : {})));\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n}\n\nclass StreamVideoClient extends VideoApi {\n    constructor() {\n        super(...arguments);\n        this.call = (type, id) => {\n            return new StreamCall(this, type, id);\n        };\n    }\n}\n\nclass ChatApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                message_limit: request === null || request === void 0 ? void 0 : request.message_limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter_conditions: request === null || request === void 0 ? void 0 : request.filter_conditions,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels', undefined, undefined, body);\n            (_a = decoders.QueryChannelsResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                cids: request === null || request === void 0 ? void 0 : request.cids,\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/delete', undefined, undefined, body);\n            (_b = decoders.DeleteChannelsResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markChannelsRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                read_by_channel: request === null || request === void 0 ? void 0 : request.read_by_channel,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/read', undefined, undefined, body);\n            (_c = decoders.MarkReadResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateDistinctChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/query', pathParams, undefined, body);\n            (_d = decoders.ChannelStateResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const queryParams = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}', pathParams, queryParams);\n            (_e = decoders.DeleteChannelResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_f = decoders.UpdateChannelPartialResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                accept_invite: request === null || request === void 0 ? void 0 : request.accept_invite,\n                cooldown: request === null || request === void 0 ? void 0 : request.cooldown,\n                hide_history: request === null || request === void 0 ? void 0 : request.hide_history,\n                reject_invite: request === null || request === void 0 ? void 0 : request.reject_invite,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                add_members: request === null || request === void 0 ? void 0 : request.add_members,\n                add_moderators: request === null || request === void 0 ? void 0 : request.add_moderators,\n                assign_roles: request === null || request === void 0 ? void 0 : request.assign_roles,\n                demote_moderators: request === null || request === void 0 ? void 0 : request.demote_moderators,\n                invites: request === null || request === void 0 ? void 0 : request.invites,\n                remove_members: request === null || request === void 0 ? void 0 : request.remove_members,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            (_g = decoders.UpdateChannelResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/event', pathParams, undefined, body);\n            (_h = decoders.EventResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/file', pathParams, queryParams);\n            (_j = decoders.Response) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadFile = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/file', pathParams, undefined, body);\n            (_k = decoders.FileUploadResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.hideChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                clear_history: request === null || request === void 0 ? void 0 : request.clear_history,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/hide', pathParams, undefined, body);\n            (_l = decoders.HideChannelResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const queryParams = {\n                url: request === null || request === void 0 ? void 0 : request.url,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/image', pathParams, queryParams);\n            (_m = decoders.Response) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.uploadImage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                file: request === null || request === void 0 ? void 0 : request.file,\n                upload_sizes: request === null || request === void 0 ? void 0 : request.upload_sizes,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/image', pathParams, undefined, body);\n            (_o = decoders.ImageUploadResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMemberPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}/member/{user_id}', pathParams, undefined, body);\n            (_p = decoders.UpdateMemberPartialResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                force_moderation: request === null || request === void 0 ? void 0 : request.force_moderation,\n                keep_channel_hidden: request === null || request === void 0 ? void 0 : request.keep_channel_hidden,\n                pending: request === null || request === void 0 ? void 0 : request.pending,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                pending_message_metadata: request === null || request === void 0 ? void 0 : request.pending_message_metadata,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/message', pathParams, undefined, body);\n            (_q = decoders.SendMessageResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getManyMessages = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const queryParams = {\n                ids: request === null || request === void 0 ? void 0 : request.ids,\n            };\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/messages', pathParams, queryParams);\n            (_r = decoders.GetManyMessagesResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getOrCreateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hide_for_creator: request === null || request === void 0 ? void 0 : request.hide_for_creator,\n                state: request === null || request === void 0 ? void 0 : request.state,\n                thread_unread_counts: request === null || request === void 0 ? void 0 : request.thread_unread_counts,\n                data: request === null || request === void 0 ? void 0 : request.data,\n                members: request === null || request === void 0 ? void 0 : request.members,\n                messages: request === null || request === void 0 ? void 0 : request.messages,\n                watchers: request === null || request === void 0 ? void 0 : request.watchers,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/query', pathParams, undefined, body);\n            (_s = decoders.ChannelStateResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markRead = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/read', pathParams, undefined, body);\n            (_t = decoders.MarkReadResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.showChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/show', pathParams, undefined, body);\n            (_u = decoders.ShowChannelResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.truncateChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                hard_delete: request === null || request === void 0 ? void 0 : request.hard_delete,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n                truncated_at: request === null || request === void 0 ? void 0 : request.truncated_at,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                message: request === null || request === void 0 ? void 0 : request.message,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/truncate', pathParams, undefined, body);\n            (_v = decoders.TruncateChannelResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.markUnread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _w;\n            const pathParams = {\n                type: request === null || request === void 0 ? void 0 : request.type,\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                thread_id: request === null || request === void 0 ? void 0 : request.thread_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/unread', pathParams, undefined, body);\n            (_w = decoders.Response) === null || _w === void 0 ? void 0 : _w.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listChannelTypes = () => __awaiter(this, void 0, void 0, function* () {\n            var _x;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes', undefined, undefined);\n            (_x = decoders.ListChannelTypesResponse) === null || _x === void 0 ? void 0 : _x.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _y;\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                message_retention: request === null || request === void 0 ? void 0 : request.message_retention,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/channeltypes', undefined, undefined, body);\n            (_y = decoders.CreateChannelTypeResponse) === null || _y === void 0 ? void 0 : _y.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _z;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_z = decoders.Response) === null || _z === void 0 ? void 0 : _z.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _0;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            (_0 = decoders.GetChannelTypeResponse) === null || _0 === void 0 ? void 0 : _0.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateChannelType = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _1;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                automod: request === null || request === void 0 ? void 0 : request.automod,\n                automod_behavior: request === null || request === void 0 ? void 0 : request.automod_behavior,\n                max_message_length: request === null || request === void 0 ? void 0 : request.max_message_length,\n                blocklist: request === null || request === void 0 ? void 0 : request.blocklist,\n                blocklist_behavior: request === null || request === void 0 ? void 0 : request.blocklist_behavior,\n                connect_events: request === null || request === void 0 ? void 0 : request.connect_events,\n                custom_events: request === null || request === void 0 ? void 0 : request.custom_events,\n                mark_messages_pending: request === null || request === void 0 ? void 0 : request.mark_messages_pending,\n                mutes: request === null || request === void 0 ? void 0 : request.mutes,\n                partition_size: request === null || request === void 0 ? void 0 : request.partition_size,\n                partition_ttl: request === null || request === void 0 ? void 0 : request.partition_ttl,\n                polls: request === null || request === void 0 ? void 0 : request.polls,\n                push_notifications: request === null || request === void 0 ? void 0 : request.push_notifications,\n                quotes: request === null || request === void 0 ? void 0 : request.quotes,\n                reactions: request === null || request === void 0 ? void 0 : request.reactions,\n                read_events: request === null || request === void 0 ? void 0 : request.read_events,\n                reminders: request === null || request === void 0 ? void 0 : request.reminders,\n                replies: request === null || request === void 0 ? void 0 : request.replies,\n                search: request === null || request === void 0 ? void 0 : request.search,\n                typing_events: request === null || request === void 0 ? void 0 : request.typing_events,\n                uploads: request === null || request === void 0 ? void 0 : request.uploads,\n                url_enrichment: request === null || request === void 0 ? void 0 : request.url_enrichment,\n                allowed_flag_reasons: request === null || request === void 0 ? void 0 : request.allowed_flag_reasons,\n                blocklists: request === null || request === void 0 ? void 0 : request.blocklists,\n                commands: request === null || request === void 0 ? void 0 : request.commands,\n                permissions: request === null || request === void 0 ? void 0 : request.permissions,\n                automod_thresholds: request === null || request === void 0 ? void 0 : request.automod_thresholds,\n                grants: request === null || request === void 0 ? void 0 : request.grants,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/channeltypes/{name}', pathParams, undefined, body);\n            (_1 = decoders.UpdateChannelTypeResponse) === null || _1 === void 0 ? void 0 : _1.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.listCommands = () => __awaiter(this, void 0, void 0, function* () {\n            var _2;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands', undefined, undefined);\n            (_2 = decoders.ListCommandsResponse) === null || _2 === void 0 ? void 0 : _2.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _3;\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/commands', undefined, undefined, body);\n            (_3 = decoders.CreateCommandResponse) === null || _3 === void 0 ? void 0 : _3.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _4;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_4 = decoders.DeleteCommandResponse) === null || _4 === void 0 ? void 0 : _4.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _5;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            (_5 = decoders.GetCommandResponse) === null || _5 === void 0 ? void 0 : _5.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateCommand = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _6;\n            const pathParams = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n            };\n            const body = {\n                description: request === null || request === void 0 ? void 0 : request.description,\n                args: request === null || request === void 0 ? void 0 : request.args,\n                set: request === null || request === void 0 ? void 0 : request.set,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/commands/{name}', pathParams, undefined, body);\n            (_6 = decoders.UpdateCommandResponse) === null || _6 === void 0 ? void 0 : _6.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.exportChannels = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _7;\n            const body = {\n                channels: request === null || request === void 0 ? void 0 : request.channels,\n                clear_deleted_message_text: request === null || request === void 0 ? void 0 : request.clear_deleted_message_text,\n                export_users: request === null || request === void 0 ? void 0 : request.export_users,\n                include_soft_deleted_channels: request === null || request === void 0 ? void 0 : request.include_soft_deleted_channels,\n                include_truncated_messages: request === null || request === void 0 ? void 0 : request.include_truncated_messages,\n                version: request === null || request === void 0 ? void 0 : request.version,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/export_channels', undefined, undefined, body);\n            (_7 = decoders.ExportChannelsResponse) === null || _7 === void 0 ? void 0 : _7.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getExportChannelsStatus = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _8;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/export_channels/{id}', pathParams, undefined);\n            (_8 = decoders.GetExportChannelsStatusResponse) === null || _8 === void 0 ? void 0 : _8.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMembers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _9;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/members', undefined, queryParams);\n            (_9 = decoders.MembersResponse) === null || _9 === void 0 ? void 0 : _9.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageHistory = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _10;\n            const body = {\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/history', undefined, undefined, body);\n            (_10 = decoders.QueryMessageHistoryResponse) === null || _10 === void 0 ? void 0 : _10.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _11;\n            const queryParams = {\n                hard: request === null || request === void 0 ? void 0 : request.hard,\n                deleted_by: request === null || request === void 0 ? void 0 : request.deleted_by,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_11 = decoders.DeleteMessageResponse) === null || _11 === void 0 ? void 0 : _11.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _12;\n            const queryParams = {\n                show_deleted_message: request === null || request === void 0 ? void 0 : request.show_deleted_message,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            (_12 = decoders.GetMessageResponse) === null || _12 === void 0 ? void 0 : _12.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _13;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_13 = decoders.UpdateMessageResponse) === null || _13 === void 0 ? void 0 : _13.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateMessagePartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _14;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            (_14 = decoders.UpdateMessagePartialResponse) === null || _14 === void 0 ? void 0 : _14.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.runMessageAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _15;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                form_data: request === null || request === void 0 ? void 0 : request.form_data,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/action', pathParams, undefined, body);\n            (_15 = decoders.MessageResponse) === null || _15 === void 0 ? void 0 : _15.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.commitMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _16;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {};\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/commit', pathParams, undefined, body);\n            (_16 = decoders.MessageResponse) === null || _16 === void 0 ? void 0 : _16.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _17;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                reaction: request === null || request === void 0 ? void 0 : request.reaction,\n                enforce_unique: request === null || request === void 0 ? void 0 : request.enforce_unique,\n                skip_push: request === null || request === void 0 ? void 0 : request.skip_push,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reaction', pathParams, undefined, body);\n            (_17 = decoders.SendReactionResponse) === null || _17 === void 0 ? void 0 : _17.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deleteReaction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _18;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                type: request === null || request === void 0 ? void 0 : request.type,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{id}/reaction/{type}', pathParams, queryParams);\n            (_18 = decoders.ReactionRemovalResponse) === null || _18 === void 0 ? void 0 : _18.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _19;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n            };\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{id}/reactions', pathParams, queryParams);\n            (_19 = decoders.GetReactionsResponse) === null || _19 === void 0 ? void 0 : _19.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReactions = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _20;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/reactions', pathParams, undefined, body);\n            (_20 = decoders.QueryReactionsResponse) === null || _20 === void 0 ? void 0 : _20.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.translateMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _21;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                language: request === null || request === void 0 ? void 0 : request.language,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/translate', pathParams, undefined, body);\n            (_21 = decoders.MessageResponse) === null || _21 === void 0 ? void 0 : _21.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.undeleteMessage = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _22;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const body = {\n                message: request === null || request === void 0 ? void 0 : request.message,\n                skip_enrich_url: request === null || request === void 0 ? void 0 : request.skip_enrich_url,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{id}/undelete', pathParams, undefined, body);\n            (_22 = decoders.UpdateMessageResponse) === null || _22 === void 0 ? void 0 : _22.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.castPollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _23;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n                vote: request === null || request === void 0 ? void 0 : request.vote,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote', pathParams, undefined, body);\n            (_23 = decoders.PollVoteResponse) === null || _23 === void 0 ? void 0 : _23.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.removePollVote = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _24;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                vote_id: request === null || request === void 0 ? void 0 : request.vote_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n            (_24 = decoders.PollVoteResponse) === null || _24 === void 0 ? void 0 : _24.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReplies = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _25;\n            const queryParams = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                offset: request === null || request === void 0 ? void 0 : request.offset,\n                id_gte: request === null || request === void 0 ? void 0 : request.id_gte,\n                id_gt: request === null || request === void 0 ? void 0 : request.id_gt,\n                id_lte: request === null || request === void 0 ? void 0 : request.id_lte,\n                id_lt: request === null || request === void 0 ? void 0 : request.id_lt,\n                created_at_after_or_equal: request === null || request === void 0 ? void 0 : request.created_at_after_or_equal,\n                created_at_after: request === null || request === void 0 ? void 0 : request.created_at_after,\n                created_at_before_or_equal: request === null || request === void 0 ? void 0 : request.created_at_before_or_equal,\n                created_at_before: request === null || request === void 0 ? void 0 : request.created_at_before,\n                id_around: request === null || request === void 0 ? void 0 : request.id_around,\n                created_at_around: request === null || request === void 0 ? void 0 : request.created_at_around,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n            };\n            const pathParams = {\n                parent_id: request === null || request === void 0 ? void 0 : request.parent_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/messages/{parent_id}/replies', pathParams, queryParams);\n            (_25 = decoders.GetRepliesResponse) === null || _25 === void 0 ? void 0 : _25.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryMessageFlags = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _26;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/moderation/flags/message', undefined, queryParams);\n            (_26 = decoders.QueryMessageFlagsResponse) === null || _26 === void 0 ? void 0 : _26.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.muteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _27;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/mute/channel', undefined, undefined, body);\n            (_27 = decoders.MuteChannelResponse) === null || _27 === void 0 ? void 0 : _27.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmuteChannel = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _28;\n            const body = {\n                expiration: request === null || request === void 0 ? void 0 : request.expiration,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                channel_cids: request === null || request === void 0 ? void 0 : request.channel_cids,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/moderation/unmute/channel', undefined, undefined, body);\n            (_28 = decoders.UnmuteResponse) === null || _28 === void 0 ? void 0 : _28.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _29;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                id: request === null || request === void 0 ? void 0 : request.id,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls', undefined, undefined, body);\n            (_29 = decoders.PollResponse) === null || _29 === void 0 ? void 0 : _29.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _30;\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                allow_answers: request === null || request === void 0 ? void 0 : request.allow_answers,\n                allow_user_suggested_options: request === null || request === void 0 ? void 0 : request.allow_user_suggested_options,\n                description: request === null || request === void 0 ? void 0 : request.description,\n                enforce_unique_vote: request === null || request === void 0 ? void 0 : request.enforce_unique_vote,\n                is_closed: request === null || request === void 0 ? void 0 : request.is_closed,\n                max_votes_allowed: request === null || request === void 0 ? void 0 : request.max_votes_allowed,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                voting_visibility: request === null || request === void 0 ? void 0 : request.voting_visibility,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls', undefined, undefined, body);\n            (_30 = decoders.PollResponse) === null || _30 === void 0 ? void 0 : _30.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPolls = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _31;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/query', undefined, queryParams, body);\n            (_31 = decoders.QueryPollsResponse) === null || _31 === void 0 ? void 0 : _31.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _32;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_32 = decoders.Response) === null || _32 === void 0 ? void 0 : _32.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPoll = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _33;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            (_33 = decoders.PollResponse) === null || _33 === void 0 ? void 0 : _33.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _34;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/polls/{poll_id}', pathParams, undefined, body);\n            (_34 = decoders.PollResponse) === null || _34 === void 0 ? void 0 : _34.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.createPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _35;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                text: request === null || request === void 0 ? void 0 : request.text,\n                position: request === null || request === void 0 ? void 0 : request.position,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_35 = decoders.PollOptionResponse) === null || _35 === void 0 ? void 0 : _35.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updatePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _36;\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n                text: request === null || request === void 0 ? void 0 : request.text,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PUT', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            (_36 = decoders.PollOptionResponse) === null || _36 === void 0 ? void 0 : _36.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.deletePollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _37;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_37 = decoders.Response) === null || _37 === void 0 ? void 0 : _37.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getPollOption = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _38;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n                option_id: request === null || request === void 0 ? void 0 : request.option_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            (_38 = decoders.PollOptionResponse) === null || _38 === void 0 ? void 0 : _38.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryPollVotes = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _39;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const pathParams = {\n                poll_id: request === null || request === void 0 ? void 0 : request.poll_id,\n            };\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/votes', pathParams, queryParams, body);\n            (_39 = decoders.PollVotesResponse) === null || _39 === void 0 ? void 0 : _39.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryBannedUsers = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _40;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/query_banned_users', undefined, queryParams);\n            (_40 = decoders.QueryBannedUsersResponse) === null || _40 === void 0 ? void 0 : _40.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.search = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _41;\n            const queryParams = {\n                payload: request === null || request === void 0 ? void 0 : request.payload,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/search', undefined, queryParams);\n            (_41 = decoders.SearchResponse) === null || _41 === void 0 ? void 0 : _41.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryThreads = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _42;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/threads', undefined, undefined, body);\n            (_42 = decoders.QueryThreadsResponse) === null || _42 === void 0 ? void 0 : _42.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getThread = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _43;\n            const queryParams = {\n                connection_id: request === null || request === void 0 ? void 0 : request.connection_id,\n                reply_limit: request === null || request === void 0 ? void 0 : request.reply_limit,\n                participant_limit: request === null || request === void 0 ? void 0 : request.participant_limit,\n                member_limit: request === null || request === void 0 ? void 0 : request.member_limit,\n            };\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/chat/threads/{message_id}', pathParams, queryParams);\n            (_43 = decoders.GetThreadResponse) === null || _43 === void 0 ? void 0 : _43.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.updateThreadPartial = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _44;\n            const pathParams = {\n                message_id: request === null || request === void 0 ? void 0 : request.message_id,\n            };\n            const body = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                unset: request === null || request === void 0 ? void 0 : request.unset,\n                set: request === null || request === void 0 ? void 0 : request.set,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('PATCH', '/api/v2/chat/threads/{message_id}', pathParams, undefined, body);\n            (_44 = decoders.UpdateThreadPartialResponse) === null || _44 === void 0 ? void 0 : _44.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCounts = () => __awaiter(this, void 0, void 0, function* () {\n            var _45;\n            const response = yield this.sendRequest('GET', '/api/v2/chat/unread', undefined, undefined);\n            (_45 = decoders.WrappedUnreadCountsResponse) === null || _45 === void 0 ? void 0 : _45.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unreadCountsBatch = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _46;\n            const body = {\n                user_ids: request === null || request === void 0 ? void 0 : request.user_ids,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/unread_batch', undefined, undefined, body);\n            (_46 = decoders.UnreadCountsBatchResponse) === null || _46 === void 0 ? void 0 : _46.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.sendUserCustomEvent = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _47;\n            const pathParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n            };\n            const body = {\n                event: request === null || request === void 0 ? void 0 : request.event,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/chat/users/{user_id}/event', pathParams, undefined, body);\n            (_47 = decoders.Response) === null || _47 === void 0 ? void 0 : _47.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass ChannelApi {\n    constructor(chatApi, type, id) {\n        this.chatApi = chatApi;\n        this.type = type;\n        this.id = id;\n        this.delete = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateChannelPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannelPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.update = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendEvent = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendEvent(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadFile(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.hide = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.hideChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.deleteImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.uploadImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadImage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.updateMemberPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateMemberPartial(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.sendMessage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendMessage(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getManyMessages = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getManyMessages(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.getOrCreate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markRead = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markRead(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.show = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.showChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.truncate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.truncateChannel(Object.assign({ id: this.id, type: this.type }, request));\n        };\n        this.markUnread = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markUnread(Object.assign({ id: this.id, type: this.type }, request));\n        };\n    }\n}\n\nclass StreamChannel extends ChannelApi {\n    constructor() {\n        super(...arguments);\n        this.getOrCreate = (channel_get_or_create_request) => {\n            if (!this.id) {\n                return this.chatApi\n                    .getOrCreateDistinctChannel(Object.assign({ type: this.type }, channel_get_or_create_request))\n                    .then((response) => {\n                    var _a;\n                    this.id = (_a = response.channel) === null || _a === void 0 ? void 0 : _a.id;\n                    return response;\n                });\n            }\n            else {\n                return this.chatApi.getOrCreateChannel(Object.assign({ id: this.id, type: this.type }, channel_get_or_create_request));\n            }\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n    queryMembers(request) {\n        var _a;\n        return this.chatApi.queryMembers({\n            payload: Object.assign({ id: this.id, type: this.type }, ((_a = request === null || request === void 0 ? void 0 : request.payload) !== null && _a !== void 0 ? _a : { filter_conditions: {} })),\n        });\n    }\n}\n\nclass StreamChatClient extends ChatApi {\n    constructor() {\n        super(...arguments);\n        this.channel = (type, id) => {\n            return new StreamChannel(this, type, id);\n        };\n    }\n}\n\nclass ModerationApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.ban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const body = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                banned_by_id: request === null || request === void 0 ? void 0 : request.banned_by_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                ip_ban: request === null || request === void 0 ? void 0 : request.ip_ban,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                shadow: request === null || request === void 0 ? void 0 : request.shadow,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                banned_by: request === null || request === void 0 ? void 0 : request.banned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/ban', undefined, undefined, body);\n            (_a = decoders.BanResponse) === null || _a === void 0 ? void 0 : _a.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.check = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _b;\n            const body = {\n                config_key: request === null || request === void 0 ? void 0 : request.config_key,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                options: request === null || request === void 0 ? void 0 : request.options,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/check', undefined, undefined, body);\n            (_b = decoders.CheckResponse) === null || _b === void 0 ? void 0 : _b.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.upsertConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _c;\n            const body = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n                async: request === null || request === void 0 ? void 0 : request.async,\n                automod_platform_circumvention_config: request === null || request === void 0 ? void 0 : request.automod_platform_circumvention_config,\n                automod_semantic_filters_config: request === null || request === void 0 ? void 0 : request.automod_semantic_filters_config,\n                automod_toxicity_config: request === null || request === void 0 ? void 0 : request.automod_toxicity_config,\n                aws_rek_og_nition_config: request === null || request === void 0 ? void 0 : request.aws_rek_og_nition_config,\n                block_list_config: request === null || request === void 0 ? void 0 : request.block_list_config,\n                bodyguard_config: request === null || request === void 0 ? void 0 : request.bodyguard_config,\n                go_og_le_vision_config: request === null || request === void 0 ? void 0 : request.go_og_le_vision_config,\n                velocity_filter_config: request === null || request === void 0 ? void 0 : request.velocity_filter_config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/config', undefined, undefined, body);\n            (_c = decoders.UpsertConfigResponse) === null || _c === void 0 ? void 0 : _c.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getConfig = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _d;\n            const pathParams = {\n                key: request === null || request === void 0 ? void 0 : request.key,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/config/{key}', pathParams, undefined);\n            (_d = decoders.GetConfigResponse) === null || _d === void 0 ? void 0 : _d.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.customCheck = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _e;\n            const body = {\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                name: request === null || request === void 0 ? void 0 : request.name,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                recommended_action: request === null || request === void 0 ? void 0 : request.recommended_action,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/custom_check', undefined, undefined, body);\n            (_e = decoders.CustomCheckResponse) === null || _e === void 0 ? void 0 : _e.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2DeleteTemplate = () => __awaiter(this, void 0, void 0, function* () {\n            var _f;\n            const response = yield this.sendRequest('DELETE', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_f = decoders.DeleteModerationTemplateResponse) === null || _f === void 0 ? void 0 : _f.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2QueryTemplates = () => __awaiter(this, void 0, void 0, function* () {\n            var _g;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            (_g = decoders.QueryFeedModerationTemplatesResponse) === null || _g === void 0 ? void 0 : _g.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.v2UpsertTemplate = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _h;\n            const body = {\n                name: request === null || request === void 0 ? void 0 : request.name,\n                config: request === null || request === void 0 ? void 0 : request.config,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/feeds_moderation_template', undefined, undefined, body);\n            (_h = decoders.UpsertModerationTemplateResponse) === null || _h === void 0 ? void 0 : _h.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.flag = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            const body = {\n                entity_id: request === null || request === void 0 ? void 0 : request.entity_id,\n                entity_type: request === null || request === void 0 ? void 0 : request.entity_type,\n                reason: request === null || request === void 0 ? void 0 : request.reason,\n                entity_creator_id: request === null || request === void 0 ? void 0 : request.entity_creator_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                moderation_payload: request === null || request === void 0 ? void 0 : request.moderation_payload,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/flag', undefined, undefined, body);\n            (_j = decoders.FlagResponse) === null || _j === void 0 ? void 0 : _j.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryModerationLogs = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _k;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/logs', undefined, undefined, body);\n            (_k = decoders.QueryModerationLogsResponse) === null || _k === void 0 ? void 0 : _k.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getModeratorStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _l;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/moderator_stats', undefined, undefined);\n            (_l = decoders.ModeratorStatsResponse) === null || _l === void 0 ? void 0 : _l.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.mute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _m;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                timeout: request === null || request === void 0 ? void 0 : request.timeout,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/mute', undefined, undefined, body);\n            (_m = decoders.MuteResponse) === null || _m === void 0 ? void 0 : _m.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getQueueStats = () => __awaiter(this, void 0, void 0, function* () {\n            var _o;\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/queue_stats', undefined, undefined);\n            (_o = decoders.QueueStatsResponse) === null || _o === void 0 ? void 0 : _o.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryReviewQueue = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _p;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                lock_moderator_duration: request === null || request === void 0 ? void 0 : request.lock_moderator_duration,\n                lock_moderator_id: request === null || request === void 0 ? void 0 : request.lock_moderator_id,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                stats_only: request === null || request === void 0 ? void 0 : request.stats_only,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/review_queue', undefined, undefined, body);\n            (_p = decoders.QueryReviewQueueResponse) === null || _p === void 0 ? void 0 : _p.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getReviewQueueItem = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _q;\n            const pathParams = {\n                id: request === null || request === void 0 ? void 0 : request.id,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/review_queue/{id}', pathParams, undefined);\n            (_q = decoders.GetReviewQueueItemResponse) === null || _q === void 0 ? void 0 : _q.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.submitAction = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _r;\n            const body = {\n                action_type: request === null || request === void 0 ? void 0 : request.action_type,\n                item_id: request === null || request === void 0 ? void 0 : request.item_id,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                ban: request === null || request === void 0 ? void 0 : request.ban,\n                custom: request === null || request === void 0 ? void 0 : request.custom,\n                delete_activity: request === null || request === void 0 ? void 0 : request.delete_activity,\n                delete_message: request === null || request === void 0 ? void 0 : request.delete_message,\n                delete_reaction: request === null || request === void 0 ? void 0 : request.delete_reaction,\n                delete_user: request === null || request === void 0 ? void 0 : request.delete_user,\n                unban: request === null || request === void 0 ? void 0 : request.unban,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/submit_action', undefined, undefined, body);\n            (_r = decoders.SubmitActionResponse) === null || _r === void 0 ? void 0 : _r.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unban = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _s;\n            const queryParams = {\n                target_user_id: request === null || request === void 0 ? void 0 : request.target_user_id,\n                channel_cid: request === null || request === void 0 ? void 0 : request.channel_cid,\n                created_by: request === null || request === void 0 ? void 0 : request.created_by,\n            };\n            const body = {\n                unbanned_by_id: request === null || request === void 0 ? void 0 : request.unbanned_by_id,\n                unbanned_by: request === null || request === void 0 ? void 0 : request.unbanned_by,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unban', undefined, queryParams, body);\n            (_s = decoders.UnbanResponse) === null || _s === void 0 ? void 0 : _s.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.unmute = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _t;\n            const body = {\n                target_ids: request === null || request === void 0 ? void 0 : request.target_ids,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/unmute', undefined, undefined, body);\n            (_t = decoders.UnmuteResponse) === null || _t === void 0 ? void 0 : _t.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.queryUsageStats = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _u;\n            const body = {\n                limit: request === null || request === void 0 ? void 0 : request.limit,\n                next: request === null || request === void 0 ? void 0 : request.next,\n                prev: request === null || request === void 0 ? void 0 : request.prev,\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                sort: request === null || request === void 0 ? void 0 : request.sort,\n                filter: request === null || request === void 0 ? void 0 : request.filter,\n                user: request === null || request === void 0 ? void 0 : request.user,\n            };\n            const response = yield this.sendRequest('POST', '/api/v2/moderation/usage_stats', undefined, undefined, body);\n            (_u = decoders.QueryUsageStatsResponse) === null || _u === void 0 ? void 0 : _u.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n        this.getUserReport = (request) => __awaiter(this, void 0, void 0, function* () {\n            var _v;\n            const queryParams = {\n                user_id: request === null || request === void 0 ? void 0 : request.user_id,\n                create_user_if_not_exists: request === null || request === void 0 ? void 0 : request.create_user_if_not_exists,\n                include_user_mutes: request === null || request === void 0 ? void 0 : request.include_user_mutes,\n                include_user_blocks: request === null || request === void 0 ? void 0 : request.include_user_blocks,\n            };\n            const response = yield this.sendRequest('GET', '/api/v2/moderation/user_report', undefined, queryParams);\n            (_v = decoders.GetUserModerationReportResponse) === null || _v === void 0 ? void 0 : _v.call(decoders, response.body);\n            return Object.assign(Object.assign({}, response.body), { metadata: response.metadata });\n        });\n    }\n}\n\nclass StreamModerationClient extends ModerationApi {\n}\n\nclass StreamClient extends CommonApi {\n    /**\n     *\n     * @param apiKey\n     * @param secret\n     * @param config config object\n     */\n    constructor(apiKey, secret, config) {\n        var _a, _b, _c;\n        const token = JWTServerToken(secret);\n        const timeout = (_a = config === null || config === void 0 ? void 0 : config.timeout) !== null && _a !== void 0 ? _a : StreamClient.DEFAULT_TIMEOUT;\n        const chatBaseUrl = (_b = config === null || config === void 0 ? void 0 : config.basePath) !== null && _b !== void 0 ? _b : 'https://chat.stream-io-api.com';\n        const videoBaseUrl = (_c = config === null || config === void 0 ? void 0 : config.basePath) !== null && _c !== void 0 ? _c : 'https://video.stream-io-api.com';\n        super({ apiKey, token, timeout, baseUrl: chatBaseUrl });\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.config = config;\n        this.options = {};\n        this.upsertUsers = (users) => {\n            const payload = {};\n            users.forEach((u) => {\n                payload[u.id] = u;\n            });\n            return this.updateUsers({ users: payload });\n        };\n        this.queryBannedUsers = (request) => {\n            return this.chat.queryBannedUsers(request);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateUserToken = (payload) => {\n            var _a, _b, _c;\n            const defaultIat = Math.floor((Date.now() - 1000) / 1000);\n            payload.iat = (_a = payload.iat) !== null && _a !== void 0 ? _a : defaultIat;\n            const validityInSeconds = (_b = payload.validity_in_seconds) !== null && _b !== void 0 ? _b : 60 * 60;\n            payload.exp = (_c = payload.exp) !== null && _c !== void 0 ? _c : payload.iat + validityInSeconds;\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateCallToken = (payload) => {\n            return this.generateUserToken(payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param exp\n         * @param iat deprecated, the default date will be set internally\n         * @returns\n         *\n         * @deprecated use generateUserToken instead\n         */\n        this.createToken = (userID, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                user_id: userID,\n                exp,\n                iat,\n            };\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param call_cids\n         * @param exp\n         * @param iat this is deprecated, the current date will be set internally\n         * @returns\n         *\n         * @deprecated use generateCallToken instead\n         */\n        this.createCallToken = (userIdOrObject, call_cids, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                exp,\n                iat,\n                call_cids,\n                user_id: typeof userIdOrObject === 'string'\n                    ? userIdOrObject\n                    : userIdOrObject.user_id,\n            };\n            if (typeof userIdOrObject === 'object' && userIdOrObject.role) {\n                payload.role = userIdOrObject.role;\n            }\n            return JWTUserToken(this.secret, payload);\n        };\n        this.verifyWebhook = (requestBody, xSignature) => {\n            const key = Buffer.from(this.secret, 'utf8');\n            const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHmac('sha256', key)\n                .update(requestBody)\n                .digest('hex');\n            try {\n                return crypto__WEBPACK_IMPORTED_MODULE_1__.timingSafeEqual(Buffer.from(hash), Buffer.from(xSignature));\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.video = new StreamVideoClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: videoBaseUrl,\n        });\n        this.chat = new StreamChatClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n        this.moderation = new StreamModerationClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n        });\n    }\n}\nStreamClient.DEFAULT_TIMEOUT = 3000;\n\n\n//# sourceMappingURL=index.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL2Rpc3QvaW5kZXguZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUErQjtBQUNMO0FBQ0U7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRLHlDQUFHLFlBQVksOENBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxXQUFXLDhDQUFRO0FBQ25CO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1Q0FBdUM7QUFDeEUsV0FBVyw4Q0FBUTtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0RBQStELGlCQUFpQjtBQUM1RztBQUNBLG9DQUFvQyxNQUFNLCtCQUErQixZQUFZO0FBQ3JGLG1DQUFtQyxNQUFNLG1DQUFtQyxZQUFZO0FBQ3hGLGdDQUFnQztBQUNoQztBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxFQUFFLFdBQVc7QUFDckQsaUJBQWlCO0FBQ2pCO0FBQ0EsdUJBQXVCLGNBQWM7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQ0U7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUV1RztBQUN2RyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20vLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby9ub2RlLXNkay9kaXN0L2luZGV4LmVzLm1qcz81ODZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5cbmNvbnN0IE93bkNhcGFiaWxpdHkgPSB7XG4gICAgQkxPQ0tfVVNFUlM6ICdibG9jay11c2VycycsXG4gICAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICAgIENSRUFURV9DQUxMOiAnY3JlYXRlLWNhbGwnLFxuICAgIENSRUFURV9SRUFDVElPTjogJ2NyZWF0ZS1yZWFjdGlvbicsXG4gICAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICAgIEVORF9DQUxMOiAnZW5kLWNhbGwnLFxuICAgIEpPSU5fQkFDS1NUQUdFOiAnam9pbi1iYWNrc3RhZ2UnLFxuICAgIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gICAgSk9JTl9FTkRFRF9DQUxMOiAnam9pbi1lbmRlZC1jYWxsJyxcbiAgICBNVVRFX1VTRVJTOiAnbXV0ZS11c2VycycsXG4gICAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICAgIFJFQURfQ0FMTDogJ3JlYWQtY2FsbCcsXG4gICAgUkVNT1ZFX0NBTExfTUVNQkVSOiAncmVtb3ZlLWNhbGwtbWVtYmVyJyxcbiAgICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgICBTRU5EX0FVRElPOiAnc2VuZC1hdWRpbycsXG4gICAgU0VORF9WSURFTzogJ3NlbmQtdmlkZW8nLFxuICAgIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUQVJUX1JFQ09SRF9DQUxMOiAnc3RhcnQtcmVjb3JkLWNhbGwnLFxuICAgIFNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0YXJ0LXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gICAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUT1BfUkVDT1JEX0NBTEw6ICdzdG9wLXJlY29yZC1jYWxsJyxcbiAgICBTVE9QX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0b3AtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgICBVUERBVEVfQ0FMTDogJ3VwZGF0ZS1jYWxsJyxcbiAgICBVUERBVEVfQ0FMTF9NRU1CRVI6ICd1cGRhdGUtY2FsbC1tZW1iZXInLFxuICAgIFVQREFURV9DQUxMX1BFUk1JU1NJT05TOiAndXBkYXRlLWNhbGwtcGVybWlzc2lvbnMnLFxuICAgIFVQREFURV9DQUxMX1NFVFRJTkdTOiAndXBkYXRlLWNhbGwtc2V0dGluZ3MnLFxufTtcblxuZnVuY3Rpb24gSldUVXNlclRva2VuKGFwaVNlY3JldCwgcGF5bG9hZCkge1xuICAgIC8vIG1ha2Ugc3VyZSB3ZSByZXR1cm4gYSBjbGVhciBlcnJvciB3aGVuIGp3dCBpcyBzaGltbWVkIChpZS4gYnJvd3NlciBidWlsZClcbiAgICBpZiAoand0ID09IG51bGwgfHwgand0LnNpZ24gPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGZpbmQgand0IGNyeXB0bywgaWYgeW91IGFyZSBnZXR0aW5nIHRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB5b3UgYXJlIHRyeWluZyB0byBnZW5lcmF0ZSB0b2tlbnMgb24gYnJvd3NlciBvciBSZWFjdCBOYXRpdmUgKG9yIG90aGVyIGVudmlyb25tZW50IHdoZXJlIGNyeXB0byBmdW5jdGlvbnMgYXJlIG5vdCBhdmFpbGFibGUpLiBQbGVhc2UgTm90ZTogdG9rZW4gc2hvdWxkIG9ubHkgYmUgZ2VuZXJhdGVkIHNlcnZlci1zaWRlLmApO1xuICAgIH1cbiAgICBjb25zdCBvcHRzID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGFsZ29yaXRobTogJ0hTMjU2JyxcbiAgICAgICAgbm9UaW1lc3RhbXA6IHRydWUsXG4gICAgfSk7XG4gICAgaWYgKHBheWxvYWQuaWF0KSB7XG4gICAgICAgIG9wdHMubm9UaW1lc3RhbXAgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGFwaVNlY3JldCwgb3B0cyk7XG59XG5mdW5jdGlvbiBKV1RTZXJ2ZXJUb2tlbihhcGlTZWNyZXQsIGp3dE9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgIHNlcnZlcjogdHJ1ZSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHsgYWxnb3JpdGhtOiAnSFMyNTYnLCBub1RpbWVzdGFtcDogdHJ1ZSB9LCBqd3RPcHRpb25zKTtcbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG5cclxuZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxuXG5jbGFzcyBTdHJlYW1FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBtZXRhZGF0YSwgY29kZSwgZXJyb3JPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIGVycm9yT3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5cbmNvbnN0IGdldFJhdGVMaW1pdEZyb21SZXNwb25zZUhlYWRlciA9IChyZXNwb25zZUhlYWRlcnMpID0+IHtcbiAgICBjb25zdCByYXRlTGltaXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1saW1pdCcpXG4gICAgICAgID8gK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LWxpbWl0JylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVtYWluaW5nID0gcmVzcG9uc2VIZWFkZXJzLmhhcygneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgPyArcmVzcG9uc2VIZWFkZXJzLmdldCgneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzZXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1yZXNldCcpXG4gICAgICAgID8gbmV3IERhdGUoK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LXJlc2V0JykgKiAxMDAwKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHJhdGVMaW1pdCxcbiAgICAgICAgcmF0ZUxpbWl0UmVtYWluaW5nLFxuICAgICAgICByYXRlTGltaXRSZXNldCxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5jbGFzcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5hcGlDb25maWcgPSBhcGlDb25maWc7XG4gICAgICAgIHRoaXMuc2VuZFJlcXVlc3QgPSAobWV0aG9kLCB1cmwsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zICE9PSBudWxsICYmIHF1ZXJ5UGFyYW1zICE9PSB2b2lkIDAgPyBxdWVyeVBhcmFtcyA6IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBpX2tleSA9IHRoaXMuYXBpQ29uZmlnLmFwaUtleTtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWRQYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW1zU3RyaW5naWZ5KHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGlmIChwYXRoUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGF0aFBhcmFtcykuZm9yRWFjaCgocGFyYW1OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGB7JHtwYXJhbU5hbWV9fWAsIHBhdGhQYXJhbXNbcGFyYW1OYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmwgKz0gYD8ke2VuY29kZWRQYXJhbXN9YDtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlcXVlc3RJZCA9IHY0KCk7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMuYXBpQ29uZmlnLnRva2VuLFxuICAgICAgICAgICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzogJ2p3dCcsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnWC1TdHJlYW0tQ2xpZW50JzogJ3N0cmVhbS1ub2RlLScgKyBcIjAuNC40XCIsXG4gICAgICAgICAgICAgICAgJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwJyxcbiAgICAgICAgICAgICAgICAneC1jbGllbnQtcmVxdWVzdC1pZCc6IGNsaWVudFJlcXVlc3RJZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzaWduYWwgPSBBYm9ydFNpZ25hbC50aW1lb3V0KHRoaXMuYXBpQ29uZmlnLnRpbWVvdXQpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke3RoaXMuYXBpQ29uZmlnLmJhc2VVcmx9JHt1cmx9YCwge1xuICAgICAgICAgICAgICAgICAgICBzaWduYWwsXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICByYXRlTGltaXQ6IGdldFJhdGVMaW1pdEZyb21SZXNwb25zZUhlYWRlcihyZXNwb25zZUhlYWRlcnMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1FcnJvcihgU3RyZWFtIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCwgbWV0YWRhdGEsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBTdHJlYW0gZXJyb3IgY29kZSAke2Vycm9yLmNvZGV9OiAke2Vycm9yLm1lc3NhZ2V9YCwgbWV0YWRhdGEsIGVycm9yLmNvZGUsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9ICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGJvZHk6IHJlc3BvbnNlQm9keSwgbWV0YWRhdGEgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicgfHwgZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBUaGUgcmVxdWVzdCB3YXMgYWJvcnRlZCBkdWUgdG8gdG8gdGhlICR7dGhpcy5hcGlDb25maWcudGltZW91dH1tcyB0aW1lb3V0LCB5b3UgY2FuIHNldCB0aGUgdGltZW91dCBpbiB0aGUgU3RyZWFtQ2xpZW50IGNvbnN0cnVjdG9yYCwgbWV0YWRhdGEsIHVuZGVmaW5lZCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBUaGUgcmVxdWVzdCBmYWlsZWQgZHVlIHRvIGFuIHVuZXhwZWN0ZWQgZXJyb3JgLCBtZXRhZGF0YSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlQYXJhbXNTdHJpbmdpZnkgPSAocGFyYW1zKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuZXdQYXJhbXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbSA9IHBhcmFtc1trXTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW0uam9pbignLCcpKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0gaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKHBhcmFtLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgcGFyYW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKGAke2t9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHBhcmFtKSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhcmFtID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHBhcmFtID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1BhcmFtcy5wdXNoKGAke2t9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdQYXJhbXMuam9pbignJicpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY29uc3QgZGVjb2RlcnMgPSB7fTtcbmNvbnN0IGRlY29kZURhdGV0aW1lVHlwZSA9IChpbnB1dCkgPT4gbmV3IERhdGUoTWF0aC5mbG9vcihpbnB1dCAvIDEwMDAwMDApKTtcbmRlY29kZXJzLkRhdGV0aW1lVHlwZSA9IGRlY29kZURhdGV0aW1lVHlwZTtcbmNvbnN0IGRlY29kZSA9ICh0eXBlTWFwcGluZ3MsIGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dCB8fCBPYmplY3Qua2V5cyh0eXBlTWFwcGluZ3MpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIE9iamVjdC5rZXlzKHR5cGVNYXBwaW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dFtrZXldICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlTWFwcGluZ3Nba2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZXIgPSBkZWNvZGVyc1t0eXBlTWFwcGluZ3Nba2V5XS50eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZU1hcHBpbmdzW2tleV0uaXNTaW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0W2tleV0gPSBkZWNvZGVyKGlucHV0W2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRba2V5XSkuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0W2tleV1ba10gPSBkZWNvZGVyKGlucHV0W2tleV1ba10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuZGVjb2RlcnMuQWN0aW9uTG9nID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdfcXVldWVfaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0X3VzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aW9uTG9nUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld19xdWV1ZV9pdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW0nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXRfdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXBwUmVzcG9uc2VGaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGxfdHlwZXM6IHsgdHlwZTogJ0NhbGxUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWxfY29uZmlnczogeyB0eXBlOiAnQ2hhbm5lbENvbmZpZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHsgdHlwZTogJ1B1c2hOb3RpZmljYXRpb25GaWVsZHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkF1dG9tb2REZXRhaWxzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZXN1bHQ6IHsgdHlwZTogJ01lc3NhZ2VNb2RlcmF0aW9uUmVzdWx0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmFuID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRhcmdldDogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJhblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJsb2NrTGlzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CbG9ja1VzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJsb2NrZWRVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJsb2NrZWRfdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGpvaW5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0c19hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2Vzc2lvbjogeyB0eXBlOiAnQ2FsbFNlc3Npb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBhcnRpY2lwYW50czogeyB0eXBlOiAnQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWNjZXB0ZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtaXNzZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWplY3RlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX2VuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX3N0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRpbWVyX2VuZHNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTdGF0ZVJlc3BvbnNlRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZpcnN0X3N0YXRzX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUcmFuc2NyaXB0aW9uID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBlbmRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFR5cGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWwgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbmZpZzogeyB0eXBlOiAnQ2hhbm5lbENvbmZpZycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbmZpZ19vdmVycmlkZXM6IHsgdHlwZTogJ0NoYW5uZWxDb25maWcnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdHJ1bmNhdGVkX2J5OiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbENvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbENvbmZpZ1dpdGhJbmZvID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjb21tYW5kczogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTWVtYmVyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX2FjY2VwdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfYWNjZXB0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9yZWplY3RlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE11dGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGhpZGVfbWVzc2FnZXNfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG11dGVfZXhwaXJlc19hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdHJ1bmNhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbmZpZzogeyB0eXBlOiAnQ2hhbm5lbENvbmZpZ1dpdGhJbmZvJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9ieTogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX21lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgaGlkZV9tZXNzYWdlc19iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBlbmRpbmdfbWVzc2FnZXM6IHsgdHlwZTogJ1BlbmRpbmdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgd2F0Y2hlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzaGlwOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2VGaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGVuZGluZ19tZXNzYWdlczogeyB0eXBlOiAnUGVuZGluZ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB3YXRjaGVyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcnNoaXA6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsVHlwZUNvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29tbWFuZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29uZmlnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHZlbG9jaXR5X2ZpbHRlcl9jb25maWc6IHsgdHlwZTogJ1ZlbG9jaXR5RmlsdGVyQ29uZmlnJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlR3Vlc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlSW1wb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGltcG9ydF90YXNrOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlUm9sZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByb2xlOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3VzdG9tQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc2NvcmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVhY3RpdmF0ZVVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlQ2FsbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZU1lc3NhZ2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGV2aWNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FZ3Jlc3NSVE1QUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkV2ZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50OiB7IHR5cGU6ICdXU0V2ZW50JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRXhwb3J0VXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWcyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmxhZ0RldGFpbHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGF1dG9tb2Q6IHsgdHlwZTogJ0F1dG9tb2REZXRhaWxzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRmxhZ0ZlZWRiYWNrID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GdWxsVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczoge1xuICAgICAgICAgICAgdHlwZTogJ1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzU2luZ2xlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhcHA6IHsgdHlwZTogJ0FwcFJlc3BvbnNlRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRCbG9ja2VkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmxvY2tzOiB7IHR5cGU6ICdCbG9ja2VkVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEV4cG9ydENoYW5uZWxzU3RhdHVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEltcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFzazogeyB0eXBlOiAnSW1wb3J0VGFzaycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE1hbnlNZXNzYWdlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VXaXRoQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFJlYWN0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFJlcGxpZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaGlzdG9yeTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGl0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFRhc2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0VGhyZWFkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFVzZXJNb2RlcmF0aW9uUmVwb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXJfYmxvY2tzOiB7IHR5cGU6ICdVc2VyQmxvY2snLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcl9tdXRlczogeyB0eXBlOiAnVXNlck11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR29MaXZlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkltcG9ydFRhc2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGhpc3Rvcnk6IHsgdHlwZTogJ0ltcG9ydFRhc2tIaXN0b3J5JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkltcG9ydFRhc2tIaXN0b3J5ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0QmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdHM6IHsgdHlwZTogJ0Jsb2NrTGlzdFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RDYWxsVHlwZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsX3R5cGVzOiB7IHR5cGU6ICdDYWxsVHlwZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RDaGFubmVsVHlwZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbF90eXBlczogeyB0eXBlOiAnQ2hhbm5lbFR5cGVDb25maWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENvbW1hbmRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3REZXZpY2VzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0SW1wb3J0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFza3M6IHsgdHlwZTogJ0ltcG9ydFRhc2snLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFB1c2hQcm92aWRlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcnM6IHsgdHlwZTogJ1B1c2hQcm92aWRlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RSZWNvcmRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlY29yZGluZ3M6IHsgdHlwZTogJ0NhbGxSZWNvcmRpbmcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdFJvbGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJvbGVzOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0cmFuc2NyaXB0aW9uczogeyB0eXBlOiAnQ2FsbFRyYW5zY3JpcHRpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZXZlbnQ6IHsgdHlwZTogJ01lc3NhZ2VSZWFkRXZlbnQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZW1iZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbnRpb25lZF91c2VyczogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFjdGlvbl9ncm91cHM6IHsgdHlwZTogJ1JlYWN0aW9uR3JvdXBSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcXVvdGVkX21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZUZsYWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYXBwcm92ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlamVjdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGV0YWlsczogeyB0eXBlOiAnRmxhZ0RldGFpbHMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbW9kZXJhdGlvbl9mZWVkYmFjazogeyB0eXBlOiAnRmxhZ0ZlZWRiYWNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbW9kZXJhdGlvbl9yZXN1bHQ6IHsgdHlwZTogJ01lc3NhZ2VNb2RlcmF0aW9uUmVzdWx0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2aWV3ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VIaXN0b3J5RW50cnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZV91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlTW9kZXJhdGlvblJlc3VsdCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVJlYWRFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZVdpdGhDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTW9kZXJhdGlvblVzYWdlU3RhdHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk11dGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZTogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBvd25fdXNlcjogeyB0eXBlOiAnT3duVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl91c2VyOiB7IHR5cGU6ICdPd25Vc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTnVsbFRpbWUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZhbHVlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Pd25Vc2VyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7IHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QZW5kaW5nTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfYW5zd2VyczogeyB0eXBlOiAnUG9sbFZvdGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3ZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFJlc3BvbnNlRGF0YSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgb3duX3ZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3RlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHZvdGU6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3Rlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2b3RlczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvbkZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHJvdmlkZXJzOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGRpc2FibGVkX3VudGlsOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRpc2FibGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGlzYWJsZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5QmFubmVkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmFuczogeyB0eXBlOiAnQmFuUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxTdGF0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZXBvcnRzOiB7IHR5cGU6ICdDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDYWxsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsczogeyB0eXBlOiAnQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDaGFubmVsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsczogeyB0eXBlOiAnQ2hhbm5lbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUZlZWRNb2RlcmF0aW9uVGVtcGxhdGVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRlbXBsYXRlczogeyB0eXBlOiAnUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TWVzc2FnZUZsYWdzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZsYWdzOiB7IHR5cGU6ICdNZXNzYWdlRmxhZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TWVzc2FnZUhpc3RvcnlSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZV9oaXN0b3J5OiB7IHR5cGU6ICdNZXNzYWdlSGlzdG9yeUVudHJ5UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uTG9nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsX29nX3M6IHsgdHlwZTogJ0FjdGlvbkxvZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UG9sbHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcG9sbHM6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlSZWFjdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UmV2aWV3UXVldWVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbXM6IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVVzYWdlU3RhdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbXM6IHsgdHlwZTogJ01vZGVyYXRpb25Vc2FnZVN0YXRzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5VXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcnM6IHsgdHlwZTogJ0Z1bGxVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb24gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvbkdyb3VwUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZpcnN0X3JlYWN0aW9uX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X3JlYWN0aW9uX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZWFjdGlvblJlbW92YWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aXZhdGVVc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3RfcmVhZDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWRTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsYXN0X3JlYWQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJldmlld1F1ZXVlSXRlbSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYWN0aW9uczogeyB0eXBlOiAnQWN0aW9uTG9nJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbnM6IHsgdHlwZTogJ0JhbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBmbGFnczogeyB0eXBlOiAnRmxhZzInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY29tcGxldGVkX2F0OiB7IHR5cGU6ICdOdWxsVGltZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld2VkX2F0OiB7IHR5cGU6ICdOdWxsVGltZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFzc2lnbmVkX3RvOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW50aXR5X2NyZWF0b3I6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmZWVkc192Ml9yZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUm9sZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdTZWFyY2hSZXN1bHRNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0TWVzc2FnZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9ieTogeyB0eXBlOiAnVXNlck9iamVjdCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZW5kTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZW5kUmVhY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkUGFydGljaXBhbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfcmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF90aHJlYWRfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGVmdF90aHJlYWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdUaHJlYWRQYXJ0aWNpcGFudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRTdGF0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlcGxpZXM6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1RocmVhZFBhcnRpY2lwYW50JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRTdGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVwbGllczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhZDogeyB0eXBlOiAnUmVhZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdUaHJlYWRQYXJ0aWNpcGFudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwYXJlbnRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRydW5jYXRlQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNCYXRjaFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudHNfYnlfdXNlcjogeyB0eXBlOiAnVW5yZWFkQ291bnRzUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzQ2hhbm5lbCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c1RocmVhZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbGFzdF9yZWFkOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNvbW1hbmRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWFuZDogeyB0eXBlOiAnQ29tbWFuZCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZU1lbWJlclBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbF9tZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZU1lc3NhZ2VQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVUaHJlYWRQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyczogeyB0eXBlOiAnRnVsbFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydE1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRQdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcHVzaF9wcm92aWRlcjogeyB0eXBlOiAnUHVzaFByb3ZpZGVyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyQmxvY2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJNdXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyT2JqZWN0ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogeyB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHtcbiAgICAgICAgICAgIHR5cGU6ICdQdXNoTm90aWZpY2F0aW9uU2V0dGluZ3NSZXNwb25zZScsXG4gICAgICAgICAgICBpc1NpbmdsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVmVsb2NpdHlGaWx0ZXJDb25maWcgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJ1bGU6IHsgdHlwZTogJ1ZlbG9jaXR5RmlsdGVyQ29uZmlnUnVsZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5WZWxvY2l0eUZpbHRlckNvbmZpZ1J1bGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRpbWVvdXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldTRXZlbnQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJPYmplY3QnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZTogeyB0eXBlOiAnT3duVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lbWJlcjogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbF92b3RlOiB7IHR5cGU6ICdQb2xsVm90ZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyT2JqZWN0JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuV3JhcHBlZFVucmVhZENvdW50c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsczogeyB0eXBlOiAnVW5yZWFkQ291bnRzQ2hhbm5lbCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdVbnJlYWRDb3VudHNUaHJlYWQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuXG5jbGFzcyBDb21tb25BcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5nZXRBcHAgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2FwcCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLkdldEFwcGxpY2F0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQXBwID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXN5bmNfdXJsX2VucmljaF9lbmFibGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXN5bmNfdXJsX2VucmljaF9lbmFibGVkLFxuICAgICAgICAgICAgICAgIGF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBiZWZvcmVfbWVzc2FnZV9zZW5kX2hvb2tfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmVmb3JlX21lc3NhZ2Vfc2VuZF9ob29rX3VybCxcbiAgICAgICAgICAgICAgICBjZG5fZXhwaXJhdGlvbl9zZWNvbmRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2RuX2V4cGlyYXRpb25fc2Vjb25kcyxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2hpZGVfbWVtYmVyc19vbmx5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seSxcbiAgICAgICAgICAgICAgICBjdXN0b21fYWN0aW9uX2hhbmRsZXJfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tX2FjdGlvbl9oYW5kbGVyX3VybCxcbiAgICAgICAgICAgICAgICBkaXNhYmxlX2F1dGhfY2hlY2tzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGlzYWJsZV9hdXRoX2NoZWNrcyxcbiAgICAgICAgICAgICAgICBkaXNhYmxlX3Blcm1pc3Npb25zX2NoZWNrczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRpc2FibGVfcGVybWlzc2lvbnNfY2hlY2tzLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3VzZXJuYW1lczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuZm9yY2VfdW5pcXVlX3VzZXJuYW1lcyxcbiAgICAgICAgICAgICAgICBmZWVkc19tb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5mZWVkc19tb2RlcmF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgZmVlZHNfdjJfcmVnaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmVlZHNfdjJfcmVnaW9uLFxuICAgICAgICAgICAgICAgIGltYWdlX21vZGVyYXRpb25fZW5hYmxlZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmltYWdlX21vZGVyYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBtaWdyYXRlX3Blcm1pc3Npb25zX3RvX3YyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWlncmF0ZV9wZXJtaXNzaW9uc190b192MixcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tb2RlcmF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl93ZWJob29rX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGVyYXRpb25fd2ViaG9va191cmwsXG4gICAgICAgICAgICAgICAgbXVsdGlfdGVuYW50X2VuYWJsZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tdWx0aV90ZW5hbnRfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uX3ZlcnNpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wZXJtaXNzaW9uX3ZlcnNpb24sXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJzX2ludGVydmFsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVtaW5kZXJzX2ludGVydmFsLFxuICAgICAgICAgICAgICAgIHJlbWluZGVyc19tYXhfbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbWluZGVyc19tYXhfbWVtYmVycyxcbiAgICAgICAgICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmUsXG4gICAgICAgICAgICAgICAgc25zX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19rZXksXG4gICAgICAgICAgICAgICAgc25zX3NlY3JldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc25zX3RvcGljX2FybjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc190b3BpY19hcm4sXG4gICAgICAgICAgICAgICAgc3FzX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNxc19rZXksXG4gICAgICAgICAgICAgICAgc3FzX3NlY3JldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNxc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc3FzX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNxc191cmwsXG4gICAgICAgICAgICAgICAgdmlkZW9fcHJvdmlkZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52aWRlb19wcm92aWRlcixcbiAgICAgICAgICAgICAgICB3ZWJob29rX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndlYmhvb2tfdXJsLFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfZmxhZ19yZWFzb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dlZF9mbGFnX3JlYXNvbnMsXG4gICAgICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9ibG9ja19sYWJlbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pbWFnZV9tb2RlcmF0aW9uX2Jsb2NrX2xhYmVscyxcbiAgICAgICAgICAgICAgICBpbWFnZV9tb2RlcmF0aW9uX2xhYmVsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmltYWdlX21vZGVyYXRpb25fbGFiZWxzLFxuICAgICAgICAgICAgICAgIHVzZXJfc2VhcmNoX2Rpc2FsbG93ZWRfcm9sZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX3NlYXJjaF9kaXNhbGxvd2VkX3JvbGVzLFxuICAgICAgICAgICAgICAgIHdlYmhvb2tfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2ViaG9va19ldmVudHMsXG4gICAgICAgICAgICAgICAgYWdvcmFfb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFnb3JhX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgYXBuX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFwbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYXN5bmNfbW9kZXJhdGlvbl9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hc3luY19tb2RlcmF0aW9uX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBkYXRhZG9nX2luZm86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhZG9nX2luZm8sXG4gICAgICAgICAgICAgICAgZmlsZV91cGxvYWRfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZV91cGxvYWRfY29uZmlnLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpcmViYXNlX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudHMsXG4gICAgICAgICAgICAgICAgaG1zX29wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5obXNfb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBodWF3ZWlfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaHVhd2VpX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBpbWFnZV91cGxvYWRfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW1hZ2VfdXBsb2FkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBwdXNoX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfY29uZmlnLFxuICAgICAgICAgICAgICAgIHhpYW9taV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC54aWFvbWlfY29uZmlnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2IgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0QmxvY2tMaXN0cyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfYyA9IGRlY29kZXJzLkxpc3RCbG9ja0xpc3RSZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVCbG9ja0xpc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9kO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICB3b3JkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndvcmRzLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2Jsb2NrbGlzdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2QgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVCbG9ja0xpc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9lO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2Jsb2NrbGlzdHMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEJsb2NrTGlzdCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9mID0gZGVjb2RlcnMuR2V0QmxvY2tMaXN0UmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQmxvY2tMaXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB3b3JkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LndvcmRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvYmxvY2tsaXN0cy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF9nID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tQdXNoID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXBuX3RlbXBsYXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXBuX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX2RhdGFfdGVtcGxhdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maXJlYmFzZV9kYXRhX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX3RlbXBsYXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlyZWJhc2VfdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcl9uYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfcHJvdmlkZXJfdHlwZSxcbiAgICAgICAgICAgICAgICBza2lwX2RldmljZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5za2lwX2RldmljZXMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfcHVzaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaCA9IGRlY29kZXJzLkNoZWNrUHVzaFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrU05TID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfajtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc25zX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19rZXksXG4gICAgICAgICAgICAgICAgc25zX3NlY3JldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc25zX3RvcGljX2FybjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNuc190b3BpY19hcm4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfc25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9qID0gZGVjb2RlcnMuQ2hlY2tTTlNSZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jaGVja1NRUyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2s7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNxc19rZXk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNxc191cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zcXNfdXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoZWNrX3NxcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfayA9IGRlY29kZXJzLkNoZWNrU1FTUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlRGV2aWNlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbDtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9kZXZpY2VzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX2wgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0RGV2aWNlcyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfbSA9IGRlY29kZXJzLkxpc3REZXZpY2VzUmVzcG9uc2UpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlRGV2aWNlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHVzaF9wcm92aWRlcixcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm9pcF90b2tlbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvaXBfdG9rZW4sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZGV2aWNlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cG9ydFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcDtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9leHBvcnQvdXNlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5FeHBvcnRVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3AuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RFeHRlcm5hbFN0b3JhZ2UgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3E7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3EgPSBkZWNvZGVycy5MaXN0RXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxTdG9yYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnVja2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYnVja2V0LFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5nY3NfY3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgICAgICAgICAgYXdzX3MzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5henVyZV9ibG9iLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2UnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5DcmVhdGVFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVFeHRlcm5hbFN0b3JhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9zO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcyA9IGRlY29kZXJzLkRlbGV0ZUV4dGVybmFsU3RvcmFnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUV4dGVybmFsU3RvcmFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnVja2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYnVja2V0LFxuICAgICAgICAgICAgICAgIHN0b3JhZ2VfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5nY3NfY3JlZGVudGlhbHMsXG4gICAgICAgICAgICAgICAgcGF0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhdGgsXG4gICAgICAgICAgICAgICAgYXdzX3MzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5henVyZV9ibG9iLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZS97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF90ID0gZGVjb2RlcnMuVXBkYXRlRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hlY2tFeHRlcm5hbFN0b3JhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2V4dGVybmFsX3N0b3JhZ2Uve25hbWV9L2NoZWNrJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLkNoZWNrRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlR3Vlc3QgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF92O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9ndWVzdCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLkNyZWF0ZUd1ZXN0UmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlSW1wb3J0VVJMID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9pbXBvcnRfdXJscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdyA9IGRlY29kZXJzLkNyZWF0ZUltcG9ydFVSTFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RJbXBvcnRzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF94O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9pbXBvcnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF94ID0gZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF94LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVJbXBvcnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtb2RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubW9kZSxcbiAgICAgICAgICAgICAgICBwYXRoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF0aCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9pbXBvcnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF95ID0gZGVjb2RlcnMuQ3JlYXRlSW1wb3J0UmVzcG9uc2UpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0SW1wb3J0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfejtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2ltcG9ydHMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5HZXRJbXBvcnRSZXNwb25zZSkgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPRyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzA7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9vZycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8wID0gZGVjb2RlcnMuR2V0T0dSZXNwb25zZSkgPT09IG51bGwgfHwgXzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0UGVybWlzc2lvbnMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3Blcm1pc3Npb25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xID0gZGVjb2RlcnMuTGlzdFBlcm1pc3Npb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UGVybWlzc2lvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMiA9IGRlY29kZXJzLkdldEN1c3RvbVBlcm1pc3Npb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0UHVzaFByb3ZpZGVycyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcHVzaF9wcm92aWRlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzMgPSBkZWNvZGVycy5MaXN0UHVzaFByb3ZpZGVyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwc2VydFB1c2hQcm92aWRlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX3Byb3ZpZGVyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80ID0gZGVjb2RlcnMuVXBzZXJ0UHVzaFByb3ZpZGVyUmVzcG9uc2UpID09PSBudWxsIHx8IF80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUHVzaFByb3ZpZGVyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9wdXNoX3Byb3ZpZGVycy97dHlwZX0ve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNSA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJhdGVMaW1pdHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF82O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2VydmVyX3NpZGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXJ2ZXJfc2lkZSxcbiAgICAgICAgICAgICAgICBhbmRyb2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYW5kcm9pZCxcbiAgICAgICAgICAgICAgICBpb3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pb3MsXG4gICAgICAgICAgICAgICAgd2ViOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2ViLFxuICAgICAgICAgICAgICAgIGVuZHBvaW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVuZHBvaW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3JhdGVfbGltaXRzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzYgPSBkZWNvZGVycy5HZXRSYXRlTGltaXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF82ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdFJvbGVzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF83O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNyA9IGRlY29kZXJzLkxpc3RSb2xlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZVJvbGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF84O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfOCA9IGRlY29kZXJzLkNyZWF0ZVJvbGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVSb2xlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfOTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9yb2xlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF85ID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF85ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfOS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0VGFzayA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEwO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdGFza3Mve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEwID0gZGVjb2RlcnMuR2V0VGFza1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzExO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8xMSA9IGRlY29kZXJzLlF1ZXJ5VXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJzUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTIgPSBkZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xMztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTMgPSBkZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0QmxvY2tlZFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTQ7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL2Jsb2NrJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzE0ID0gZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE0LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTU7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGJsb2NrZWRfdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrZWRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTUgPSBkZWNvZGVycy5CbG9ja1VzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICBtYXJrX2NoYW5uZWxzX2RlbGV0ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX2NoYW5uZWxzX2RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19kZWxldGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL2RlYWN0aXZhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE2ID0gZGVjb2RlcnMuRGVhY3RpdmF0ZVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE2LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE3O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWRzLFxuICAgICAgICAgICAgICAgIGNhbGxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2FsbHMsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICBuZXdfY2FsbF9vd25lcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5ld19jYWxsX293bmVyX2lkLFxuICAgICAgICAgICAgICAgIG5ld19jaGFubmVsX293bmVyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV3X2NoYW5uZWxfb3duZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvZGVsZXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xNyA9IGRlY29kZXJzLkRlbGV0ZVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZWFjdGl2YXRlVXNlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xODtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICByZXN0b3JlX2NoYW5uZWxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVzdG9yZV9jaGFubmVscyxcbiAgICAgICAgICAgICAgICByZXN0b3JlX21lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVzdG9yZV9tZXNzYWdlcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9yZWFjdGl2YXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xOCA9IGRlY29kZXJzLlJlYWN0aXZhdGVVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVzdG9yZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTk7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVzdG9yZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTkgPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgXzE5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVuYmxvY2tVc2VycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIwO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2VkX3VzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvdW5ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjAgPSBkZWNvZGVycy5VbmJsb2NrVXNlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzIwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjE7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19kZWxldGVkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9kZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjEgPSBkZWNvZGVycy5EZWFjdGl2YXRlVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXhwb3J0VXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIyO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9leHBvcnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8yMiA9IGRlY29kZXJzLkV4cG9ydFVzZXJSZXNwb25zZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlYWN0aXZhdGVVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjM7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgcmVzdG9yZV9tZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlc3RvcmVfbWVzc2FnZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMve3VzZXJfaWR9L3JlYWN0aXZhdGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8yMyA9IGRlY29kZXJzLlJlYWN0aXZhdGVVc2VyUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIFZpZGVvQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucXVlcnlDYWxsTWVtYmVycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcl9jb25kaXRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwvbWVtYmVycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLlF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9iID0gZGVjb2RlcnMuUXVlcnlDYWxsU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYWxsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lbWJlcnNfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJzX2xpbWl0LFxuICAgICAgICAgICAgICAgIHJpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yaW5nLFxuICAgICAgICAgICAgICAgIG5vdGlmeTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5vdGlmeSxcbiAgICAgICAgICAgICAgICB2aWRlbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZpZGVvLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX2MgPSBkZWNvZGVycy5HZXRDYWxsUmVzcG9uc2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydHNfYXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydHNfYXQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzX292ZXJyaWRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0dGluZ3Nfb3ZlcnJpZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9kID0gZGVjb2RlcnMuVXBkYXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlQ2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZW1iZXJzX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyc19saW1pdCxcbiAgICAgICAgICAgICAgICBub3RpZnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ub3RpZnksXG4gICAgICAgICAgICAgICAgcmluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJpbmcsXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52aWRlbyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2Jsb2NrJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZiA9IGRlY29kZXJzLkJsb2NrVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNhbGwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGFyZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhhcmQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuRGVsZXRlQ2FsbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRDYWxsRXZlbnQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9oO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9oID0gZGVjb2RlcnMuU2VuZENhbGxFdmVudFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbGxlY3RVc2VyRmVlZGJhY2sgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9qO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmF0aW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmF0aW5nLFxuICAgICAgICAgICAgICAgIHNkazogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNkayxcbiAgICAgICAgICAgICAgICBzZGtfdmVyc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNka192ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHVzZXJfc2Vzc2lvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfc2Vzc2lvbl9pZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZmVlZGJhY2sve3Nlc3Npb259JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfaiA9IGRlY29kZXJzLkNvbGxlY3RVc2VyRmVlZGJhY2tSZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nb0xpdmUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9rO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkaW5nX3N0b3JhZ2VfbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlY29yZGluZ19zdG9yYWdlX25hbWUsXG4gICAgICAgICAgICAgICAgc3RhcnRfaGxzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhcnRfaGxzLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3JlY29yZGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXJ0X3JlY29yZGluZyxcbiAgICAgICAgICAgICAgICBzdGFydF9ydG1wX2Jyb2FkY2FzdHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGFydF9ydG1wX2Jyb2FkY2FzdHMsXG4gICAgICAgICAgICAgICAgc3RhcnRfdHJhbnNjcmlwdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXJ0X3RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50cmFuc2NyaXB0aW9uX3N0b3JhZ2VfbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2dvX2xpdmUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9rID0gZGVjb2RlcnMuR29MaXZlUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZW5kQ2FsbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2w7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9tYXJrX2VuZGVkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfbCA9IGRlY29kZXJzLkVuZENhbGxSZXNwb25zZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsTWVtYmVycyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX207XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZW1vdmVfbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbW92ZV9tZW1iZXJzLFxuICAgICAgICAgICAgICAgIHVwZGF0ZV9tZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXBkYXRlX21lbWJlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9tZW1iZXJzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbSA9IGRlY29kZXJzLlVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF9tID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubXV0ZVVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXVkaW8sXG4gICAgICAgICAgICAgICAgbXV0ZV9hbGxfdXNlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tdXRlX2FsbF91c2VycyxcbiAgICAgICAgICAgICAgICBtdXRlZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIHNjcmVlbnNoYXJlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2NyZWVuc2hhcmUsXG4gICAgICAgICAgICAgICAgc2NyZWVuc2hhcmVfYXVkaW86IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zY3JlZW5zaGFyZV9hdWRpbyxcbiAgICAgICAgICAgICAgICB2aWRlbzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZpZGVvLFxuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZHMsXG4gICAgICAgICAgICAgICAgbXV0ZWRfYnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tdXRlZF9ieSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L211dGVfdXNlcnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9vID0gZGVjb2RlcnMuTXV0ZVVzZXJzUmVzcG9uc2UpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfby5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlkZW9QaW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9wO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9waW4nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9wID0gZGVjb2RlcnMuUGluUmVzcG9uc2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubGlzdFJlY29yZGluZ3MgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9yZWNvcmRpbmdzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcSA9IGRlY29kZXJzLkxpc3RSZWNvcmRpbmdzUmVzcG9uc2UpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRSVE1QQnJvYWRjYXN0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3I7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYnJvYWRjYXN0cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3J0bXBfYnJvYWRjYXN0cycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5TdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcEFsbFJUTVBCcm9hZGNhc3RzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3J0bXBfYnJvYWRjYXN0cy9zdG9wJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfcyA9IGRlY29kZXJzLlN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BSVE1QQnJvYWRjYXN0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge307XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3J0bXBfYnJvYWRjYXN0cy97bmFtZX0vc3RvcCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3QgPSBkZWNvZGVycy5TdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFydEhMU0Jyb2FkY2FzdGluZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3U7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9icm9hZGNhc3RpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF91ID0gZGVjb2RlcnMuU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdGFydFJlY29yZGluZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfcmVjb3JkaW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLlN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhcnRUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0YXJ0X3RyYW5zY3JpcHRpb24nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF93ID0gZGVjb2RlcnMuU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q2FsbFN0YXRzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2Vzc2lvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhdHMve3Nlc3Npb259JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfeCA9IGRlY29kZXJzLkdldENhbGxTdGF0c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BITFNCcm9hZGNhc3RpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF95O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9icm9hZGNhc3RpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF95ID0gZGVjb2RlcnMuU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3kuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BMaXZlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfejtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfbGl2ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5TdG9wTGl2ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3ouY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8wO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8wID0gZGVjb2RlcnMuU3RvcFJlY29yZGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0b3BUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfdHJhbnNjcmlwdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzEgPSBkZWNvZGVycy5TdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RUcmFuc2NyaXB0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3RyYW5zY3JpcHRpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMiA9IGRlY29kZXJzLkxpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVuYmxvY2tVc2VyID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vdW5ibG9jaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzMgPSBkZWNvZGVycy5VbmJsb2NrVXNlclJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZGVvVW5waW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91bnBpbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzQgPSBkZWNvZGVycy5VbnBpblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzU7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50X3Blcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIHJldm9rZV9wZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJldm9rZV9wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VzZXJfcGVybWlzc2lvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF81ID0gZGVjb2RlcnMuVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2UpID09PSBudWxsIHx8IF81ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2Vzc2lvbixcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbGVuYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS97c2Vzc2lvbn0vcmVjb3JkaW5ncy97ZmlsZW5hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNiA9IGRlY29kZXJzLkRlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZVRyYW5zY3JpcHRpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF83O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXNzaW9uLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZW5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3tzZXNzaW9ufS90cmFuc2NyaXB0aW9ucy97ZmlsZW5hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfNyA9IGRlY29kZXJzLkRlbGV0ZVRyYW5zY3JpcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF83LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfODtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcl9jb25kaXRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF84ID0gZGVjb2RlcnMuUXVlcnlDYWxsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RDYWxsVHlwZXMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfOSA9IGRlY29kZXJzLkxpc3RDYWxsVHlwZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUNhbGxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTA7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25fc2V0dGluZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ub3RpZmljYXRpb25fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXR0aW5ncyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEwID0gZGVjb2RlcnMuQ3JlYXRlQ2FsbFR5cGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzEwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTAuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRlbGV0ZUNhbGxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTE7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvdmlkZW8vY2FsbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzExID0gZGVjb2RlcnMuUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzExLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDYWxsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xMiA9IGRlY29kZXJzLkdldENhbGxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEyLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEzO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGV4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25fc2V0dGluZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ub3RpZmljYXRpb25fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXR0aW5ncyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xMyA9IGRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEzLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRFZGdlcyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTQ7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2VkZ2VzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF8xNCA9IGRlY29kZXJzLkdldEVkZ2VzUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE0LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmNsYXNzIENhbGxBcGkge1xuICAgIGNvbnN0cnVjdG9yKHZpZGVvQXBpLCB0eXBlLCBpZCkge1xuICAgICAgICB0aGlzLnZpZGVvQXBpID0gdmlkZW9BcGk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5nZXQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0Q2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnVwZGF0ZUNhbGwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmdldE9yQ3JlYXRlQ2FsbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYmxvY2tVc2VyID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmJsb2NrVXNlcihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZUNhbGwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRDYWxsRXZlbnQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc2VuZENhbGxFdmVudChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29sbGVjdFVzZXJGZWVkYmFjayA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5jb2xsZWN0VXNlckZlZWRiYWNrKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nb0xpdmUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ29MaXZlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5lbmRDYWxsKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsTWVtYmVycyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51cGRhdGVDYWxsTWVtYmVycyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubXV0ZVVzZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLm11dGVVc2VycyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9QaW4gPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudmlkZW9QaW4oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RSZWNvcmRpbmdzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubGlzdFJlY29yZGluZ3MoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0UlRNUEJyb2FkY2FzdHMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRSVE1QQnJvYWRjYXN0cyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcEFsbFJUTVBCcm9hZGNhc3RzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcEFsbFJUTVBCcm9hZGNhc3RzKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wUlRNUEJyb2FkY2FzdCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wUlRNUEJyb2FkY2FzdChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRITFNCcm9hZGNhc3RpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydEhMU0Jyb2FkY2FzdGluZyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RhcnRSZWNvcmRpbmcoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0VHJhbnNjcmlwdGlvbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFRyYW5zY3JpcHRpb24oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhbGxTdGF0cyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5nZXRDYWxsU3RhdHMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BITFNCcm9hZGNhc3RpbmcgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wSExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wTGl2ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BMaXZlKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcFJlY29yZGluZyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFRyYW5zY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wVHJhbnNjcmlwdGlvbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFRyYW5zY3JpcHRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubGlzdFRyYW5zY3JpcHRpb25zKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51bmJsb2NrVXNlcihPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9VbnBpbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS52aWRlb1VucGluKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVVc2VyUGVybWlzc2lvbnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudXBkYXRlVXNlclBlcm1pc3Npb25zKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWNvcmRpbmcgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZGVsZXRlUmVjb3JkaW5nKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZVRyYW5zY3JpcHRpb24oT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtQ2FsbCBleHRlbmRzIENhbGxBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNyZWF0ZSA9IHRoaXMuZ2V0T3JDcmVhdGU7XG4gICAgICAgIHRoaXMucXVlcnlNZW1iZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnF1ZXJ5Q2FsbE1lbWJlcnMoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgKHJlcXVlc3QgIT09IG51bGwgJiYgcmVxdWVzdCAhPT0gdm9pZCAwID8gcmVxdWVzdCA6IHt9KSkpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IGV4dGVuZHMgVmlkZW9BcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNhbGwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2FsbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBDaGF0QXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucXVlcnlDaGFubmVscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVyX2xpbWl0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2xpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm9mZnNldCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnN0YXRlLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLlF1ZXJ5Q2hhbm5lbHNSZXNwb25zZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaWRzLFxuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2IgPSBkZWNvZGVycy5EZWxldGVDaGFubmVsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtDaGFubmVsc1JlYWQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9jO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICByZWFkX2J5X2NoYW5uZWw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFkX2J5X2NoYW5uZWwsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy9yZWFkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9jID0gZGVjb2RlcnMuTWFya1JlYWRSZXNwb25zZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGlkZV9mb3JfY3JlYXRvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGF0ZSxcbiAgICAgICAgICAgICAgICB0aHJlYWRfdW5yZWFkX2NvdW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRocmVhZF91bnJlYWRfY291bnRzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhLFxuICAgICAgICAgICAgICAgIG1lbWJlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJzLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgd2F0Y2hlcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC53YXRjaGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2QgPSBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkRlbGV0ZUNoYW5uZWxSZXNwb25zZSkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsUGFydGlhbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Y7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2YgPSBkZWNvZGVycy5VcGRhdGVDaGFubmVsUGFydGlhbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9nO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYWNjZXB0X2ludml0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFjY2VwdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgY29vbGRvd246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb29sZG93bixcbiAgICAgICAgICAgICAgICBoaWRlX2hpc3Rvcnk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oaWRlX2hpc3RvcnksXG4gICAgICAgICAgICAgICAgcmVqZWN0X2ludml0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlamVjdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGFkZF9tZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWRkX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgYWRkX21vZGVyYXRvcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hZGRfbW9kZXJhdG9ycyxcbiAgICAgICAgICAgICAgICBhc3NpZ25fcm9sZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hc3NpZ25fcm9sZXMsXG4gICAgICAgICAgICAgICAgZGVtb3RlX21vZGVyYXRvcnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZW1vdGVfbW9kZXJhdG9ycyxcbiAgICAgICAgICAgICAgICBpbnZpdGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW52aXRlcyxcbiAgICAgICAgICAgICAgICByZW1vdmVfbWVtYmVyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlbW92ZV9tZW1iZXJzLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kYXRhLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNlbmRFdmVudCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2g7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV2ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9oID0gZGVjb2RlcnMuRXZlbnRSZXNwb25zZSkgPT09IG51bGwgfHwgX2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVGaWxlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfajtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ZpbGUnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX2ogPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX2ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9qLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfaztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZmlsZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5GaWxlVXBsb2FkUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGlkZUNoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9sO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfaGlzdG9yeTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNsZWFyX2hpc3RvcnksXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9oaWRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfbCA9IGRlY29kZXJzLkhpZGVDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF9sID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlSW1hZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9tO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vaW1hZ2UnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoX20gPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX20gPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX287XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmaWxlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsZSxcbiAgICAgICAgICAgICAgICB1cGxvYWRfc2l6ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGxvYWRfc2l6ZXMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9pbWFnZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5JbWFnZVVwbG9hZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX28uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZU1lbWJlclBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9wO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vbWVtYmVyL3t1c2VyX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3AgPSBkZWNvZGVycy5VcGRhdGVNZW1iZXJQYXJ0aWFsUmVzcG9uc2UpID09PSBudWxsIHx8IF9wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZm9yY2VfbW9kZXJhdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZvcmNlX21vZGVyYXRpb24sXG4gICAgICAgICAgICAgICAga2VlcF9jaGFubmVsX2hpZGRlbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmtlZXBfY2hhbm5lbF9oaWRkZW4sXG4gICAgICAgICAgICAgICAgcGVuZGluZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlbmRpbmcsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9lbnJpY2hfdXJsLFxuICAgICAgICAgICAgICAgIHNraXBfcHVzaDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfcHVzaCxcbiAgICAgICAgICAgICAgICBwZW5kaW5nX21lc3NhZ2VfbWV0YWRhdGE6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wZW5kaW5nX21lc3NhZ2VfbWV0YWRhdGEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcSA9IGRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF9xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0TWFueU1lc3NhZ2VzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L21lc3NhZ2VzJywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF9yID0gZGVjb2RlcnMuR2V0TWFueU1lc3NhZ2VzUmVzcG9uc2UpID09PSBudWxsIHx8IF9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfci5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfcztcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhpZGVfZm9yX2NyZWF0b3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5oaWRlX2Zvcl9jcmVhdG9yLFxuICAgICAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc3RhdGUsXG4gICAgICAgICAgICAgICAgdGhyZWFkX3VucmVhZF9jb3VudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aHJlYWRfdW5yZWFkX2NvdW50cyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGF0YSxcbiAgICAgICAgICAgICAgICBtZW1iZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVtYmVycyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qud2F0Y2hlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3MgPSBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXJrUmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aHJlYWRfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9yZWFkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdCA9IGRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2UpID09PSBudWxsIHx8IF90ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2hvd0NoYW5uZWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF91O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9zaG93JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdSA9IGRlY29kZXJzLlNob3dDaGFubmVsUmVzcG9uc2UpID09PSBudWxsIHx8IF91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJ1bmNhdGVDaGFubmVsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhhcmRfZGVsZXRlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZF9kZWxldGUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHRydW5jYXRlZF9hdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRydW5jYXRlZF9hdCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3RydW5jYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLlRydW5jYXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3YuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1hcmtVbnJlYWQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF93O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgdGhyZWFkX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGhyZWFkX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vdW5yZWFkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmxpc3RDaGFubmVsVHlwZXMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3g7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF94ID0gZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfeCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3guY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYW5uZWxUeXBlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfeTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXV0b21vZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2QsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9iZWhhdmlvcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgbWF4X21lc3NhZ2VfbGVuZ3RoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWF4X21lc3NhZ2VfbGVuZ3RoLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdCxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3RfYmVoYXZpb3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgY29ubmVjdF9ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb25uZWN0X2V2ZW50cyxcbiAgICAgICAgICAgICAgICBjdXN0b21fZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tX2V2ZW50cyxcbiAgICAgICAgICAgICAgICBtYXJrX21lc3NhZ2VzX3BlbmRpbmc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXJrX21lc3NhZ2VzX3BlbmRpbmcsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9yZXRlbnRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX3JldGVudGlvbixcbiAgICAgICAgICAgICAgICBtdXRlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm11dGVzLFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbl9zaXplOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3NpemUsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3R0bDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcnRpdGlvbl90dGwsXG4gICAgICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xscyxcbiAgICAgICAgICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wdXNoX25vdGlmaWNhdGlvbnMsXG4gICAgICAgICAgICAgICAgcmVhY3Rpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhZF9ldmVudHMsXG4gICAgICAgICAgICAgICAgcmVwbGllczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlcGxpZXMsXG4gICAgICAgICAgICAgICAgc2VhcmNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2VhcmNoLFxuICAgICAgICAgICAgICAgIHR5cGluZ19ldmVudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBpbmdfZXZlbnRzLFxuICAgICAgICAgICAgICAgIHVwbG9hZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51cGxvYWRzLFxuICAgICAgICAgICAgICAgIHVybF9lbnJpY2htZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXJsX2VucmljaG1lbnQsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdHMsXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb21tYW5kcyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmdyYW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfeSA9IGRlY29kZXJzLkNyZWF0ZUNoYW5uZWxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF95ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfeS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlQ2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF96O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3ogPSBkZWNvZGVycy5SZXNwb25zZSkgPT09IG51bGwgfHwgX3ogPT09IHZvaWQgMCA/IHZvaWQgMCA6IF96LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRDaGFubmVsVHlwZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfMCA9IGRlY29kZXJzLkdldENoYW5uZWxUeXBlUmVzcG9uc2UpID09PSBudWxsIHx8IF8wID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlQ2hhbm5lbFR5cGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1dG9tb2Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfYmVoYXZpb3I6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX2JlaGF2aW9yLFxuICAgICAgICAgICAgICAgIG1heF9tZXNzYWdlX2xlbmd0aDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1heF9tZXNzYWdlX2xlbmd0aCxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3Q6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja2xpc3QsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0X2JlaGF2aW9yOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYmxvY2tsaXN0X2JlaGF2aW9yLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY29ubmVjdF9ldmVudHMsXG4gICAgICAgICAgICAgICAgY3VzdG9tX2V2ZW50czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbV9ldmVudHMsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19wZW5kaW5nOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWFya19tZXNzYWdlc19wZW5kaW5nLFxuICAgICAgICAgICAgICAgIG11dGVzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubXV0ZXMsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3NpemU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aXRpb25fc2l6ZSxcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGFydGl0aW9uX3R0bCxcbiAgICAgICAgICAgICAgICBwb2xsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxzLFxuICAgICAgICAgICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnB1c2hfbm90aWZpY2F0aW9ucyxcbiAgICAgICAgICAgICAgICBxdW90ZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5xdW90ZXMsXG4gICAgICAgICAgICAgICAgcmVhY3Rpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVhZF9ldmVudHMsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVtaW5kZXJzLFxuICAgICAgICAgICAgICAgIHJlcGxpZXM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBsaWVzLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNlYXJjaCxcbiAgICAgICAgICAgICAgICB0eXBpbmdfZXZlbnRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudHlwaW5nX2V2ZW50cyxcbiAgICAgICAgICAgICAgICB1cGxvYWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXBsb2FkcyxcbiAgICAgICAgICAgICAgICB1cmxfZW5yaWNobWVudDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVybF9lbnJpY2htZW50LFxuICAgICAgICAgICAgICAgIGFsbG93ZWRfZmxhZ19yZWFzb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dlZF9mbGFnX3JlYXNvbnMsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0czogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJsb2NrbGlzdHMsXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb21tYW5kcyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBlcm1pc3Npb25zLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfdGhyZXNob2xkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2RfdGhyZXNob2xkcyxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ncmFudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8xID0gZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5saXN0Q29tbWFuZHMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzIgPSBkZWNvZGVycy5MaXN0Q29tbWFuZHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVDb21tYW5kID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBhcmdzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXJncyxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMyA9IGRlY29kZXJzLkNyZWF0ZUNvbW1hbmRSZXNwb25zZSkgPT09IG51bGwgfHwgXzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVDb21tYW5kID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzQgPSBkZWNvZGVycy5EZWxldGVDb21tYW5kUmVzcG9uc2UpID09PSBudWxsIHx8IF80ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0Q29tbWFuZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzU7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF81ID0gZGVjb2RlcnMuR2V0Q29tbWFuZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzUuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbW1hbmQgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF82O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgYXJnczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFyZ3MsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF82ID0gZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzYuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV4cG9ydENoYW5uZWxzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVscyxcbiAgICAgICAgICAgICAgICBjbGVhcl9kZWxldGVkX21lc3NhZ2VfdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNsZWFyX2RlbGV0ZWRfbWVzc2FnZV90ZXh0LFxuICAgICAgICAgICAgICAgIGV4cG9ydF91c2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmV4cG9ydF91c2VycyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3NvZnRfZGVsZXRlZF9jaGFubmVsczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfc29mdF9kZWxldGVkX2NoYW5uZWxzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVfdHJ1bmNhdGVkX21lc3NhZ2VzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW5jbHVkZV90cnVuY2F0ZWRfbWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZlcnNpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9leHBvcnRfY2hhbm5lbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzcgPSBkZWNvZGVycy5FeHBvcnRDaGFubmVsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzcuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldEV4cG9ydENoYW5uZWxzU3RhdHVzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfODtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvZXhwb3J0X2NoYW5uZWxzL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF84ID0gZGVjb2RlcnMuR2V0RXhwb3J0Q2hhbm5lbHNTdGF0dXNSZXNwb25zZSkgPT09IG51bGwgfHwgXzggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF84LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeU1lbWJlcnMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF85O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lbWJlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfOSA9IGRlY29kZXJzLk1lbWJlcnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF85LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeU1lc3NhZ2VIaXN0b3J5ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTA7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMvaGlzdG9yeScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTAgPSBkZWNvZGVycy5RdWVyeU1lc3NhZ2VIaXN0b3J5UmVzcG9uc2UpID09PSBudWxsIHx8IF8xMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzEwLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTE7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBoYXJkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaGFyZCxcbiAgICAgICAgICAgICAgICBkZWxldGVkX2J5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlZF9ieSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzExID0gZGVjb2RlcnMuRGVsZXRlTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0TWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEyO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgc2hvd19kZWxldGVkX21lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zaG93X2RlbGV0ZWRfbWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzEyID0gZGVjb2RlcnMuR2V0TWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzEzO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9lbnJpY2hfdXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzEzID0gZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZVBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNraXBfZW5yaWNoX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE0ID0gZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJ1bk1lc3NhZ2VBY3Rpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8xNTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZvcm1fZGF0YTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZvcm1fZGF0YSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vYWN0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMTUgPSBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jb21taXRNZXNzYWdlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTY7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2NvbW1pdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE2ID0gZGVjb2RlcnMuTWVzc2FnZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8xNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFJlYWN0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMTc7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZWFjdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYWN0aW9uLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW5mb3JjZV91bmlxdWUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2tpcF9wdXNoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzE3ID0gZGVjb2RlcnMuU2VuZFJlYWN0aW9uUmVzcG9uc2UpID09PSBudWxsIHx8IF8xNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzE3LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWFjdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE4O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9uL3t0eXBlfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTggPSBkZWNvZGVycy5SZWFjdGlvblJlbW92YWxSZXNwb25zZSkgPT09IG51bGwgfHwgXzE4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJlYWN0aW9ucyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzE5O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vZmZzZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9ucycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMTkgPSBkZWNvZGVycy5HZXRSZWFjdGlvbnNSZXNwb25zZSkgPT09IG51bGwgfHwgXzE5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMTkuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UmVhY3Rpb25zID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMjA7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vcmVhY3Rpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjAgPSBkZWNvZGVycy5RdWVyeVJlYWN0aW9uc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIxO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5sYW5ndWFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdHJhbnNsYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjEgPSBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UpID09PSBudWxsIHx8IF8yMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzIxLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmRlbGV0ZU1lc3NhZ2UgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yMjtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHNraXBfZW5yaWNoX3VybDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdW5kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8yMiA9IGRlY29kZXJzLlVwZGF0ZU1lc3NhZ2VSZXNwb25zZSkgPT09IG51bGwgfHwgXzIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNhc3RQb2xsVm90ZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzIzO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgICAgIHZvdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve21lc3NhZ2VfaWR9L3BvbGxzL3twb2xsX2lkfS92b3RlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjMgPSBkZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yMy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVtb3ZlUG9sbFZvdGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yNDtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBvbGxfaWQsXG4gICAgICAgICAgICAgICAgdm90ZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvdGVfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZS97dm90ZV9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzI0ID0gZGVjb2RlcnMuUG9sbFZvdGVSZXNwb25zZSkgPT09IG51bGwgfHwgXzI0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMjQuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFJlcGxpZXMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF8yNTtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGlkX2d0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2d0ZSxcbiAgICAgICAgICAgICAgICBpZF9ndDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2d0LFxuICAgICAgICAgICAgICAgIGlkX2x0ZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2x0ZSxcbiAgICAgICAgICAgICAgICBpZF9sdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkX2x0LFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYWZ0ZXJfb3JfZXF1YWw6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2FmdGVyX29yX2VxdWFsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYWZ0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2FmdGVyLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlX29yX2VxdWFsOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3JlYXRlZF9hdF9iZWZvcmVfb3JfZXF1YWwsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9iZWZvcmU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2JlZm9yZSxcbiAgICAgICAgICAgICAgICBpZF9hcm91bmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pZF9hcm91bmQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9hcm91bmQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVkX2F0X2Fyb3VuZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBhcmVudF9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcmVudF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve3BhcmVudF9pZH0vcmVwbGllcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfMjUgPSBkZWNvZGVycy5HZXRSZXBsaWVzUmVzcG9uc2UpID09PSBudWxsIHx8IF8yNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI1LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeU1lc3NhZ2VGbGFncyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI2O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21vZGVyYXRpb24vZmxhZ3MvbWVzc2FnZScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8yNiA9IGRlY29kZXJzLlF1ZXJ5TWVzc2FnZUZsYWdzUmVzcG9uc2UpID09PSBudWxsIHx8IF8yNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI2LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI3O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXhwaXJhdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL211dGUvY2hhbm5lbCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjcgPSBkZWNvZGVycy5NdXRlQ2hhbm5lbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5tdXRlQ2hhbm5lbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI4O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBleHBpcmF0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXhwaXJhdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jaGFubmVsX2NpZHMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL3VubXV0ZS9jaGFubmVsJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF8yOCA9IGRlY29kZXJzLlVubXV0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMjggPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8yOC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY3JlYXRlUG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzI5O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBhbGxvd19hbnN3ZXJzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dfYW5zd2VycyxcbiAgICAgICAgICAgICAgICBhbGxvd191c2VyX3N1Z2dlc3RlZF9vcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3ZvdGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbmZvcmNlX3VuaXF1ZV92b3RlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvc2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubWF4X3ZvdGVzX2FsbG93ZWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm90aW5nX3Zpc2liaWxpdHk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC52b3RpbmdfdmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMjkgPSBkZWNvZGVycy5Qb2xsUmVzcG9uc2UpID09PSBudWxsIHx8IF8yOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzI5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzA7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5hbWUsXG4gICAgICAgICAgICAgICAgYWxsb3dfYW5zd2VyczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X2Fuc3dlcnMsXG4gICAgICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFsbG93X3VzZXJfc3VnZ2VzdGVkX29wdGlvbnMsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV92b3RlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZW5mb3JjZV91bmlxdWVfdm90ZSxcbiAgICAgICAgICAgICAgICBpc19jbG9zZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pc19jbG9zZWQsXG4gICAgICAgICAgICAgICAgbWF4X3ZvdGVzX2FsbG93ZWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tYXhfdm90ZXNfYWxsb3dlZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB2b3RpbmdfdmlzaWJpbGl0eTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnZvdGluZ192aXNpYmlsaXR5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzMwID0gZGVjb2RlcnMuUG9sbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlQb2xscyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMxO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3F1ZXJ5JywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICAoXzMxID0gZGVjb2RlcnMuUXVlcnlQb2xsc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMyO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zMiA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zMi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UG9sbCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzMzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zMyA9IGRlY29kZXJzLlBvbGxSZXNwb25zZSkgPT09IG51bGwgfHwgXzMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVBvbGxQYXJ0aWFsID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzQ7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zZXQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfMzQgPSBkZWNvZGVycy5Qb2xsUmVzcG9uc2UpID09PSBudWxsIHx8IF8zNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzM0LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGVQb2xsT3B0aW9uID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzU7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRleHQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzM1ID0gZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBkYXRlUG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM2O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgdGV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRleHQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzM2ID0gZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGVsZXRlUG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM3O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgICAgICBvcHRpb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfS9vcHRpb25zL3tvcHRpb25faWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zNyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfMzcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF8zNy5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0UG9sbE9wdGlvbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzM4O1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucG9sbF9pZCxcbiAgICAgICAgICAgICAgICBvcHRpb25faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5vcHRpb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfS9vcHRpb25zL3tvcHRpb25faWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgKF8zOCA9IGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZSkgPT09IG51bGwgfHwgXzM4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfMzguY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5UG9sbFZvdGVzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfMzk7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vdm90ZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICAoXzM5ID0gZGVjb2RlcnMuUG9sbFZvdGVzUmVzcG9uc2UpID09PSBudWxsIHx8IF8zOSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzM5LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDA7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvcXVlcnlfYmFubmVkX3VzZXJzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzQwID0gZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80MC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfNDE7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvc2VhcmNoJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAoXzQxID0gZGVjb2RlcnMuU2VhcmNoUmVzcG9uc2UpID09PSBudWxsIHx8IF80MSA9PT0gdm9pZCAwID8gdm9pZCAwIDogXzQxLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5xdWVyeVRocmVhZHMgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80MjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5saW1pdCxcbiAgICAgICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcGFydGljaXBhbnRfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wYXJ0aWNpcGFudF9saW1pdCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucHJldixcbiAgICAgICAgICAgICAgICByZXBseV9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlcGx5X2xpbWl0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvdGhyZWFkcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNDIgPSBkZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZSkgPT09IG51bGwgfHwgXzQyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDIuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFRocmVhZCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQzO1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdGlvbl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbm5lY3Rpb25faWQsXG4gICAgICAgICAgICAgICAgcmVwbHlfbGltaXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZXBseV9saW1pdCxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudF9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBhcnRpY2lwYW50X2xpbWl0LFxuICAgICAgICAgICAgICAgIG1lbWJlcl9saW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lbWJlcl9saW1pdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2VfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC90aHJlYWRzL3ttZXNzYWdlX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfNDMgPSBkZWNvZGVycy5HZXRUaHJlYWRSZXNwb25zZSkgPT09IG51bGwgfHwgXzQzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfNDMuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnVwZGF0ZVRocmVhZFBhcnRpYWwgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80NDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1lc3NhZ2VfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1bnNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC90aHJlYWRzL3ttZXNzYWdlX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoXzQ0ID0gZGVjb2RlcnMuVXBkYXRlVGhyZWFkUGFydGlhbFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80NC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5yZWFkQ291bnRzID0gKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80NTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC91bnJlYWQnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoXzQ1ID0gZGVjb2RlcnMuV3JhcHBlZFVucmVhZENvdW50c1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80NS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudW5yZWFkQ291bnRzQmF0Y2ggPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF80NjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3VucmVhZF9iYXRjaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfNDYgPSBkZWNvZGVycy5VbnJlYWRDb3VudHNCYXRjaFJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80Ni5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZFVzZXJDdXN0b21FdmVudCA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgXzQ3O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZXZlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC91c2Vycy97dXNlcl9pZH0vZXZlbnQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF80NyA9IGRlY29kZXJzLlJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfNDcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF80Ny5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBDaGFubmVsQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihjaGF0QXBpLCB0eXBlLCBpZCkge1xuICAgICAgICB0aGlzLmNoYXRBcGkgPSBjaGF0QXBpO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMuZGVsZXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5kZWxldGVDaGFubmVsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsUGFydGlhbCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbFBhcnRpYWwoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50ID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zZW5kRXZlbnQoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUZpbGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmRlbGV0ZUZpbGUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwbG9hZEZpbGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwbG9hZEZpbGUoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhpZGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmhpZGVDaGFubmVsKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVJbWFnZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlSW1hZ2UoT2JqZWN0LmFzc2lnbih7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSwgcmVxdWVzdCkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwbG9hZEltYWdlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGxvYWRJbWFnZShPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTWVtYmVyUGFydGlhbCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlTWVtYmVyUGFydGlhbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnNlbmRNZXNzYWdlKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRNYW55TWVzc2FnZXMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE1hbnlNZXNzYWdlcyhPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1JlYWQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLm1hcmtSZWFkKE9iamVjdC5hc3NpZ24oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0sIHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zaG93ID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5zaG93Q2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJ1bmNhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnRydW5jYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1VucmVhZCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkubWFya1VucmVhZChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCByZXF1ZXN0KSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGFubmVsIGV4dGVuZHMgQ2hhbm5lbEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAoY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGlcbiAgICAgICAgICAgICAgICAgICAgLmdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKE9iamVjdC5hc3NpZ24oeyB0eXBlOiB0aGlzLnR5cGUgfSwgY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QpKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkID0gKF9hID0gcmVzcG9uc2UuY2hhbm5lbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbChPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCBjaGFubmVsX2dldF9vcl9jcmVhdGVfcmVxdWVzdCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG4gICAgcXVlcnlNZW1iZXJzKHJlcXVlc3QpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnF1ZXJ5TWVtYmVycyh7XG4gICAgICAgICAgICBwYXlsb2FkOiBPYmplY3QuYXNzaWduKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9LCAoKF9hID0gcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnBheWxvYWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHsgZmlsdGVyX2NvbmRpdGlvbnM6IHt9IH0pKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGF0Q2xpZW50IGV4dGVuZHMgQ2hhdEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9ICh0eXBlLCBpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DaGFubmVsKHRoaXMsIHR5cGUsIGlkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIE1vZGVyYXRpb25BcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5iYW4gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF91c2VyX2lkLFxuICAgICAgICAgICAgICAgIGJhbm5lZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJhbm5lZF9ieV9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGlwX2JhbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlwX2JhbixcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgc2hhZG93OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Quc2hhZG93LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC50aW1lb3V0LFxuICAgICAgICAgICAgICAgIGJhbm5lZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJhbm5lZF9ieSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2JhbicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYSA9IGRlY29kZXJzLkJhblJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoZWNrID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29uZmlnX2tleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNvbmZpZ19rZXksXG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX3BheWxvYWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tb2RlcmF0aW9uX3BheWxvYWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jaGVjaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYiA9IGRlY29kZXJzLkNoZWNrUmVzcG9uc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudXBzZXJ0Q29uZmlnID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfYztcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAga2V5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3Qua2V5LFxuICAgICAgICAgICAgICAgIGFzeW5jOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYXN5bmMsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9wbGF0Zm9ybV9jaXJjdW12ZW50aW9uX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2RfcGxhdGZvcm1fY2lyY3VtdmVudGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9zZW1hbnRpY19maWx0ZXJzX2NvbmZpZzogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmF1dG9tb2Rfc2VtYW50aWNfZmlsdGVyc19jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF90b3hpY2l0eV9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hdXRvbW9kX3RveGljaXR5X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhd3NfcmVrX29nX25pdGlvbl9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5hd3NfcmVrX29nX25pdGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYmxvY2tfbGlzdF9jb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5ibG9ja19saXN0X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBib2R5Z3VhcmRfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuYm9keWd1YXJkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBnb19vZ19sZV92aXNpb25fY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZ29fb2dfbGVfdmlzaW9uX2NvbmZpZyxcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eV9maWx0ZXJfY29uZmlnOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudmVsb2NpdHlfZmlsdGVyX2NvbmZpZyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2NvbmZpZycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfYyA9IGRlY29kZXJzLlVwc2VydENvbmZpZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldENvbmZpZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2Q7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGtleTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmtleSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlnL3trZXl9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIChfZCA9IGRlY29kZXJzLkdldENvbmZpZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmN1c3RvbUNoZWNrID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5yZWFzb24sXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kZWRfYWN0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QucmVjb21tZW5kZWRfYWN0aW9uLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm1vZGVyYXRpb25fcGF5bG9hZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2N1c3RvbV9jaGVjaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfZSA9IGRlY29kZXJzLkN1c3RvbUNoZWNrUmVzcG9uc2UpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudjJEZWxldGVUZW1wbGF0ZSA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZjtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mZWVkc19tb2RlcmF0aW9uX3RlbXBsYXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9mID0gZGVjb2RlcnMuRGVsZXRlTW9kZXJhdGlvblRlbXBsYXRlUmVzcG9uc2UpID09PSBudWxsIHx8IF9mID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudjJRdWVyeVRlbXBsYXRlcyA9ICgpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfZztcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mZWVkc19tb2RlcmF0aW9uX3RlbXBsYXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9nID0gZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlc1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnYyVXBzZXJ0VGVtcGxhdGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9oO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubmFtZSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jb25maWcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mZWVkc19tb2RlcmF0aW9uX3RlbXBsYXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9oID0gZGVjb2RlcnMuVXBzZXJ0TW9kZXJhdGlvblRlbXBsYXRlUmVzcG9uc2UpID09PSBudWxsIHx8IF9oID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaC5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmxhZyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2o7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGVudGl0eV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV90eXBlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnJlYXNvbixcbiAgICAgICAgICAgICAgICBlbnRpdHlfY3JlYXRvcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmVudGl0eV9jcmVhdG9yX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmN1c3RvbSxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX3BheWxvYWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5tb2RlcmF0aW9uX3BheWxvYWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mbGFnJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9qID0gZGVjb2RlcnMuRmxhZ1Jlc3BvbnNlKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5TW9kZXJhdGlvbkxvZ3MgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9rO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2xvZ3MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX2sgPSBkZWNvZGVycy5RdWVyeU1vZGVyYXRpb25Mb2dzUmVzcG9uc2UpID09PSBudWxsIHx8IF9rID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfay5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZ2V0TW9kZXJhdG9yU3RhdHMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX2w7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vbW9kZXJhdG9yX3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgKF9sID0gZGVjb2RlcnMuTW9kZXJhdG9yU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX2wgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9sLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tdXRlID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfbTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF9pZHMsXG4gICAgICAgICAgICAgICAgdGltZW91dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9tdXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgKF9tID0gZGVjb2RlcnMuTXV0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfbSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX20uY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmdldFF1ZXVlU3RhdHMgPSAoKSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX287XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vcXVldWVfc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX28gPSBkZWNvZGVycy5RdWV1ZVN0YXRzUmVzcG9uc2UpID09PSBudWxsIHx8IF9vID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfby5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucXVlcnlSZXZpZXdRdWV1ZSA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3A7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbG9ja19tb2RlcmF0b3JfZHVyYXRpb246IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5sb2NrX21vZGVyYXRvcl9kdXJhdGlvbixcbiAgICAgICAgICAgICAgICBsb2NrX21vZGVyYXRvcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmxvY2tfbW9kZXJhdG9yX2lkLFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5wcmV2LFxuICAgICAgICAgICAgICAgIHN0YXRzX29ubHk6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zdGF0c19vbmx5LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3Jldmlld19xdWV1ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfcCA9IGRlY29kZXJzLlF1ZXJ5UmV2aWV3UXVldWVSZXNwb25zZSkgPT09IG51bGwgfHwgX3AgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRSZXZpZXdRdWV1ZUl0ZW0gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9xO1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9yZXZpZXdfcXVldWUve2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAoX3EgPSBkZWNvZGVycy5HZXRSZXZpZXdRdWV1ZUl0ZW1SZXNwb25zZSkgPT09IG51bGwgfHwgX3EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdWJtaXRBY3Rpb24gPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF9yO1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhY3Rpb25fdHlwZTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmFjdGlvbl90eXBlLFxuICAgICAgICAgICAgICAgIGl0ZW1faWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5pdGVtX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGJhbjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmJhbixcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jdXN0b20sXG4gICAgICAgICAgICAgICAgZGVsZXRlX2FjdGl2aXR5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlX2FjdGl2aXR5LFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9tZXNzYWdlOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlX21lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZGVsZXRlX3JlYWN0aW9uOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlX3JlYWN0aW9uLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV91c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZGVsZXRlX3VzZXIsXG4gICAgICAgICAgICAgICAgdW5iYW46IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51bmJhbixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3N1Ym1pdF9hY3Rpb24nLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3IgPSBkZWNvZGVycy5TdWJtaXRBY3Rpb25SZXNwb25zZSkgPT09IG51bGwgfHwgX3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9yLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bmJhbiA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3M7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnRhcmdldF91c2VyX2lkLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfY2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuY2hhbm5lbF9jaWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieTogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmNyZWF0ZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1bmJhbm5lZF9ieV9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVuYmFubmVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIHVuYmFubmVkX2J5OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudW5iYW5uZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi91bmJhbicsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMsIGJvZHkpO1xuICAgICAgICAgICAgKF9zID0gZGVjb2RlcnMuVW5iYW5SZXNwb25zZSkgPT09IG51bGwgfHwgX3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zLmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51bm11dGUgPSAocmVxdWVzdCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgdmFyIF90O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWRzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudGFyZ2V0X2lkcyxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QudXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL3VubXV0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIChfdCA9IGRlY29kZXJzLlVubXV0ZVJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3QuY2FsbChkZWNvZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZS5ib2R5KSwgeyBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnF1ZXJ5VXNhZ2VTdGF0cyA9IChyZXF1ZXN0KSA9PiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICB2YXIgX3U7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdXNhZ2Vfc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICAoX3UgPSBkZWNvZGVycy5RdWVyeVVzYWdlU3RhdHNSZXNwb25zZSkgPT09IG51bGwgfHwgX3UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF91LmNhbGwoZGVjb2RlcnMsIHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcmVzcG9uc2UuYm9keSksIHsgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5nZXRVc2VyUmVwb3J0ID0gKHJlcXVlc3QpID0+IF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHZhciBfdjtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGNyZWF0ZV91c2VyX2lmX25vdF9leGlzdHM6IHJlcXVlc3QgPT09IG51bGwgfHwgcmVxdWVzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdC5jcmVhdGVfdXNlcl9pZl9ub3RfZXhpc3RzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVfdXNlcl9tdXRlczogcmVxdWVzdCA9PT0gbnVsbCB8fCByZXF1ZXN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXF1ZXN0LmluY2x1ZGVfdXNlcl9tdXRlcyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlX3VzZXJfYmxvY2tzOiByZXF1ZXN0ID09PSBudWxsIHx8IHJlcXVlc3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3QuaW5jbHVkZV91c2VyX2Jsb2NrcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdXNlcl9yZXBvcnQnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIChfdiA9IGRlY29kZXJzLkdldFVzZXJNb2RlcmF0aW9uUmVwb3J0UmVzcG9uc2UpID09PSBudWxsIHx8IF92ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdi5jYWxsKGRlY29kZXJzLCByZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLmJvZHkpLCB7IG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1Nb2RlcmF0aW9uQ2xpZW50IGV4dGVuZHMgTW9kZXJhdGlvbkFwaSB7XG59XG5cbmNsYXNzIFN0cmVhbUNsaWVudCBleHRlbmRzIENvbW1vbkFwaSB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXBpS2V5XG4gICAgICogQHBhcmFtIHNlY3JldFxuICAgICAqIEBwYXJhbSBjb25maWcgY29uZmlnIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwaUtleSwgc2VjcmV0LCBjb25maWcpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IHRva2VuID0gSldUU2VydmVyVG9rZW4oc2VjcmV0KTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IChfYSA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy50aW1lb3V0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBTdHJlYW1DbGllbnQuREVGQVVMVF9USU1FT1VUO1xuICAgICAgICBjb25zdCBjaGF0QmFzZVVybCA9IChfYiA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5iYXNlUGF0aCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ2h0dHBzOi8vY2hhdC5zdHJlYW0taW8tYXBpLmNvbSc7XG4gICAgICAgIGNvbnN0IHZpZGVvQmFzZVVybCA9IChfYyA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5iYXNlUGF0aCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20nO1xuICAgICAgICBzdXBlcih7IGFwaUtleSwgdG9rZW4sIHRpbWVvdXQsIGJhc2VVcmw6IGNoYXRCYXNlVXJsIH0pO1xuICAgICAgICB0aGlzLmFwaUtleSA9IGFwaUtleTtcbiAgICAgICAgdGhpcy5zZWNyZXQgPSBzZWNyZXQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy51cHNlcnRVc2VycyA9ICh1c2VycykgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHt9O1xuICAgICAgICAgICAgdXNlcnMuZm9yRWFjaCgodSkgPT4ge1xuICAgICAgICAgICAgICAgIHBheWxvYWRbdS5pZF0gPSB1O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVVc2Vycyh7IHVzZXJzOiBwYXlsb2FkIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5QmFubmVkVXNlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdC5xdWVyeUJhbm5lZFVzZXJzKHJlcXVlc3QpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgICAgICogLSB1c2VyX2lkIC0gdGhlIGlkIG9mIHRoZSB1c2VyIHRoZSB0b2tlbiBpcyBmb3JcbiAgICAgICAgICogLSB2YWxpZGl0eV9pbl9zZWNvbmRzIC0gaG93IG1hbnkgc2Vjb25kcyBpcyB0aGUgdG9rZW4gdmFsaWQgZm9yIChzdGFydGluZyBmcm9tIGlzc3VlZCBhdCksIGJ5IGRlZmF1bHQgaXQncyAxIGhvdXIsIGRpY2FyZGVkIGlmIGV4cCBpcyBwcm92aWRlZFxuICAgICAgICAgKiAtIGV4cCAtIHdoZW4gdGhlIHRva2VuIGV4cGlyZXMsIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICAgICAgICogLSBpYXQgLSBpc3N1ZWQgYXQgZGF0ZSBvZiB0aGUgdG9rZW4sIHVuaXggdGltZXN0YW1wIGluIHNlY29uZHMsIGJ5IGRlZmF1bHQgaXQncyBub3dcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VuZXJhdGVVc2VyVG9rZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0SWF0ID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIDEwMDApIC8gMTAwMCk7XG4gICAgICAgICAgICBwYXlsb2FkLmlhdCA9IChfYSA9IHBheWxvYWQuaWF0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0SWF0O1xuICAgICAgICAgICAgY29uc3QgdmFsaWRpdHlJblNlY29uZHMgPSAoX2IgPSBwYXlsb2FkLnZhbGlkaXR5X2luX3NlY29uZHMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDYwICogNjA7XG4gICAgICAgICAgICBwYXlsb2FkLmV4cCA9IChfYyA9IHBheWxvYWQuZXhwKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBwYXlsb2FkLmlhdCArIHZhbGlkaXR5SW5TZWNvbmRzO1xuICAgICAgICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgcGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gcGF5bG9hZFxuICAgICAgICAgKiAtIHVzZXJfaWQgLSB0aGUgaWQgb2YgdGhlIHVzZXIgdGhlIHRva2VuIGlzIGZvclxuICAgICAgICAgKiAtIHZhbGlkaXR5X2luX3NlY29uZHMgLSBob3cgbWFueSBzZWNvbmRzIGlzIHRoZSB0b2tlbiB2YWxpZCBmb3IgKHN0YXJ0aW5nIGZyb20gaXNzdWVkIGF0KSwgYnkgZGVmYXVsdCBpdCdzIDEgaG91ciwgZGljYXJkZWQgaWYgZXhwIGlzIHByb3ZpZGVkXG4gICAgICAgICAqIC0gZXhwIC0gd2hlbiB0aGUgdG9rZW4gZXhwaXJlcywgdW5peCB0aW1lc3RhbXAgaW4gc2Vjb25kc1xuICAgICAgICAgKiAtIGlhdCAtIGlzc3VlZCBhdCBkYXRlIG9mIHRoZSB0b2tlbiwgdW5peCB0aW1lc3RhbXAgaW4gc2Vjb25kcywgYnkgZGVmYXVsdCBpdCdzIG5vd1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5nZW5lcmF0ZUNhbGxUb2tlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZW5lcmF0ZVVzZXJUb2tlbihwYXlsb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1c2VySURcbiAgICAgICAgICogQHBhcmFtIGV4cFxuICAgICAgICAgKiBAcGFyYW0gaWF0IGRlcHJlY2F0ZWQsIHRoZSBkZWZhdWx0IGRhdGUgd2lsbCBiZSBzZXQgaW50ZXJuYWxseVxuICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZGVwcmVjYXRlZCB1c2UgZ2VuZXJhdGVVc2VyVG9rZW4gaW5zdGVhZFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jcmVhdGVUb2tlbiA9ICh1c2VySUQsIGV4cCA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCwgaWF0ID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIDEwMDApIC8gMTAwMCkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcklELFxuICAgICAgICAgICAgICAgIGV4cCxcbiAgICAgICAgICAgICAgICBpYXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIEpXVFVzZXJUb2tlbih0aGlzLnNlY3JldCwgcGF5bG9hZCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcGFyYW0gdXNlcklEXG4gICAgICAgICAqIEBwYXJhbSBjYWxsX2NpZHNcbiAgICAgICAgICogQHBhcmFtIGV4cFxuICAgICAgICAgKiBAcGFyYW0gaWF0IHRoaXMgaXMgZGVwcmVjYXRlZCwgdGhlIGN1cnJlbnQgZGF0ZSB3aWxsIGJlIHNldCBpbnRlcm5hbGx5XG4gICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBnZW5lcmF0ZUNhbGxUb2tlbiBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZUNhbGxUb2tlbiA9ICh1c2VySWRPck9iamVjdCwgY2FsbF9jaWRzLCBleHAgPSBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxMDAwKSArIDYwICogNjAsIGlhdCA9IE1hdGguZmxvb3IoKERhdGUubm93KCkgLSAxMDAwKSAvIDEwMDApKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgIGV4cCxcbiAgICAgICAgICAgICAgICBpYXQsXG4gICAgICAgICAgICAgICAgY2FsbF9jaWRzLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHR5cGVvZiB1c2VySWRPck9iamVjdCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICAgICAgPyB1c2VySWRPck9iamVjdFxuICAgICAgICAgICAgICAgICAgICA6IHVzZXJJZE9yT2JqZWN0LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1c2VySWRPck9iamVjdCA9PT0gJ29iamVjdCcgJiYgdXNlcklkT3JPYmplY3Qucm9sZSkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQucm9sZSA9IHVzZXJJZE9yT2JqZWN0LnJvbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSldUVXNlclRva2VuKHRoaXMuc2VjcmV0LCBwYXlsb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJpZnlXZWJob29rID0gKHJlcXVlc3RCb2R5LCB4U2lnbmF0dXJlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBCdWZmZXIuZnJvbSh0aGlzLnNlY3JldCwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc2ggPSBjcnlwdG9cbiAgICAgICAgICAgICAgICAuY3JlYXRlSG1hYygnc2hhMjU2Jywga2V5KVxuICAgICAgICAgICAgICAgIC51cGRhdGUocmVxdWVzdEJvZHkpXG4gICAgICAgICAgICAgICAgLmRpZ2VzdCgnaGV4Jyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjcnlwdG8udGltaW5nU2FmZUVxdWFsKEJ1ZmZlci5mcm9tKGhhc2gpLCBCdWZmZXIuZnJvbSh4U2lnbmF0dXJlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZpZGVvID0gbmV3IFN0cmVhbVZpZGVvQ2xpZW50KHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIGJhc2VVcmw6IHZpZGVvQmFzZVVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2hhdCA9IG5ldyBTdHJlYW1DaGF0Q2xpZW50KHtcbiAgICAgICAgICAgIGFwaUtleSxcbiAgICAgICAgICAgIHRva2VuLFxuICAgICAgICAgICAgdGltZW91dCxcbiAgICAgICAgICAgIGJhc2VVcmw6IGNoYXRCYXNlVXJsLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2RlcmF0aW9uID0gbmV3IFN0cmVhbU1vZGVyYXRpb25DbGllbnQoe1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYmFzZVVybDogY2hhdEJhc2VVcmwsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblN0cmVhbUNsaWVudC5ERUZBVUxUX1RJTUVPVVQgPSAzMDAwO1xuXG5leHBvcnQgeyBPd25DYXBhYmlsaXR5LCBTdHJlYW1DYWxsLCBTdHJlYW1DaGFubmVsLCBTdHJlYW1DaGF0Q2xpZW50LCBTdHJlYW1DbGllbnQsIFN0cmVhbVZpZGVvQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs\n");

/***/ })

};
;